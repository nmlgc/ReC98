;
; +-------------------------------------------------------------------------+
; |   This file has been generated by The Interactive Disassembler (IDA)    |
; |        Copyright (c) 2009 by Hex-Rays, <support@hex-rays.com>           |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	50C37C4BDDEC04B753524F5D3B030A96

; File Name   :	th04/MAINE.EXE
; Format      :	MS-DOS executable (EXE)
; Base Address:	0h Range: 0h-126D0h Loaded length: 10062h
; Entry	Point :	0:0
; OS type	  :  MS	DOS
; Application type:  Executable	16bit

		.386
		.model large

include ReC98.inc

; ===========================================================================

; Segment type:	Pure code
seg000		segment	word public 'CODE' use16
		assume cs:seg000
		assume es:nothing, ss:seg005, ds:dseg, fs:nothing, gs:nothing

include libs/BorlandC/c0.asm
		db 0
include libs/master.lib/bfnt_entry_pat.asm
include libs/master.lib/bfnt_extend_header_skip.asm
include libs/master.lib/bfnt_header_read.asm
include libs/master.lib/bfnt_header_analysis.asm
include libs/master.lib/atrtcmod.asm
include libs/master.lib/bcloser.asm
include libs/master.lib/bfill.asm
include libs/master.lib/bfnt_palette_set.asm
include libs/master.lib/bgetc.asm
include libs/master.lib/palette_black_in.asm
include libs/master.lib/palette_black_out.asm
include libs/master.lib/bopenr.asm
include libs/master.lib/bread.asm
include libs/master.lib/bseek.asm
include libs/master.lib/bseek_.asm
include libs/master.lib/dos_axdx.asm

; =============== S U B	R O U T	I N E =======================================


sub_7B2		proc far
		mov	bx, sp
		mov	bx, ss:[bx+4]
		mov	ax, 4201h
		xor	cx, cx
		mov	dx, cx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from present location
		jb	short loc_7E2
		push	si
		push	di
		push	ax
		push	dx
		xor	dx, dx
		mov	ax, 4202h
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from end of file
		mov	si, ax
		mov	di, dx
		pop	cx
		pop	dx
		mov	ax, 4200h
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from beginning of	file
		mov	ax, si
		mov	dx, di
		pop	di
		pop	si
		retf	2
; ---------------------------------------------------------------------------

loc_7E2:
		neg	ax
		sbb	dx, dx
		retf	2
sub_7B2		endp

include libs/master.lib/dos_keyclear.asm
include libs/master.lib/dos_read.asm
include libs/master.lib/dos_seek.asm
include libs/master.lib/dos_setvect.asm
include libs/master.lib/egc.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8A8		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	ax, 0
		mov	bx, word_E61E
		cmp	bx, 0FFFFh
		jnz	short loc_8F8
		mov	ax, 3D02h
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	dos_axdx
		or	ax, dx
		mov	word_E61E, ax
		mov	cx, ax
		xor	ax, ax
		mov	word_F3F0, ax
		mov	word_F3EE, ax
		mov	word_F3F2, ax
		mov	word_F3F4, ax
		mov	word_F3EA, ax
		mov	word_F3EC, ax
		inc	dx
		jz	short loc_8F8
		mov	bx, cx
		xor	cx, cx
		mov	dx, cx
		mov	ax, 4202h
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from end of file
		mov	word_F3EA, ax
		mov	word_F3EC, dx
		mov	ax, 1

loc_8F8:
		pop	bp
		retf	4
sub_8A8		endp


; =============== S U B	R O U T	I N E =======================================


sub_8FC		proc far
		mov	bx, word_E61E
		cmp	bx, 0FFFFh
		jz	short locret_966
		mov	ax, word_F3EE
		cmp	word_F3F0, ax
		jnb	short loc_93A
		push	ds
		mov	cx, word_F3EE
		lds	dx, dword_F3E6
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jb	short loc_92D
		add	word_F3EA, ax
		adc	word_F3EC, 0
		cmp	word_F3EE, ax
		jz	short loc_933

loc_92D:
		mov	word_F3F4, 1

loc_933:
		mov	word_F3EE, 0
		retf
; ---------------------------------------------------------------------------

loc_93A:
		cmp	word_F3F0, 0
		jz	short locret_966
		mov	dx, ax
		mov	cx, 0
		add	dx, word_F3EA
		mov	word_F3F0, cx
		mov	word_F3EE, cx
		adc	cx, word_F3EC
		mov	ax, 4200h
		mov	bx, word_E61E
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from beginning of	file
		mov	word_F3EA, ax
		mov	word_F3EC, dx

locret_966:
		retf
sub_8FC		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_968		proc far
		push	cs
		call	near ptr sub_8FC
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		mov	word_E61E, 0FFFFh
		retf
sub_968		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_978		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	ax, 0
		mov	bx, word_E61E
		cmp	bx, 0FFFFh
		jnz	short loc_9B4
		mov	cx, 20h	; ' '
		mov	ah, 3Ch	; '<'
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		nopcall	dos_axdx
		or	ax, dx
		mov	word_E61E, ax
		xor	ax, ax
		mov	word_F3F0, ax
		mov	word_F3EE, ax
		mov	word_F3F2, ax
		mov	word_F3F4, ax
		mov	word_F3EA, ax
		mov	word_F3EC, ax
		mov	ax, dx
		inc	ax

loc_9B4:
		pop	bp
		retf	4
sub_978		endp


; =============== S U B	R O U T	I N E =======================================


sub_9B8		proc far
		mov	bx, sp
		push	word ptr ss:[bx+6]
		push	word ptr ss:[bx+4]
		nop
		call	dos_ropen
		jb	short loc_9CE
		xchg	ax, bx
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle

loc_9CE:
		sbb	ax, ax
		inc	ax
		retf	4
sub_9B8		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9D4		proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_E61C, 0
		jz	short loc_A58
		mov	bx, [bp+arg_0]
		les	di, [bp+arg_2]

loc_9E6:
		mov	ax, word_F3F0
		cmp	word_F3EE, ax
		jb	short loc_A1C
		add	word_F3EA, ax
		adc	word_F3EC, 0
		push	bx
		push	ds
		mov	cx, word_E61C
		mov	bx, word_E61E
		lds	dx, dword_F3E6
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		pop	bx
		cmc
		sbb	dx, dx
		and	ax, dx
		mov	word_F3F0, ax
		jz	short loc_A77
		mov	word_F3EE, 0

loc_A1C:
		mov	si, word_F3F0
		sub	si, word_F3EE
		sub	si, bx
		sbb	ax, ax
		and	si, ax
		add	si, bx
		mov	ax, es
		or	ax, di
		jz	short loc_A4D
		or	si, si
		jz	short loc_A4D
		push	si
		push	ds
		mov	cx, si
		mov	ax, word_F3EE
		lds	si, dword_F3E6
		add	si, ax
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		pop	si

loc_A4D:
		add	word_F3EE, si
		sub	bx, si
		jnz	short loc_9E6
		jmp	short loc_A7D
; ---------------------------------------------------------------------------
		nop

loc_A58:
		push	ds
		mov	cx, [bp+arg_0]
		mov	bx, word_E61E
		lds	dx, [bp+arg_2]
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		add	word_F3EA, ax
		adc	word_F3EC, 0
		mov	bx, cx
		sub	bx, ax
		jz	short loc_A7D

loc_A77:
		mov	word_F3F2, 1

loc_A7D:
		mov	ax, [bp+arg_0]
		sub	ax, bx
		pop	di
		pop	si
		pop	bp
		retf	6
sub_9D4		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A88		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	bx, word_E61E
		cmp	bx, 0FFFFh
		jnz	short loc_ABF
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		call	dos_ropen
		sbb	bx, bx
		or	ax, bx
		mov	word_E61E, ax
		xor	ax, ax
		mov	word_F3F0, ax
		mov	word_F3EA, ax
		mov	word_F3EC, ax
		mov	word_F3EE, ax
		mov	word_F3F2, ax
		mov	word_F3F4, ax
		lea	ax, [bx+1]

loc_ABF:
		pop	bp
		retf	4
sub_A88		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_AC4		proc far
					; sub_C2AD+2AP	...
		push	cs
		call	near ptr sub_8FC
		cmp	bx, 0FFFFh
		jz	short locret_AF5
		push	bp
		mov	bp, sp
		mov	al, [bp+6]
		mov	ah, 42h	; 'B'
		mov	dx, [bp+8]
		mov	cx, [bp+0Ah]
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method:
					; 0-from beginnig,1-from current,2-from	end
		pop	bp
		mov	ax, 4201h
		mov	dx, 0
		mov	cx, dx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from present location
		mov	word_F3F2, 0
		mov	word_F3EA, ax
		mov	word_F3EC, dx

locret_AF5:
		retf	6
sub_AC4		endp

; ---------------------------------------------------------------------------
		mov	ax, word_F3EE
		xor	dx, dx
		add	ax, word_F3EA
		adc	dx, word_F3EC
		retf

; =============== S U B	R O U T	I N E =======================================


sub_B06		proc far
		push	word_E61E
		push	cs
		call	near ptr sub_7B2
		jb	short loc_B11
		retf
; ---------------------------------------------------------------------------

loc_B11:
		mov	ax, dx
		retf
sub_B06		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B14		proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_E61C, 0
		jz	short loc_B8A
		mov	bx, [bp+arg_0]
		mov	si, word ptr [bp+arg_2]

loc_B26:
		mov	cx, word_E61C
		sub	cx, word_F3EE
		sub	cx, bx
		sbb	ax, ax
		and	cx, ax
		add	cx, bx
		les	di, dword_F3E6
		add	di, word_F3EE
		sub	bx, cx
		add	word_F3EE, cx
		push	ds
		mov	ds, word ptr [bp+arg_2+2]
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		or	ax, ax
		jns	short loc_B80
		push	ds
		push	bx
		mov	cx, word_E61C
		mov	bx, word_E61E
		lds	dx, dword_F3E6
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	bx
		pop	ds
		jb	short loc_B9C
		cmp	word_E61C, ax
		jnz	short loc_B9C
		mov	word_F3EE, 0
		add	word_F3EA, ax
		adc	word_F3EC, 0

loc_B80:
		or	bx, bx
		jnz	short loc_B26
		mov	ax, 1
		jmp	short loc_BB2
; ---------------------------------------------------------------------------
		nop

loc_B8A:
		push	ds
		mov	cx, [bp+arg_0]
		mov	bx, word_E61E
		lds	dx, [bp+arg_2]
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jnb	short loc_BA4

loc_B9C:
		mov	word_F3F4, 1
		xor	ax, ax

loc_BA4:
		add	word_F3EA, ax
		adc	word_F3EC, 0
		add	ax, 0FFFFh
		sbb	ax, ax

loc_BB2:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf	6
sub_B14		endp

include libs/master.lib/dos_close.asm
include libs/master.lib/dos_ropen.asm

; =============== S U B	R O U T	I N E =======================================


sub_BEA		proc far
		push	di
		mov	di, sp
		mov	ax, word_E612
		mov	cx, ax
		mov	bx, ss:[di+0Ah]
		sub	bx, ax
		jg	short loc_BFC
		xor	bx, bx

loc_BFC:
		mov	ax, bx
		shl	ax, 2
		add	ax, bx
		add	ax, word_E618
		mov	es, ax
		mov	ax, word_E614
		mov	dx, ss:[di+6]
		sub	dx, cx
		cmp	dx, ax
		jl	short loc_C18
		mov	dx, ax

loc_C18:
		sub	dx, bx
		jl	short loc_C4E
		mov	ax, ss:[di+0Ch]
		mov	bx, ss:[di+8]
		sub	bx, ax
		jl	short loc_C4E
		inc	bx
		mov	di, dx
		shl	di, 2
		add	di, dx
		shl	di, 4
		add	di, ax
		lea	dx, [bx+50h]
		mov	ax, 0FFFFh
		test	di, 1
		jnz	short loc_C60
		shr	bx, 1
		jb	short loc_C52
		nop

loc_C46:
		mov	cx, bx
		rep stosw
		sub	di, dx
		jnb	short loc_C46

loc_C4E:
		pop	di
		retf	8
; ---------------------------------------------------------------------------

loc_C52:
		mov	cx, bx
		rep stosw
		stosb
		sub	di, dx
		jnb	short loc_C52
		pop	di
		retf	8
; ---------------------------------------------------------------------------
		nop

loc_C60:
		shr	bx, 1
		jb	short loc_C74
		dec	bx
		nop

loc_C66:
		mov	cx, bx
		stosb
		rep stosw
		stosb
		sub	di, dx
		jnb	short loc_C66
		pop	di
		retf	8
; ---------------------------------------------------------------------------

loc_C74:
		mov	cx, bx
		stosb
		rep stosw
		sub	di, dx
		jnb	short loc_C74
		pop	di
		retf	8
sub_BEA		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_C82		proc far
					; seg001:0EA7P	...
		mov	bx, sp
		mov	al, ss:[bx+6]
		mov	ah, ss:[bx+4]
		mov	dx, 7Eh	; '~'
		pushf
		cli
		out	7Ch, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		popf
		retf	4
sub_C82		endp

; ---------------------------------------------------------------------------
		nop
		xor	al, al
		out	7Ch, al
		retf
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_CB2		proc near
		out	0A0h, al	; PIC 2	 same as 0020 for PIC 1
		mov	al, ah
		jmp	short $+2
		jmp	short $+2
		out	0A0h, al	; PIC 2	 same as 0020 for PIC 1
		retn
sub_CB2		endp

include libs/master.lib/get_machine_98.asm
include libs/master.lib/get_machine_at.asm
include libs/master.lib/get_machine_dosbox.asm
include libs/master.lib/check_machine_fmr.asm
include libs/master.lib/get_machine.asm

; =============== S U B	R O U T	I N E =======================================


sub_EEE		proc far
		xor	ax, ax
		cmp	word_E642, ax
		jnz	short locret_F11
		mov	ax, 200h
		push	ax
		nop
		call	hmem_alloc
		or	ax, ax
		jz	short locret_F11
		mov	word_E642, ax
		push	ax
		xor	ax, ax
		push	ax
		push	cs
		call	near ptr sub_10A6
		mov	ax, 1

locret_F11:
		retf
sub_EEE		endp


; =============== S U B	R O U T	I N E =======================================


sub_F12		proc far
		mov	ax, word_E642
		test	ax, ax
		jz	short locret_F2D
		push	ax
		push	ax
		xor	ax, ax
		mov	word_E642, ax
		push	ax
		push	cs
		call	near ptr sub_1114
		nop
		call	hmem_free
		mov	ax, 1

locret_F2D:
		retf
sub_F12		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F2E		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		sub	sp, 20h
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		call	dos_ropen
		mov	bp, ax
		mov	ax, 0
		jb	short loc_FBB
		mov	ax, 2000h
		push	ax
		nop
		call	smem_wget
		mov	si, ax
		mov	ax, 0
		jb	short loc_FB3
		mov	ax, sp
		push	bp
		push	ss
		push	ax
		nopcall	bfnt_header_read
		jb	short loc_FA9
		mov	di, sp
		push	ss
		pop	es
		assume es:nothing
		cmp	byte ptr es:[di+5], 0
		jnz	short loc_FA9
		add	di, 8
		push	si
		mov	si, 114h
		mov	cx, 4
		repe cmpsw
		pop	si
		jnz	short loc_FA9
		mov	ax, sp
		push	bp
		push	ss
		push	ax
		nopcall	bfnt_extend_header_skip
		push	ds
		mov	ds, si
		mov	bx, bp
		xor	dx, dx
		mov	cx, 2000h
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		cmp	ax, 2000h
		jnz	short loc_FA9
		push	si
		xor	ax, ax
		push	ax
		push	cs
		call	near ptr sub_1114
		mov	ax, 1
		jmp	short loc_FAB
; ---------------------------------------------------------------------------

loc_FA9:
		xor	ax, ax

loc_FAB:
		push	ax
		push	si
		nop
		call	smem_release
		pop	ax

loc_FB3:
		push	ax
		mov	bx, bp
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		pop	ax

loc_FBB:
		add	sp, 20h
		pop	di
		pop	si
		pop	bp
		retf	4
sub_F2E		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_FC4		proc far

arg_0		= word ptr  4
arg_2		= byte ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		mov	dx, bp
		mov	bp, sp
		mov	cx, di
		mov	ax, [bp+arg_4]
		mov	di, ax
		shl	ax, 1
		shl	ax, 1
		add	di, ax
		shl	di, 1
		add	di, TextVramSeg
		mov	es, di
		mov	di, [bp+arg_6]
		shl	di, 1
		mov	ah, [bp+arg_2]
		mov	al, 0
		rol	ax, 1
		shr	ax, 1
		adc	ax, 56h	; 'V'
		mov	bx, [bp+arg_0]
		mov	bp, dx
		mov	es:[di+2000h], bx
		stosw
		or	ah, 80h
		mov	es:[di+2000h], bx
		stosw
		mov	di, cx
		retf	8
sub_FC4		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1008	proc far

arg_0		= word ptr  4
arg_2		= dword	ptr  6
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		mov	dx, bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_6]
		mov	di, ax
		shl	ax, 1
		shl	ax, 1
		add	di, ax
		shl	di, 1
		add	di, TextVramSeg
		mov	es, di
		mov	di, [bp+arg_8]
		shl	di, 1
		push	ds
		lds	si, [bp+arg_2]
		mov	cx, di
		mov	bx, [bp+arg_0]
		mov	bp, dx
		lodsb
		or	al, al
		jz	short loc_104A

loc_1036:
		mov	ah, al
		mov	al, 0
		rol	ax, 1
		shr	ax, 1
		adc	al, 56h	; 'V'
		stosw
		or	ah, 80h
		stosw
		lodsb
		or	al, al
		jnz	short loc_1036

loc_104A:
		xchg	cx, di
		sub	cx, di
		shr	cx, 1
		mov	ax, bx
		add	di, 2000h
		rep stosw
		pop	ds
		pop	di
		pop	si
		retf	0Ah
sub_1008	endp


; =============== S U B	R O U T	I N E =======================================


sub_105E	proc near
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	cx, 10h
		mov	bx, 0

loc_106A:
		mov	al, bl
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, bl
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		stosw
		inc	bx
		loop	loc_106A
		retn
sub_105E	endp

; ---------------------------------------------------------------------------
		nop
		push	di
		mov	dx, sp
		cli
		add	sp, 6
		pop	di
		pop	es
		pop	ax
		mov	sp, dx
		sti
		mov	ah, 0
		add	ax, 5680h
		and	al, 7Fh
		push	ax
		mov	al, 0Bh
		out	68h, al
		pop	ax
		call	sub_105E
		mov	al, 0Ah
		out	68h, al
		pop	di
		retf	6
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_10A6	proc far
		push	di
		mov	di, sp
		les	di, ss:[di+6]
		mov	al, 0Bh
		out	68h, al
		mov	dx, 0

loc_10B4:
		mov	ax, dx
		adc	ax, 5680h
		and	al, 7Fh
		call	sub_105E
		inc	dl
		jnz	short loc_10B4
		mov	al, 0Ah
		out	68h, al
		pop	di
		retf	4
sub_10A6	endp


; =============== S U B	R O U T	I N E =======================================


sub_10CA	proc near
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	cx, 10h
		mov	bx, 0

loc_10D6:
		mov	al, bl
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		lodsw
		out	0A9h, al	; Interrupt Controller #2, 8259A
		mov	al, bl
		out	0A5h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A9h, al	; Interrupt Controller #2, 8259A
		inc	bx
		loop	loc_10D6
		retn
sub_10CA	endp

; ---------------------------------------------------------------------------
		nop
		push	ds
		push	si
		mov	dx, sp
		cli
		add	sp, 8
		pop	si
		pop	ds
		pop	ax
		mov	sp, dx
		sti
		mov	ah, 0
		add	ax, 5680h
		and	al, 7Fh
		push	ax
		mov	al, 0Bh
		out	68h, al
		pop	ax
		call	sub_10CA
		mov	al, 0Ah
		out	68h, al
		pop	si
		pop	ds
		retf	6
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_1114	proc far
		push	ds
		push	si
		mov	si, sp
		lds	si, ss:[si+8]
		mov	al, 0Bh
		out	68h, al
		mov	dx, 0

loc_1123:
		mov	ax, dx
		adc	ax, 5680h
		and	al, 7Fh
		call	sub_10CA
		inc	dl
		jnz	short loc_1123
		mov	al, 0Ah
		out	68h, al
		pop	si
		pop	ds
		retf	4
sub_1114	endp


; =============== S U B	R O U T	I N E =======================================


sub_113A	proc far
		mov	ah, 42h	; 'B'
		mov	ch, 0C0h ; '¿'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	ax, 0A800h
		mov	graph_VramSeg, ax
		mov	word_E618, ax
		mov	graph_VramWords, 3E80h
		xor	ax, ax
		mov	word_E60C, ax
		mov	word_E612, ax
		mov	es, ax
		mov	ah, byte ptr es:[54Dh]
		and	ah, 4
		add	ah, 3Fh	; '?'
		and	ah, 40h
		mov	graph_VramZoom, ax
		mov	ax, 27Fh
		mov	word_E610, ax
		mov	word_E60E, ax
		mov	ax, 190h
		mov	graph_VramLines, ax
		dec	ax
		mov	word_E616, ax
		mov	word_E614, ax
		mov	word_E61A, 7CB0h
		retf
sub_113A	endp

include libs/master.lib/graph_clear.asm

; =============== S U B	R O U T	I N E =======================================


sub_11AC	proc near
		xor	al, 1
		out	0A6h, al	; Interrupt Controller #2, 8259A
		mov	ds, bx
		mov	es, dx
		xor	di, di
		mov	si, di
		rep movsw
		mov	cx, di
		shr	cx, 1
		xchg	bx, dx
		retn
sub_11AC	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_11C2	proc far
		xor	dx, dx
		mov	cx, graph_VramWords
		mov	bx, cx
		shl	bx, 1
		push	bx
		nop
		call	smem_wget
		xchg	ax, dx
		jb	short locret_1214
		xor	al, al
		out	7Ch, al
		mov	bx, sp
		mov	ax, ss:[bx+4]
		and	al, 1
		push	si
		push	di
		push	ds
		mov	bx, 0A800h
		call	sub_11AC
		call	sub_11AC
		mov	bx, 0B000h
		call	sub_11AC
		call	sub_11AC
		mov	bx, 0B800h
		call	sub_11AC
		call	sub_11AC
		mov	bx, 0E000h
		call	sub_11AC
		call	sub_11AC
		pop	ds
		pop	di
		pop	si
		push	dx
		nop
		call	smem_release
		mov	ax, 1

locret_1214:
		retf	2
sub_11C2	endp

include libs/master.lib/graph_extmode.asm

; =============== S U B	R O U T	I N E =======================================


sub_126E	proc far
		mov	ah, 41h	; 'A'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		retf
sub_126E	endp

; ---------------------------------------------------------------------------
		nop

include libs/master.lib/graph_pi_free.asm
include libs/master.lib/graph_pi_load_pack.asm

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_18BA

loc_18B4:
		pop	di
		pop	si
		pop	bp
		retf	0Ah
; END OF FUNCTION CHUNK	FOR sub_18BA

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_18BA	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

; FUNCTION CHUNK AT 18B4 SIZE 00000006 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_6]
		sub	ax, word_E612
		cmp	ax, word_E614
		ja	short loc_18B4
		mov	cx, [bp+arg_0]
		sar	cx, 3
		jle	short loc_18B4
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_8]
		sar	di, 3
		jns	short loc_18EA
		add	cx, di
		jle	short loc_18B4
		shl	di, 2
		add	si, di
		xor	di, di

loc_18EA:
		cmp	di, 50h	; 'P'
		jge	short loc_18B4
		add	cx, di
		cmp	cx, 50h	; 'P'
		jl	short loc_18F9
		mov	cx, 50h	; 'P'

loc_18F9:
		sub	cx, di
		imul	ax, 50h
		add	di, ax
		push	ds
		mov	es, word_E618
		assume es:nothing
		mov	ds, [bp+arg_4]
		mov	bp, cx
		cld
		nop

loc_190C:
		mov	cl, 2
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		mov	ax, cs:[bx+1C84h]
		mov	dx, cs:[bx+1C86h]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1C84h]
		or	dx, cs:[bx+1C86h]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1C84h]
		or	dx, cs:[bx+1C86h]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1C84h]
		or	dx, cs:[bx+1C86h]
		inc	si
		mov	es:[di], al
		mov	bx, es
		mov	es:[di-8000h], ah
		add	bh, 10h
		mov	es, bx
		assume es:nothing
		mov	es:[di], dl
		add	bh, 28h	; '('
		mov	es, bx
		assume es:nothing
		mov	es:[di], dh
		sub	bh, 38h	; '8'
		mov	es, bx
		assume es:nothing
		inc	di
		dec	bp
		jnz	short loc_190C
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ah
sub_18BA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1988	proc far
					; sub_A847+2A3P

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		mov	dx, graph_VramLines
		sub	bx, dx
		sbb	ax, ax
		and	bx, ax
		add	bx, dx
		sub	dx, bx
		mov	bp, bx
		mov	cx, graph_VramZoom
		shl	bx, cl
		shl	dx, cl
		mov	cl, 4

loc_19A8:
		jmp	short $+2
		in	al, 0A0h	; PIC 2	 same as 0020 for PIC 1
		test	al, cl
		jz	short loc_19A8
		mov	al, 70h	; 'p'
		out	0A2h, al	; Interrupt Controller #2, 8259A
		mov	ax, bp
		shl	ax, 1
		shl	ax, 1
		add	ax, bp
		shl	ax, 1
		shl	ax, 1
		shl	ax, 1
		call	sub_CB2
		mov	ax, dx
		shl	ax, cl
		or	ah, ch
		call	sub_CB2
		xor	ax, ax
		call	sub_CB2
		mov	ax, bx
		shl	ax, cl
		or	ah, ch
		call	sub_CB2
		pop	bp
		retf	2
sub_1988	endp

include libs/master.lib/graph_show.asm
include libs/master.lib/js_end.asm
include libs/master.lib/palette_show.asm
include libs/master.lib/pfclose.asm

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	es, word ptr [bp+6]
		call	word ptr es:2
		pop	bp
		retf	2
; ---------------------------------------------------------------------------
		nop
		cmp	word ptr es:1Ah, 0
		jz	short loc_1B3E
		dec	word ptr es:1Ah
		add	word ptr es:12h, 1
		adc	word ptr es:14h, 0
		mov	ax, es:1Ch
		retn
; ---------------------------------------------------------------------------

loc_1B3E:
		call	word ptr es:4
		test	ah, ah
		jnz	short locret_1B6D
		cmp	ax, es:1Ch
		mov	es:1Ch,	ax
		jnz	short locret_1B6D
		push	ax
		call	word ptr es:4
		test	ah, ah
		jnz	short loc_1B6C
		mov	es:1Ah,	ax
		sub	word ptr es:12h, 1
		sbb	word ptr es:14h, 0

loc_1B6C:
		pop	ax

locret_1B6D:
		retn

; =============== S U B	R O U T	I N E =======================================


sub_1B6E	proc near
		mov	ax, es:0Ah
		mov	dx, es:0Ch
		cmp	dx, es:8
		jb	short loc_1B8B
		ja	short loc_1B87
		cmp	ax, es:6
		jb	short loc_1B8B

loc_1B87:
		mov	ax, 0FFFFh
		retn
; ---------------------------------------------------------------------------

loc_1B8B:
		add	ax, 1
		adc	dx, 0
		mov	es:0Ah,	ax
		mov	es:0Ch,	dx
		add	word ptr es:12h, 1
		adc	word ptr es:14h, 0
		push	es
		push	word ptr es:0
		call	bgetc
		pop	es
		retn
sub_1B6E	endp

; ---------------------------------------------------------------------------
		call	sub_1B6E
		or	ah, ah
		jnz	short locret_1BBE
		xor	al, es:1Eh

locret_1BBE:
		retn
; ---------------------------------------------------------------------------
		db    0
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		cld
		mov	si, [bp+8]
		mov	di, [bp+0Ah]
		test	si, si
		jz	short loc_1BE3

loc_1BD0:
		mov	es, word ptr [bp+6]
		call	word ptr es:2
		inc	ah
		jz	short loc_1BE3
		mov	es, word ptr [bp+0Ch]
		stosb
		dec	si
		jnz	short loc_1BD0

loc_1BE3:
		mov	ax, di
		sub	ax, [bp+0Ah]
		pop	di
		pop	si
		pop	bp
		retf	8
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	es, word ptr [bp+6]
		xor	ax, ax
		mov	es:1Ah,	ax
		mov	word ptr es:1Ch, 0FFFFh
		mov	es:0Ah,	ax
		mov	es:0Ch,	ax
		mov	es:12h,	ax
		mov	es:14h,	ax
		push	word ptr es:0
		push	word ptr es:10h
		push	word ptr es:0Eh
		push	ax
		call	bseek_
		pop	bp
		retf	2
; ---------------------------------------------------------------------------
		nop
		push	bp
		mov	bp, sp
		push	di
		mov	es, word ptr [bp+0Ah]
		inc	word ptr [bp+8]
		mov	di, [bp+6]
		or	di, di
		jz	short loc_1C47

loc_1C3B:
		call	word ptr es:2
		test	ah, ah
		jnz	short loc_1C4C
		dec	di
		jnz	short loc_1C3B

loc_1C47:
		dec	word ptr [bp+8]
		jnz	short loc_1C3B

loc_1C4C:
		mov	ax, es:12h
		mov	dx, es:14h
		pop	di
		pop	bp
		retf	6

; =============== S U B	R O U T	I N E =======================================


sub_1C5A	proc far
					; sub_C1A1+21P	...
		mov	ax, 4E35h
		mul	word ptr dword_E6A0+2
		mov	cx, ax
		mov	ax, 15Ah
		mul	word ptr dword_E6A0
		add	cx, ax
		mov	ax, 4E35h
		mul	word ptr dword_E6A0
		add	ax, 1
		adc	dx, cx
		mov	word ptr dword_E6A0, ax
		mov	ax, dx
		mov	word ptr dword_E6A0+2, ax
		and	ah, 7Fh
		retf
sub_1C5A	endp

include libs/master.lib/rottbl.asm
include libs/master.lib/smem_release.asm
include libs/master.lib/smem_wget.asm

; =============== S U B	R O U T	I N E =======================================


sub_20D0	proc near
		mov	dx, 188h

loc_20D3:
		in	al, dx
		test	al, 80h
		jnz	short loc_20D3
		mov	al, bh
		out	dx, al

loc_20DB:
		in	al, dx
		test	al, 80h
		jnz	short loc_20DB
		inc	dx
		inc	dx
		mov	al, bl
		out	dx, al
		retn
sub_20D0	endp


; =============== S U B	R O U T	I N E =======================================


sub_20E6	proc near
		mov	dx, 188h

loc_20E9:
		in	al, dx
		test	al, 80h
		jnz	short loc_20E9
		mov	al, bh
		out	dx, al

loc_20F1:
		in	al, dx
		test	al, 80h
		jnz	short loc_20F1
		inc	dx
		inc	dx
		in	al, dx
		retn
sub_20E6	endp

include libs/BorlandC/text_clear.asm
include libs/master.lib/vsync.asm
include libs/master.lib/vsync_wait.asm
include libs/master.lib/palette_white_in.asm
include libs/master.lib/palette_white_out.asm
include libs/master.lib/hmem_lallocate.asm
include libs/master.lib/mem_assign_dos.asm
include libs/master.lib/mem_assign.asm
include libs/master.lib/memheap.asm

; =============== S U B	R O U T	I N E =======================================


sub_24FC	proc far
		cmp	mem_TopSeg, 0
		jz	short loc_2517
		mov	ax, mem_TopSeg
		mov	es, ax
		xor	ax, ax
		cmp	mem_MyOwn, ax
		mov	mem_TopSeg, ax
		jz	short loc_2517
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed

loc_2517:
		mov	ax, 1
		retf
sub_24FC	endp

; ---------------------------------------------------------------------------
		xor	ax, ax
		stc
		retf

include libs/master.lib/super_free.asm
include libs/master.lib/super_entry_pat.asm
include libs/master.lib/super_entry_at.asm
include libs/master.lib/super_entry_bfnt.asm
include libs/master.lib/super_cancel_pat.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_275E	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	ds
		push	si
		push	di
		mov	bx, [bp+arg_0]
		shl	bx, 1
		mov	dx, [bx+130Ch]
		mov	cx, [bp+arg_4]
		mov	bp, [bp+arg_2]
		mov	ax, bp
		shl	ax, 2
		add	bp, ax
		shl	bp, 4
		mov	ax, cx
		and	cx, 7
		shr	ax, 3
		add	bp, ax
		mov	si, cx
		mov	ch, dh
		shr	ch, 1
		mov	al, dl
		mov	ah, [si+404h]
		mov	cs:word_290B, ax
		test	bp, 1
		jnz	short loc_27CE
		test	dh, 1
		jnz	short loc_27B8
		mov	cs:byte_286B, ch
		mov	al, 50h	; 'P'
		sub	al, dh
		mov	cs:byte_2869, al
		mov	cs:word_290E, 0FF3Eh
		jmp	short loc_2800
; ---------------------------------------------------------------------------

loc_27B8:
		mov	cs:byte_2899, ch
		mov	al, 50h	; 'P'
		sub	al, dh
		mov	cs:byte_2897, al
		mov	cs:word_290E, 0FF62h
		jmp	short loc_2800
; ---------------------------------------------------------------------------

loc_27CE:
		dec	bp
		test	dh, 1
		jnz	short loc_27EC
		dec	ch
		mov	cs:byte_28D0, ch
		mov	al, 4Eh	; 'N'
		sub	al, dh
		mov	cs:byte_28CE, al
		mov	cs:word_290E, 0FF90h
		jmp	short loc_2800
; ---------------------------------------------------------------------------

loc_27EC:
		mov	cs:byte_2901, ch
		mov	al, 4Fh	; 'O'
		sub	al, dh
		mov	cs:byte_28FF, al
		mov	cs:word_290E, 0FFC6h

loc_2800:
		mov	ds, word ptr [bx+0F0Ch]
		xor	si, si
		mov	al, 0C0h ; '¿'
		out	7Ch, al
		mov	ax, si
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		call	loc_2908
		mov	ax, 0FFCEh
		out	7Ch, al
		mov	al, ah
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		call	loc_2908
		mov	al, 0CDh ; 'Õ'
		out	7Ch, al
		call	loc_2908
		mov	al, 0CBh ; 'À'
		out	7Ch, al
		call	loc_2908
		mov	al, 0C7h ; '«'
		out	7Ch, al
		call	loc_2908
		xor	al, al
		out	7Ch, al
		pop	di
		pop	si
		pop	ds
		pop	bp
		retf	6
sub_275E	endp

; ---------------------------------------------------------------------------
		db 32h,	0D2h, 0ADh, 0D3h, 0C8h,	8Ah, 0F0h, 22h,	0C7h, 32h
		db 0F0h, 0Ah, 0C2h, 0ABh, 8Ah, 0D6h, 0FEh, 0CDh, 75h, 0EEh
		db 26h,	88h, 15h, 8Ah, 0D5h, 83h, 0C7h
byte_2869	db 50h
		db 0B5h
byte_286B	db 11h
		db 0FEh, 0CBh, 75h, 0E0h, 0C3h,	90h, 32h, 0D2h,	0Ah, 0EDh
		db 74h,	12h, 0ADh, 0D3h, 0C8h, 8Ah, 0F0h, 22h, 0C7h, 32h
		db 0F0h, 0Ah, 0C2h, 0ABh, 8Ah, 0D6h, 0FEh, 0CDh, 75h, 0EEh
		db 0ACh, 32h, 0E4h, 0D3h, 0C8h,	0Ah, 0C2h, 0ABh, 4Fh, 8Ah
		db 0D5h, 83h, 0C7h
byte_2897	db 50h
		db 0B5h
byte_2899	db 11h
		db 0FEh, 0CBh, 75h, 0D6h, 0C3h,	90h, 0ACh, 32h,	0E4h, 0D3h
		db 0C8h, 8Ah, 0D4h, 86h, 0E0h, 32h, 0C0h, 0ABh,	0Ah, 0EDh
		db 74h,	12h, 0ADh, 0D3h, 0C8h, 8Ah, 0F0h, 22h, 0C7h, 32h
		db 0F0h, 0Ah, 0C2h, 0ABh, 8Ah, 0D6h, 0FEh, 0CDh, 75h, 0EEh
		db 0ACh, 32h, 0E4h, 0D3h, 0C8h,	0Ah, 0C2h, 0ABh, 8Ah, 0D5h
		db 83h,	0C7h
byte_28CE	db 50h
		db 0B5h
byte_28D0	db 11h
		db 0FEh, 0CBh, 75h, 0CBh, 0C3h,	0ACh, 32h, 0E4h, 0D3h
		db 0C8h, 8Ah, 0D4h, 86h, 0E0h, 32h, 0C0h, 0ABh,	0Ah, 0EDh
		db 74h,	12h, 0ADh, 0D3h, 0C8h, 8Ah, 0F0h, 22h, 0C7h, 32h
		db 0F0h, 0Ah, 0C2h, 0ABh, 8Ah, 0D6h, 0FEh, 0CDh, 75h, 0EEh
		db 26h,	88h, 15h, 8Ah, 0D5h, 83h, 0C7h
byte_28FF	db 50h
		db 0B5h
byte_2901	db 11h
		db 0FEh, 0CBh, 75h, 0D0h, 0C3h,	90h
; ---------------------------------------------------------------------------

loc_2908:
		mov	di, bp
; ---------------------------------------------------------------------------
		db 0BBh
word_290B	dw 1234h
		db 0E9h
word_290E	dw 0FF3Eh
dword_2910	dd 0
byte_2914	db 0, 90h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2916	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		cld
		mov	ax, word ptr cs:dword_2910
		or	ax, word ptr cs:dword_2910+2
		jz	short loc_2928
		jmp	loc_29A9
; ---------------------------------------------------------------------------

loc_2928:
		push	di
		push	si
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_A88
		push	10h
		call	hmem_allocbyte
		mov	di, ax
		push	ax
		push	0
		push	10h
		push	cs
		call	near ptr sub_9D4
		mov	ax, di
		mov	es, ax
		assume es:nothing
		mov	di, es:0
		mov	si, es:6
		push	ax
		call	hmem_free
		push	di
		call	hmem_allocbyte
		mov	word_FCD0, ax
		push	ax
		push	0
		push	di
		push	cs
		call	near ptr sub_9D4
		push	cs
		call	near ptr sub_968
		mov	cx, di
		mov	ax, word_FCD0
		mov	es, ax
		mov	ax, si
		xor	bx, bx

loc_2977:
		xor	es:[bx], al
		sub	al, es:[bx]
		inc	bx
		loop	loc_2977
		pop	si
		pop	di
		mov	ax, 3521h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr cs:dword_2910,	bx
		mov	word ptr cs:dword_2910+2, es
		mov	word_FCCC, 0
		mov	word_FCCE, 0FFFFh
		push	ds
		push	cs
		pop	ds
		assume ds:seg000
		mov	dx, 2A0Ah
		mov	ax, 2521h
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		assume ds:dseg

loc_29A9:
		push	si
		push	di
		push	ds
		mov	cx, 0FFFFh
		mov	al, 0
		les	di, [bp+arg_0]
		repne scasb
		not	cx
		sub	di, cx
		mov	si, di
		mov	di, 171Ch
		push	ds
		push	es
		pop	ds
		pop	es
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	4
sub_2916	endp


; =============== S U B	R O U T	I N E =======================================


sub_29D2	proc far
		mov	ax, word ptr cs:dword_2910
		or	ax, word ptr cs:dword_2910+2
		jz	short locret_2A09
		push	ds
		lds	dx, cs:dword_2910
		mov	ax, 2521h
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		xor	ax, ax
		mov	word ptr cs:dword_2910,	ax
		mov	word ptr cs:dword_2910+2, ax
		cmp	word_FCCC, ax
		jz	short locret_2A09
		push	word_FCCC
		call	pfclose
		push	word_FCD0
		call	hmem_free

locret_2A09:
		retf
sub_29D2	endp

; ---------------------------------------------------------------------------
		cmp	cs:byte_2914, 0
		jz	short loc_2A17
		jmp	cs:dword_2910
; ---------------------------------------------------------------------------

loc_2A17:
		pusha
		push	ds
		push	es
		mov	bp, sp
		mov	di, seg	dseg
		mov	ds, di
		inc	cs:byte_2914
		push	word ptr [bp+18h]
		popf
		mov	cs:byte_2A6E, ah
		mov	si, 2A3Eh

loc_2A32:
		add	si, 4
		cmp	ah, cs:[si]
		jnz	short loc_2A32
		mov	di, word_FCCE
		jmp	word ptr cs:[si+2]
; ---------------------------------------------------------------------------
		db 3Dh,	0, 72h,	2Ah, 3Eh, 0, 0A7h, 2Ah,	3Fh, 0,	0C5h, 2Ah
		db 42h,	0, 0D9h, 2Ah, 46h, 0, 3Ah, 2Bh,	40h, 0,	3Eh, 2Bh
		db 45h,	0, 3Eh,	2Bh, 4Ch, 0, 1Ch, 2Bh, 57h, 0, 3Eh, 2Bh
		db 5Ch,	0, 3Eh,	2Bh, 44h, 0, 28h, 2Bh
byte_2A6E	db 0
		db    0
		db 42h,	2Bh, 0A8h, 0Fh,	74h, 3,	0E9h, 0C9h, 0, 0Bh, 0FFh
		db 78h,	3, 0E9h, 0C2h, 0, 1Eh, 68h, 1Ch, 17h, 0FFh, 76h
		db 2, 52h, 0Eh,	0E8h, 0Ch, 1, 0Bh, 0C0h, 75h, 3, 0E9h
		db 0AFh, 0, 0A3h, 9Ch, 17h, 8Eh, 0C0h, 26h, 8Eh, 6, 2 dup(0)
		db 26h,	0A1h, 2	dup(0),	0A3h, 9Eh, 17h,	0E9h, 0B6h, 0
		db 3Bh,	0DFh, 74h, 3, 0E9h, 94h, 0, 0FFh, 36h, 9Ch, 17h
		db 0Eh,	0E8h, 40h, 0F0h, 0C7h, 6, 9Ch, 17h, 2 dup(0), 0C7h
		db 6, 9Eh, 17h,	2 dup(0FFh), 0E9h, 98h,	0, 3Bh,	0DFh, 75h
		db 79h,	0FFh, 76h, 2, 52h, 51h,	0FFh, 36h, 9Ch,	17h, 0Eh
		db 0E8h, 0EAh, 0F0h, 0E9h, 84h,	0, 3Bh,	0DFh, 75h, 65h
		db 0Bh,	0C9h, 7Ch, 73h,	3Ch, 1,	74h, 28h, 7Ch, 1Ah, 8Eh
		db 6, 9Ch, 17h,	26h, 8Bh, 2 dup(16h), 0, 26h, 8Bh, 0Eh
		db 18h,	0, 26h,	2Bh, 16h, 12h, 0, 26h, 1Bh, 0Eh, 14h, 0
		db 0EBh, 0Ch, 51h, 52h,	0FFh, 36h, 9Ch,	17h, 0Eh, 0E8h
		db 0E3h, 0F0h, 5Ah, 59h, 0FFh, 36h, 9Ch, 17h, 51h, 52h
		db 0Eh,	0E8h, 13h, 0F1h, 89h, 56h, 0Eh,	0EBh, 41h, 2Eh
		db 0C5h, 16h, 10h, 29h,	0B8h, 21h, 25h,	0CDh, 21h, 0EBh
		db 1Ah,	8Ah, 0C8h, 0B8h, 1, 0, 0D3h, 0E0h, 2Eh,	85h, 6
		db 38h,	2Bh, 75h, 8, 0EBh, 0Ah,	0CFh, 14h, 8Bh,	0CFh, 74h
		db 16h,	3Bh, 0DFh, 74h,	12h, 2Eh, 0FEh,	0Eh, 14h, 29h
		db 0FFh, 76h, 18h, 9Dh,	7, 1Fh,	61h, 0FAh, 2Eh,	0FFh, 2Eh
		db 10h,	29h, 80h, 4Eh, 18h, 1, 0B8h, 1,	0, 0EBh, 4, 80h
		db 66h,	18h, 0FEh, 89h,	46h, 12h, 2Eh, 0FEh, 0Eh, 14h
		db 29h,	7, 1Fh,	61h, 0CFh, 0

; =============== S U B	R O U T	I N E =======================================


sub_2B6E	proc far
		mov	cx, 100h
		mov	dx, 188h

loc_2B74:
		in	al, dx
		inc	al
		jnz	short loc_2B7F
		loop	loc_2B74
		xor	ax, ax
		jmp	short loc_2B93
; ---------------------------------------------------------------------------

loc_2B7F:
		pushf
		cli
		mov	bh, 7
		call	sub_20E6
		and	al, 3Fh
		or	al, 80h
		mov	bl, al
		call	sub_20D0
		popf
		mov	ax, 1

loc_2B93:
		mov	word_E658, ax
		retf
sub_2B6E	endp

; ---------------------------------------------------------------------------
		nop
		enter	0, 0
		push	si
		push	di
		mov	mem_AllocID, 7
		push	1Fh
		call	hmem_allocbyte
		jb	loc_2CA4
		mov	si, ax
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		call	bopenr
		or	ax, ax
		jz	loc_2C9D
		mov	es, si
		mov	es:0, ax
		mov	ax, word_FCD0
		mov	fs, ax
		xor	ax, ax
		mov	di, ax

loc_2BCF:
		mov	al, fs:[di]
		mov	bx, 2
		or	al, al
		jz	short loc_2BF1
		mov	bx, 3
		add	bx, di
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	fs
		push	bx
		call	sub_2CB2
		jnz	short loc_2BF3
		add	di, 20h	; ' '
		jmp	short loc_2BCF
; ---------------------------------------------------------------------------

loc_2BF1:
		mov	ax, bx

loc_2BF3:
		mov	es, si
		mov	ax, fs:[di+14h]
		mov	dx, fs:[di+16h]
		mov	es:0Eh,	ax
		mov	es:10h,	dx
		push	word ptr es:0
		push	dx
		push	ax
		push	0
		call	bseek_
		mov	ax, 1B6Eh
		mov	dl, fs:[di+2]
		mov	es, si
		or	dl, dl
		jz	short loc_2C28
		mov	es:1Eh,	dl
		mov	ax, 1BB2h

loc_2C28:
		mov	es:4, ax
		mov	es, cx
		mov	ax, fs:[di]
		mov	es, si
		cmp	ax, 0F388h
		jz	short loc_2C42
		cmp	ax, 9595h
		jz	short loc_2C4C
		mov	ax, 5
		jmp	short loc_2C91
; ---------------------------------------------------------------------------

loc_2C42:
		mov	ax, es:4
		mov	es:2, ax
		jmp	short loc_2C61
; ---------------------------------------------------------------------------

loc_2C4C:
		mov	word ptr es:2, 1B20h
		mov	word ptr es:1Ah, 0
		mov	word ptr es:1Ch, 0FFFFh

loc_2C61:
		mov	bx, fs:[di+10h]
		mov	dx, fs:[di+12h]
		xor	ax, ax
		mov	es:6, bx
		mov	es:8, ax
		mov	es:16h,	dx
		mov	es:18h,	ax
		mov	es:0Ah,	ax
		mov	es:0Ch,	ax
		mov	es:12h,	ax
		mov	es:14h,	ax
		mov	ax, si
		jmp	short loc_2CAB
; ---------------------------------------------------------------------------

loc_2C91:
		mov	pferrno, ax
		push	word ptr es:0
		call	bcloser

loc_2C9D:
		push	si
		call	hmem_free
		jmp	short loc_2CA9
; ---------------------------------------------------------------------------

loc_2CA4:
		mov	byte ptr pferrno, 3

loc_2CA9:
		xor	ax, ax

loc_2CAB:
		pop	di
		pop	si
		leave
		retf	8
; ---------------------------------------------------------------------------
		db  90h	; ê

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2CB2	proc near

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	ds
		cld
		les	bx, [bp+arg_4]
		lds	si, [bp+arg_0]

loc_2CBE:
		mov	ah, es:[bx]
		inc	bx
		lodsb
		sub	al, 61h	; 'a'
		cmp	al, 19h
		ja	short loc_2CCB
		sub	al, 20h	; ' '

loc_2CCB:
		sub	ah, 61h	; 'a'
		cmp	ah, 19h
		ja	short loc_2CD6
		sub	ah, 20h	; ' '

loc_2CD6:
		cmp	ah, al
		jnz	short loc_2CE0
		add	al, 61h	; 'a'
		jnz	short loc_2CBE
		jmp	short loc_2CE2
; ---------------------------------------------------------------------------

loc_2CE0:
		xor	ax, ax

loc_2CE2:
		test	ax, ax
		pop	ds
		pop	si
		pop	bp
		retn	8
sub_2CB2	endp


; =============== S U B	R O U T	I N E =======================================


sub_2CEA	proc near
		mov	bh, 0Fh
		call	sub_20D0
		mov	dx, 188h
		mov	al, 0Eh
		out	dx, al
		inc	dx
		inc	dx
		in	al, dx
		not	al
		retn
sub_2CEA	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_2CFC	proc far
		pushf
		cli
		mov	bl, 80h	; 'Ä'
		call	sub_2CEA
		and	ax, 3Fh
		popf
		retf
sub_2CFC	endp

; ---------------------------------------------------------------------------
		xchg	dx, bx
		out	dx, al
		xchg	dx, bx
		in	al, dx
		not	al
		retn
; ---------------------------------------------------------------------------

include libs/master.lib/bgm_bell_org.asm
include libs/master.lib/bgm_mget.asm
include libs/master.lib/bgm_read_sdata.asm
include libs/master.lib/bgm_timer.asm
include libs/master.lib/bgm_pinit.asm
include libs/master.lib/bgm_timerhook.asm
include libs/master.lib/bgm_play.asm
include libs/master.lib/bgm_sound.asm
include libs/master.lib/bgm_effect_sound.asm
include libs/master.lib/bgm_stop_play.asm
include libs/master.lib/bgm_set_tempo.asm
include libs/master.lib/bgm_init_finish.asm
include libs/master.lib/bgm_stop_sound.asm

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_35F2

loc_35EC:
		pop	di
		pop	si
		pop	bp
		retf	0Ah
; END OF FUNCTION CHUNK	FOR sub_35F2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_35F2	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

; FUNCTION CHUNK AT 35EC SIZE 00000006 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_6]
		mov	cx, [bp+arg_0]
		sar	cx, 3
		jle	short loc_35EC
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_8]
		sar	di, 3
		jns	short loc_3618
		add	cx, di
		jle	short loc_35EC
		shl	di, 2
		add	si, di
		xor	di, di

loc_3618:
		cmp	di, 50h	; 'P'
		jge	short loc_35EC
		add	cx, di
		cmp	cx, 50h	; 'P'
		jl	short loc_3627
		mov	cx, 50h	; 'P'

loc_3627:
		sub	cx, di
		imul	ax, 50h
		add	di, ax
		push	ds
		mov	es, word_E618
		assume es:nothing
		mov	ds, [bp+arg_4]
		mov	bp, cx
		cld
		nop

loc_363A:
		mov	cl, 2
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		mov	ax, cs:[bx+1C84h]
		mov	dx, cs:[bx+1C86h]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1C84h]
		or	dx, cs:[bx+1C86h]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1C84h]
		or	dx, cs:[bx+1C86h]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1C84h]
		or	dx, cs:[bx+1C86h]
		inc	si
		mov	es:[di], al
		mov	bx, es
		mov	es:[di-8000h], ah
		add	bh, 10h
		mov	es, bx
		assume es:nothing
		mov	es:[di], dl
		add	bh, 28h	; '('
		mov	es, bx
		assume es:nothing
		mov	es:[di], dh
		sub	bh, 38h	; '8'
		mov	es, bx
		assume es:nothing
		inc	di
		dec	bp
		jnz	short loc_363A
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ah
sub_35F2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_36B6	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	es, graph_VramSeg
		assume es:nothing
		mov	cx, [bp+arg_A]
		mov	di, [bp+arg_8]
		mov	bx, [bp+arg_6]
		lds	si, [bp+arg_2]
		mov	dx, [bp+arg_0]
		mov	bp, bx
		mov	ax, di
		shl	ax, 2
		add	di, ax
		shl	di, 4
		mov	al, 0C0h ; '¿'
		pushf
		cli
		out	7Ch, al
		popf
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		mov	al, 0Bh
		out	68h, al

loc_36FE:
		lodsb
		or	al, al
		jz	short loc_3750
		mov	ah, 0
		add	ax, 5680h
		and	ax, 0FF7Fh
		mov	bx, cx
		and	cx, 7
		shr	bx, 3
		add	di, bx
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	dx, 10h
		xor	ch, ch

loc_3720:
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, ch
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	bh, al
		mov	bl, 0
		shr	ax, cl
		shr	bx, cl
		xchg	al, ah
		stosw
		mov	es:[di], bl
		add	di, 4Eh	; 'N'
		inc	ch
		dec	dx
		jnz	short loc_3720
		sub	di, 500h
		xor	ch, ch
		add	cx, bp
		jmp	short loc_36FE
; ---------------------------------------------------------------------------

loc_3750:
		mov	al, 0Ah
		out	68h, al
		xor	al, al
		out	7Ch, al
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ch
sub_36B6	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3760	proc far
					; sub_C5EC+5AP	...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	di
		mov	cx, [bp+arg_6]
		mov	di, [bp+arg_4]
		mov	dx, [bp+arg_0]
		mov	bp, [bp+arg_2]
		add	bp, 5680h
		and	bp, 0FF7Fh
		pushf
		mov	al, 0C0h ; '¿'
		cli
		out	7Ch, al
		popf
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		mov	al, 0Bh
		out	68h, al
		mov	ax, di
		shl	ax, 2
		add	di, ax
		shl	di, 4
		mov	ax, cx
		and	cx, 7
		shr	ax, 3
		add	di, ax
		mov	es, graph_VramSeg
		mov	ax, bp
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	dx, 10h
		xor	ch, ch

loc_37C0:
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, ch
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	bh, al
		mov	bl, 0
		shr	ax, cl
		shr	bx, cl
		xchg	al, ah
		stosw
		mov	es:[di], bl
		add	di, 4Eh	; 'N'
		inc	ch
		dec	dx
		jnz	short loc_37C0
		mov	al, 0Ah
		out	68h, al
		xor	al, al
		out	7Ch, al
		pop	di
		pop	bp
		retf	8
sub_3760	endp

; ---------------------------------------------------------------------------
		nop

include libs/BorlandC/__abort.asm
include libs/BorlandC/stpcpy.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; void abort(void)
_abort		proc far
					; ___call_terminate+6Ep ...
		push	si
		push	di
		mov	ax, 16h
		push	ax
		nop
		call	raise
		pop	cx
		nop
		push	cs
		call	near ptr __abort
_abort		endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

include libs/BorlandC/atexit.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl registerbgidriver(void (*driver)(void))
_registerbgidriver proc	far
					; seg000:3FC4p	...

driver		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_2]
		push	[bp+driver]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
_registerbgidriver endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl registerbgifont(void (*font)(void))
_registerbgifont proc far

driver		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
_registerbgifont endp

include libs/BorlandC/dosenv.asm
include libs/BorlandC/dosgdriv.asm
include libs/BorlandC/errormsg.asm
include libs/BorlandC/exit.asm
include libs/BorlandC/getvect.asm
include libs/BorlandC/H_LDIV.ASM
include libs/BorlandC/H_LLSH.ASM
include libs/BorlandC/H_PADD.ASM
include libs/BorlandC/__IOERROR.ASM
include libs/BorlandC/_isatty.asm
include libs/BorlandC/lseek.asm

; ---------------------------------------------------------------------------
		dd byte_3F44
		db 4, 0, 0FAh, 0FFh, 0Ah dup(0), 0DCh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	19h, 3Dh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 24h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 3D27h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax
		push	ax
		push	ax
		push	ax
		mov	ax, 5
		push	ax
		mov	ax, seg	seg000
		push	ax
		mov	ax, 3E1Fh
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	ds
		mov	ax, 0B4Eh
		push	ax
		push	ss
		lea	ax, [bp-6]
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		mov	ax, word_F082
		mov	[bp-2],	ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp-6]
		push	ss
		push	ax
		push	cs
		mov	ax, 3F44h
		push	ax
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_new_handler(void (*)(void))
@set_new_handler$qnqv$v	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	dx, seg_F086
		mov	ax, word_F084
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	seg_F086, dx
		mov	word_F084, ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_new_handler$qnqv$v	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; operator new(unsigned	int)
@$bnew$qui	proc far
					; xmsg::xmsg(string &)+21p ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		cmp	[bp+arg_0], 0
		jz	short loc_3DEB
		mov	ax, [bp+arg_0]
		jmp	short loc_3DEE
; ---------------------------------------------------------------------------

loc_3DEB:
		mov	ax, 1

loc_3DEE:
		mov	[bp+arg_0], ax
		jmp	short loc_3DF7
; ---------------------------------------------------------------------------

loc_3DF3:
		call	dword ptr word_F084

loc_3DF7:
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jnz	short loc_3E13
		mov	ax, word_F084
		or	ax, seg_F086
		jnz	short loc_3DF3

loc_3E13:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@$bnew$qui	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+0Ah]
		mov	ax, es:[bx+4]
		les	bx, [bp+6]
		mov	es:[bx+4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		dd byte_3F44
		dw 0
		dd unk_F07E
		dd byte_3F0A
		db 4, 0, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	62h, 3Eh

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::contains(char	const *)const
@string@contains$xqnxc proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
driver		= byte ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 3E7Ah
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_16], 6
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 0B58h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		call	@string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ds
		mov	ax, 0B4Eh
		push	ax
		nop
		push	cs
		call	near ptr @xalloc@$bctr$qmx6stringui ; xalloc::xalloc(string &,uint)
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 10h
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@contains$xqnxc endp

; ---------------------------------------------------------------------------

loc_3EE3:
		push	si
		push	di
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 0B4Eh
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
byte_3F0A	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
		db 0Dh dup(0), 1, 0, 1,	0, 11h,	3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_3F44	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 86h,	3Fh
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0D3h, 3Fh
		dw seg seg000
		dw 0
		db 3, 0Dh dup(0)
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_3FCD
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_3FCB
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_3FCF
; ---------------------------------------------------------------------------

loc_3FCB:
		jmp	short loc_3FCF
; ---------------------------------------------------------------------------

loc_3FCD:
		xor	ax, ax

loc_3FCF:
					; seg000:loc_3FCBj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 92h,	60h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)

include libs/BorlandC/N_LXMUL.ASM
include libs/BorlandC/N_PCMP.ASM
include libs/BorlandC/setupio.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl tolower(int ch)
_tolower	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_0]
		cmp	dx, 0FFFFh
		jnz	short loc_40F9
		mov	ax, 0FFFFh
		jmp	short loc_4113
; ---------------------------------------------------------------------------

loc_40F9:
		mov	al, dl
		mov	ah, 0
		mov	bx, ax
		test	(__ctype+1)[bx], 4
		jz	short loc_410F
		mov	al, dl
		mov	ah, 0
		add	ax, 20h	; ' '
		jmp	short loc_4113
; ---------------------------------------------------------------------------

loc_410F:
		mov	al, dl
		mov	ah, 0

loc_4113:
		pop	di
		pop	si
		pop	bp
		retf
_tolower	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4117	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_0]
		cmp	dx, 0FFFFh
		jnz	short loc_4129
		mov	ax, 0FFFFh
		jmp	short loc_4143
; ---------------------------------------------------------------------------

loc_4129:
		mov	al, dl
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0B69h], 8
		jz	short loc_413F
		mov	al, dl
		mov	ah, 0
		add	ax, 0FFE0h
		jmp	short loc_4143
; ---------------------------------------------------------------------------

loc_413F:
		mov	al, dl
		mov	ah, 0

loc_4143:
		pop	di
		pop	si
		pop	bp
		retf
sub_4117	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __RefDestructorCount(void)
@__RefDestructorCount$qv proc far
		mov	dx, ss
		mov	ax, 10h
		retf
@__RefDestructorCount$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __RefExceptionList(void)
@__RefExceptionList$qv proc far
					; ___ExitExceptBlocks+4p
		mov	dx, ss
		mov	ax, 14h
		retf
@__RefExceptionList$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

___InitExceptBlocks proc far
					; string::contains(char	*)+10p	...
		mov	es, ax
		mov	dx, bx
		mov	cx, bp
		mov	bx, es:[bx+4]
		add	bx, cx
		mov	ss:[bx+6], dx
		mov	ss:[bx+8], ax
		mov	ax, sp
		add	ax, 4
		mov	ss:[bx+0Ah], ax
		mov	ax, seg	dseg
		mov	ss:[bx+0Eh], ax
		mov	ss:[bx+10h], si
		mov	word ptr ss:[bx+2], offset __ExceptionHandler
		mov	word ptr ss:[bx+4], seg	seg000
		mov	word ptr ss:[bx+0Ch], 0
		mov	word ptr ss:[bx+12h], 0
		push	bx
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		pop	bx
		xchg	ax, bx
		mov	es, dx
		mov	cx, es:[bx]
		mov	dx, es:[bx+2]
		mov	bx, ax
		mov	ss:[bx+1Ah], cx
		mov	ss:[bx+1Ch], dx
		push	bx
		push	cs
		call	near ptr @__RefExceptionList$qv	; __RefExceptionList(void)
		pop	bx
		xchg	ax, bx
		mov	es, dx
		mov	cx, es:[bx]
		mov	es:[bx], ax
		mov	bx, ax
		mov	ss:[bx], cx
		retf
___InitExceptBlocks endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

___ExitExceptBlocks proc far
					; seg000:42C2p	...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	cs
		call	near ptr @__RefExceptionList$qv	; __RefExceptionList(void)
		mov	bx, [bp+arg_0]
		xchg	ax, bx
		mov	es, dx
		mov	es:[bx], ax
		pop	bp
		retf	2
___ExitExceptBlocks endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; terminate(void)
@terminate$qv	proc near
		push	si
		push	di
		nop
		push	cs
		call	near ptr _abort
@terminate$qv	endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_terminate(void (*)(void))
@set_terminate$qnqv$v proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_4216
		les	bx, ss:16h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+0Ch], dx
		mov	es:[bx+0Ah], ax

loc_4216:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_terminate$qnqv$v endp

; ---------------------------------------------------------------------------
		db 4 dup(0), 0B0h, 42h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 22h,	42h
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

___call_terminate proc far
					; sub_6E07+272p ...

var_26		= dword	ptr -26h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_12		= word ptr -12h

		push	bp
		mov	bp, sp
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 423Ah
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_22], ds
		nop
		push	cs
		call	near ptr _flushall
		les	bx, ss:16h
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax
		mov	[bp+var_12], 6
		les	bx, ss:16h
		cmp	word ptr es:[bx+12h], 0
		jnz	short loc_4294
		les	bx, ss:16h
		mov	word ptr es:[bx+12h], ds

loc_4294:
		les	bx, ss:16h
		mov	ax, es:[bx+12h]
		mov	[bp+var_20], ax
		mov	ds, [bp+var_20]
		call	[bp+var_26]
		mov	ds, [bp+var_22]
		mov	[bp+var_12], 0
		jmp	short loc_42B8
; ---------------------------------------------------------------------------
		mov	ds, [bp+var_22]
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_42B8:
		nop
		push	cs
		call	near ptr _abort
___call_terminate endp

; ---------------------------------------------------------------------------
		push	word ptr [bp-1Eh]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; unexpected(void)
@unexpected$qv	proc near
		push	si
		push	di
		push	cs
		call	near ptr ___call_terminate
@unexpected$qv	endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_unexpected(void (*)(void))
@set_unexpected$qnqv$v proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_430A
		les	bx, ss:16h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+10h], dx
		mov	es:[bx+0Eh], ax

loc_430A:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_unexpected$qnqv$v endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

___call_unexpected proc	far

var_6		= dword	ptr -6
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		les	bx, ss:16h
		cmp	word ptr es:[bx+14h], 0
		jnz	short loc_4346
		les	bx, ss:16h
		mov	word ptr es:[bx+14h], ds

loc_4346:
		les	bx, ss:16h
		mov	ax, es:[bx+14h]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		call	[bp+var_6]
		pop	ds
		nop
		push	cs
		call	near ptr _abort
___call_unexpected endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __GetPolymorphicDTC(void *, unsigned int)
@__GetPolymorphicDTC$qnvui proc	far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_4379
		xor	ax, ax
		jmp	short loc_43B3
; ---------------------------------------------------------------------------

loc_4379:
		les	bx, [bp+arg_0]
		add	bx, [bp+arg_4]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx+1Ah]

loc_43B3:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetPolymorphicDTC$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __GetPolymorphicDTCfar(void *, unsigned int)
@__GetPolymorphicDTCfar$qnvui proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_43CD
		xor	ax, ax
		jmp	short loc_440B
; ---------------------------------------------------------------------------

loc_43CD:
		les	bx, [bp+arg_0]
		add	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx+1Ah]

loc_440B:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetPolymorphicDTCfar$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

__ExceptInit	proc far
		push	si
		push	di
		mov	word ptr ss:12h, 0
		mov	word ptr ss:10h, 0
		mov	word ptr ss:18h, ds
		mov	word ptr ss:16h, 0C6Ah
		mov	word ptr ss:1Ah, 0FEEDh
		mov	ax, ds
		mov	word_F1AE, ax
		mov	word_F1AC, ax
		mov	dx, ss:18h
		mov	ax, ss:16h
		add	ax, 0A8h ; '®'
		les	bx, ss:16h
		mov	es:[bx+22h], dx
		mov	es:[bx+20h], ax
		mov	word ptr ss:14h, 0FFFFh
		pop	di
		pop	si
		retf
__ExceptInit	endp

; ---------------------------------------------------------------------------

unknown_libname_1:			; BCC v4.x/5.x DOS runtime
		pushf
		pop	bx
		mov	ax, 0FFFh
		and	ax, bx
		push	ax
		popf
		pushf
		pop	ax
		and	ax, 0F000h
		cmp	ax, 0F000h
		mov	word_F2C2, 0
		jz	short locret_44BA
		or	bx, 0F000h
		push	bx
		popf
		pushf
		pop	ax
		and	ax, 0F000h
		mov	word_F2C2, 2
		jz	short locret_44BA
		mov	edx, esp
		and	sp, 0FFFCh
		pushfd
		pop	eax
		mov	ecx, eax
		xor	eax, 40000h
		push	eax
		popfd
		pushfd
		pop	eax
		xor	eax, ecx
		mov	word_F2C2, 3
		mov	esp, edx
		jz	short locret_44BA
		mov	word_F2C2, 4

locret_44BA:
		retn
; ---------------------------------------------------------------------------

include libs/BorlandC/FARHEAP.ASM
include libs/BorlandC/fbrk.asm
include libs/BorlandC/signal.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far _access(char *pathname, char)
__access	proc far

pathname	= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax		; func
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		call	__chmod
		add	sp, 6
		mov	dx, ax
		cmp	dx, 0FFFFh
		jnz	short loc_4D96
		jmp	short loc_4DAE
; ---------------------------------------------------------------------------

loc_4D96:
		test	[bp+arg_4], 2
		jz	short loc_4DA1
		test	dl, 1
		jnz	short loc_4DA5

loc_4DA1:
		xor	ax, ax
		jmp	short loc_4DAE
; ---------------------------------------------------------------------------

loc_4DA5:
		mov	_errno, 5
		mov	ax, 0FFFFh

loc_4DAE:
		pop	di
		pop	si
		pop	bp
		retf
__access	endp

; ---------------------------------------------------------------------------
		db 50h,	51h, 52h, 53h, 54h, 55h, 56h, 57h, 1Eh,	6, 8Bh
		db 0ECh, 0A1h, 0BCh, 0Dh, 0Bh, 6, 0BEh,	0Dh, 75h, 27h
		db 0BEh, 2 dup(0FFh), 1Eh, 0B8h, 0, 63h, 0F8h, 0CDh, 21h
		db 8Ch,	0D8h, 1Fh, 72h,	0Bh, 8Ch, 0DAh,	3Bh, 0C2h, 74h
		db 5, 83h, 0FEh, 0FFh, 75h, 6, 0BEh, 0C0h, 0Dh,	0B8h
		dw seg dseg
; ---------------------------------------------------------------------------
		mov	word ptr dword_F2EC, si
		mov	word ptr dword_F2EC+2, ax
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4DFB	proc far
					; sub_5205+284p ...

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	al, [bp+arg_0]
		xor	cx, cx
		les	bx, dword_F2EC

loc_4E09:
		mov	dx, es:[bx]
		or	dx, dx
		jz	short loc_4E1B
		cmp	al, dl
		jb	short loc_4E1B
		inc	bx
		inc	bx
		cmp	al, dh
		ja	short loc_4E09
		inc	cx

loc_4E1B:
		xchg	ax, cx
		pop	di
		pop	si
		pop	bp
		retf
sub_4DFB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4E20	proc far
					; sub_5205+1AEp ...

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		xor	cx, cx
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_4E36:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_4E43
		xor	cx, cx
		jmp	short loc_4E71
; ---------------------------------------------------------------------------

loc_4E43:
		cmp	cx, 1
		jnz	short loc_4E4D
		mov	cx, 2
		jmp	short loc_4E64
; ---------------------------------------------------------------------------

loc_4E4D:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr sub_4DFB
		pop	cx
		or	ax, ax
		jz	short loc_4E62
		mov	cx, 1
		jmp	short loc_4E64
; ---------------------------------------------------------------------------

loc_4E62:
		xor	cx, cx

loc_4E64:
		mov	ax, word ptr [bp+var_4]
		cmp	ax, [bp+arg_4]
		jnb	short loc_4E71
		inc	word ptr [bp+var_4]
		jmp	short loc_4E36
; ---------------------------------------------------------------------------

loc_4E71:
		or	cx, cx
		jnz	short loc_4E7A
		mov	ax, 1
		jmp	short loc_4E7C
; ---------------------------------------------------------------------------

loc_4E7A:
		xor	ax, ax

loc_4E7C:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_4E20	endp

include libs/BorlandC/chmoda.asm
include libs/BorlandC/fflush.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int flushall(void)
_flushall	proc far
					; _fflush+12p

var_8		= word ptr -8
var_6		= word ptr -6
stream		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	[bp+var_8], 0
		mov	ax, __nfile
		mov	[bp+var_6], ax
		mov	word ptr [bp+stream+2],	ds
		mov	word ptr [bp+stream], 938h
		jmp	short loc_4FAD
; ---------------------------------------------------------------------------

loc_4F91:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 3
		jz	short loc_4FA9
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		call	_fflush
		pop	cx
		pop	cx
		inc	[bp+var_8]

loc_4FA9:
		add	word ptr [bp+stream], 14h

loc_4FAD:
		mov	ax, [bp+var_6]
		dec	[bp+var_6]
		or	ax, ax
		jnz	short loc_4F91
		mov	ax, [bp+var_8]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_flushall	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_4FC0	proc near

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jge	short loc_4FDD
		mov	cx, es:[bx+6]
		add	cx, es:[bx]
		inc	cx
		mov	ax, cx
		jmp	short loc_4FEA
; ---------------------------------------------------------------------------

loc_4FDD:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax

loc_4FEA:
		mov	[bp+var_2], ax
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+2], 40h
		jnz	short loc_503E
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Eh]
		mov	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		cmp	word ptr es:[bx], 0
		jge	short loc_5037
		jmp	short loc_501F
; ---------------------------------------------------------------------------

loc_5010:
		dec	word ptr [bp+var_6]
		les	bx, [bp+var_6]
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_501F
		inc	[bp+var_2]

loc_501F:
		mov	ax, cx
		dec	cx
		or	ax, ax
		jnz	short loc_5010
		jmp	short loc_503E
; ---------------------------------------------------------------------------

loc_5028:
		les	bx, [bp+var_6]
		inc	word ptr [bp+var_6]
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_5037
		inc	[bp+var_2]

loc_5037:
		mov	ax, cx
		dec	cx
		or	ax, ax
		jnz	short loc_5028

loc_503E:
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	4
sub_4FC0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl fseek(FILE *stream, __int32 offset, int whence)
_fseek		proc far

stream		= dword	ptr  6
_offset		= dword	ptr  0Ah
whence		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		nop
		call	_fflush
		pop	cx
		pop	cx
		or	ax, ax
		jz	short loc_5064
		mov	ax, 0FFFFh
		jmp	short loc_50C7
; ---------------------------------------------------------------------------

loc_5064:
		cmp	[bp+whence], 1
		jnz	short loc_5081
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jle	short loc_5081
		push	word ptr [bp+stream+2]
		push	bx
		call	sub_4FC0
		cwd
		sub	word ptr [bp+_offset], ax
		sbb	word ptr [bp+_offset+2],	dx

loc_5081:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FE5Fh
		mov	word ptr es:[bx], 0
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		push	[bp+whence]	; fromwhere
		push	word ptr [bp+_offset+2]
		push	word ptr [bp+_offset] ; offset
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		cmp	dx, 0FFFFh
		jnz	short loc_50C5
		cmp	ax, 0FFFFh
		jnz	short loc_50C5
		mov	ax, 0FFFFh
		jmp	short loc_50C7
; ---------------------------------------------------------------------------

loc_50C5:
		xor	ax, ax

loc_50C7:
		pop	di
		pop	si
		pop	bp
		retf
_fseek		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __int32 __cdecl ftell(FILE *stream)
_ftell		proc far

var_8		= word ptr -8
var_6		= word ptr -6
_offset		= dword	ptr -4
stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, 1
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	word ptr [bp+_offset+2],	dx
		mov	word ptr [bp+_offset], ax
		cmp	dx, 0FFFFh
		jnz	short loc_50FF
		cmp	ax, 0FFFFh
		jnz	short loc_50FF
		jmp	loc_51A0
; ---------------------------------------------------------------------------

loc_50FF:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jl	short loc_510B
		jmp	loc_5190
; ---------------------------------------------------------------------------

loc_510B:
		mov	al, es:[bx+4]
		cbw
		add	ax, ax
		mov	bx, ax
		test	byte ptr [bx+0ACBh], 8
		jz	short loc_517E
		mov	ax, 2
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		mov	bx, word ptr [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		cmp	dx, 0FFFFh
		jnz	short loc_5146
		cmp	ax, 0FFFFh
		jnz	short loc_5146
		jmp	short loc_51A6
; ---------------------------------------------------------------------------

loc_5146:
		xor	ax, ax
		push	ax		; fromwhere
		push	word ptr [bp+_offset+2]
		push	word ptr [bp+_offset] ; offset
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		cmp	dx, 0FFFFh
		jnz	short loc_5172
		cmp	ax, 0FFFFh
		jnz	short loc_5172
		mov	dx, 0FFFFh
		mov	ax, 0FFFFh
		jmp	short loc_51A6
; ---------------------------------------------------------------------------

loc_5172:
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr [bp+_offset+2],	dx
		mov	word ptr [bp+_offset], ax

loc_517E:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream]
		call	sub_4FC0
		cwd
		add	word ptr [bp+_offset], ax
		adc	word ptr [bp+_offset+2],	dx
		jmp	short loc_51A0
; ---------------------------------------------------------------------------

loc_5190:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream]
		call	sub_4FC0
		cwd
		sub	word ptr [bp+_offset], ax
		sbb	word ptr [bp+_offset+2],	dx

loc_51A0:
		mov	dx, word ptr [bp+_offset+2]
		mov	ax, word ptr [bp+_offset]

loc_51A6:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_ftell		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_51AC	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		cmp	ax, 5Ch	; '\'
		jz	short loc_51BE
		cmp	ax, 2Fh	; '/'
		jnz	short loc_51C3

loc_51BE:
		mov	ax, 1
		jmp	short loc_51C5
; ---------------------------------------------------------------------------

loc_51C3:
		xor	ax, ax

loc_51C5:
		pop	di
		pop	si
		pop	bp
		retn	2
sub_51AC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_51CB	proc near
					; sub_5205+15Bp ...

arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		mov	ah, 0
		push	ax
		call	sub_51AC
		or	ax, ax
		jz	short loc_51FD
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		nop
		push	cs
		call	near ptr sub_4E20
		add	sp, 8
		or	ax, ax
		jz	short loc_51FD
		mov	ax, 1
		jmp	short loc_51FF
; ---------------------------------------------------------------------------

loc_51FD:
		xor	ax, ax

loc_51FF:
		pop	di
		pop	si
		pop	bp
		retn	8
sub_51CB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5205	proc far

drive		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
src		= dword	ptr -0Ch
dest		= dword	ptr -8
s		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 12h
		push	si
		push	di
		mov	ax, 0A1h ; '°'
		push	ax
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+s+2], dx
		mov	word ptr [bp+s], ax
		or	ax, dx
		jnz	short loc_5224
		jmp	loc_5467
; ---------------------------------------------------------------------------

loc_5224:
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+src]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+0B69h], 0Ch
		jz	short loc_5264
		mov	bx, word ptr [bp+src]
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jnz	short loc_5264
		mov	al, es:[bx]
		cbw
		mov	[bp+var_10], ax
		push	ax
		nop
		push	cs
		call	near ptr sub_4117
		pop	cx
		add	ax, 0FFC0h
		mov	[bp+drive], ax
		add	word ptr [bp+src], 2
		jmp	short loc_527A
; ---------------------------------------------------------------------------

loc_5264:
		push	ss
		lea	ax, [bp+drive]
		push	ax		; drive
		nop
		call	__dos_getdrive
		pop	cx
		pop	cx
		mov	ax, [bp+drive]
		add	ax, 41h	; 'A'
		dec	ax
		mov	[bp+var_10], ax

loc_527A:
		les	bx, [bp+src]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_51AC
		or	ax, ax
		jnz	short loc_52E2
		mov	ax, 0A1h ; '°'
		push	ax		; len
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; buf
		push	[bp+drive]	; drive
		nopcall	__getdcwd
		add	sp, 8
		or	ax, dx
		jnz	short loc_52B2
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	loc_5467
; ---------------------------------------------------------------------------

loc_52B2:
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	dx, word ptr [bp+s+2]
		add	ax, word ptr [bp+s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		push	dx
		push	word ptr [bp+s]
		dec	ax
		push	dx
		push	ax
		call	sub_51CB
		or	ax, ax
		jnz	short loc_5304
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		jmp	short loc_5301
; ---------------------------------------------------------------------------

loc_52E2:
		mov	dx, word ptr [bp+s+2]
		mov	ax, word ptr [bp+s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_10]
		mov	es:[bx], al
		inc	word ptr [bp+dest]
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 3Ah ;	':'

loc_5301:
		inc	word ptr [bp+dest]

loc_5304:
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	dx, word ptr [bp+s+2]
		mov	ax, word ptr [bp+s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax

loc_532A:
					; sub_5205+298j ...
		les	bx, [bp+src]
		inc	word ptr [bp+src]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_E], ax
		or	ax, ax
		jz	short loc_5346
		push	ax
		call	sub_51AC
		or	ax, ax
		jnz	short loc_5346
		jmp	loc_5478
; ---------------------------------------------------------------------------

loc_5346:
					; sub_5205+13Cj
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_536D
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		mov	ax, word ptr [bp+dest]
		add	ax, 0FFFEh
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_51CB
		or	ax, ax
		jz	short loc_536D
		sub	word ptr [bp+dest], 2
		jmp	short loc_53E4
; ---------------------------------------------------------------------------

loc_536D:
					; sub_5205+160j
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_53E4
		cmp	byte ptr es:[bx-2], 2Eh	; '.'
		jnz	short loc_53E4
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		mov	ax, word ptr [bp+dest]
		add	ax, 0FFFDh
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_51CB
		or	ax, ax
		jz	short loc_53E4
		sub	word ptr [bp+dest], 3
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_53CD
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr sub_4E20
		add	sp, 8
		or	ax, ax
		jz	short loc_53CD
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	loc_5467
; ---------------------------------------------------------------------------

loc_53CD:
					; sub_5205+1B6j ...
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		dec	word ptr [bp+dest]
		mov	ax, word ptr [bp+dest]
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_51CB
		or	ax, ax
		jz	short loc_53CD

loc_53E4:
					; sub_5205+170j ...
		cmp	[bp+var_E], 0
		jz	short loc_53ED
		jmp	loc_546D
; ---------------------------------------------------------------------------

loc_53ED:
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_51CB
		or	ax, ax
		jz	short loc_5405
		dec	word ptr [bp+dest]

loc_5405:
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_5433
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr sub_4E20
		add	sp, 8
		or	ax, ax
		jz	short loc_5433
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		inc	word ptr [bp+dest]

loc_5433:
					; sub_5205+222j
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		inc	ax
		mov	dx, ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_5455
		jmp	loc_54D9
; ---------------------------------------------------------------------------

loc_5455:
		cmp	dx, [bp+arg_8]
		jbe	short loc_54B2
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_5467:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_54E8
; ---------------------------------------------------------------------------

loc_546D:
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		jmp	short loc_54AC
; ---------------------------------------------------------------------------

loc_5478:
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+dest]
		push	[bp+var_E]
		nop
		push	cs
		call	near ptr sub_4DFB
		pop	cx
		or	ax, ax
		jnz	short loc_5494
		jmp	loc_532A
; ---------------------------------------------------------------------------

loc_5494:
		les	bx, [bp+src]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_54A0
		jmp	loc_532A
; ---------------------------------------------------------------------------

loc_54A0:
		mov	al, es:[bx]
		les	bx, [bp+dest]
		mov	es:[bx], al
		inc	word ptr [bp+src]

loc_54AC:
		inc	word ptr [bp+dest]
		jmp	loc_532A
; ---------------------------------------------------------------------------

loc_54B2:
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; src
		push	[bp+arg_2]
		push	[bp+arg_0]	; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 0Ch
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		jmp	short loc_54E8
; ---------------------------------------------------------------------------

loc_54D9:
		push	dx
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _realloc
		add	sp, 6

loc_54E8:
					; sub_5205+2D2j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_5205	endp

include libs/BorlandC/getdcwd.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; char *__cdecl	getenv(const char *name)
_getenv		proc far
					; sub_9DFF+126p

var_4		= dword	ptr -4
_name		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	di, [bp+_name]
		mov	ax, es
		or	ax, di
		jz	short loc_55BC
		mov	al, 0
		mov	ah, es:[di]
		mov	cx, 0FFFFh
		cld
		repne scasb
		not	cx
		dec	cx
		jz	short loc_55BC
		les	di, environ@
		mov	word ptr [bp+var_4+2], es
		mov	bx, es
		or	bx, di
		mov	word ptr [bp+var_4], di
		jnz	short loc_55C9

loc_55BC:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_55F5
; ---------------------------------------------------------------------------

loc_55C2:
		add	word ptr [bp+var_4], 4
		les	di, [bp+var_4]

loc_55C9:
		les	di, es:[di]
		mov	bx, es
		or	bx, di
		jz	short loc_55BC
		mov	al, es:[di]
		or	al, al
		jz	short loc_55BC
		cmp	ah, al
		jnz	short loc_55C2
		mov	bx, cx
		cmp	byte ptr es:[bx+di], 3Dh ; '='
		jnz	short loc_55C2
		push	ds
		lds	si, [bp+_name]
		repe cmpsb
		pop	ds
		xchg	cx, bx
		jnz	short loc_55C2
		inc	di
		mov	ax, di
		mov	dx, es

loc_55F5:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_getenv		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl memcmp(const void	*s1, const void	*s2, size_t n)
_memcmp		proc far

s1		= dword	ptr  6
s2		= dword	ptr  0Ah
n		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ax, [bp+n]
		mov	cx, ax
		jcxz	short loc_561C
		lds	si, [bp+s1]
		les	di, [bp+s2]
		cld
		repe cmpsb
		mov	al, [si-1]
		xor	ah, ah
		mov	cl, es:[di-1]
		xor	ch, ch

loc_561C:
		pop	ds
		sub	ax, cx
		pop	di
		pop	si
		pop	bp
		retf
_memcmp		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void *__cdecl	memcpy(void *dest, const void *src, size_t n)
_memcpy		proc far

dest		= dword	ptr  6
src		= dword	ptr  0Ah
n		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, ds
		les	di, [bp+dest]
		lds	si, [bp+src]
		mov	cx, [bp+n]
		shr	cx, 1
		cld
		rep movsw
		jnb	short loc_563B
		movsb

loc_563B:
		mov	ds, dx
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		pop	bp
		retf
_memcpy		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl setmem(void *dest, unsigned int length, char value)
_setmem		proc far

dest		= dword	ptr  6
_length		= word ptr  0Ah
value		= byte ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	di, [bp+dest]
		mov	cx, [bp+_length]
		mov	al, [bp+value]
		mov	ah, al
		cld
		test	di, 1
		jz	short loc_5662
		jcxz	short loc_5669
		stosb
		dec	cx

loc_5662:
		shr	cx, 1
		rep stosw
		jnb	short loc_5669
		stosb

loc_5669:
		pop	di
		pop	si
		pop	bp
		retf
_setmem		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void *__cdecl	memset(void *s,	int c, size_t n)
_memset		proc far

dest		= dword	ptr  6
value		= byte ptr  0Ah
_length		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+value] ; value
		push	[bp+_length]	; length
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		push	cs
		call	near ptr _setmem
		add	sp, 8
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		pop	bp
		retf
_memset		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl movmem(const void *src, void *dest, unsigned int	length)
_movmem		proc far

src		= dword	ptr  6
dest		= dword	ptr  0Ah
_length		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	cx, word ptr [bp+dest+2]
		mov	bx, word ptr [bp+dest]
		mov	dx, word ptr [bp+src+2]
		mov	ax, word ptr [bp+src]
		call	N_PCMP@
		jnb	short loc_56AC
		std
		mov	ax, 1
		jmp	short loc_56AF
; ---------------------------------------------------------------------------

loc_56AC:
		cld
		xor	ax, ax

loc_56AF:
		lds	si, [bp+src]
		les	di, [bp+dest]
		mov	cx, [bp+_length]
		or	ax, ax
		jz	short loc_56C2
		add	si, cx
		dec	si
		add	di, cx
		dec	di

loc_56C2:
		test	di, 1
		jz	short loc_56CC
		jcxz	short loc_56DB
		movsb
		dec	cx

loc_56CC:
		sub	si, ax
		sub	di, ax
		shr	cx, 1
		rep movsw
		jnb	short loc_56DB
		add	si, ax
		add	di, ax
		movsb

loc_56DB:
		cld
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf
_movmem		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void *__cdecl	memmove(void *dest, const void *src, size_t n)
_memmove	proc far

dest		= dword	ptr  6
src		= dword	ptr  0Ah
_length		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+_length]	; length
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	cs
		call	near ptr _movmem
		add	sp, 0Ah
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		pop	bp
		retf
_memmove	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl _searchenv(const	char *file, const char *varname, char *pathname)
__searchenv	proc far

var_4		= dword	ptr -4
src		= dword	ptr  6
varname		= dword	ptr  0Ah
pathname	= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	word ptr [bp+varname+2]
		push	word ptr [bp+varname] ;	name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jnz	short loc_572D
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 0DCCh

loc_572D:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		nop
		push	cs
		call	near ptr sub_574D
		add	sp, 0Ch
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__searchenv	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_574D(char *src,	__int32, char *pathname)
sub_574D	proc far

var_4		= word ptr -4
var_2		= word ptr -2
src		= dword	ptr  6
arg_4		= dword	ptr  0Ah
pathname	= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, 50h	; 'P'
		push	ax		; len
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; buf
		xor	ax, ax
		push	ax		; drive
		nopcall	__getdcwd
		add	sp, 8
		or	ax, dx
		jnz	short loc_5772
		xor	dx, dx
		jmp	short loc_5781
; ---------------------------------------------------------------------------

loc_5772:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	dx, ax

loc_5781:
		les	bx, [bp+pathname]
		add	bx, dx
		mov	byte ptr es:[bx], 0
		or	dx, dx
		jz	short loc_57D6
		mov	bx, dx
		add	bx, word ptr [bp+pathname]
		mov	bl, es:[bx-1]
		mov	al, bl
		cmp	al, 5Ch	; '\'
		jz	short loc_57A7
		cmp	bl, 2Fh	; '/'
		jz	short loc_57A7
		cmp	bl, 3Ah	; ':'
		jnz	short loc_57C3

loc_57A7:
		mov	ax, word ptr [bp+pathname]
		add	ax, dx
		dec	ax
		push	word ptr [bp+pathname+2]
		push	ax
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname]
		nop
		push	cs
		call	near ptr sub_4E20
		add	sp, 8
		or	ax, ax
		jnz	short loc_57D6

loc_57C3:
		push	ds
		mov	ax, 0DCEh
		push	ax		; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8

loc_57D6:
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8
		xor	ax, ax
		push	ax		; char
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		or	ax, ax
		jz	short loc_584A
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5811
		les	bx, [bp+pathname]
		mov	byte ptr es:[bx], 0
		jmp	short loc_5889
; ---------------------------------------------------------------------------

loc_5811:
		xor	dx, dx
		jmp	short loc_5829
; ---------------------------------------------------------------------------

loc_5815:
		les	bx, [bp+pathname]
		add	bx, dx
		push	es
		les	si, [bp+arg_4]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+arg_4]
		inc	dx

loc_5829:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 3Bh ;	';'
		jz	short loc_5838
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5815

loc_5838:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5844
		jmp	loc_5781
; ---------------------------------------------------------------------------

loc_5844:
		inc	word ptr [bp+arg_4]
		jmp	loc_5781
; ---------------------------------------------------------------------------

loc_584A:
		mov	ax, 50h	; 'P'
		push	ax
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname]
		xor	ax, ax
		push	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_5205
		add	sp, 0Ah
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_5889
		push	[bp+var_2]
		push	[bp+var_4]	; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	[bp+var_2]
		push	[bp+var_4]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 0Ch

loc_5889:
					; sub_574D+11Bj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_574D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl setvbuf(FILE *stream, char *buf, int type, size_t	size)
_setvbuf	proc far

stream		= dword	ptr  6
buf		= dword	ptr  0Ah
_type		= word ptr  0Eh
_size		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+stream]
		mov	ax, es:[bx+12h]
		cmp	ax, word ptr [bp+stream]
		jz	short loc_58A3
		jmp	loc_597A
; ---------------------------------------------------------------------------

loc_58A3:
		cmp	[bp+_type], 2
		jle	short loc_58AC
		jmp	loc_597A
; ---------------------------------------------------------------------------

loc_58AC:
		cmp	[bp+_size], 7FFFh
		jbe	short loc_58B6
		jmp	loc_597A
; ---------------------------------------------------------------------------

loc_58B6:
		cmp	word_F302, 0
		jnz	short loc_58CC
		cmp	word ptr [bp+stream], 94Ch
		jnz	short loc_58CC
		mov	word_F302, 1
		jmp	short loc_58E0
; ---------------------------------------------------------------------------

loc_58CC:
		cmp	word_F300, 0
		jnz	short loc_58E0
		cmp	word ptr [bp+stream], 938h
		jnz	short loc_58E0
		mov	word_F300, 1

loc_58E0:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jz	short loc_58FD
		mov	ax, 1
		push	ax		; whence
		xor	ax, ax
		push	ax
		push	ax		; offset
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fseek
		add	sp, 0Ah

loc_58FD:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 4
		jz	short loc_5916
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_5916:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FFF3h
		mov	word ptr es:[bx+6], 0
		mov	dx, word ptr [bp+stream+2]
		mov	ax, word ptr [bp+stream]
		add	ax, 5
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		cmp	[bp+_type], 2
		jz	short loc_59AA
		cmp	[bp+_size], 0
		jbe	short loc_59AA
		mov	word ptr _exitbuf+2, seg seg000
		mov	word ptr _exitbuf, 5CB8h
		mov	ax, word ptr [bp+buf]
		or	ax, word ptr [bp+buf+2]
		jnz	short loc_597F
		push	[bp+_size]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+buf+2], dx
		mov	word ptr [bp+buf], ax
		or	ax, dx
		jz	short loc_597A
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 4
		jmp	short loc_597F
; ---------------------------------------------------------------------------

loc_597A:
		mov	ax, 0FFFFh
		jmp	short loc_59AC
; ---------------------------------------------------------------------------

loc_597F:
		les	bx, [bp+stream]
		mov	dx, word ptr [bp+buf+2]
		mov	ax, word ptr [bp+buf]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	ax, [bp+_size]
		mov	es:[bx+6], ax
		cmp	[bp+_type], 1
		jnz	short loc_59AA
		or	word ptr es:[bx+2], 8

loc_59AA:
		xor	ax, ax

loc_59AC:
		pop	di
		pop	si
		pop	bp
		retf
_setvbuf	endp

include libs/BorlandC/_strcat.asm
include libs/BorlandC/_strcmp.asm
include libs/BorlandC/_strcpy.asm
include libs/BorlandC/_stricmp.asm
include libs/BorlandC/_strlen.asm
include libs/BorlandC/strrchr.asm
include libs/BorlandC/write.asm
include libs/BorlandC/writea.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__xfflush	proc far

var_6		= word ptr -6
stream		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_6], 4
		mov	word ptr [bp+stream+2],	ds
		mov	word ptr [bp+stream], 938h
		jmp	short loc_5CEB
; ---------------------------------------------------------------------------

loc_5CCF:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 3
		jz	short loc_5CE4
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		call	_fflush
		pop	cx
		pop	cx

loc_5CE4:
		dec	[bp+var_6]
		add	word ptr [bp+stream], 14h

loc_5CEB:
		cmp	[bp+var_6], 0
		jnz	short loc_5CCF
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__xfflush	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xalloc::xalloc(string	const &, unsigned int)
@xalloc@$bctr$qmx6stringui proc	far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_5D18
		mov	ax, 6
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_5D36

loc_5D18:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx6string	; xmsg::xmsg(string &)
		add	sp, 8
		les	bx, [bp+arg_0]
		mov	ax, [bp+arg_8]
		mov	es:[bx+4], ax

loc_5D36:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@xalloc@$bctr$qmx6stringui endp

; ---------------------------------------------------------------------------
		dd byte_5E31
		db 4 dup(0), 31h, 5Eh
		dw seg seg000
		db 4, 0, 0FAh, 0FFh, 6 dup(0), 52h, 5Dh
		dw seg seg000
		db 0DCh, 0FFh, 2 dup(0), 5, 3 dup(0), 5Ah, 5Dh

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xalloc::raise(void)
@xalloc@raise$qv proc far
					; sub_E0BA+4DP	...

var_28		= dword	ptr -28h
src		= byte ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 5D68h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 5DEEh
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_28+2],	dx
		mov	word ptr [bp+var_28], ax
		push	dx
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+var_28]
		mov	ax, es:[bx+4]
		mov	[bp+var_2], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 5E31h
		push	ax		; int
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xalloc@raise$qv endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+0Ah]
		mov	ax, es:[bx+4]
		les	bx, [bp+6]
		mov	es:[bx+4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
byte_5E31	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 73h,	5Eh
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0C0h, 5Eh
		dw seg seg000
		db 2 dup(0), 3,	0Dh dup(0)
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_5EBA
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_5EB8
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_5EBC
; ---------------------------------------------------------------------------

loc_5EB8:
		jmp	short loc_5EBC
; ---------------------------------------------------------------------------

loc_5EBA:
		xor	ax, ax

loc_5EBC:
					; seg000:loc_5EB8j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 92h,	60h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 66h, 62h
		dw seg seg000
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	0F8h, 5Eh

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::xmsg(string const &)
@xmsg@$bctr$qmx6string proc far
					; string::assert_element(uint)+6AP ...

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 5F06h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_5F4B
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_5F9D

loc_5F4B:
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_5F8D
		mov	[bp+var_16], 0Eh
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_5F8D:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_5F9D:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$bctr$qmx6string endp

; ---------------------------------------------------------------------------
		dd byte_6266
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	0C3h, 5Fh

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::xmsg(xmsg const	&)
@xmsg@$bctr$qmx4xmsg proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 5FD1h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_6016
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_606C

loc_6016:
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_605C
		mov	[bp+var_16], 0Eh
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_605C:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_606C:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$bctr$qmx4xmsg endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far xmsg___xmsg(void (*driver)(void), char)
@xmsg@$bdtr$qv	proc far

driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_60EC
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+driver]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		test	[bp+arg_4], 1
		jz	short loc_60EC
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx

loc_60EC:
					; xmsg::~xmsg(void)+4Bj
		pop	di
		pop	si
		pop	bp
		retf
@xmsg@$bdtr$qv	endp

; ---------------------------------------------------------------------------
off_60F0	dd byte_622E
		dd 0
		dd off_60F0
		db 0E2h, 0FFh

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::raise(void)
@xmsg@raise$qv	proc far

src		= byte ptr -22h
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 60F8h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 5FE7h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	ss
		lea	ax, [bp+src]
		push	ax
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 622Eh
		push	ax		; int
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@raise$qv	endp

; ---------------------------------------------------------------------------
		dd byte_6266
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	51h, 61h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::operator=(xmsg const &)
@xmsg@$basg$qmx4xmsg proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 615Fh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_6198
		cmp	ax, word ptr [bp+arg_4]
		jz	short loc_6216

loc_6198:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_6206
		mov	[bp+var_16], 0Eh
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_6206:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_6216:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		push	dx
		push	ax
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	ax
		pop	dx
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$basg$qmx4xmsg endp

; ---------------------------------------------------------------------------
byte_622E	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 92h,	60h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)
byte_6266	db 4, 0, 10h, 20h, 0Ah,	0, 79h,	62h
					; seg000:6151o
		dw seg seg000
aString		db 'string *',0
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
		db 0Dh dup(0), 1, 0, 1,	0, 11h,	3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

___JumpToCatch__ proc far
		push	si
		push	di
		mov	sp, bx
		mov	bp, cx
		push	dx
		push	ax
		retf
___JumpToCatch__ endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_62BF	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_62D3
		mov	dx, ds
		mov	ax, 0DD6h
		jmp	short loc_62E0
; ---------------------------------------------------------------------------

loc_62D3:
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+4]

loc_62E0:
		pop	di
		pop	si
		pop	bp
		retf
sub_62BF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_62E4	proc far
					; sub_6381+106p ...

var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_62FC
		cmp	ax, word ptr [bp+arg_4]
		jz	short loc_6378

loc_62FC:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		les	bx, [bp+arg_4]
		cmp	ax, es:[bx+2]
		jnz	short loc_6370
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		les	bx, [bp+arg_4]
		cmp	ax, es:[bx]
		jnz	short loc_6370
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		les	bx, [bp+arg_4]
		or	ax, es:[bx+2]
		test	al, 80h
		jnz	short loc_6370
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax

loc_6352:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_A], ax
		inc	word ptr [bp+var_8]
		cmp	dx, [bp+var_A]
		jz	short loc_6374

loc_6370:
		xor	ax, ax
		jmp	short loc_637B
; ---------------------------------------------------------------------------

loc_6374:
		or	dx, dx
		jnz	short loc_6352

loc_6378:
		mov	ax, 1

loc_637B:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_62E4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6381	proc near
					; sub_6381+135p ...

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_639C:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		mov	ax, word ptr [bp+var_A]
		or	ax, word ptr [bp+var_A+2]
		jz	short loc_6430
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 8
		jnz	short loc_6429
		cmp	[bp+arg_C], 0
		jz	short loc_63D8
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_63D8
		mov	ax, 1
		jmp	short loc_63DA
; ---------------------------------------------------------------------------

loc_63D8:
		xor	ax, ax

loc_63DA:
		mov	[bp+var_6], ax
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		or	ax, ax
		jz	short loc_63FD
		cmp	[bp+var_6], 0
		jz	short loc_63FD
		jmp	loc_64C0
; ---------------------------------------------------------------------------

loc_63FD:
		les	bx, [bp+var_A]
		test	byte ptr es:[bx+8], 4
		jz	short loc_6429
		push	[bp+var_6]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		call	sub_6381
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_6429
		jmp	loc_64C0
; ---------------------------------------------------------------------------

loc_6429:
		add	word ptr [bp+var_4], 8
		jmp	loc_639C
; ---------------------------------------------------------------------------

loc_6430:
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_6443:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		mov	ax, word ptr [bp+var_A]
		or	ax, word ptr [bp+var_A+2]
		jz	short loc_64CC
		cmp	[bp+arg_C], 0
		jz	short loc_6475
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_6475
		mov	ax, 1
		jmp	short loc_6477
; ---------------------------------------------------------------------------

loc_6475:
		xor	ax, ax

loc_6477:
		mov	[bp+var_6], ax
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		or	ax, ax
		jz	short loc_6497
		cmp	[bp+var_6], 0
		jnz	short loc_64C0

loc_6497:
		les	bx, [bp+var_A]
		test	byte ptr es:[bx+8], 4
		jz	short loc_64C5
		push	[bp+var_6]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		call	sub_6381
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_64C5

loc_64C0:
		mov	ax, 1
		jmp	short loc_64CE
; ---------------------------------------------------------------------------

loc_64C5:
					; sub_6381+13Dj
		add	word ptr [bp+var_4], 8
		jmp	loc_6443
; ---------------------------------------------------------------------------

loc_64CC:
		xor	ax, ax

loc_64CE:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6381	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_64D4	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	cx, [bp+arg_8]

loc_64DF:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_64F2
		cmp	ax, word ptr [bp+arg_4]
		jnz	short loc_64F2
		jmp	loc_6607
; ---------------------------------------------------------------------------

loc_64F2:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		mov	[bp+var_2], ax
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		mov	ax, [bp+var_2]
		and	ax, [bp+var_4]
		test	al, 10h
		jz	short loc_6582
		and	[bp+var_2], 3300h
		and	[bp+var_4], 3300h
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_6525
		jmp	loc_65C8
; ---------------------------------------------------------------------------

loc_6525:
		or	cx, cx
		jz	short loc_652C
		jmp	loc_6640
; ---------------------------------------------------------------------------

loc_652C:
		mov	ax, [bp+var_2]
		and	ax, 300h
		mov	dx, [bp+var_4]
		and	dx, 300h
		cmp	ax, dx
		jz	short loc_6562
		mov	ax, [bp+var_4]
		and	ax, 300h
		not	ax
		and	ax, [bp+var_2]
		test	ah, 3
		jz	short loc_6550
		jmp	loc_6640
; ---------------------------------------------------------------------------

loc_6550:
		or	[bp+var_2], 300h
		or	[bp+var_4], 300h
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jz	short loc_65C8

loc_6562:
		mov	ax, [bp+var_2]
		or	ax, 3000h
		mov	dx, [bp+var_4]
		or	dx, 3000h
		cmp	ax, dx
		jz	short loc_6576
		jmp	loc_6640
; ---------------------------------------------------------------------------

loc_6576:
		test	byte ptr [bp+var_2+1], 10h
		jnz	short loc_657F
		jmp	loc_6640
; ---------------------------------------------------------------------------

loc_657F:
		jmp	loc_6607
; ---------------------------------------------------------------------------

loc_6582:
		mov	ax, [bp+var_2]
		and	ax, [bp+var_4]
		test	ah, 4
		jz	short loc_65F0
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_4]
		cmp	dx, es:[bx+0Ch]
		jnz	short loc_65A7
		cmp	ax, es:[bx+0Ah]
		jz	short loc_65C8

loc_65A7:
		or	cx, cx
		jz	short loc_65AE
		jmp	loc_6640
; ---------------------------------------------------------------------------

loc_65AE:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_4]
		or	ax, es:[bx+0Ah]
		or	dx, es:[bx+0Ch]
		or	ax, dx
		jnz	short loc_6640

loc_65C8:
		mov	cx, 1
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_4+2], dx
		mov	word ptr [bp+arg_4], ax
		jmp	loc_64DF
; ---------------------------------------------------------------------------

loc_65F0:
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		or	ax, ax
		jz	short loc_660C

loc_6607:
					; sub_64D4:loc_657Fj
		mov	ax, 1
		jmp	short loc_6642
; ---------------------------------------------------------------------------

loc_660C:
		test	byte ptr [bp+var_2], 2
		jz	short loc_6640
		test	byte ptr [bp+var_4], 1
		jz	short loc_6640
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+8], 4
		jz	short loc_6640
		mov	ax, 1
		push	ax
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_6381
		add	sp, 0Eh
		jmp	short loc_6642
; ---------------------------------------------------------------------------

loc_6640:
		xor	ax, ax

loc_6642:
					; sub_64D4+16Aj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_64D4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6648	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_6698
		cmp	[bp+arg_0], 80h	; 'Ä'
		ja	short loc_667A
		les	bx, ss:16h
		test	byte ptr es:[bx+4], 1
		jz	short loc_667F

loc_667A:
		nop
		push	cs
		call	near ptr _abort
; ---------------------------------------------------------------------------

loc_667F:
		les	bx, ss:16h
		or	word ptr es:[bx+4], 1
		les	bx, ss:16h
		mov	dx, es:[bx+22h]
		mov	ax, es:[bx+20h]
		jmp	short loc_669E
; ---------------------------------------------------------------------------

loc_6698:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]

loc_669E:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_6648	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+22h]
		mov	ax, es:[bx+20h]
		cmp	dx, [bp+8]
		jnz	short loc_66CC
		cmp	ax, [bp+6]
		jnz	short loc_66CC
		les	bx, ss:16h
		and	word ptr es:[bx+4], 0FFFEh
		jmp	short loc_66D9
; ---------------------------------------------------------------------------

loc_66CC:
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_66D9:
		pop	di
		pop	si
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_66DD	proc near
					; __ExceptionHandler+F7p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= dword	ptr  0Ch
arg_C		= byte ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_64D4
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_6707
		jmp	loc_67A3
; ---------------------------------------------------------------------------

loc_6707:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		mov	[bp+var_2], ax
		les	bx, [bp+arg_8]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		test	byte ptr [bp+var_4], 20h
		jz	short loc_6797
		push	[bp+arg_6]
		push	[bp+arg_4]
		mov	ax, 1
		push	ax
		les	bx, [bp+arg_8]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_64D4
		add	sp, 0Eh
		or	ax, ax
		jnz	short loc_67A3
		les	bx, [bp+arg_8]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_8+2], dx
		mov	word ptr [bp+arg_8], ax
		les	bx, [bp+arg_8]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		test	byte ptr [bp+var_4], 10h
		jz	short loc_67DA
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_64D4
		add	sp, 0Eh
		or	ax, ax
		jnz	short loc_67A3
		mov	ax, [bp+var_2]
		and	ax, 3000h
		mov	dx, [bp+var_4]
		and	dx, 3000h
		cmp	ax, dx
		jnz	short loc_67DA

loc_6797:
		test	byte ptr [bp+var_4], 10h
		jz	short loc_67DA
		test	[bp+arg_C], 1
		jz	short loc_67A8

loc_67A3:
		mov	ax, 1
		jmp	short loc_67DC
; ---------------------------------------------------------------------------

loc_67A8:
		test	byte ptr [bp+var_2], 10h
		jz	short loc_67DA
		test	byte ptr [bp+var_2+1], 20h
		jz	short loc_67BA
		test	byte ptr [bp+var_4+1], 20h
		jz	short loc_67DA

loc_67BA:
		test	byte ptr [bp+var_4], 40h
		jz	short loc_67DA
		mov	ax, [bp+var_2]
		and	ax, 300h
		mov	dx, [bp+var_4]
		and	dx, 300h
		cmp	ax, dx
		jnz	short loc_67D6
		mov	ax, 1
		jmp	short loc_67D8
; ---------------------------------------------------------------------------

loc_67D6:
		xor	ax, ax

loc_67D8:
		jmp	short loc_67DC
; ---------------------------------------------------------------------------

loc_67DA:
		xor	ax, ax

loc_67DC:
					; sub_66DD:loc_67D8j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_66DD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_67E2	proc near
					; sub_7AB3+1FDp

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= dword	ptr  0Ch
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		mov	ax, [bp+arg_C]
		and	ax, 1
		mov	[bp+var_4], ax
		test	byte ptr [bp+arg_C], 4
		jz	short loc_680D
		or	[bp+var_4], 2

loc_680D:
		test	byte ptr [bp+arg_C], 2
		jz	short loc_6821
		or	[bp+var_4], 4
		test	byte ptr [bp+arg_C+1], 1
		jnz	short loc_6821
		or	[bp+var_4], 20h

loc_6821:
		test	byte ptr [bp+arg_C], 20h
		jz	short loc_682B
		or	[bp+var_4], 8

loc_682B:
		test	byte ptr [bp+arg_C], 80h
		jz	short loc_6835
		or	[bp+var_4], 10h

loc_6835:
		test	byte ptr [bp+arg_C+1], 10h
		jnz	short loc_683E
		jmp	loc_69C3
; ---------------------------------------------------------------------------

loc_683E:
		mov	bx, [bp+var_4]
		cmp	bx, 17h
		jbe	short loc_6849
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_6849:
		add	bx, bx
		jmp	cs:off_6B00[bx]

loc_6850:
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		add	sp, 6
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_6862:
					; sub_67E2+1EEj
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]
		add	sp, 6
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_6874:
					; sub_67E2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_689A
; ---------------------------------------------------------------------------

loc_6888:
					; sub_67E2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_689A:
		add	sp, 0Ah
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_68A0:
					; sub_67E2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_68AF:
					; sub_67E2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_68BE:
					; sub_67E2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_68E4
; ---------------------------------------------------------------------------

loc_68D2:
					; sub_67E2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_68E4:
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_68E7:
					; sub_67E2+1EEj
		mov	dx, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		xor	ax, ax
		push	bx
		pop	bx
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_68F7:
					; sub_67E2+1EEj
		mov	dx, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		xor	ax, ax

loc_68FF:
		push	bx
		pop	bx
		call	[bp+arg_8]
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_6907:
					; sub_67E2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		xor	ax, ax

loc_6915:
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_692B
; ---------------------------------------------------------------------------

loc_691A:
					; sub_67E2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		xor	ax, ax

loc_6928:
		call	[bp+arg_8]

loc_692B:
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_692E:
					; sub_67E2+1EEj
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_6948
; ---------------------------------------------------------------------------

loc_693C:
					; sub_67E2+1EEj
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax

loc_6945:
		call	[bp+arg_8]

loc_6948:
					; sub_67E2+1FCj
		pop	cx
		pop	cx
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_694D:
					; sub_67E2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		; Hack
		db 0ffh
		db 056h
		db 00ch
		add	sp, 6
		pop	ds
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_6964:
					; sub_67E2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		call	[bp+arg_8]
		add	sp, 6
		pop	ds
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_697B:
					; sub_67E2+1EEj
		mov	si, word ptr [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_4]

loc_6984:
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_6995
; ---------------------------------------------------------------------------

loc_6989:
					; sub_67E2+1EEj
		mov	si, word ptr [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_4]

loc_6992:
		call	[bp+arg_8]

loc_6995:
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_6998:
					; sub_67E2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	ds
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_69AC:
					; sub_67E2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	ds
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_69C0:
					; sub_67E2+1EEj
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_69C3:
		mov	bx, [bp+var_4]
		cmp	bx, 17h
		jbe	short loc_69CE
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_69CE:
		add	bx, bx
		jmp	cs:off_6AD0[bx]

loc_69D5:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_6948
; ---------------------------------------------------------------------------

loc_69E1:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_6945
; ---------------------------------------------------------------------------

loc_69EA:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_6A0A
; ---------------------------------------------------------------------------

loc_69FB:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_6A0A:
		add	sp, 8
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_6A10:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_6984
; ---------------------------------------------------------------------------

loc_6A19:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_6992
; ---------------------------------------------------------------------------

loc_6A22:
		mov	ax, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		push	bx
		pop	bx
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_6AC9
; ---------------------------------------------------------------------------

loc_6A30:
		mov	ax, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		jmp	loc_68FF
; ---------------------------------------------------------------------------

loc_6A39:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		jmp	loc_6915
; ---------------------------------------------------------------------------

loc_6A48:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		jmp	loc_6928
; ---------------------------------------------------------------------------

loc_6A57:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	cx
		jmp	short loc_6AC9
; ---------------------------------------------------------------------------

loc_6A63:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	cx
		jmp	short loc_6AC9
; ---------------------------------------------------------------------------

loc_6A6F:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_6AC9
; ---------------------------------------------------------------------------

loc_6A81:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_6AC9
; ---------------------------------------------------------------------------

loc_6A93:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_6AC9
; ---------------------------------------------------------------------------

loc_6A9E:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		call	[bp+arg_8]
		jmp	short loc_6AC9
; ---------------------------------------------------------------------------

loc_6AA9:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	ds
		jmp	short loc_6AC9
; ---------------------------------------------------------------------------

loc_6AB9:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	ds
		jmp	short $+2

loc_6AC9:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_67E2	endp

; ---------------------------------------------------------------------------
off_6AD0	dw offset loc_69D5
		dw offset loc_69E1
		dw offset loc_69EA
		dw offset loc_69FB
		dw offset loc_6A10
		dw offset loc_6A19
		dw offset loc_6A39
		dw offset loc_6A48
		dw offset loc_6A22
		dw offset loc_6A30
		dw offset loc_6A39
		dw offset loc_6A48
		dw offset loc_6AC9
		dw offset loc_6AC9
		dw offset loc_6AC9
		dw offset loc_6AC9
		dw offset loc_6A57
		dw offset loc_6A63
		dw offset loc_6A6F
		dw offset loc_6A81
		dw offset loc_6A93
		dw offset loc_6A9E
		dw offset loc_6AA9
		dw offset loc_6AB9
off_6B00	dw offset loc_6850
		dw offset loc_6862
		dw offset loc_6874
		dw offset loc_6888
		dw offset loc_68A0
		dw offset loc_68AF
		dw offset loc_68BE
		dw offset loc_68D2
		dw offset loc_68E7
		dw offset loc_68F7
		dw offset loc_6907
		dw offset loc_691A
		dw offset loc_69C0
		dw offset loc_69C0
		dw offset loc_69C0
		dw offset loc_69C0
		dw offset loc_692E
		dw offset loc_693C
		dw offset loc_694D
		dw offset loc_6964
		dw offset loc_697B
		dw offset loc_6989
		dw offset loc_6998
		dw offset loc_69AC

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6B30	proc near
					; sub_77BF+2Bp	...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		cmp	[bp+arg_A], 0
		jz	short loc_6B43
		mov	ax, 2
		jmp	short loc_6B45
; ---------------------------------------------------------------------------

loc_6B43:
		xor	ax, ax

loc_6B45:
		mov	[bp+var_2], ax
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_4], ax
		push	ds
		mov	ds, [bp+var_4]
		mov	ax, [bp+arg_8]
		and	ax, 1
		mov	[bp+var_6], ax
		test	byte ptr [bp+arg_8], 4
		jz	short loc_6B6B
		or	[bp+var_6], 2

loc_6B6B:
		test	byte ptr [bp+arg_8], 2
		jz	short loc_6B7F
		or	[bp+var_6], 4
		test	byte ptr [bp+arg_8+1], 1
		jnz	short loc_6B7F
		or	[bp+var_6], 20h

loc_6B7F:
		test	byte ptr [bp+arg_8], 20h
		jz	short loc_6B89
		or	[bp+var_6], 8

loc_6B89:
		test	byte ptr [bp+arg_8], 80h
		jz	short loc_6B93
		or	[bp+var_6], 10h

loc_6B93:
		mov	bx, [bp+var_6]
		cmp	bx, 17h
		jbe	short loc_6B9E
		jmp	loc_6CB1
; ---------------------------------------------------------------------------

loc_6B9E:
		add	bx, bx
		jmp	cs:off_6CB8[bx]

loc_6BA5:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		pop	cx
		pop	cx
		jmp	loc_6CB1
; ---------------------------------------------------------------------------

loc_6BB3:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]
		pop	cx
		pop	cx
		jmp	loc_6CB1
; ---------------------------------------------------------------------------

loc_6BC1:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		add	sp, 6
		jmp	loc_6CB1
; ---------------------------------------------------------------------------

loc_6BD3:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]
		add	sp, 6
		jmp	loc_6CB1
; ---------------------------------------------------------------------------

loc_6BE5:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_6C4B
; ---------------------------------------------------------------------------

loc_6BF0:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		jmp	short loc_6C48
; ---------------------------------------------------------------------------

loc_6BF8:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_6C12
; ---------------------------------------------------------------------------

loc_6C06:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]

loc_6C12:
		jmp	loc_6CB1
; ---------------------------------------------------------------------------

loc_6C15:
		mov	bx, word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		push	bx
		pop	bx
		call	word ptr [bp+arg_4]
		jmp	loc_6CB1
; ---------------------------------------------------------------------------

loc_6C23:
		mov	bx, word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		push	bx
		pop	bx
		call	[bp+arg_4]
		jmp	loc_6CB1
; ---------------------------------------------------------------------------

loc_6C31:
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		call	word ptr [bp+arg_4]
		jmp	short loc_6C4B
; ---------------------------------------------------------------------------

loc_6C3F:
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		mov	ax, [bp+var_2]

loc_6C48:
		call	[bp+arg_4]

loc_6C4B:
					; sub_6B30+10Dj
		jmp	short loc_6CB1
; ---------------------------------------------------------------------------

loc_6C4D:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		pop	cx
		jmp	short loc_6CB1
; ---------------------------------------------------------------------------

loc_6C59:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	cx
		jmp	short loc_6CB1
; ---------------------------------------------------------------------------

loc_6C65:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		pop	cx
		pop	ds
		jmp	short loc_6CB1
; ---------------------------------------------------------------------------

loc_6C73:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	cx
		pop	ds
		jmp	short loc_6CB1
; ---------------------------------------------------------------------------

loc_6C81:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		jmp	short loc_6CB1
; ---------------------------------------------------------------------------

loc_6C8C:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		jmp	short loc_6CB1
; ---------------------------------------------------------------------------

loc_6C97:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		pop	ds
		jmp	short loc_6CB1
; ---------------------------------------------------------------------------

loc_6CA4:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	ds
		jmp	short $+2

loc_6CB1:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6B30	endp

; ---------------------------------------------------------------------------
off_6CB8	dw offset loc_6BA5
		dw offset loc_6BB3
		dw offset loc_6BC1
		dw offset loc_6BD3
		dw offset loc_6BE5
		dw offset loc_6BF0
		dw offset loc_6BF8
		dw offset loc_6C06
		dw offset loc_6C15
		dw offset loc_6C23
		dw offset loc_6C31
		dw offset loc_6C3F
		dw offset loc_6CB1
		dw offset loc_6CB1
		dw offset loc_6CB1
		dw offset loc_6CB1
		dw offset loc_6C4D
		dw offset loc_6C59
		dw offset loc_6C65
		dw offset loc_6C73
		dw offset loc_6C81
		dw offset loc_6C8C
		dw offset loc_6C97
		dw offset loc_6CA4

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6CE8	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		mov	ax, [bp+arg_8]
		and	ax, 1
		mov	[bp+var_4], ax
		test	byte ptr [bp+arg_8], 4
		jz	short loc_6D13
		or	[bp+var_4], 2

loc_6D13:
		test	byte ptr [bp+arg_8], 2
		jz	short loc_6D1D
		or	[bp+var_4], 4

loc_6D1D:
		test	byte ptr [bp+arg_8], 20h
		jz	short loc_6D27
		or	[bp+var_4], 8

loc_6D27:
		mov	bx, [bp+var_4]
		cmp	bx, 0Bh
		ja	short loc_6D9A
		add	bx, bx
		jmp	cs:off_6DA1[bx]

loc_6D36:
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		pop	cx
		jmp	short loc_6D9A
; ---------------------------------------------------------------------------

loc_6D3F:
		push	[bp+arg_0]
		call	[bp+arg_4]
		pop	cx
		jmp	short loc_6D9A
; ---------------------------------------------------------------------------

loc_6D48:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_6D5C
; ---------------------------------------------------------------------------

loc_6D53:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_6D5C:
		pop	cx
		pop	cx
		jmp	short loc_6D9A
; ---------------------------------------------------------------------------

loc_6D60:
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_6D6E
; ---------------------------------------------------------------------------

loc_6D68:
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_6D6E:
		jmp	short loc_6D9A
; ---------------------------------------------------------------------------

loc_6D70:
		mov	bx, [bp+arg_0]
		push	bx
		pop	bx
		call	word ptr [bp+arg_4]
		jmp	short loc_6D9A
; ---------------------------------------------------------------------------

loc_6D7A:
		mov	bx, [bp+arg_0]
		push	bx
		pop	bx
		call	[bp+arg_4]
		jmp	short loc_6D9A
; ---------------------------------------------------------------------------

loc_6D84:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_6D98
; ---------------------------------------------------------------------------

loc_6D8F:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_6D98:
		jmp	short $+2

loc_6D9A:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6CE8	endp

; ---------------------------------------------------------------------------
off_6DA1	dw offset loc_6D36
		dw offset loc_6D3F
		dw offset loc_6D48
		dw offset loc_6D53
		dw offset loc_6D60
		dw offset loc_6D68
		dw offset loc_6D84
		dw offset loc_6D8F
		dw offset loc_6D70
		dw offset loc_6D7A
		dw offset loc_6D84
		dw offset loc_6D8F
		db 4 dup(0), 77h, 70h
		dw seg seg000
		db 14h dup(0), 0D0h, 70h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 0B9h, 6Dh
		dw seg seg000
		db 2 dup(0), 4,	3 dup(0), 3, 0,	0D1h, 6Dh
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far sub_6E07(int, int, void *src, int, int, int, int, int, int,	int, int, int, int, int, int)
sub_6E07	proc far
					; _ReThrowException(uint,uchar *)+9Ep

var_48		= word ptr -48h
var_46		= word ptr -46h
var_44		= word ptr -44h
var_42		= word ptr -42h
var_40		= word ptr -40h
var_3E		= word ptr -3Eh
var_3C		= word ptr -3Ch
var_3A		= word ptr -3Ah
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
n		= word ptr -28h
var_26		= dword	ptr -26h
var_22		= dword	ptr -22h
var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  6
arg_2		= word ptr  8
src		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah
arg_16		= word ptr  1Ch
arg_18		= word ptr  1Eh
arg_1A		= word ptr  20h
arg_1C		= word ptr  22h
arg_1E		= word ptr  24h

		push	bp
		mov	bp, sp
		sub	sp, 48h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 6DE9h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax
		les	bx, ss:16h
		mov	word ptr es:[bx+6], ds
		mov	dx, ss:18h
		mov	ax, ss:16h
		add	ax, 28h	; '('
		les	bx, ss:16h
		mov	es:[bx+1Eh], dx
		mov	es:[bx+1Ch], ax
		les	bx, [bp+var_22]
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_34+2],	dx
		mov	word ptr [bp+var_34], ax
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		mov	word ptr [bp+var_38+2],	dx
		mov	word ptr [bp+var_38], ax
		jmp	short loc_6E93
; ---------------------------------------------------------------------------

loc_6E70:
		les	bx, ss:16h
		mov	ax, es:[bx+1Ch]
		add	ax, 7Fh	; ''
		cmp	ax, word ptr [bp+var_38]
		jbe	short loc_6E90
		les	bx, [bp+var_34]
		mov	al, es:[bx]
		les	bx, [bp+var_38]
		mov	es:[bx], al
		inc	word ptr [bp+var_38]

loc_6E90:
		inc	word ptr [bp+var_34]

loc_6E93:
		les	bx, [bp+var_34]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_6E70
		les	bx, [bp+var_38]
		mov	byte ptr es:[bx], 0
		les	bx, ss:16h
		mov	ax, [bp+arg_14]
		mov	es:[bx+1Ah], ax
		les	bx, ss:16h
		mov	dx, [bp+arg_18]
		mov	ax, [bp+arg_16]
		mov	es:[bx+18h], dx
		mov	es:[bx+16h], ax
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax
		les	bx, [bp+var_22]
		mov	ax, es:[bx]
		mov	[bp+n],	ax
		les	bx, [bp+var_22]
		mov	ax, es:[bx+2]
		mov	[bp+var_2A], ax
		test	byte ptr [bp+var_2A], 2
		jz	short loc_6EF0
		les	bx, [bp+var_22]
		mov	ax, es:[bx+8]
		jmp	short loc_6EF2
; ---------------------------------------------------------------------------

loc_6EF0:
		xor	ax, ax

loc_6EF2:
		mov	[bp+var_2C], ax
		test	byte ptr [bp+var_2A], 30h
		jz	short loc_6F0C
		les	bx, [bp+var_26]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax

loc_6F0C:
		mov	ax, [bp+n]
		add	ax, 3Ah	; ':'
		push	ax
		push	cs
		call	near ptr sub_6648
		pop	cx
		mov	word ptr [bp+var_30+2],	dx
		mov	word ptr [bp+var_30], ax
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+var_30]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, ss:16h
		mov	dx, word ptr [bp+var_30+2]
		mov	ax, word ptr [bp+var_30]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, [bp+var_30]
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_12]
		mov	es:[bx+0Ch], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+n]
		mov	es:[bx+0Eh], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+var_2A]
		mov	es:[bx+14h], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+var_2C]
		mov	es:[bx+16h], ax
		les	bx, [bp+var_30]
		mov	dx, word ptr [bp+var_26+2]
		mov	ax, word ptr [bp+var_26]
		mov	es:[bx+12h], dx
		mov	es:[bx+10h], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+24h], 0
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+28h], 0
		mov	word ptr es:[bx+26h], 0
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+18h], ds
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+1Ch], seg seg000
		mov	word ptr es:[bx+1Ah], 66A4h
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_14]
		mov	es:[bx+2Ch], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_18]
		mov	ax, [bp+arg_16]
		mov	es:[bx+30h], dx
		mov	es:[bx+2Eh], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	es:[bx+20h], dx
		mov	es:[bx+1Eh], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_10]
		mov	es:[bx+22h], ax
		les	bx, [bp+var_30]
		mov	byte ptr es:[bx+39h], 0
		les	bx, [bp+var_30]
		mov	byte ptr es:[bx+38h], 1
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		mov	ax, word ptr [bp+var_30]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+var_30+2]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		test	byte ptr [bp+var_2C], 1
		jz	short loc_7096
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_3A], dx
		mov	[bp+var_3C], ax
		mov	[bp+var_12], 6
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		mov	ax, word ptr [bp+var_30]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+var_30+2]
		push	ax
		call	sub_67E2
		add	sp, 0Eh
		mov	[bp+var_12], 0
		jmp	short loc_7081
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_7081:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, [bp+var_3A]
		mov	cx, [bp+var_3C]
		mov	es, dx
		xchg	ax, bx
		mov	es:[bx+2], ax
		mov	es:[bx], cx

loc_7096:
		cmp	[bp+arg_1E], 0
		jnz	short loc_70DA
		test	byte ptr [bp+var_2C], 2
		jz	short loc_70DA
		mov	[bp+var_12], 12h
		mov	ax, 1
		push	ax
		les	bx, [bp+var_22]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_22]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		call	sub_6B30
		add	sp, 0Ch
		mov	[bp+var_12], 0
		jmp	short loc_70DA
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_70DA:
					; sub_6E07+299j ...
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		mov	[bp+var_46], dx
		mov	[bp+var_48], ax
		mov	dx, [bp+arg_1C]
		mov	ax, [bp+arg_1A]
		mov	[bp+var_42], dx
		mov	[bp+var_44], ax
		mov	dx, word ptr [bp+var_30+2]
		mov	ax, word ptr [bp+var_30]
		mov	[bp+var_3E], dx
		mov	[bp+var_40], ax
		push	ss
		lea	ax, [bp+var_48]
		push	ax
		xor	ax, ax
		mov	dx, 3
		push	ax
		push	dx
		xor	ax, ax
		mov	dx, 1
		push	ax
		push	dx
		mov	ax, 0EEFh
		mov	dx, 0FACEh
		push	ax
		push	dx
		nop
		push	cs
		call	near ptr _RaiseException
		add	sp, 10h
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_6E07	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far _ThrowException(int, int, void *src, int, int, int,	int, int, int, int, int, int)
@_ThrowException$qnvt1t1t1uiuiuinuc proc far
					; xalloc::raise(void)+6Cp ...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
src		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah
arg_16		= word ptr  1Ch
arg_18		= word ptr  1Eh

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_6], bp
		mov	bx, [bp+var_6]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		xor	ax, ax
		push	ax		; int
		push	[bp+var_2]	; int
		push	[bp+var_4]	; int
		push	[bp+arg_18]	; int
		push	[bp+arg_16]	; int
		push	[bp+arg_14]	; int
		push	[bp+arg_12]	; int
		push	[bp+arg_10]	; int
		push	[bp+arg_E]	; int
		push	[bp+arg_C]	; int
		push	[bp+arg_A]	; int
		push	[bp+arg_8]	; int
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	[bp+arg_2]	; int
		push	[bp+arg_0]	; int
		push	cs
		call	near ptr sub_6E07
		add	sp, 20h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_ThrowException$qnvt1t1t1uiuiuinuc endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; _ReThrowException(unsigned int, unsigned char	*)
@_ReThrowException$quinuc proc far

var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		mov	[bp+var_A], bp
		mov	bx, [bp+var_A]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jnz	short loc_71CA
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------

loc_71CA:
		mov	ax, 1
		push	ax		; int
		push	[bp+var_2]	; int
		push	[bp+var_4]	; int
		push	[bp+arg_4]	; int
		push	[bp+arg_2]	; int
		push	[bp+arg_0]	; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+0Ch] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h] ; int
		push	word ptr es:[bx+1Eh] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+0Ah] ; int
		push	word ptr es:[bx+8] ; int
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx+38h], 0
		jz	short loc_7216
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		add	ax, 3Ah	; ':'
		jmp	short loc_721F
; ---------------------------------------------------------------------------

loc_7216:
		les	bx, [bp+var_8]
		mov	ax, es:[bx+36h]
		mov	dx, ss

loc_721F:
		push	dx
		push	ax		; src
		les	bx, [bp+var_8]
		push	word ptr es:[bx+6] ; int
		push	word ptr es:[bx+4] ; int
		push	cs
		call	near ptr sub_6E07
		add	sp, 20h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_ReThrowException$quinuc endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_7239	proc far
		push	si
		push	di
		pop	di
		pop	si
		retf
sub_7239	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_723E	proc far
					; _RaiseException+2A6p	...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_4], 0
		mov	bx, [bp+arg_0]
		test	byte ptr ss:[bx+4], 6
		jz	short loc_7258
		inc	[bp+var_4]

loc_7258:
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		push	cs
		call	near ptr sub_7239
		jmp	short loc_72A6
; ---------------------------------------------------------------------------

loc_7265:
		mov	ax, [bp+var_2]
		mov	[bp+var_6], ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	ss
		push	[bp+arg_0]
		mov	bx, [bp+var_6]
		call	dword ptr ss:[bx+2]
		add	sp, 0Eh
		mov	dx, ax
		or	dx, dx
		jnz	short loc_7290
		mov	ax, dx
		jmp	short loc_72C4
; ---------------------------------------------------------------------------

loc_7290:
		cmp	[bp+var_4], 0
		jz	short loc_729D
		mov	ax, [bp+var_2]
		mov	ss:14h,	ax

loc_729D:
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx]
		mov	[bp+var_2], ax

loc_72A6:
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_72B4
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_6]
		jnz	short loc_7265

loc_72B4:
		cmp	[bp+var_4], 0
		jz	short loc_72C1
		mov	ax, [bp+var_2]
		mov	ss:14h,	ax

loc_72C1:
		mov	ax, 1

loc_72C4:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_723E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Global_unwind	proc far

var_4C		= word ptr -4Ch
var_4A		= word ptr -4Ah
var_48		= word ptr -48h
var_46		= word ptr -46h
var_3E		= word ptr -3Eh
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4Ch
		push	si
		push	di
		mov	dx, [bp+arg_2]
		or	dx, dx
		jnz	short loc_72F5
		mov	[bp+var_4A], 0
		mov	[bp+var_4C], 26h ; '&'
		mov	[bp+var_46], 0
		mov	[bp+var_48], 2
		mov	[bp+var_3E], 0
		lea	dx, [bp+var_4C]

loc_72F5:
		mov	bx, dx
		or	word ptr ss:[bx+4], 2
		push	[bp+arg_0]
		xor	ax, ax
		push	ax
		push	ax
		push	dx
		push	cs
		call	near ptr sub_723E
		add	sp, 8
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Global_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_7311	proc far
		push	si
		push	di
		pop	di
		pop	si
		retf
sub_7311	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

_RaiseException	proc far

dest		= word ptr -186h
var_184		= word ptr -184h
var_182		= word ptr -182h
var_180		= word ptr -180h
var_17E		= word ptr -17Eh
var_17C		= word ptr -17Ch
var_176		= word ptr -176h
var_174		= word ptr -174h
var_172		= word ptr -172h
var_170		= word ptr -170h
var_16E		= word ptr -16Eh
var_16C		= word ptr -16Ch
var_16A		= word ptr -16Ah
var_168		= word ptr -168h
var_166		= word ptr -166h
var_164		= word ptr -164h
var_162		= word ptr -162h
var_160		= word ptr -160h
var_15E		= word ptr -15Eh
var_15A		= word ptr -15Ah
var_158		= word ptr -158h
var_156		= word ptr -156h
var_154		= word ptr -154h
var_152		= byte ptr -152h
var_C6		= word ptr -0C6h
var_C4		= word ptr -0C4h
var_C2		= word ptr -0C2h
var_C0		= word ptr -0C0h
var_BE		= word ptr -0BEh
var_BC		= word ptr -0BCh
var_BA		= word ptr -0BAh
var_B8		= word ptr -0B8h
var_B6		= word ptr -0B6h
var_B4		= word ptr -0B4h
var_B2		= word ptr -0B2h
var_B0		= word ptr -0B0h
var_AE		= word ptr -0AEh
var_AC		= word ptr -0ACh
var_AA		= word ptr -0AAh
var_A8		= word ptr -0A8h
var_A6		= word ptr -0A6h
var_A4		= word ptr -0A4h
var_A2		= word ptr -0A2h
var_A0		= word ptr -0A0h
var_9E		= word ptr -9Eh
var_9C		= word ptr -9Ch
var_9A		= word ptr -9Ah
var_98		= word ptr -98h
var_96		= word ptr -96h
var_94		= word ptr -94h
var_92		= word ptr -92h
var_90		= word ptr -90h
var_8E		= word ptr -8Eh
var_8C		= word ptr -8Ch
var_8A		= word ptr -8Ah
var_88		= word ptr -88h
var_86		= byte ptr -86h
var_56		= word ptr -56h
var_54		= word ptr -54h
var_52		= word ptr -52h
var_50		= word ptr -50h
var_4E		= word ptr -4Eh
var_4C		= word ptr -4Ch
var_4A		= word ptr -4Ah
var_48		= word ptr -48h
var_46		= byte ptr -46h
src		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  18h
arg_2		= word ptr  1Ah
arg_4		= word ptr  1Ch
arg_6		= word ptr  1Eh
arg_8		= word ptr  20h
arg_A		= word ptr  22h
arg_C		= dword	ptr  24h

; FUNCTION CHUNK AT 7788 SIZE 0000000D BYTES

		push	ax
		push	cx
		push	dx
		push	bx
		push	sp
		push	bp
		push	si
		push	di
		push	ds
		push	es
		mov	bp, sp
		sub	sp, 186h
		lea	ax, [bp+var_86]
		push	ax
		push	cs
		call	near ptr sub_7311
		pop	cx
		pushf
		pop	ax
		mov	word ptr [bp+src+2], ax
		cmp	byte ptr word_F2C2, 3
		jnb	short loc_733F
		jmp	loc_73F5
; ---------------------------------------------------------------------------

loc_733F:
		pushad
		mov	word ptr [bp+src], sp
		mov	ax, 20h	; ' '
		push	ax		; n
		push	ss
		push	word ptr [bp+src] ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		popad
		mov	dx, [bp+var_184]
		mov	ax, [bp+dest]
		mov	[bp+var_B4], dx
		mov	[bp+var_B6], ax
		mov	dx, [bp+var_180]
		mov	ax, [bp+var_182]
		mov	[bp+var_B0], dx
		mov	[bp+var_B2], ax
		mov	dx, [bp+var_174]
		mov	ax, [bp+var_176]
		mov	[bp+var_AC], dx
		mov	[bp+var_AE], ax
		mov	dx, [bp+var_170]
		mov	ax, [bp+var_172]
		mov	[bp+var_A8], dx
		mov	[bp+var_AA], ax
		mov	dx, [bp+var_16C]
		mov	ax, [bp+var_16E]
		mov	[bp+var_A4], dx
		mov	[bp+var_A6], ax
		mov	dx, [bp+var_168]
		mov	ax, [bp+var_16A]
		mov	[bp+var_A0], dx
		mov	[bp+var_A2], ax
		mov	dx, [bp+var_17C]
		mov	ax, [bp+var_17E]
		mov	[bp+var_9C], dx
		mov	[bp+var_9E], ax
		pushfd
		pop	eax
		shr	eax, 10h
		mov	[bp+var_90], ax
		mov	ax, word ptr [bp+src+2]
		mov	[bp+var_92], ax
		mov	[bp+var_C0], 0
		mov	[bp+var_C2], fs
		mov	[bp+var_C4], 0
		mov	[bp+var_C6], gs
		jmp	short loc_743E
; ---------------------------------------------------------------------------

loc_73F5:
		xor	ax, ax
		xor	dx, dx
		mov	[bp+var_9C], ax
		mov	[bp+var_9E], dx
		mov	[bp+var_A0], ax
		mov	[bp+var_A2], dx
		mov	[bp+var_A4], ax
		mov	[bp+var_A6], dx
		mov	[bp+var_A8], ax
		mov	[bp+var_AA], dx
		mov	[bp+var_AC], ax
		mov	[bp+var_AE], dx
		mov	[bp+var_B0], ax
		mov	[bp+var_B2], dx
		mov	[bp+var_B4], ax
		mov	[bp+var_B6], dx
		mov	ax, word ptr [bp+src+2]
		mov	[bp+var_90], 0
		mov	[bp+var_92], ax

loc_743E:
		mov	dx, [bp+var_9C]
		mov	ax, [bp+var_9E]
		add	ax, 18h
		adc	dx, 0
		mov	[bp+var_8C], dx
		mov	[bp+var_8E], ax
		cmp	[bp+arg_2], 0EEFh
		jnz	short loc_746F
		cmp	[bp+arg_0], 0FACEh
		jnz	short loc_746F
		les	bx, [bp+arg_C]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		jmp	short loc_747D
; ---------------------------------------------------------------------------

loc_746F:
					; _RaiseException+14Aj
		mov	word ptr [bp+src], bp
		mov	bx, word ptr [bp+src]
		mov	dx, ss:[bx+16h]
		mov	ax, ss:[bx+14h]

loc_747D:
		mov	[bp+var_4], dx
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_98], 0
		mov	[bp+var_9A], ax
		mov	ax, [bp+var_4]
		mov	[bp+var_94], 0
		mov	[bp+var_96], ax
		mov	ax, 14h
		push	ax		; n
		push	ss
		push	bp		; src
		push	ss
		lea	ax, [bp+var_166]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		mov	ax, [bp+var_164]
		mov	[bp+var_B8], 0
		mov	[bp+var_BA], ax
		mov	ax, [bp+var_166]
		mov	[bp+var_BC], 0
		mov	[bp+var_BE], ax
		mov	[bp+var_88], 0
		mov	[bp+var_8A], ss
		mov	ax, [bp+var_154]
		mov	[bp+var_A2], ax
		mov	ax, [bp+var_15A]
		mov	[bp+var_AE], ax
		mov	ax, [bp+var_156]
		mov	[bp+var_A6], ax
		mov	ax, [bp+var_158]
		mov	[bp+var_AA], ax
		mov	ax, [bp+var_160]
		mov	[bp+var_B2], ax
		mov	ax, [bp+var_162]
		mov	[bp+var_B6], ax
		mov	ax, [bp+var_15E]
		mov	[bp+var_9E], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		and	dx, 0EFFFh
		mov	[bp+var_54], dx
		mov	[bp+var_56], ax
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	[bp+var_50], dx
		mov	[bp+var_52], ax
		mov	dx, [bp+var_4]
		mov	ax, [bp+var_6]
		mov	[bp+var_4A], dx
		mov	[bp+var_4C], ax
		mov	[bp+var_4E], 0
		mov	ax, word ptr [bp+arg_C]
		or	ax, word ptr [bp+arg_C+2]
		jnz	short loc_754E
		mov	[bp+arg_A], 0
		mov	[bp+arg_8], 0

loc_754E:
		cmp	[bp+arg_A], 0
		jb	short loc_7566
		ja	short loc_755C
		cmp	[bp+arg_8], 0Fh
		jbe	short loc_7566

loc_755C:
		mov	[bp+arg_A], 0
		mov	[bp+arg_8], 0Fh

loc_7566:
					; _RaiseException+244j
		mov	ax, [bp+arg_8]
		mov	[bp+var_48], ax
		mov	[bp+var_2], 0
		jmp	short loc_759C
; ---------------------------------------------------------------------------

loc_7573:
					; _RaiseException+295j
		mov	bx, [bp+var_2]
		mov	cl, 2
		shl	bx, cl
		lea	ax, [bp+var_46]
		add	bx, ax
		mov	ax, [bp+var_2]
		mov	cl, 2
		shl	ax, cl
		les	si, [bp+arg_C]
		add	si, ax
		mov	dx, es:[si+2]
		mov	ax, es:[si]
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		inc	[bp+var_2]

loc_759C:
		mov	ax, [bp+var_2]
		xor	dx, dx
		cmp	dx, [bp+arg_A]
		jb	short loc_7573
		jnz	short loc_75AD
		cmp	ax, [bp+arg_8]
		jb	short loc_7573

loc_75AD:
					; _RaiseException+2E0j
		mov	ax, 0FFFFh
		push	ax
		push	ss
		lea	ax, [bp+var_152]
		push	ax
		lea	ax, [bp+var_56]
		push	ax
		push	cs
		call	near ptr sub_723E
		add	sp, 8
		or	ax, ax
		jnz	short loc_75F8
		test	byte ptr [bp+arg_4], 1
		jz	short loc_7618
		mov	[bp+var_54], 0C000h
		mov	[bp+var_56], 25h ; '%'
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	[bp+var_50], dx
		mov	[bp+var_52], ax
		mov	[bp+var_4A], 0
		mov	[bp+var_4C], 0
		mov	[bp+var_4E], 0
		mov	[bp+var_48], 0
		jmp	short loc_75AD
; ---------------------------------------------------------------------------

loc_75F8:
		or	[bp+var_52], 2
		mov	ax, 0FFFFh
		push	ax
		push	ss
		lea	ax, [bp+var_152]
		push	ax
		lea	ax, [bp+var_56]
		push	ax
		push	cs
		call	near ptr sub_723E
		add	sp, 8
		or	ax, ax
		jz	short loc_7618
		jmp	loc_7783
; ---------------------------------------------------------------------------

loc_7618:
					; _RaiseException+2FDj
		cmp	byte ptr word_F2C2, 3
		jnb	short loc_7622
		jmp	loc_7702
; ---------------------------------------------------------------------------

loc_7622:
		mov	cx, [bp+var_8E]
		sub	cx, 30h	; '0'
		mov	es, [bp+var_8A]
		mov	bx, cx
		mov	ax, [bp+var_C6]
		mov	es:[bx], ax
		mov	ax, [bp+var_C2]
		mov	es:[bx+2], ax
		mov	ax, [bp+var_BE]
		mov	es:[bx+4], ax
		mov	ax, [bp+var_BA]
		mov	es:[bx+6], ax
		mov	dx, [bp+var_B4]
		mov	ax, [bp+var_B6]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	dx, [bp+var_B0]
		mov	ax, [bp+var_B2]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	dx, [bp+var_9C]
		mov	ax, [bp+var_9E]
		mov	es:[bx+12h], dx
		mov	es:[bx+10h], ax
		mov	dx, [bp+var_8C]
		mov	ax, [bp+var_8E]
		mov	es:[bx+16h], dx
		mov	es:[bx+14h], ax
		mov	dx, [bp+var_AC]
		mov	ax, [bp+var_AE]
		mov	es:[bx+1Ah], dx
		mov	es:[bx+18h], ax
		mov	dx, [bp+var_A8]
		mov	ax, [bp+var_AA]
		mov	es:[bx+1Eh], dx
		mov	es:[bx+1Ch], ax
		mov	dx, [bp+var_A4]
		mov	ax, [bp+var_A6]
		mov	es:[bx+22h], dx
		mov	es:[bx+20h], ax
		mov	dx, [bp+var_A0]
		mov	ax, [bp+var_A2]
		mov	es:[bx+26h], dx
		mov	es:[bx+24h], ax
		mov	dx, [bp+var_90]
		mov	ax, [bp+var_92]
		mov	es:[bx+2Ah], dx
		mov	es:[bx+28h], ax
		mov	ax, [bp+var_9A]
		mov	es:[bx+2Ch], ax
		mov	ax, [bp+var_96]
		mov	es:[bx+2Eh], ax
		mov	ss, [bp+var_8A]
		mov	sp, bx
		pop	gs
		pop	fs
		pop	es
		pop	ds
		popad
		popfd
		retf
; ---------------------------------------------------------------------------
		jmp	loc_7788
; ---------------------------------------------------------------------------

loc_7702:
		mov	cx, [bp+var_8E]
		sub	cx, 1Ah
		mov	es, [bp+var_8A]
		mov	bx, cx
		mov	ax, [bp+var_BE]
		mov	es:[bx], ax
		mov	ax, [bp+var_BA]
		mov	es:[bx+2], ax
		mov	ax, [bp+var_B6]
		mov	es:[bx+4], ax
		mov	ax, [bp+var_B2]
		mov	es:[bx+6], ax
		mov	ax, [bp+var_9E]
		mov	es:[bx+8], ax
		mov	ax, [bp+var_8E]
		mov	es:[bx+0Ah], ax
		mov	ax, [bp+var_AE]
		mov	es:[bx+0Ch], ax
		mov	ax, [bp+var_AA]
		mov	es:[bx+0Eh], ax
		mov	ax, [bp+var_A6]
		mov	es:[bx+10h], ax
		mov	ax, [bp+var_A2]
		mov	es:[bx+12h], ax
		mov	ax, [bp+var_92]
		mov	es:[bx+14h], ax
		mov	ax, [bp+var_9A]
		mov	es:[bx+16h], ax
		mov	ax, [bp+var_96]
		mov	es:[bx+18h], ax
		mov	ss, [bp+var_8A]
		mov	sp, bx
		pop	es
		pop	ds
		popa
		popf
		retf
; ---------------------------------------------------------------------------
		jmp	short loc_7788
; ---------------------------------------------------------------------------

loc_7783:
		nop
		push	cs
		call	near ptr ___call_terminate
_RaiseException	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR _RaiseException

loc_7788:
					; _RaiseException+46Bj
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retf
; END OF FUNCTION CHUNK	FOR _RaiseException
; ---------------------------------------------------------------------------
		db 4 dup(0), 0F7h, 77h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 95h,	77h
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_77BF	proc near

var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 77ADh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_12], 6
		mov	ax, 1
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_6B30
		add	sp, 0Ch
		mov	[bp+var_12], 0
		jmp	short loc_7801
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_7801:
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_77BF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_780F	proc near
					; sub_7D59+138p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx+38h], 0
		jz	short loc_788A
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+16h], 2
		jz	short loc_7882
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx+4]
		mov	word ptr [bp+var_4+2], es
		mov	word ptr [bp+var_4], bx
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_4]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		mov	ax, word ptr [bp+arg_0]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+arg_0+2]
		push	ax
		call	sub_77BF
		add	sp, 0Ah
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, word ptr [bp+var_8+2]
		mov	cx, word ptr [bp+var_8]
		mov	es, dx
		xchg	ax, bx
		mov	es:[bx+2], ax
		mov	es:[bx], cx

loc_7882:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+38h], 0

loc_788A:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx+39h], 0
		jz	short loc_78E1
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+34h]
		mov	ax, es:[bx+32h]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+2], 2
		jz	short loc_78D9
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_78D9
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	ss
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+36h]
		call	sub_77BF
		add	sp, 0Ah

loc_78D9:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+39h], 0

loc_78E1:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_780F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; _CatchCleanup(void)
@_CatchCleanup$qv proc far
					; sub_6E07+277p ...

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, ss:16h
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+24h]
		mov	[bp+var_6], ax
		mov	bx, [bp+var_6]
		les	ax, ss:[bx+arg_0]
		mov	bx, [bp+var_6]
		add	ax, ss:[bx+arg_6]
		mov	bx, ax
		mov	ax, es:[bx]
		mov	bx, [bp+var_6]
		mov	ss:[bx+arg_6], ax
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_780F
		pop	cx
		pop	cx
		push	ds
		les	bx, [bp+var_4]
		mov	ds, word ptr es:[bx+18h]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		call	dword ptr es:[bx+1Ah]
		pop	cx
		pop	cx
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_CatchCleanup$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7964	proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Ch
		push	si
		push	di

loc_796C:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_7989
		xor	ax, ax
		jmp	loc_7A2A
; ---------------------------------------------------------------------------

loc_7989:
		mov	bx, [bp+arg_A]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		cmp	[bp+arg_4], 0
		jz	short loc_79B5
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_8+2]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax

loc_79B5:
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		or	ax, ax
		jnz	short loc_7A0E
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+2], 2
		jz	short loc_7A23
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		add	ax, es:[bx+0Ah]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_C]
		or	ax, [bp+var_A]
		jz	short loc_7A23
		lea	ax, [bp+var_8]
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		xor	ax, ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		call	sub_7964
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_7A23

loc_7A0E:
		mov	bx, [bp+arg_A]
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		mov	ax, 1
		jmp	short loc_7A2A
; ---------------------------------------------------------------------------

loc_7A23:
		add	word ptr [bp+arg_0], 8
		jmp	loc_796C
; ---------------------------------------------------------------------------

loc_7A2A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7964	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7A30	proc far
					; sub_7AB3+1C2p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_7AA1
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		lea	ax, [bp+arg_0]
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_7964
		add	sp, 0Ch
		or	ax, ax
		jnz	short loc_7AA1
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		lea	ax, [bp+arg_0]
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		mov	ax, 1
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_7964
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_7AA9

loc_7AA1:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		jmp	short loc_7AAD
; ---------------------------------------------------------------------------

loc_7AA9:
		xor	dx, dx
		xor	ax, ax

loc_7AAD:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_7A30	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7AB3	proc near

var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
src		= dword	ptr -0Eh
n		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_6		= dword	ptr  0Ah
arg_A		= dword	ptr  0Eh
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 18h
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+arg_6]
		mov	es:[bx+34h], dx
		mov	es:[bx+32h], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_7AE2
		jmp	loc_7D53
; ---------------------------------------------------------------------------

loc_7AE2:
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+8], 80h
		jz	short loc_7AEF
		jmp	loc_7D53
; ---------------------------------------------------------------------------

loc_7AEF:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		and	ax, 1
		neg	ax
		sbb	ax, ax
		inc	ax
		mov	[bp+var_14], ax
		mov	dx, word ptr [bp+arg_6+2]
		mov	ax, word ptr [bp+arg_6]
		add	ax, 3Ah	; ':'
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+arg_6]
		mov	byte ptr es:[bx+39h], 1
		les	bx, [bp+arg_A]
		mov	ax, es:[bx]
		add	ax, [bp+arg_E]
		les	bx, [bp+arg_6]
		mov	es:[bx+36h], ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	[bp+n],	ax
		les	bx, [bp+var_8]
		mov	cx, es:[bx+2]
		mov	dx, cx
		test	cl, 30h
		jz	short loc_7B63
		les	bx, [bp+var_8]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]

loc_7B63:
		test	cl, 10h
		jz	short loc_7B8B
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+0Ch], 1
		jz	short loc_7B8B
		push	[bp+n]		; n
		xor	ax, ax
		push	ax		; c
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; s
		nop
		push	cs
		call	near ptr _memset
		add	sp, 8
		jmp	loc_7CB6
; ---------------------------------------------------------------------------

loc_7B8B:
		test	dl, 1
		jnz	short loc_7B93
		jmp	loc_7C37
; ---------------------------------------------------------------------------

loc_7B93:
		test	cl, 30h
		jnz	short loc_7B9B
		jmp	loc_7C37
; ---------------------------------------------------------------------------

loc_7B9B:
		test	cl, 20h
		jz	short loc_7BA2
		jmp	short loc_7BC5
; ---------------------------------------------------------------------------

loc_7BA2:
		les	bx, [bp+src]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+15h], 10h
		jz	short loc_7BCC
		mov	ax, word ptr [bp+src]
		mov	word ptr [bp+src+2], ds
		mov	word ptr [bp+src], ax

loc_7BC5:
		mov	[bp+var_14], 1
		jmp	short $+2

loc_7BCC:
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		or	ax, ax
		jnz	short loc_7C2D
		mov	dx, word ptr [bp+src+2]
		mov	ax, word ptr [bp+src]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	cs
		call	near ptr sub_7A30
		add	sp, 0Ch
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		mov	dx, word ptr [bp+src+2]
		mov	ax, word ptr [bp+src]
		cmp	dx, [bp+var_16]
		jnz	short loc_7C28
		cmp	ax, [bp+var_18]
		jz	short loc_7C2D

loc_7C28:
		mov	[bp+var_14], 1

loc_7C2D:
					; sub_7AB3+173j
		push	[bp+n]
		push	ss
		lea	ax, [bp+src]
		jmp	loc_7D01
; ---------------------------------------------------------------------------

loc_7C37:
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+14h], 1
		jz	short loc_7CBD
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		or	ax, ax
		jnz	short loc_7C86
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	cs
		call	near ptr sub_7A30
		add	sp, 0Ch
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		mov	[bp+var_14], 1

loc_7C86:
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 1
		jz	short loc_7D04
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Eh]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ch]
		push	word ptr es:[bx+0Ah]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h]
		call	sub_67E2
		add	sp, 0Eh

loc_7CB6:
					; sub_7AB3+227j
		mov	[bp+var_14], 1
		jmp	short loc_7D1D
; ---------------------------------------------------------------------------

loc_7CBD:
		test	cl, 20h
		jz	short loc_7CDC
		push	[bp+n]		; n
		push	ss
		lea	ax, [bp+src]
		push	ax		; src
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		jmp	short loc_7CB6
; ---------------------------------------------------------------------------

loc_7CDC:
		test	cl, 10h
		jz	short loc_7D04
		les	bx, [bp+arg_6]
		mov	ax, es:[bx+0Eh]
		cmp	ax, [bp+n]
		jz	short loc_7D04
		les	bx, [bp+src]
		mov	ax, es:[bx]
		mov	[bp+var_10], ds
		mov	[bp+var_12], ax
		mov	ax, 4
		push	ax
		push	ss
		lea	ax, [bp+var_12]

loc_7D01:
		push	ax
		jmp	short loc_7D0D
; ---------------------------------------------------------------------------

loc_7D04:
					; sub_7AB3+22Cj ...
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src

loc_7D0D:
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah

loc_7D1D:
		cmp	[bp+var_14], 0
		jnz	short loc_7D53
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_7D4B
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		call	sub_77BF
		add	sp, 0Ah

loc_7D4B:
		les	bx, [bp+arg_6]
		mov	byte ptr es:[bx+38h], 0

loc_7D53:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7AB3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7D59	proc near
					; __Return_unwind+15p ...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= dword	ptr -1Ah
var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_E], 0
		les	bx, ss:16h
		mov	si, [bp+arg_0]
		mov	ax, ss:[si+arg_A]
		mov	es:[bx+6], ax
		mov	[bp+var_C], ax
		les	bx, ss:16h
		mov	si, [bp+arg_0]
		mov	ax, ss:[si+arg_C]
		mov	es:[bx+8], ax
		mov	bx, [bp+arg_0]
		mov	dx, ss:[bx+arg_4]
		mov	ax, ss:[bx+arg_2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx+4]
		mov	[bp+var_A], ax
		mov	bx, [bp+arg_0]
		mov	ax, ss:[bx+arg_8]
		jmp	loc_7EFE
; ---------------------------------------------------------------------------

loc_7DB1:
		mov	ax, [bp+var_6]
		mov	[bp+var_12], ax
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_8], ax
		add	[bp+var_12], 2
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_10], ax
		add	[bp+var_12], 2
		mov	bx, [bp+arg_0]
		mov	ax, [bp+var_8]
		mov	ss:[bx+arg_8], ax
		mov	bx, [bp+var_10]
		cmp	bx, 5
		jbe	short loc_7DEC
		jmp	loc_7EFB
; ---------------------------------------------------------------------------

loc_7DEC:
		add	bx, bx
		jmp	cs:off_7F18[bx]

loc_7DF3:
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	word ptr dword_12646+2,	dx
		mov	word ptr dword_12646, ax
		mov	bx, [bp+arg_0]
		mov	ss:[bx+arg_E], 1
		push	ds
		pop	es
		assume es:dseg
		push	ds
		mov	ds, [bp+var_C]
		push	bp
		mov	bp, [bp+var_A]
		call	es:dword_12646
		pop	bp
		pop	ds
		mov	bx, [bp+arg_0]
		mov	ss:[bx+arg_E], 0
		jmp	loc_7EFB
; ---------------------------------------------------------------------------

loc_7E2E:
		add	[bp+var_12], 4
		mov	dx, ss:18h
		mov	ax, ss:16h
		jmp	short loc_7E5D
; ---------------------------------------------------------------------------

loc_7E3D:
		les	bx, [bp+var_16]
		assume es:nothing
		mov	ax, es:[bx+24h]
		cmp	ax, [bp+arg_0]
		jnz	short loc_7E57
		les	bx, [bp+var_16]
		mov	ax, es:[bx+2Ah]
		cmp	ax, [bp+var_6]
		jnz	short loc_7E57
		jmp	short loc_7E77
; ---------------------------------------------------------------------------

loc_7E57:
		mov	dx, word ptr [bp+var_16+2]
		mov	ax, word ptr [bp+var_16]

loc_7E5D:
		mov	word ptr [bp+var_1A+2],	dx
		mov	word ptr [bp+var_1A], ax
		les	bx, [bp+var_1A]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		or	ax, dx
		jnz	short loc_7E3D

loc_7E77:
		les	bx, [bp+var_16]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+var_1A]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		push	word ptr [bp+var_16+2]
		push	word ptr [bp+var_16]
		call	sub_780F
		pop	cx
		pop	cx
		push	ds
		les	bx, [bp+var_16]
		mov	ds, word ptr es:[bx+18h]
		push	word ptr [bp+var_16+2]
		push	word ptr [bp+var_16]
		les	bx, [bp+var_16]
		call	dword ptr es:[bx+1Ah]
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_7EFB
; ---------------------------------------------------------------------------

loc_7EB0:
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_1C], ax
		add	[bp+var_12], 2
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_1E], ds
		mov	[bp+var_20], ax
		mov	ax, word ptr [bp+var_4+2]
		mov	dx, [bp+var_20]
		mov	[bp+var_1E], ax
		mov	[bp+var_20], dx
		push	[bp+var_A]
		push	[bp+arg_0]
		mov	ax, [bp+var_1C]
		add	ax, [bp+var_E]
		cwd
		push	dx
		push	ax
		push	[bp+var_1E]
		push	[bp+var_20]
		call	sub_892F
		add	sp, 0Ch
		mov	[bp+var_E], ax
		jmp	short $+2

loc_7EFB:
		mov	ax, [bp+var_8]

loc_7EFE:
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0
		jz	short loc_7F12
		mov	ax, [bp+var_6]
		cmp	ax, [bp+arg_2]
		jz	short loc_7F12
		jmp	loc_7DB1
; ---------------------------------------------------------------------------

loc_7F12:
					; sub_7D59+1B4j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7D59	endp

; ---------------------------------------------------------------------------
off_7F18	dw offset loc_7DF3
		dw offset loc_7EFB
		dw offset loc_7EFB
		dw offset loc_7EFB
		dw offset loc_7E2E
		dw offset loc_7EB0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Local_unwind	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		push	[bp+arg_0]
		push	[bp+var_2]
		call	sub_7D59
		pop	cx
		pop	cx
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Local_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Return_unwind	proc far

var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		call	sub_7D59
		pop	cx
		pop	cx
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx]
		mov	ss:14h,	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Return_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7F6E	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, 4
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_7FDC
; ---------------------------------------------------------------------------

loc_7F87:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jz	short loc_7FD0
		xor	ax, ax
		push	ax
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+0Ch]
		push	[bp+var_6]
		push	[bp+var_8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		call	sub_66DD
		add	sp, 10h
		or	ax, ax
		jz	short loc_7FD8

loc_7FD0:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_7FEC
; ---------------------------------------------------------------------------

loc_7FD8:
		add	word ptr [bp+var_4], 10h

loc_7FDC:
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_7F87
		xor	dx, dx
		xor	ax, ax

loc_7FEC:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7F6E	endp

; ---------------------------------------------------------------------------
		db 2 dup(2Ah), 42h, 2 dup(43h),	78h, 68h, 31h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__ExceptionHandler proc	far

var_38		= word ptr -38h
var_36		= word ptr -36h
var_34		= word ptr -34h
var_32		= word ptr -32h
var_30		= word ptr -30h
var_2E		= word ptr -2Eh
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah

		push	bp
		mov	bp, sp
		sub	sp, 38h
		push	si
		push	di
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_4]
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_8]
		mov	ax, [bp+arg_6]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+arg_14]
		mov	ax, ss:[bx+arg_12]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		mov	bx, [bp+var_4]
		mov	dx, ss:[bx+arg_2]
		mov	ax, ss:[bx+arg_0]
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		les	bx, [bp+var_10]
		mov	ax, [bp+var_4]
		sub	ax, es:[bx+4]
		mov	[bp+var_16], ax
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx+arg_4]
		mov	[bp+var_18], ax
		les	bx, ss:16h
		mov	si, [bp+var_4]
		mov	ax, ss:[si+arg_8]
		mov	es:[bx+6], ax
		mov	[bp+var_1A], ax
		les	bx, ss:16h
		mov	si, [bp+var_4]
		mov	ax, ss:[si+arg_A]
		mov	es:[bx+8], ax
		mov	[bp+var_1C], ax
		mov	bx, [bp+var_2]
		test	byte ptr ss:[bx+4], 6
		jnz	short loc_8086
		jmp	loc_812E
; ---------------------------------------------------------------------------

loc_8086:
		xor	ax, ax
		push	ax
		push	[bp+var_4]
		call	sub_7D59
		pop	cx
		pop	cx
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jz	short loc_809F
		jmp	loc_8361
; ---------------------------------------------------------------------------

loc_809F:
		cmp	word ptr ss:[bx], 0FACEh
		jz	short loc_80A9
		jmp	loc_8361
; ---------------------------------------------------------------------------

loc_80A9:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_20+2],	dx
		mov	word ptr [bp+var_20], ax
		mov	ax, word ptr [bp+var_20]
		or	ax, word ptr [bp+var_20+2]
		jnz	short loc_80C4
		jmp	loc_8361
; ---------------------------------------------------------------------------

loc_80C4:
		jmp	short loc_8102
; ---------------------------------------------------------------------------

loc_80C6:
		mov	ax, 1
		push	ax
		les	bx, [bp+var_C]
		push	word ptr es:[bx+0Ch]
		les	bx, [bp+var_20]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		les	bx, [bp+var_C]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		les	bx, [bp+var_C]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		call	sub_66DD
		add	sp, 10h
		or	ax, ax
		jz	short loc_80FE
		jmp	loc_8361
; ---------------------------------------------------------------------------

loc_80FE:
		add	word ptr [bp+var_20], 4

loc_8102:
		les	bx, [bp+var_20]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_80C6
		mov	ax, ss:14h
		mov	word ptr [bp+var_24+2],	ax
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx]
		mov	ss:14h,	ax
		nop
		push	cs
		call	near ptr ___call_unexpected
; ---------------------------------------------------------------------------
		mov	ax, word ptr [bp+var_24+2]
		mov	ss:14h,	ax
		jmp	loc_8361
; ---------------------------------------------------------------------------

loc_812E:
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx+arg_6]
		jmp	loc_8355
; ---------------------------------------------------------------------------

loc_8138:
		mov	ax, [bp+var_12]
		mov	word ptr [bp+var_20], ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	[bp+var_14], ax
		add	word ptr [bp+var_20], 2
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_20+2],	ax
		add	word ptr [bp+var_20], 2
		mov	bx, word ptr [bp+var_20+2]
		cmp	bx, 5
		jbe	short loc_8169
		jmp	loc_8352
; ---------------------------------------------------------------------------

loc_8169:
		add	bx, bx
		jmp	cs:off_836A[bx]

loc_8170:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jz	short loc_817E
		jmp	loc_8352
; ---------------------------------------------------------------------------

loc_817E:
		cmp	word ptr ss:[bx], 0FACEh
		jz	short loc_8188
		jmp	loc_8352
; ---------------------------------------------------------------------------

loc_8188:
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_26], dx
		mov	[bp+var_28], ax
		add	word ptr [bp+var_20], 4
		push	word ptr [bp+var_C+2]
		push	word ptr [bp+var_C]
		push	[bp+var_26]
		push	[bp+var_28]
		call	sub_7F6E
		add	sp, 8
		mov	word ptr [bp+var_24+2],	dx
		mov	word ptr [bp+var_24], ax
		mov	ax, word ptr [bp+var_24]
		or	ax, word ptr [bp+var_24+2]
		jnz	short loc_81C2
		jmp	loc_8352
; ---------------------------------------------------------------------------

loc_81C2:
		les	bx, [bp+var_C]
		mov	ax, [bp+var_4]
		mov	es:[bx+24h], ax
		les	bx, [bp+var_C]
		mov	dx, word ptr [bp+var_24+2]
		mov	ax, word ptr [bp+var_24]
		mov	es:[bx+28h], dx
		mov	es:[bx+26h], ax
		les	bx, [bp+var_C]
		mov	ax, word ptr [bp+var_20]
		mov	es:[bx+2Ah], ax
		mov	ax, [bp+var_12]
		mov	[bp+var_30], ax
		mov	ax, word ptr [bp+var_20]
		mov	[bp+var_2E], ax
		les	bx, [bp+var_24]

loc_81F6:
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_2A], dx
		mov	[bp+var_2C], ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	cs
		call	near ptr __Global_unwind
		pop	cx
		pop	cx
		push	[bp+var_30]
		push	[bp+var_4]
		call	sub_7D59
		pop	cx
		pop	cx
		mov	bx, [bp+var_4]
		mov	ax, [bp+var_2E]
		mov	ss:[bx+arg_6], ax
		cmp	word ptr [bp+var_20+2],	3
		jnz	short loc_8248
		push	[bp+var_16]
		push	[bp+var_26]
		push	[bp+var_28]
		push	word ptr [bp+var_C+2]
		push	word ptr [bp+var_C]
		push	[bp+var_4]
		push	word ptr [bp+var_24+2]
		push	word ptr [bp+var_24]
		call	sub_7AB3
		add	sp, 10h

loc_8248:
		mov	dx, [bp+var_2A]
		mov	ax, [bp+var_2C]
		mov	si, [bp+var_1C]
		mov	ds, [bp+var_1A]
		mov	bx, [bp+var_18]
		mov	cx, [bp+var_16]
		push	cs
		call	near ptr ___JumpToCatch__
		jmp	loc_8352
; ---------------------------------------------------------------------------

loc_8261:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jnz	short loc_8276
		cmp	word ptr ss:[bx], 0FACEh
		jnz	short loc_8276
		jmp	loc_8352
; ---------------------------------------------------------------------------

loc_8276:
					; __ExceptionHandler+277j
		mov	ax, [bp+var_2]
		mov	[bp+var_36], ax
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	[bp+var_32], dx
		mov	[bp+var_34], ax
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_10],	dx
		mov	ss:[bx+arg_E], ax
		lea	ax, [bp+var_36]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_12],	ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr dword_1264A+2,	dx
		mov	word ptr dword_1264A, ax
		mov	ax, ds
		mov	es, ax
		assume es:dseg
		push	si
		mov	si, [bp+var_1C]
		push	ds
		mov	ds, [bp+var_1A]
		push	bp
		mov	bp, [bp+var_16]
		call	es:dword_1264A
		pop	bp
		pop	ds
		pop	si
		mov	[bp+var_38], ax
		jmp	short loc_830D
; ---------------------------------------------------------------------------

loc_82D8:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jnz	short loc_82EC
		cmp	word ptr ss:[bx], 0FACEh
		jnz	short loc_82EC
		jmp	short loc_8352
; ---------------------------------------------------------------------------

loc_82EC:
					; __ExceptionHandler+2EEj
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_10],	dx
		mov	ss:[bx+arg_E], ax
		les	bx, [bp+var_10]
		assume es:nothing
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	[bp+var_38], ax

loc_830D:
		cmp	[bp+var_38], 0
		jge	short loc_832B
		mov	bx, [bp+var_2]
		test	byte ptr ss:[bx+4], 1
		jz	short loc_8327
		mov	bx, [bp+var_4]
		mov	ax, [bp+var_14]
		mov	ss:[bx+arg_6], ax

loc_8327:
		xor	ax, ax
		jmp	short loc_8364
; ---------------------------------------------------------------------------

loc_832B:
		cmp	[bp+var_38], 0
		jnz	short loc_8333
		jmp	short loc_8352
; ---------------------------------------------------------------------------

loc_8333:
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_12],	0
		add	word ptr [bp+var_20], 4
		mov	ax, [bp+var_14]
		mov	[bp+var_2E], ax
		mov	[bp+var_30], ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		jmp	loc_81F6
; ---------------------------------------------------------------------------

loc_8352:
					; __ExceptionHandler+171j ...
		mov	ax, [bp+var_14]

loc_8355:
		mov	[bp+var_12], ax
		cmp	[bp+var_12], 0
		jz	short loc_8361
		jmp	loc_8138
; ---------------------------------------------------------------------------

loc_8361:
					; __ExceptionHandler+ACj ...
		mov	ax, 1

loc_8364:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__ExceptionHandler endp

; ---------------------------------------------------------------------------
off_836A	dw offset loc_8352
		dw offset loc_8261
		dw offset loc_82D8
		dw offset loc_8170
		dw offset loc_8352
		dw offset loc_8352
		db 4 dup(0), 9,	84h
		dw seg seg000
		db 14h dup(0), 19h, 84h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 8Eh,	83h
		dw seg seg000
		db 2 dup(0), 4,	0, 6, 0, 3, 0, 76h, 83h
		dw seg seg000
		db 6, 0, 4, 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_83C4	proc far

var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 83A6h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_12], 6
		mov	[bp+var_12], 12h
		push	[bp+arg_8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+22h]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_6B30
		add	sp, 0Ch
		mov	[bp+var_12], 6
		jmp	short loc_8412
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_8412:
		mov	[bp+var_12], 0
		jmp	short loc_8422
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_8422:
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_83C4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8430	proc far
					; sub_84B1+162p ...

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	cx, [bp+arg_C]
		jmp	short loc_849F
; ---------------------------------------------------------------------------

loc_843D:
		les	bx, [bp+arg_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		cmp	[bp+arg_E], 0
		jz	short loc_8465
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_4+2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_8465:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_849F
		push	[bp+arg_10]
		xor	ax, ax
		push	ax
		xor	ax, ax
		push	ax
		push	cx
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		nop
		push	cs
		call	near ptr sub_84B1
		add	sp, 10h
		xor	cx, cx

loc_849F:
		sub	word ptr [bp+arg_4], 8
		mov	ax, word ptr [bp+arg_4]
		cmp	ax, [bp+arg_8]
		jnb	short loc_843D
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_8430	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_84B1	proc far
					; sub_84B1+25Ep ...

var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= dword	ptr -22h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		sub	sp, 2Ah
		push	si
		push	di
		cmp	[bp+arg_C], 0
		jz	short loc_84C8
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+1Ah]
		jmp	short loc_84CF
; ---------------------------------------------------------------------------

loc_84C8:
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+1Ch]

loc_84CF:
		mov	[bp+var_1A], 0
		mov	[bp+var_1C], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_84F1
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		cmp	dx, [bp+var_1A]
		jb	short loc_850A
		jnz	short loc_84F1
		cmp	ax, [bp+var_1C]
		jb	short loc_850A

loc_84F1:
		push	[bp+arg_C]
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_83C4
		add	sp, 0Ah
		jmp	loc_8776
; ---------------------------------------------------------------------------

loc_850A:
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	[bp+var_1A], dx
		mov	[bp+var_1C], ax
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		cmp	[bp+arg_C], 0
		jz	short loc_85A3

loc_8535:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_1E], dx
		mov	word ptr [bp+var_22+2],	ax
		mov	ax, word ptr [bp+var_22+2]
		or	ax, [bp+var_1E]
		jz	short loc_85A3
		les	bx, [bp+var_22+2]
		test	byte ptr es:[bx+8], 2
		jz	short loc_859D
		les	bx, [bp+var_22+2]
		mov	bx, es:[bx+1Ch]
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		jb	short loc_8596
		jnz	short loc_856C
		cmp	bx, [bp+var_1C]
		jb	short loc_8596

loc_856C:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		push	[bp+var_1C]
		push	[bp+var_A]
		push	[bp+var_C]
		mov	ax, word ptr [bp+var_10]
		add	ax, 8
		push	word ptr [bp+var_10+2]
		push	ax

loc_8586:
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8430
		add	sp, 12h
		jmp	loc_8776
; ---------------------------------------------------------------------------

loc_8596:
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0

loc_859D:
		add	word ptr [bp+var_10], 8
		jmp	short loc_8535
; ---------------------------------------------------------------------------

loc_85A3:
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax

loc_85BC:
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_1E], dx
		mov	word ptr [bp+var_22+2],	ax
		mov	ax, word ptr [bp+var_22+2]
		or	ax, [bp+var_1E]
		jz	short loc_8632
		les	bx, [bp+var_22+2]
		test	byte ptr es:[bx+8], 2
		jz	short loc_862C
		les	bx, [bp+var_22+2]
		mov	bx, es:[bx+1Ch]
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		jb	short loc_8625
		jnz	short loc_85F3
		cmp	bx, [bp+var_1C]
		jb	short loc_8625

loc_85F3:
		push	[bp+arg_E]
		xor	ax, ax
		push	ax
		push	[bp+var_1C]
		push	[bp+var_2]
		push	[bp+var_4]
		mov	ax, word ptr [bp+var_8]
		add	ax, 8
		push	word ptr [bp+var_8+2]
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8430
		add	sp, 12h
		cmp	[bp+arg_C], 0
		jnz	short loc_8622
		jmp	loc_8776
; ---------------------------------------------------------------------------

loc_8622:
		jmp	loc_8756
; ---------------------------------------------------------------------------

loc_8625:
					; sub_84B1+140j
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0

loc_862C:
		add	word ptr [bp+var_8], 8
		jmp	short loc_85BC
; ---------------------------------------------------------------------------

loc_8632:
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+24h]
		mov	word ptr [bp+var_18+2],	dx
		mov	word ptr [bp+var_18], ax
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax

loc_864B:
		les	bx, [bp+var_18]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax
		mov	[bp+var_1E], 1
		les	bx, [bp+var_22]
		test	byte ptr es:[bx+3], 4
		jz	short loc_8685
		les	bx, [bp+var_22]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_1E], ax
		les	bx, [bp+var_22]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax

loc_8685:
		les	bx, [bp+var_22]
		mov	ax, es:[bx+1Ah]
		imul	[bp+var_1E]
		mov	bx, ax
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		ja	short loc_86A9
		jb	short loc_869F
		cmp	bx, [bp+var_1C]
		jnb	short loc_86A9

loc_869F:
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0
		jmp	loc_876F
; ---------------------------------------------------------------------------

loc_86A9:
					; sub_84B1+1ECj ...
		les	bx, [bp+var_18]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	[bp+var_24], dx
		mov	[bp+var_26], ax
		les	bx, [bp+var_18]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_28], dx
		mov	[bp+var_2A], ax
		cmp	[bp+var_1E], 1
		jbe	short loc_86F5
		push	[bp+arg_E]
		push	[bp+var_1A]
		push	[bp+var_1C]
		les	bx, [bp+var_18]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	[bp+var_24]
		push	[bp+var_26]
		nop
		push	cs
		call	near ptr sub_877C
		add	sp, 0Eh
		jmp	short loc_8715
; ---------------------------------------------------------------------------

loc_86F5:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		push	[bp+var_1A]
		push	[bp+var_1C]
		push	[bp+var_28]
		push	[bp+var_2A]
		push	[bp+var_24]
		push	[bp+var_26]
		push	cs
		call	near ptr sub_84B1
		add	sp, 10h

loc_8715:
		mov	[bp+var_1A], 0
		mov	[bp+var_1C], 0
		sub	word ptr [bp+var_18], 6
		mov	ax, word ptr [bp+var_18]
		cmp	ax, [bp+var_14]
		jb	short loc_872E
		jmp	loc_86A9
; ---------------------------------------------------------------------------

loc_872E:
		push	[bp+arg_E]
		xor	ax, ax
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8430
		add	sp, 12h
		cmp	[bp+arg_C], 0
		jz	short loc_8776

loc_8756:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	word ptr [bp+var_10+2]
		push	word ptr [bp+var_10]
		jmp	loc_8586
; ---------------------------------------------------------------------------

loc_876F:
		add	word ptr [bp+var_18], 6
		jmp	loc_864B
; ---------------------------------------------------------------------------

loc_8776:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_84B1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_877C	proc far
					; sub_892F+316p

var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 0Eh
		push	si
		push	di
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_6], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+1Ah]
		mov	[bp+var_8], 0
		mov	[bp+var_A], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jnz	short loc_87D6
		mov	bx, [bp+var_6]
		xor	cx, cx
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		call	N_LXMUL@
		mov	[bp+arg_A], dx
		mov	[bp+arg_8], ax

loc_87D6:
		push	[bp+var_8]
		push	[bp+var_A]
		push	[bp+arg_A]
		push	[bp+arg_8]
		call	near ptr N_LUDIV@
		mov	[bp+var_C], dx
		mov	[bp+var_E], ax
		mov	cx, [bp+var_C]
		mov	bx, [bp+var_E]
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		call	N_LXMUL@
		sub	[bp+arg_8], ax
		sbb	[bp+arg_A], dx
		les	bx, [bp+var_4]
		mov	bx, es:[bx]
		xor	cx, cx
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		call	N_LXMUL@
		mov	dx, [bp+arg_2]
		add	ax, [bp+arg_0]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_8866
		push	[bp+arg_C]
		mov	ax, 1
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		jmp	short loc_8853
; ---------------------------------------------------------------------------

loc_8834:
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		push	[bp+arg_C]
		mov	ax, 1
		push	ax
		push	[bp+var_8]
		push	[bp+var_A]

loc_8853:
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_84B1
		add	sp, 10h

loc_8866:
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_E]
		sub	[bp+var_E], 1
		sbb	[bp+var_C], 0
		or	dx, ax
		jnz	short loc_8834
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_877C	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_887E	proc far
					; sub_892F+2E4p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	cx, [bp+arg_4]
		mov	bx, cx
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+8]
		and	ax, 50h
		cmp	ax, 50h	; 'P'
		jnz	short loc_8923
		les	bx, [bp+var_4]
		cmp	word ptr es:[bx+6], 0FFFFh
		jz	short loc_8923
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+9], 10h
		jz	short loc_88DD
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		jmp	short loc_88E6
; ---------------------------------------------------------------------------

loc_88DD:
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], ds

loc_88E6:
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx-4]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		les	bx, [bp+var_8]
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	bx, cx
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax

loc_8923:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_887E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_892F	proc near

driver		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= dword	ptr -16h
var_12		= dword	ptr -12h
var_E		= word ptr -0Eh
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_16		= word ptr  1Ah
arg_18		= word ptr  1Ch

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_E], 0
		cmp	word ptr [bp+arg_0], 0FFFFh
		jnz	short loc_8945
		jmp	loc_8D32
; ---------------------------------------------------------------------------

loc_8945:
		mov	bx, [bp+arg_8]
		mov	dx, ss:[bx+arg_18]
		mov	ax, ss:[bx+arg_16]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		sub	ax, [bp+var_4]
		sbb	dx, [bp+var_2]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		sub	[bp+var_8], ax
		sbb	[bp+var_6], dx
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+4], 20h
		jz	short loc_899E
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		les	bx, es:[bx+6]
		mov	ax, es:[bx+1Ah]
		mov	[bp+var_6], 0
		mov	[bp+var_8], ax

loc_899E:
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+5], 1
		jz	short loc_89B5
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+1Ch]
		jmp	loc_8D34
; ---------------------------------------------------------------------------

loc_89B5:
		cmp	[bp+var_6], 0
		jg	short loc_89E7
		jnz	short loc_89C3
		cmp	[bp+var_8], 0
		ja	short loc_89E7

loc_89C3:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		and	ax, 3
		cmp	ax, 3
		jz	short loc_89D5
		jmp	loc_8D32
; ---------------------------------------------------------------------------

loc_89D5:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		inc	[bp+var_E]
		jmp	loc_8B4C
; ---------------------------------------------------------------------------

loc_89E7:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax

loc_89F3:
		les	bx, [bp+var_C]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_8A06
		sub	word ptr [bp+var_C], 0Ah
		jmp	loc_8B4C
; ---------------------------------------------------------------------------

loc_8A06:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		mov	[bp+var_18], 1
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 10h
		jnz	short loc_8A2E
		jmp	loc_8AF8
; ---------------------------------------------------------------------------

loc_8A2E:
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 2
		jnz	short loc_8A52
		jmp	loc_8AF8
; ---------------------------------------------------------------------------

loc_8A52:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+8], 20h
		jnz	short loc_8A5F
		jmp	loc_8AF8
; ---------------------------------------------------------------------------

loc_8A5F:
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 8
		jnz	short loc_8A6C
		jmp	loc_8AF8
; ---------------------------------------------------------------------------

loc_8A6C:
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 4
		jz	short loc_8A85
		les	bx, [bp+var_C]
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_A]
		mov	word ptr [bp+var_1C+2],	ss
		jmp	short loc_8A93
; ---------------------------------------------------------------------------

loc_8A85:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_1C+2],	dx

loc_8A93:
		mov	word ptr [bp+var_1C], ax
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	word ptr [bp+driver+2],	dx
		mov	word ptr [bp+driver], ax
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 80h
		jz	short loc_8ABB
		les	bx, [bp+driver]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	dx
		jmp	short loc_8AC4
; ---------------------------------------------------------------------------

loc_8ABB:
		les	bx, [bp+driver]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	ds

loc_8AC4:
		mov	word ptr [bp+var_1C], ax
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 40h
		jz	short loc_8AD5
		add	word ptr [bp+var_1C], 4

loc_8AD5:
		lea	ax, [bp+var_12]
		push	ax
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	cs
		call	near ptr sub_887E
		add	sp, 6
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		mov	dx, word ptr [bp+var_12+2]
		mov	ax, word ptr [bp+var_12]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax

loc_8AF8:
					; sub_892F+120j ...
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_8B1D
		les	bx, [bp+var_16]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_18], ax
		les	bx, [bp+var_16]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax

loc_8B1D:
		les	bx, [bp+var_16]
		mov	ax, es:[bx+1Ah]
		imul	[bp+var_18]
		mov	[bp+var_18], ax
		mov	ax, [bp+var_18]
		xor	dx, dx
		cmp	dx, [bp+var_6]
		jb	short loc_8B3B
		jnz	short loc_8B4C
		cmp	ax, [bp+var_8]
		jnb	short loc_8B4C

loc_8B3B:
		mov	ax, [bp+var_18]
		sub	[bp+var_8], ax
		sbb	[bp+var_6], 0
		add	word ptr [bp+var_C], 0Ah
		jmp	loc_89F3
; ---------------------------------------------------------------------------

loc_8B4C:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_C]
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_16+2],	ax
		test	byte ptr [bp+var_16+2],	4
		jz	short loc_8B7B
		les	bx, [bp+var_C]
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_A]
		mov	word ptr [bp+var_16], ss
		jmp	short loc_8B89
; ---------------------------------------------------------------------------

loc_8B7B:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16], dx

loc_8B89:
		mov	[bp+var_18], ax
		test	byte ptr [bp+var_16+2],	11h
		jnz	short loc_8B95
		jmp	loc_8C1F
; ---------------------------------------------------------------------------

loc_8B95:
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		mov	dx, word ptr [bp+var_16]
		mov	ax, [bp+var_18]
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_8BC7
		les	bx, [bp+var_1C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16], dx
		jmp	short loc_8BD0
; ---------------------------------------------------------------------------

loc_8BC7:
		les	bx, [bp+var_1C]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16], ds

loc_8BD0:
		mov	[bp+var_18], ax
		mov	dx, word ptr [bp+var_16]
		mov	ax, [bp+var_18]
		mov	word ptr [bp+driver+2],	dx
		mov	word ptr [bp+driver], ax
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 48h
		cmp	ax, 40h	; '@'
		jnz	short loc_8BEE
		add	[bp+var_18], 4

loc_8BEE:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 2
		jz	short loc_8C1F
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+8], 20h
		jz	short loc_8C1F
		test	byte ptr [bp+var_16+2],	8
		jz	short loc_8C1F
		lea	ax, [bp+var_12]
		push	ax
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_887E
		add	sp, 6
		mov	word ptr [bp+var_16], dx
		mov	[bp+var_18], ax

loc_8C1F:
					; sub_892F+2C7j ...
		cmp	[bp+var_E], 0
		jnz	short loc_8C6D
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_8C4D
		push	[bp+arg_A]
		push	[bp+var_6]
		push	[bp+var_8]
		push	word ptr [bp+var_12+2]
		push	word ptr [bp+var_12]
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_877C
		add	sp, 0Eh
		jmp	short loc_8C6D
; ---------------------------------------------------------------------------

loc_8C4D:
		push	[bp+arg_A]
		mov	ax, 1
		push	ax
		push	[bp+var_6]
		push	[bp+var_8]
		push	word ptr [bp+var_12+2]
		push	word ptr [bp+var_12]
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_84B1
		add	sp, 10h

loc_8C6D:
					; sub_892F+31Cj
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 3
		cmp	ax, 3
		jz	short loc_8C7B
		jmp	loc_8D19
; ---------------------------------------------------------------------------

loc_8C7B:
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 48h
		cmp	ax, 48h	; 'H'
		jnz	short loc_8C8A
		sub	word ptr [bp+driver], 4

loc_8C8A:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_8CD9
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_12]
		mov	ax, es:[bx+16h]
		or	ax, es:[bx+18h]
		jz	short loc_8CC6
		les	bx, [bp+var_12]
		push	word ptr es:[bx+14h]
		les	bx, [bp+var_12]
		push	word ptr es:[bx+18h]
		push	word ptr es:[bx+16h]
		jmp	short loc_8CF8
; ---------------------------------------------------------------------------

loc_8CC6:
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_8D19
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; font
		nop
		push	cs
		call	near ptr _registerbgifont
		jmp	short loc_8D17
; ---------------------------------------------------------------------------

loc_8CD9:
		les	bx, [bp+var_12]
		mov	ax, es:[bx+0Eh]
		or	ax, es:[bx+10h]
		jz	short loc_8D06
		les	bx, [bp+var_12]
		push	word ptr es:[bx+12h]
		les	bx, [bp+var_12]
		push	word ptr es:[bx+10h]
		push	word ptr es:[bx+0Eh]

loc_8CF8:
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver]
		call	sub_6CE8
		add	sp, 0Ah
		jmp	short loc_8D19
; ---------------------------------------------------------------------------

loc_8D06:
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_8D19
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver

loc_8D17:
		pop	cx
		pop	cx

loc_8D19:
					; sub_892F+39Bj ...
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		mov	ax, word ptr [bp+var_C]
		sub	word ptr [bp+var_C], 0Ah
		cmp	ax, word ptr [bp+arg_0]
		jbe	short loc_8D32
		jmp	loc_8B4C
; ---------------------------------------------------------------------------

loc_8D32:
		xor	ax, ax

loc_8D34:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_892F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__CurrExcContext proc far

s1		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_8D7D
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		add	ax, 0FFF8h
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		mov	ax, 8
		push	ax		; n
		push	ds
		mov	ax, 0DDFh
		push	ax		; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		nop
		push	cs
		call	near ptr _memcmp
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_8D82

loc_8D7D:
		mov	ax, 0FFFFh
		jmp	short loc_8D89
; ---------------------------------------------------------------------------

loc_8D82:
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx+arg_6]

loc_8D89:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__CurrExcContext endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowFileName(void)
@__ThrowFileName$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+18h]
		mov	ax, es:[bx+16h]
		pop	di
		pop	si
		retf
@__ThrowFileName$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowLineNumber(void)
@__ThrowLineNumber$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+1Ah]
		pop	di
		pop	si
		retf
@__ThrowLineNumber$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowExceptionName(void)
@__ThrowExceptionName$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		pop	di
		pop	si
		retf
@__ThrowExceptionName$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far typeinfo__typeinfo(int, int, int, __int32)
@typeinfo@0$bctr$qmx8typeinfo proc far

src		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_8DE5
		mov	ax, 8
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_8E23

loc_8DE5:
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+2], seg	seg000
		mov	word ptr es:[bx], 93C1h
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_2], 0
		mov	[bp+src], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 93A3h
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_8E23:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@typeinfo@0$bctr$qmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator=(typeinfo const &)
@typeinfo@0$basg$qmx8typeinfo proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$basg$qmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far typeinfo___typeinfo(void (*driver)(void), int)
@typeinfo@0$bdtr$qv proc far

driver		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_4]
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_8E6E
		les	bx, [bp+driver]
		mov	word ptr es:[bx+2], seg	seg000
		mov	word ptr es:[bx], 93C1h
		test	dl, 1
		jz	short loc_8E6E
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx

loc_8E6E:
					; typeinfo::~typeinfo(void)+21j
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$bdtr$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator==(typeinfo	const &)const
@typeinfo@0$beql$xqmx8typeinfo proc far

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$beql$xqmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator!=(typeinfo	const &)const
@typeinfo@0$bneq$xqmx8typeinfo proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr @typeinfo@0$beql$xqmx8typeinfo	; typeinfo::operator==(typeinfo	&)
		add	sp, 8
		neg	ax
		sbb	ax, ax
		inc	ax
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$bneq$xqmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::before(typeinfo const &)const
@typeinfo@0before$xqmx8typeinfo	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		or	ax, es:[bx+6]
		jnz	short loc_8ED2
		xor	ax, ax
		jmp	short loc_8F2B
; ---------------------------------------------------------------------------

loc_8ED2:
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+4]
		or	ax, es:[bx+6]
		jnz	short loc_8EE4
		mov	ax, 1
		jmp	short loc_8F2B
; ---------------------------------------------------------------------------

loc_8EE4:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+6]
		mov	word ptr [bp+var_4+2], dx
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		add	ax, es:[bx+4]
		push	dx
		push	ax		; s2
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		add	ax, es:[bx+4]
		push	dx
		push	ax		; s1
		nop
		push	cs
		call	near ptr _strcmp
		add	sp, 8
		or	ax, ax
		jge	short loc_8F29
		mov	ax, 1
		jmp	short loc_8F2B
; ---------------------------------------------------------------------------

loc_8F29:
		xor	ax, ax

loc_8F2B:
					; typeinfo::before(typeinfo &)+29j ...
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@typeinfo@0before$xqmx8typeinfo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::name(void)const
@typeinfo@0name$xqv proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	cs
		call	near ptr sub_62BF
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0name$xqv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far __GetTypeInfo(int, int, int, int, int, __int32, int, int, int, int)
@__GetTypeInfo$qnvt1t1t1 proc far

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_8F8D
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ds
		mov	ax, 411Eh
		push	ax		; src
		push	cs		; int
		mov	ax, 938Dh
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_8F8D:
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_4+2]
		mov	ax, [bp+arg_4]
		sub	ax, es:[bx-2]
		mov	[bp+arg_4+2], dx
		mov	[bp+arg_4], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+var_8]
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetTypeInfo$qnvt1t1t1 endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8FCE	proc near
					; sub_8FCE+1C4p ...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= dword	ptr -14h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h
arg_10		= word ptr  14h
arg_12		= word ptr  16h
arg_14		= word ptr  18h
arg_16		= word ptr  1Ah
arg_18		= word ptr  1Ch
arg_1A		= word ptr  1Eh
arg_1C		= word ptr  20h
arg_1E		= word ptr  22h

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_8], 0
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0
		mov	[bp+var_E], 0
		mov	ax, [bp+arg_14]
		or	ax, [bp+arg_16]
		jz	short loc_9009
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		or	ax, ax
		jnz	short loc_9013

loc_9009:
		les	bx, [bp+arg_4]
		test	byte ptr es:[bx+8], 4
		jnz	short loc_901A

loc_9013:
		xor	dx, dx
		xor	ax, ax
		jmp	loc_920E
; ---------------------------------------------------------------------------

loc_901A:
		mov	[bp+var_6], 0
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]

loc_902C:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_9032:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		mov	ax, word ptr [bp+var_1C]
		or	ax, word ptr [bp+var_1C+2]
		jnz	short loc_904D
		jmp	loc_91D6
; ---------------------------------------------------------------------------

loc_904D:
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 8
		jz	short loc_905A
		jmp	loc_91CF
; ---------------------------------------------------------------------------

loc_905A:
		cmp	[bp+arg_1A], 0
		jz	short loc_9074
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_9074
		mov	ax, 1
		jmp	short loc_9076
; ---------------------------------------------------------------------------

loc_9074:
		xor	ax, ax

loc_9076:
		mov	[bp+var_10], ax
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	dx, [bp+arg_1E]
		mov	ax, [bp+arg_1C]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 4
		jz	short loc_90BD
		les	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_14+2]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax

loc_90BD:
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		or	ax, ax
		jnz	short loc_913F
		les	bx, [bp+var_1C]
		test	byte ptr es:[bx+8], 4
		jnz	short loc_90E1
		jmp	loc_91CF
; ---------------------------------------------------------------------------

loc_90E1:
		push	[bp+var_16]
		push	[bp+var_18]
		push	[bp+var_10]
		push	[bp+arg_18]
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		call	sub_8FCE
		add	sp, 20h
		mov	[bp+var_1E], dx
		mov	[bp+var_20], ax
		mov	ax, [bp+var_20]
		or	ax, [bp+var_1E]
		jnz	short loc_9128
		jmp	loc_91CF
; ---------------------------------------------------------------------------

loc_9128:
		mov	dx, [bp+var_1E]
		mov	ax, [bp+var_20]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	bx, [bp+arg_18]
		mov	ax, ss:[bx]
		mov	[bp+var_10], ax
		jmp	short loc_919C
; ---------------------------------------------------------------------------

loc_913F:
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_9160
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		cmp	dx, word ptr [bp+var_14+2]
		jnz	short loc_91CF
		cmp	ax, word ptr [bp+var_14]
		jnz	short loc_91CF
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		jmp	loc_920E
; ---------------------------------------------------------------------------

loc_9160:
		mov	ax, [bp+arg_10]
		or	ax, [bp+arg_12]
		jz	short loc_919C
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+arg_18]
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		call	sub_8FCE
		add	sp, 20h
		or	ax, dx
		jz	short loc_91CF

loc_919C:
					; sub_8FCE+198j
		cmp	[bp+var_E], 0
		jz	short loc_91BA
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		cmp	dx, [bp+var_A]
		jnz	short loc_91BA
		cmp	ax, [bp+var_C]
		jnz	short loc_91BA
		mov	ax, [bp+var_10]
		or	[bp+var_8], ax
		jmp	short loc_91CF
; ---------------------------------------------------------------------------

loc_91BA:
					; sub_8FCE+1DDj ...
		inc	[bp+var_E]
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_10]
		mov	[bp+var_8], ax

loc_91CF:
					; sub_8FCE+110j ...
		add	word ptr [bp+var_4], 8
		jmp	loc_9032
; ---------------------------------------------------------------------------

loc_91D6:
		cmp	[bp+var_6], 0
		jnz	short loc_91EF
		inc	[bp+var_6]
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		jmp	loc_902C
; ---------------------------------------------------------------------------

loc_91EF:
		mov	bx, [bp+arg_18]
		mov	ax, [bp+var_8]
		mov	ss:[bx], ax
		cmp	[bp+var_E], 1
		jz	short loc_9208
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0

loc_9208:
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]

loc_920E:
					; sub_8FCE+18Fj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_8FCE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far __DynamicCast(int, int, int, int, int, __int32, int, int, int, int, int)
@__DynamicCast$qnvt1t1t1i proc far

var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		sub	sp, 16h
		push	si
		push	di
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_923F
		jmp	loc_9343
; ---------------------------------------------------------------------------

loc_923F:
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx-4]
		mov	[bp+var_E], dx
		mov	[bp+var_10], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_4+2]
		mov	ax, [bp+arg_4]
		sub	ax, es:[bx-2]
		mov	[bp+arg_4+2], dx
		mov	[bp+arg_4], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+arg_C]
		or	ax, [bp+arg_E]
		jz	short loc_9295
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_6]
		push	[bp+var_8]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		or	ax, ax
		jz	short loc_929E

loc_9295:
		mov	dx, [bp+var_E]
		mov	ax, [bp+var_10]
		jmp	loc_9373
; ---------------------------------------------------------------------------

loc_929E:
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_2]
		push	[bp+var_4]
		push	cs
		call	near ptr sub_62E4
		add	sp, 8
		or	ax, ax
		jnz	short loc_92F7
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 1
		push	ax
		lea	ax, [bp+var_16]
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	[bp+var_6]
		push	[bp+var_8]
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_E]
		push	[bp+var_10]
		call	sub_8FCE
		add	sp, 20h
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_14]
		or	ax, [bp+var_12]
		jnz	short loc_933B

loc_92F7:
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 1
		push	ax
		lea	ax, [bp+var_16]
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_6]
		push	[bp+var_8]
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_E]
		push	[bp+var_10]
		call	sub_8FCE
		add	sp, 20h
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_14]
		or	ax, [bp+var_12]
		jz	short loc_9343
		cmp	[bp+var_16], 0
		jz	short loc_9343

loc_933B:
		mov	dx, [bp+var_12]
		mov	ax, [bp+var_14]
		jmp	short loc_9373
; ---------------------------------------------------------------------------

loc_9343:
					; __DynamicCast(void *,void *,void *,void *,int)+11Fj ...
		cmp	[bp+arg_10], 0
		jz	short loc_936F
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ds
		mov	ax, 411Fh
		push	ax		; src
		push	cs		; int
		mov	ax, 9379h
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_936F:
		xor	dx, dx
		xor	ax, ax

loc_9373:
					; __DynamicCast(void *,void *,void *,void *,int)+12Dj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__DynamicCast$qnvt1t1t1i endp

; ---------------------------------------------------------------------------
		db 1, 0, 1, 0, 0Ah, 0, 2 dup(0FFh), 2 dup(0), 42h, 61h
		db 64h,	5Fh, 63h, 61h, 73h, 74h, 2 dup(0), 1, 0, 1, 0
		db 0Ah,	0, 2 dup(0FFh),	2 dup(0), 42h, 61h, 64h, 5Fh, 74h
		db 79h,	70h, 65h, 69h, 64h, 2 dup(0), 4, 0, 10h, 20h, 0Ah
		db 0, 0C5h, 93h
		dw seg seg000
aTypeinfo	db 'typeinfo *',0
		db 0, 0C5h, 93h
		dw seg seg000
		db 4 dup(0), 3Eh, 8Eh
		dw seg seg000
		db 8			; Method
		db 0
		db 3			; Destructor/SafeFunction
		db 0
		db 26h,	3 dup(0), 73h, 10h, 30h, 0, 34h, 0Dh dup(0), 1
		db 0, 1, 0, 3Eh, 8Eh
		dw seg seg000
		db 5, 0, 38h, 0, 74h, 79h, 70h,	65h, 69h, 6Eh, 66h, 6Fh
		db 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __stdcall	_DOSCMD(int, int, char *s, int,	int)
__DOSCMD	proc near

dest		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
s		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Eh
		push	si
		push	di
		mov	[bp+var_2], 3
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jz	short loc_942A
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_2], ax

loc_942A:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_9454
; ---------------------------------------------------------------------------

loc_9438:
		les	bx, [bp+var_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_2], ax
		add	word ptr [bp+var_6], 4

loc_9454:
		les	bx, [bp+var_6]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_9438
		push	[bp+var_2]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		or	ax, dx
		jnz	short loc_947A
		xor	dx, dx
		xor	ax, ax
		jmp	loc_9530
; ---------------------------------------------------------------------------

loc_947A:
		mov	dx, word ptr [bp+var_A+2]
		mov	ax, word ptr [bp+var_A]
		inc	ax
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jz	short loc_94BD
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]

loc_94BD:
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_950B
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_94FF
; ---------------------------------------------------------------------------

loc_94D3:
		les	bx, [bp+var_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]
		add	word ptr [bp+var_6], 4

loc_94FF:
		les	bx, [bp+var_6]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_94D3

loc_950B:
		les	bx, [bp+dest]
		mov	byte ptr es:[bx-1], 0Dh
		mov	byte ptr es:[bx], 0
		mov	ax, word ptr [bp+dest]
		xor	dx, dx
		sub	ax, word ptr [bp+var_A]
		sbb	dx, 0
		add	al, 0FEh ; '˛'
		les	bx, [bp+var_A]
		mov	es:[bx], al
		mov	dx, word ptr [bp+var_A+2]
		mov	ax, word ptr [bp+var_A]

loc_9530:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Ch
__DOSCMD	endp

include libs/BorlandC/exec.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int execl(char *path,	char *arg0, ...)
_execl		proc far

s		= dword	ptr  6
_arg0		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ss		; int
		lea	ax, [bp+_arg0]
		push	ax		; int
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		mov	ax, 969Fh
		push	ax		; int
		call	sub_9DFF
		add	sp, 10h
		pop	di
		pop	si
		pop	bp
		retf
_execl		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl setblock(unsigned	int __psp, unsigned int newsize)
_setblock	proc far

___psp		= word ptr  6
newsize		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ah, 4Ah	; 'J'
		mov	bx, [bp+newsize]
		mov	es, [bp+___psp]
		int	21h		; DOS -	2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
					; ES = segment address of block	to change
					; BX = new size	in paragraphs
		jb	short loc_9916
		mov	ax, 0FFFFh
		jmp	short loc_991C
; ---------------------------------------------------------------------------

loc_9916:
		push	bx
		push	ax
		call	__IOERROR
		pop	ax

loc_991C:
		pop	di
		pop	si
		pop	bp
		retf
_setblock	endp

include libs/BorlandC/setenvp.asm

unknown_libname_2:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_D94B
		db 4 dup(0), 7Dh, 99h
		dw seg seg000
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_99D2
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_99D0
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_99D4
; ---------------------------------------------------------------------------

loc_99D0:
		jmp	short loc_99D4
; ---------------------------------------------------------------------------

loc_99D2:
		xor	ax, ax

loc_99D4:
					; seg000:loc_99D0j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_3:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_DAF3
		dd byte_DAA5
		db 4 dup(0), 0BEh, 1
		dw seg seg003
		db 87h,	20h, 0FCh, 0FFh, 6 dup(0), 0DDh, 99h
		dw seg seg000
		db 0DEh, 0FFh, 2 dup(0), 5, 3 dup(0), 2	dup(0FFh), 6, 0
		db 5, 3	dup(0),	0E9h, 99h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9A54
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9A52
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9A56
; ---------------------------------------------------------------------------

loc_9A52:
		jmp	short loc_9A56
; ---------------------------------------------------------------------------

loc_9A54:
		xor	ax, ax

loc_9A56:
					; seg000:loc_9A52j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9AA1
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9A9F
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9AA3
; ---------------------------------------------------------------------------

loc_9A9F:
		jmp	short loc_9AA3
; ---------------------------------------------------------------------------

loc_9AA1:
		xor	ax, ax

loc_9AA3:
					; seg000:loc_9A9Fj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_4:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
unk_9AAC	db    0
		db    0
		db    0
		db    0
		dd unk_9AAC
		db 0E2h, 0FFh, 6, 0Ch
		dw seg seg003
		db 4 dup(0), 0CCh, 0Bh
		dw seg seg003
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 6, 0Ch
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 94h, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 0B6h,	9Ah
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 0BEh, 9Ah, 6, 0
		db 5, 0, 1, 0, 0D6h, 9Ah, 6, 0Ch
		dw seg seg003
		db 4 dup(0), 0CCh, 0Bh
		dw seg seg003
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 6, 0Ch
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 94h, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 0FAh,	9Ah
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 2, 9Bh, 6, 0, 5
		db 0, 1, 0, 1Ah, 9Bh, 6, 0Ch
		dw seg seg003
		db 4 dup(0), 0CCh, 0Bh
		dw seg seg003
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 6, 0Ch
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 94h, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 3Eh, 9Bh
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 46h, 9Bh,	6, 0, 5
		db 0, 1, 0, 5Eh, 9Bh, 4	dup(0),	82h, 9Bh
		dw seg seg000
byte_9B8A	db 0E2h, 0FFh, 52h, 0Bh
		dw seg seg003
		dd byte_E4D6
		dd 0
		dd byte_9B8A+2
		db 0E2h, 0FFh, 4 dup(0), 9Eh, 9Bh
		dw seg seg000
		db 0E2h, 0FFh, 52h, 0Bh
		dw seg seg003
		dd byte_E3D4
		db 4 dup(0), 0A8h, 9Bh
		dw seg seg000
		db 0E2h, 0FFh, 4 dup(0), 0BAh, 9Bh
		dw seg seg000
byte_9BC2	db 0E2h, 0FFh, 52h, 0Bh
		dw seg seg003
		dd byte_E3D4
		dd 0
		dd byte_9BC2+2
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9C52
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9C50
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9C54
; ---------------------------------------------------------------------------

loc_9C50:
		jmp	short loc_9C54
; ---------------------------------------------------------------------------

loc_9C52:
		xor	ax, ax

loc_9C54:
					; seg000:loc_9C50j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9C9F
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9C9D
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9CA1
; ---------------------------------------------------------------------------

loc_9C9D:
		jmp	short loc_9CA1
; ---------------------------------------------------------------------------

loc_9C9F:
		xor	ax, ax

loc_9CA1:
					; seg000:loc_9C9Dj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9CEC
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9CEA
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9CEE
; ---------------------------------------------------------------------------

loc_9CEA:
		jmp	short loc_9CEE
; ---------------------------------------------------------------------------

loc_9CEC:
		xor	ax, ax

loc_9CEE:
					; seg000:loc_9CEAj
		pop	di
		pop	si
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9CF2	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_9D63
; ---------------------------------------------------------------------------

loc_9D08:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		push	ax
		nop
		push	cs
		call	near ptr sub_4DFB
		pop	cx
		or	ax, ax
		jz	short loc_9D27
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_9D60
		jmp	short loc_9D6C
; ---------------------------------------------------------------------------

loc_9D27:
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_9D46
; ---------------------------------------------------------------------------

loc_9D35:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		les	bx, [bp+var_8]
		cmp	al, es:[bx]
		jz	short loc_9D4F
		inc	word ptr [bp+var_8]

loc_9D46:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_9D35

loc_9D4F:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_9D60
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_9D70
; ---------------------------------------------------------------------------

loc_9D60:
		inc	word ptr [bp+var_4]

loc_9D63:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_9D08

loc_9D6C:
		xor	dx, dx
		xor	ax, ax

loc_9D70:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_9CF2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_9D76(int, int, char *pathname, char *src, int)
sub_9D76	proc far

dest		= byte ptr -50h
arg_0		= word ptr  6
arg_2		= word ptr  8
pathname	= dword	ptr  0Ah
src		= dword	ptr  0Eh
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 50h
		push	si
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 10h
		cmp	[bp+arg_C], 0
		jz	short loc_9DCA
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		push	ds
		mov	ax, 0E52h
		push	ax		; varname
		push	ss
		lea	ax, [bp+dest]
		push	ax		; file
		nop
		push	cs
		call	near ptr __searchenv
		add	sp, 0Ch
		les	bx, [bp+pathname]
		cmp	byte ptr es:[bx], 0
		jz	short loc_9DF7
		jmp	short loc_9DF2
; ---------------------------------------------------------------------------

loc_9DCA:
		push	ss
		lea	ax, [bp+dest]
		push	ax		; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	ax, 4
		push	ax		; char
		push	ss
		lea	ax, [bp+dest]
		push	ax		; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		or	ax, ax
		jnz	short loc_9DF7

loc_9DF2:
		mov	ax, 1
		jmp	short loc_9DF9
; ---------------------------------------------------------------------------

loc_9DF7:
		xor	ax, ax

loc_9DF9:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_9D76	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_9DFF(int, char *s, int, int, int, int, int)
sub_9DFF	proc near

pathname	= word ptr -9Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= dword	ptr -14h
s1		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
s		= dword	ptr  6
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 9Ch
		push	si
		push	di
		les	bx, [bp+s]
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		cmp	ax, 61h	; 'a'
		jb	short loc_9E19
		sub	dx, 20h	; ' '

loc_9E19:
		cmp	dx, 41h	; 'A'
		jb	short loc_9E2D
		cmp	dx, 5Ah	; 'Z'
		ja	short loc_9E2D
		les	bx, [bp+s]
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jz	short loc_9E43

loc_9E2D:
		push	ds
		mov	ax, 0E57h
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		push	cs
		call	near ptr sub_9CF2
		add	sp, 8
		or	ax, dx
		jz	short loc_9E48

loc_9E43:
		mov	[bp+arg_E], 0

loc_9E48:
		mov	[bp+var_1A], 0
		mov	ax, 2Eh	; '.'
		push	ax		; char
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr strrchr
		add	sp, 6
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		or	ax, dx
		jz	short loc_9EA7
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 0E5Ah
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_9D76
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_9E8E
		jmp	loc_9F12
; ---------------------------------------------------------------------------

loc_9E8E:
		push	ds
		mov	ax, 0E5Bh
		push	ax		; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		nop
		push	cs
		call	near ptr _stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_9F12
		jmp	short loc_9F0D
; ---------------------------------------------------------------------------

loc_9EA7:
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 0E60h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_9D76
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_9F12
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 0E65h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_9D76
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_9F12
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 0E6Ah
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_9D76
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jz	short loc_9F12

loc_9F0D:
		mov	[bp+var_1A], 1

loc_9F12:
		cmp	[bp+var_18], 0
		jz	short loc_9F34
		cmp	[bp+var_1A], 0
		jz	short loc_9F3D
		push	ds
		mov	ax, 0E6Fh
		push	ax		; name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jnz	short loc_9F3D

loc_9F34:
		mov	_errno, 2
		jmp	loc_A003
; ---------------------------------------------------------------------------

loc_9F3D:
					; sub_9DFF+133j
		cmp	[bp+var_1A], 0
		jz	short loc_9F56
		push	[bp+var_2]
		push	[bp+var_4]
		push	ds
		mov	ax, 0E77h
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		jmp	short loc_9F6A
; ---------------------------------------------------------------------------

loc_9F56:
		push	ss		; int
		lea	ax, [bp+pathname]
		push	ax		; int
		xor	ax, ax
		push	ax
		push	ax		; s
		mov	ax, [bp+arg_6]
		add	ax, 4
		push	[bp+arg_8]	; int
		push	ax		; int

loc_9F6A:
		call	__DOSCMD
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jnz	short loc_9F84
		mov	_errno, 8
		; Hack (jmp loc_A003)
		db 0e9h, 07fh, 000h
; ---------------------------------------------------------------------------

loc_9F84:
		mov	ax, [bp+var_8]
		inc	ax
		push	[bp+var_6]
		push	ax		; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		cmp	ax, 80h	; 'Ä'
		jb	short loc_9FAD
		mov	_errno, 14h
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	short loc_A003
; ---------------------------------------------------------------------------

loc_9FAD:
		mov	ax, [bp+arg_A]
		or	ax, [bp+arg_C]
		jnz	short loc_9FC2
		mov	dx, word ptr environ@+2
		mov	ax, word ptr environ@
		mov	[bp+arg_C], dx
		mov	[bp+arg_A], ax

loc_9FC2:
		push	[bp+arg_C]	; int
		push	[bp+arg_A]	; int
		cmp	[bp+var_1A], 0
		jz	short loc_9FD6
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		jmp	short loc_9FDC
; ---------------------------------------------------------------------------

loc_9FD6:
		mov	dx, ss
		lea	ax, [bp+pathname]

loc_9FDC:
		push	dx
		push	ax		; s
		push	ss
		lea	ax, [bp+var_14]
		push	ax		; __int32
		call	__DOSENV
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		or	ax, dx
		jnz	short loc_A008
		mov	_errno, 8
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_A003:
					; sub_9DFF+182j ...
		mov	ax, 0FFFFh
		jmp	short loc_A053
; ---------------------------------------------------------------------------

loc_A008:
		call	_exitbuf
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_6]
		push	[bp+var_8]
		cmp	[bp+var_1A], 0
		jz	short loc_A026
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		jmp	short loc_A02C
; ---------------------------------------------------------------------------

loc_A026:
		mov	dx, ss
		lea	ax, [bp+pathname]

loc_A02C:
		push	dx
		push	ax
		call	[bp+arg_0]
		add	sp, 0Ch
		mov	[bp+var_16], ax
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		nop
		push	cs
		call	near ptr _farfree
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 8
		mov	ax, [bp+var_16]

loc_A053:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_9DFF	endp

seg000		ends

; ===========================================================================

; Segment type:	Pure code
seg001		segment	byte public 'CODE' use16
		assume cs:seg001
		;org 9
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A059	proc near

var_A		= byte ptr -0Ah
var_4		= word ptr -4

		enter	0Ah, 0
		push	si
		push	ds
		push	offset aMiko_cfg ; "MIKO.CFG"
		call	sub_A88
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	0Ah
		call	sub_9D4
		call	sub_968
		mov	si, [bp+var_4]
		mov	word ptr dword_F3CE+2, si
		mov	word ptr dword_F3CE, 0
		mov	ax, si
		pop	si
		leave
		retn
sub_A059	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_A08A(char *arg0)
sub_A08A	proc near

_arg0		= dword	ptr  4

		push	bp
		mov	bp, sp
		call	sub_D8CE
		call	sub_126E
		call	text_clear
		call	sub_F12
		call	sub_D3F4
		push	large 0
		push	large [bp+_arg0]	; arg0
		push	large [bp+_arg0]	; path
		call	_execl
		add	sp, 0Ch
		pop	bp
		retn	4
sub_A08A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A0BD	proc near
		push	bp
		mov	bp, sp
		les	bx, dword_F3CE
		mov	al, es:[bx+12h]
		les	bx, off_E5C0
		mov	es:[bx+3], al
		les	bx, dword_F3CE
		mov	al, es:[bx+19h]
		add	al, 30h	; '0'
		les	bx, off_E5C0
		mov	es:[bx+4], al
		les	bx, dword_F3CE
		mov	al, es:[bx+25h]
		les	bx, off_E5C0
		mov	es:[bx+5], al
		push	word ptr off_E5C0+2
		push	bx
		call	sub_A292
		call	sub_ADFC
		call	sub_A2D1
		pop	bp
		retn
sub_A0BD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl main(int argc, const char	**argv,	const char **envp)
_main		proc far

var_4		= dword	ptr -4
_argc		= word ptr  6
_argv		= dword	ptr  8
_envp		= dword	ptr  0Ch

		enter	4, 0
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 0A8h ; '®'
		call	sub_A059
		or	ax, ax
		jz	locret_A290
		les	bx, dword_F3CE
		mov	al, es:[bx+12h]
		les	bx, [bp+var_4]
		mov	es:[bx+4], al
		mov	word_10070, 5208h
		push	ds
		push	offset aMSzlEd_dat ; "å∂ëzãΩed.dat"
		call	sub_D43C
		call	sub_EEE
		push	ds
		push	offset aGameft_bft ; "GAMEFT.bft"
		call	sub_F2E
		les	bx, dword_F3CE
		mov	al, es:[bx+10h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+18h]
		mov	ah, 0
		push	ax
		call	sub_CFAA
		call	graph_show
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+30h], 0FEh ; '˛'
		jb	loc_A1FE
		call	sub_A0BD
		call	sub_B44D
		call	sub_C0F8
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+30h], 0FFh
		jz	short loc_A187
		cmp	byte ptr es:[bx+0Fh], 0
		jnz	short loc_A1E9

loc_A187:
		les	bx, [bp+var_4]
		mov	al, es:[bx+5]
		les	bx, dword_F3CE
		add	al, es:[bx+0Fh]
		les	bx, [bp+var_4]
		mov	es:[bx+5], al
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	word ptr [bp+var_4+2]
		push	bx
		call	sub_CD65
		push	0
		call	sub_CCB8
		push	large 0
		push	0
		call	sub_CCDD
		push	ds
		push	offset unk_FCEA
		push	large [dword_FCD2]
		call	graph_pi_free
		push	0
		call	sub_11C2
		push	1
		call	palette_black_in
		push	0
		call	sub_CE7A
		push	4
		call	palette_black_out

loc_A1E9:
		push	204h
		call	sub_CF8C
		push	64h ; 'd'
		call	sub_CCA3
		call	sub_C814
		jmp	loc_A281
; ---------------------------------------------------------------------------

loc_A1FE:
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+30h], 0FDh ; '˝'
		jnz	short loc_A274
		push	64h ; 'd'
		call	sub_CCA3
		call	sub_C814
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx+5], 34h	; '4'
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	large [bp+var_4]
		call	sub_CD65
		push	0
		call	sub_CCB8
		push	large 0
		push	0
		call	sub_CCDD
		push	ds
		push	offset unk_FCEA
		push	large [dword_FCD2]
		call	graph_pi_free
		push	0
		call	sub_11C2
		push	1
		call	palette_black_in
		push	0
		call	sub_CE7A
		push	4
		call	palette_black_out
		jmp	short loc_A27E
; ---------------------------------------------------------------------------

loc_A274:
		push	64h ; 'd'
		call	sub_CCA3
		call	sub_C814

loc_A27E:
		call	sub_C0F8

loc_A281:
		push	204h
		call	sub_CF8C
		push	ds
		push	offset arg0	; "op"
		call	sub_A08A

locret_A290:
		leave
		retf
_main		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A292	proc near

var_2		= word ptr -2
arg_0		= dword	ptr  4

		enter	2, 0
		call	sub_A2D1
		push	large [bp+arg_0]
		call	sub_A88
		or	ax, ax
		jnz	short loc_A2AD
		mov	ax, 1
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_A2AD:
		call	sub_B06
		mov	[bp+var_2], ax
		mov	word_12478, 1F48h
		push	ds
		push	word_12478
		push	ax
		call	sub_9D4
		call	sub_968
		xor	ax, ax
		leave
		retn	4
sub_A292	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A2D1	proc near
		push	bp
		mov	bp, sp
		pop	bp
		retn
sub_A2D1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A2D6	proc near
		push	bp
		mov	bp, sp
		call	egc_on
		mov	ax, 0FFF0h
		mov	dx, 4A0h
		out	dx, ax
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0FFFFh
		mov	dx, 4A8h
		out	dx, ax
		mov	ax, 0
		mov	dx, 4ACh
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		pop	bp
		retn
sub_A2D6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A30A	proc near
					; sub_A847+4B5p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		push	di
		mov	ax, [bp+arg_2]
		sar	ax, 3
		mov	dx, [bp+arg_0]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+arg_0]
		shl	dx, 4
		add	ax, dx
		mov	si, ax
		call	sub_A2D6
		xor	di, di
		jmp	short loc_A368
; ---------------------------------------------------------------------------

loc_A32F:
		mov	[bp+var_2], 0
		jmp	short loc_A35E
; ---------------------------------------------------------------------------

loc_A336:
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		les	bx, dword_FC3C
		add	bx, si
		mov	ax, es:[bx]
		mov	[bp+var_4], ax
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	bx, word ptr dword_FC3C
		add	bx, si
		mov	ax, [bp+var_4]
		mov	es:[bx], ax
		add	[bp+var_2], 2
		add	si, 2

loc_A35E:
		cmp	[bp+var_2], 28h	; '('
		jl	short loc_A336
		inc	di
		add	si, 28h	; '('

loc_A368:
		cmp	di, 0C8h ; '»'
		jl	short loc_A32F
		call	egc_off
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		pop	di
		pop	si
		leave
		retn	4
sub_A30A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A37F	proc near

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	8, 0
		push	si
		push	di
		mov	eax, dword_FCD2
		mov	[bp+var_8], eax
		cmp	[bp+arg_2], 1
		jnz	short loc_A39A
		add	word ptr [bp+var_8], 0A0h ; '†'
		jmp	short loc_A3B2
; ---------------------------------------------------------------------------

loc_A39A:
		cmp	[bp+arg_2], 2
		jnz	short loc_A3A7
		add	word ptr [bp+var_8], 0FA00h
		jmp	short loc_A3B2
; ---------------------------------------------------------------------------

loc_A3A7:
		cmp	[bp+arg_2], 3
		jnz	short loc_A3B2
		add	word ptr [bp+var_8], 0FAA0h

loc_A3B2:
		mov	eax, [bp+var_8]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_8]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_8]
		and	dx, 0Fh
		mov	word ptr [bp+var_8+2], ax
		mov	word ptr [bp+var_8], dx
		mov	dx, 0A4h ; '§'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	ax, [bp+arg_6]
		sar	ax, 3
		mov	dx, [bp+arg_4]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+arg_4]
		shl	dx, 4
		add	ax, dx
		mov	si, ax
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		xor	di, di
		jmp	loc_A491
; ---------------------------------------------------------------------------

loc_A3F7:
		push	large 190h
		push	large [bp+var_8]
		push	140h
		call	sub_35F2
		call	sub_A2D6
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		mov	bx, [bp+arg_0]
		shl	bx, 3
		mov	ax, di
		and	ax, 3
		add	ax, ax
		add	bx, ax
		mov	ax, [bx+60Ch]
		mov	dx, 4A8h
		out	dx, ax
		mov	[bp+var_4], 7D00h
		mov	[bp+var_2], 0
		jmp	short loc_A461
; ---------------------------------------------------------------------------

loc_A444:
		les	bx, dword_FC3C
		add	bx, [bp+var_4]
		mov	ax, es:[bx]
		mov	bx, word ptr dword_FC3C
		add	bx, si
		mov	es:[bx], ax
		inc	[bp+var_2]
		add	si, 2
		add	[bp+var_4], 2

loc_A461:
		cmp	[bp+var_2], 14h
		jl	short loc_A444
		call	egc_off
		add	si, 28h	; '('
		add	word ptr [bp+var_8], 140h
		mov	eax, [bp+var_8]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_8]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_8]
		and	dx, 0Fh
		mov	word ptr [bp+var_8+2], ax
		mov	word ptr [bp+var_8], dx
		inc	di

loc_A491:
		cmp	di, 0C8h ; '»'
		jl	loc_A3F7
		mov	dx, 0A4h ; '§'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	sub_A30A
		pop	di
		pop	si
		leave
		retn	8
sub_A37F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A4AE	proc near
					; sub_ADFC+29p

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	8, 0
		push	si
		push	di
		call	sub_A57F
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	3C00h
		call	hmem_allocbyte
		mov	word ptr dword_1247A+2,	ax
		mov	word ptr dword_1247A, 0
		xor	si, si
		mov	di, 140h
		mov	[bp+var_4], 0
		jmp	loc_A573
; ---------------------------------------------------------------------------

loc_A4DB:
		mov	[bp+var_2], 50h	; 'P'
		mov	[bp+var_6], 0
		jmp	loc_A567
; ---------------------------------------------------------------------------

loc_A4E8:
		mov	ax, [bp+var_2]
		sar	ax, 3
		mov	dx, di
		shl	dx, 6
		add	ax, dx
		mov	dx, di
		shl	dx, 4
		add	ax, dx
		mov	[bp+var_8], ax
		les	bx, dword_FC3C
		add	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, si
		add	dx, dx
		les	bx, dword_1247A
		add	bx, dx
		mov	es:[bx], ax
		inc	si
		les	bx, dword_FC40
		add	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, si
		add	dx, dx
		les	bx, dword_1247A
		add	bx, dx
		mov	es:[bx], ax
		inc	si
		les	bx, dword_FC44
		add	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, si
		add	dx, dx
		les	bx, dword_1247A
		add	bx, dx
		mov	es:[bx], ax
		inc	si
		les	bx, dword_FC48
		add	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, si
		add	dx, dx
		les	bx, dword_1247A
		add	bx, dx
		mov	es:[bx], ax
		inc	si
		add	[bp+var_6], 2
		add	[bp+var_2], 10h

loc_A567:
		cmp	[bp+var_6], 3Ch	; '<'
		jl	loc_A4E8
		inc	[bp+var_4]
		inc	di

loc_A573:
		cmp	[bp+var_4], 40h	; '@'
		jl	loc_A4DB
		pop	di
		pop	si
		leave
		retn
sub_A4AE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A57F	proc near
		push	bp
		mov	bp, sp
		cmp	dword_1247A, 0
		jz	short loc_A59C
		push	word ptr dword_1247A+2
		call	hmem_free
		mov	dword_1247A, 0

loc_A59C:
		pop	bp
		retn
sub_A57F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A59E	proc near

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	6, 0
		push	si
		push	di
		xor	cx, cx
		mov	si, 140h
		mov	[bp+var_4], 0
		jmp	loc_A641
; ---------------------------------------------------------------------------

loc_A5B1:
		mov	[bp+var_2], 50h	; 'P'
		mov	[bp+var_6], 0
		jmp	short loc_A637
; ---------------------------------------------------------------------------

loc_A5BD:
		mov	ax, [bp+var_2]
		sar	ax, 3
		mov	dx, si
		shl	dx, 6
		add	ax, dx
		mov	dx, si
		shl	dx, 4
		add	ax, dx
		mov	di, ax
		mov	ax, cx
		add	ax, ax
		les	bx, dword_1247A
		add	bx, ax
		mov	ax, es:[bx]
		les	bx, dword_FC3C
		add	bx, di
		mov	es:[bx], ax
		inc	cx
		mov	ax, cx
		add	ax, ax
		les	bx, dword_1247A
		add	bx, ax
		mov	ax, es:[bx]
		les	bx, dword_FC40
		add	bx, di
		mov	es:[bx], ax
		inc	cx
		mov	ax, cx
		add	ax, ax
		les	bx, dword_1247A
		add	bx, ax
		mov	ax, es:[bx]
		les	bx, dword_FC44
		add	bx, di
		mov	es:[bx], ax
		inc	cx
		mov	ax, cx
		add	ax, ax
		les	bx, dword_1247A
		add	bx, ax
		mov	ax, es:[bx]
		les	bx, dword_FC48
		add	bx, di
		mov	es:[bx], ax
		inc	cx
		add	[bp+var_6], 2
		add	[bp+var_2], 10h

loc_A637:
		cmp	[bp+var_6], 3Ch	; '<'
		jl	short loc_A5BD
		inc	[bp+var_4]
		inc	si

loc_A641:
		cmp	[bp+var_4], 40h	; '@'
		jl	loc_A5B1
		pop	di
		pop	si
		leave
		retn
sub_A59E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A64D	proc near

var_2		= byte ptr -2
var_1		= byte ptr -1
arg_0		= dword	ptr  4

		enter	2, 0
		mov	bx, word_12478
		mov	cl, [bx]
		inc	word_12478
		mov	bx, word_12478
		mov	al, [bx]
		mov	[bp+var_1], al
		inc	word_12478
		mov	bx, word_12478
		mov	al, [bx]
		mov	[bp+var_2], al
		inc	word_12478
		mov	al, cl
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0B69h], 2
		jnz	short loc_A694
		les	bx, [bp+arg_0]
		mov	ax, word_124C4
		mov	es:[bx], ax
		sub	word_12478, 3
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_A694:
		mov	al, [bp+var_1]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0B69h], 2
		jnz	short loc_A6B8
		mov	al, cl
		mov	ah, 0
		add	ax, 0FFD0h
		les	bx, [bp+arg_0]
		mov	es:[bx], ax
		sub	word_12478, 2
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_A6B8:
		mov	al, [bp+var_2]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0B69h], 2
		jnz	short loc_A6E8
		mov	al, cl
		mov	ah, 0
		add	ax, 0FFD0h
		imul	ax, 0Ah
		mov	dl, [bp+var_1]
		mov	dh, 0
		add	ax, dx
		add	ax, 0FFD0h
		les	bx, [bp+arg_0]
		mov	es:[bx], ax
		dec	word_12478
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_A6E8:
		mov	al, cl
		mov	ah, 0
		add	ax, 0FFD0h
		imul	ax, 64h
		mov	dl, [bp+var_1]
		mov	dh, 0
		add	dx, 0FFD0h
		imul	dx, 0Ah
		add	ax, dx
		mov	dl, [bp+var_2]
		mov	dh, 0
		add	ax, dx
		add	ax, 0FFD0h
		les	bx, [bp+arg_0]
		mov	es:[bx], ax
		leave
		retn	4
sub_A64D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A713	proc near
					; sub_A847+464p

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		mov	bx, word_12478
		cmp	byte ptr [bx], 2Ch ; ','
		jnz	short loc_A72E
		inc	word_12478
		push	large [bp+arg_0]
		call	sub_A64D
		pop	bp
		retn	4
; ---------------------------------------------------------------------------

loc_A72E:
		les	bx, [bp+arg_0]
		mov	ax, word_124C4
		mov	es:[bx], ax
		pop	bp
		retn	4
sub_A713	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A73B	proc near
					; sub_ADFC+C6p
		push	bp
		mov	bp, sp
		add	word_124BC, 10h
		cmp	word_124BC, 230h
		jl	short loc_A78D
		add	word_124BE, 10h
		mov	word_124BC, 90h	; 'ê'
		cmp	word_124BE, 180h
		jl	short loc_A78D
		call	sub_A815
		cmp	byte_1247E, 0
		jnz	short loc_A76F
		push	0
		call	sub_CE7A

loc_A76F:
		mov	word_124BC, 50h	; 'P'
		mov	word_124BE, 140h
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_A59E
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_A59E

loc_A78D:
		pop	bp
		retn
sub_A73B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A78F	proc near

var_2		= word ptr -2
arg_0		= word ptr  4

		enter	2, 0
		push	si
		push	di
		mov	cx, 140h
		jmp	short loc_A809
; ---------------------------------------------------------------------------

loc_A79A:
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		mov	bx, [bp+arg_0]
		shl	bx, 3
		mov	ax, cx
		and	ax, 3
		add	ax, ax
		add	bx, ax
		mov	ax, [bx+62Ch]
		mov	dx, 4A8h
		out	dx, ax
		mov	ax, cx
		shl	ax, 6
		mov	dx, cx
		shl	dx, 4
		add	ax, dx
		add	ax, 0Ah
		mov	si, ax
		xor	di, di
		jmp	short loc_A802
; ---------------------------------------------------------------------------

loc_A7DB:
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		les	bx, dword_FC3C
		add	bx, si
		mov	ax, es:[bx]
		mov	[bp+var_2], ax
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	bx, word ptr dword_FC3C
		add	bx, si
		mov	ax, [bp+var_2]
		mov	es:[bx], ax
		add	di, 10h
		add	si, 2

loc_A802:
		cmp	di, 1E0h
		jl	short loc_A7DB
		inc	cx

loc_A809:
		cmp	cx, 180h
		jl	short loc_A79A
		pop	di
		pop	si
		leave
		retn	2
sub_A78F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A815	proc near
		push	bp
		mov	bp, sp
		push	si
		call	sub_A2D6
		cmp	byte_1247E, 0
		jnz	short loc_A83A
		xor	si, si
		jmp	short loc_A835
; ---------------------------------------------------------------------------

loc_A827:
		push	si
		call	sub_A78F
		push	word_124C0
		call	sub_CCA3
		inc	si

loc_A835:
		cmp	si, 4
		jl	short loc_A827

loc_A83A:
		push	4
		call	sub_A78F
		call	egc_off
		pop	si
		pop	bp
		retn
sub_A815	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A847	proc near

var_16		= byte ptr -16h
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  4

		enter	16h, 0
		push	si
		mov	al, [bp+arg_0]
		mov	ah, 0
		push	ax		; ch
		call	_tolower
		pop	cx
		mov	[bp+arg_0], al
		mov	ah, 0
		mov	[bp+var_6], ax
		mov	cx, 10h		; switch 16 cases
		mov	bx, offset word_ADBC

loc_A866:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_6]
		jz	short loc_A876
		add	bx, 2
		loop	loc_A866
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_A876:
		jmp	word ptr cs:[bx+20h] ; switch jump

loc_A87A:
		add	word_124BE, 10h	; jumptable 0000A876 case 110
		mov	word_124BC, 50h	; 'P'
		cmp	word_124BE, 180h
		jl	loc_ADB5	; default

loc_A88F:
		mov	bx, word_12478	; jumptable 0000A876 case 115
		mov	al, [bx]
		mov	[bp+arg_0], al
		call	sub_A815
		cmp	[bp+arg_0], 2Dh	; '-'
		jz	short loc_A8C0
		mov	word_124C4, 0
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		cmp	byte_1247E, 0
		jnz	short loc_A8C4
		push	[bp+var_2]
		call	sub_CE7A
		jmp	short loc_A8C4
; ---------------------------------------------------------------------------

loc_A8C0:
		inc	word_12478

loc_A8C4:
		mov	word_124BC, 50h	; 'P'
		mov	word_124BE, 140h
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_A59E
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_A59E
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_A8E5:
		mov	word_124C4, 0Fh	; jumptable 0000A876 case 99
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		mov	al, byte ptr [bp+var_2]
		mov	byte_124C2, al
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_A8FC:
		mov	word_124C4, 2	; jumptable 0000A876 case 98
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		mov	ax, [bp+var_2]
		mov	word_EB2C, ax
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_A913:
		mov	bx, word_12478	; jumptable 0000A876 case 119
		mov	al, [bx]
		mov	ah, 0
		push	ax		; ch
		call	_tolower
		pop	cx
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 6Fh	; 'o'
		jz	short loc_A931
		cmp	[bp+arg_0], 69h	; 'i'
		jnz	short loc_A95F

loc_A931:
		inc	word_12478
		mov	word_124C4, 1
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		cmp	[bp+arg_0], 69h	; 'i'
		jnz	short loc_A954
		push	[bp+var_2]
		call	palette_white_in
		jmp	loc_AD2B
; ---------------------------------------------------------------------------

loc_A954:
		push	[bp+var_2]
		call	palette_white_out
		jmp	loc_AD2B
; ---------------------------------------------------------------------------

loc_A95F:
		call	sub_A815
		mov	word_124C4, 40h	; '@'
		cmp	[bp+arg_0], 6Dh	; 'm'
		jz	short loc_A994
		cmp	[bp+arg_0], 6Bh	; 'k'
		jnz	short loc_A978
		inc	word_12478

loc_A978:
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		cmp	byte_1247E, 0
		jnz	loc_ADB5	; default
		push	[bp+var_2]
		call	sub_CCA3
		jmp	loc_AD2B
; ---------------------------------------------------------------------------

loc_A994:
		inc	word_12478
		mov	bx, word_12478
		mov	al, [bx]
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 6Bh	; 'k'
		jnz	short loc_A9AB
		inc	word_12478

loc_A9AB:
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		push	ss
		lea	ax, [bp+var_4]
		push	ax
		call	sub_A713
		cmp	byte_1247E, 0
		jnz	loc_ADB5	; default
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_D046
		jmp	loc_ACFF
; ---------------------------------------------------------------------------

loc_A9D2:
		mov	bx, word_12478	; jumptable 0000A876 case 118
		cmp	byte ptr [bx], 70h ; 'p'
		jz	short loc_A9F2
		mov	word_124C4, 1
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		mov	ax, [bp+var_2]
		mov	word_124C0, ax
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_A9F2:
		inc	word_12478
		mov	word_124C4, 0
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		mov	dx, 0A4h ; '§'
		mov	al, byte ptr [bp+var_2]
		out	dx, al		; Interrupt Controller #2, 8259A
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_AA0E:
		mov	word_124C4, 64h	; 'd' ; jumptable 0000A876 case 116
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		cmp	byte_1247E, 0
		jnz	short loc_AA2A
		push	1
		call	sub_CCA3

loc_AA2A:
		mov	ax, [bp+var_2]
		mov	PaletteTone, ax
		call	far ptr	palette_show
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_AA38:
		mov	bx, word_12478	; jumptable 0000A876 case 102
		mov	al, [bx]
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 6Dh	; 'm'
		jz	short loc_AA83
		cmp	[bp+arg_0], 69h	; 'i'
		jz	short loc_AA55
		cmp	[bp+arg_0], 6Fh	; 'o'
		jnz	loc_ADB5	; default

loc_AA55:
		inc	word_12478
		mov	word_124C4, 1
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		cmp	[bp+arg_0], 69h	; 'i'
		jnz	short loc_AA78
		push	[bp+var_2]
		call	palette_black_in
		jmp	loc_AD2B
; ---------------------------------------------------------------------------

loc_AA78:
		push	[bp+var_2]
		call	palette_black_out
		jmp	loc_AD2B
; ---------------------------------------------------------------------------

loc_AA83:
		inc	word_12478
		mov	word_124C4, 1
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		mov	ax, [bp+var_2]
		add	ax, 200h
		push	ax
		jmp	loc_AD26
; ---------------------------------------------------------------------------

loc_AA9F:
		mov	bx, word_12478	; jumptable 0000A876 case 103
		cmp	byte ptr [bx], 61h ; 'a'
		jz	short loc_AAF2
		mov	word_124C4, 8
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		mov	[bp+var_4], 0
		jmp	short loc_AAE0
; ---------------------------------------------------------------------------

loc_AABD:
		test	byte ptr [bp+var_4], 1
		jz	short loc_AAC7
		push	4
		jmp	short loc_AACA
; ---------------------------------------------------------------------------

loc_AAC7:
		push	18Ch

loc_AACA:
		call	sub_1988
		cmp	byte_1247E, 0
		jnz	short loc_AADD
		push	1
		call	sub_CCA3

loc_AADD:
		inc	[bp+var_4]

loc_AAE0:
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_2]
		jle	short loc_AABD
		push	0
		call	sub_1988
		jmp	loc_AD2B
; ---------------------------------------------------------------------------

loc_AAF2:
		inc	word_12478
		mov	word_124C4, 0
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	word_124BC
		push	word_124BE
		push	[bp+var_2]
		mov	al, byte_124C2
		mov	ah, 0
		push	ax
		call	sub_3760
		call	sub_A73B
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_AB26:
		mov	word_124C4, 0	; jumptable 0000A876 case 107
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		cmp	byte_1247E, 0
		jnz	loc_ADB5	; default
		push	[bp+var_2]
		call	sub_CE7A
		jmp	loc_AD2B
; ---------------------------------------------------------------------------

loc_AB48:
		mov	dx, 0A6h ; '¶'  ; jumptable 0000A876 case 64
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_AB61:
		mov	bx, word_12478	; jumptable 0000A876 case 112
		mov	al, [bx]
		mov	[bp+arg_0], al
		inc	word_12478
		cmp	[bp+arg_0], 3Dh	; '='
		jz	short loc_AB7A
		cmp	[bp+arg_0], 40h	; '@'
		jnz	short loc_ABAA

loc_AB7A:
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		cmp	[bp+arg_0], 3Dh	; '='
		jnz	short loc_AB8D
		push	0
		call	sub_CCB8

loc_AB8D:
		push	large 0
		push	0
		call	sub_CCDD
		push	0
		call	sub_11C2
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_A4AE
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_ABAA:
		cmp	[bp+arg_0], 2Dh	; '-'
		jnz	short loc_ABC1
		push	ds
		push	offset unk_FCEA
		push	large [dword_FCD2]
		call	graph_pi_free
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_ABC1:
		cmp	[bp+arg_0], 70h	; 'p'
		jnz	short loc_ABD1
		push	0
		call	sub_CCB8
		jmp	loc_AD2B
; ---------------------------------------------------------------------------

loc_ABD1:
		cmp	[bp+arg_0], 2Ch	; ','
		jz	short loc_ABDE
		dec	word_12478
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_ABDE:
		mov	[bp+var_2], 0
		jmp	short loc_AC12
; ---------------------------------------------------------------------------

loc_ABE5:
		mov	bx, word_12478
		mov	al, [bx]
		mov	[bp+arg_0], al
		inc	word_12478
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0B69h], 20h
		jnz	short loc_AC18
		cmp	[bp+arg_0], 20h	; ' '
		jz	short loc_AC18
		lea	bx, [bp+var_16]
		add	bx, [bp+var_2]
		mov	al, [bp+arg_0]
		mov	ss:[bx], al
		inc	[bp+var_2]

loc_AC12:
		cmp	[bp+var_2], 0Ch
		jl	short loc_ABE5

loc_AC18:
					; sub_A847+3BAj
		lea	bx, [bp+var_16]
		add	bx, [bp+var_2]
		mov	byte ptr ss:[bx], 0
		push	ds
		push	offset unk_FCEA
		push	large [dword_FCD2]
		call	graph_pi_free
		push	0
		push	ss
		lea	ax, [bp+var_16]
		push	ax
		call	sub_CD65
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_AC3F:
		mov	word_124C4, 4	; jumptable 0000A876 case 61
		mov	bx, word_12478
		mov	al, [bx]
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 3Dh	; '='
		jz	short loc_AC94
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		mov	dx, 0A4h ; '§'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		cmp	[bp+var_2], 4
		jge	short loc_AC70
		jmp	short loc_ACE0
; ---------------------------------------------------------------------------

loc_AC70:
		push	large 0C00000h
		call	sub_C82
		push	large 140040h
		push	large 3B0107h
		call	sub_BEA
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		jmp	short loc_ACF0
; ---------------------------------------------------------------------------

loc_AC94:
		inc	word_12478
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		mov	word_124C4, 1
		push	ss
		lea	ax, [bp+var_4]
		push	ax
		call	sub_A713
		xor	si, si
		jmp	short loc_ACCF
; ---------------------------------------------------------------------------

loc_ACB2:
		push	large 0A00040h
		push	[bp+var_2]
		push	si
		call	sub_A37F
		cmp	byte_1247E, 0
		jnz	short loc_ACCE
		push	[bp+var_4]
		call	sub_CCA3

loc_ACCE:
		inc	si

loc_ACCF:
		cmp	si, 4
		jl	short loc_ACB2
		mov	dx, 0A4h ; '§'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A

loc_ACE0:
		push	large 0A00040h
		push	0
		push	[bp+var_2]
		call	sub_CDAB

loc_ACF0:
		mov	dx, 0A4h ; '§'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 0A00040h
		call	sub_A30A

loc_ACFF:
		jmp	loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_AD02:
		mov	bx, word_12478	; jumptable 0000A876 case 109
		mov	al, [bx]
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 24h	; '$'
		jnz	short loc_AD1A
		inc	word_12478
		push	100h
		jmp	short loc_AD26
; ---------------------------------------------------------------------------

loc_AD1A:
		cmp	[bp+arg_0], 2Ah	; '*'
		jnz	short loc_AD2E
		inc	word_12478

loc_AD24:
		push	0

loc_AD26:
					; sub_A847+4D1j
		call	sub_CF8C

loc_AD2B:
					; sub_A847+115j ...
		; Hack
		db 0e9h
		db 087h
		db 000h
; ---------------------------------------------------------------------------

loc_AD2E:
		cmp	[bp+arg_0], 2Ch	; ','
		; Hack
		db 00fh
		db 085h
		db 07fh
		db 000h
		inc	word_12478
		mov	[bp+var_2], 0
		jmp	short loc_AD6E
; ---------------------------------------------------------------------------

loc_AD41:
		mov	bx, word_12478
		mov	al, [bx]
		mov	[bp+arg_0], al
		inc	word_12478
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0B69h], 20h
		jnz	short loc_AD74
		cmp	[bp+arg_0], 20h	; ' '
		jz	short loc_AD74
		lea	bx, [bp+var_16]
		add	bx, [bp+var_2]
		mov	al, [bp+arg_0]
		mov	ss:[bx], al
		inc	[bp+var_2]

loc_AD6E:
		cmp	[bp+var_2], 0Ch
		jl	short loc_AD41

loc_AD74:
					; sub_A847+516j
		lea	bx, [bp+var_16]
		add	bx, [bp+var_2]
		mov	byte ptr ss:[bx], 0
		push	100h
		call	sub_CF8C
		push	ss
		lea	ax, [bp+var_16]
		push	ax
		push	600h
		call	sub_D112
		jmp	short loc_AD24
; ---------------------------------------------------------------------------

loc_AD95:
		push	ss		; jumptable 0000A876 case 101
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A64D
		call	sub_D594
		push	[bp+var_2]
		call	sub_D5A0
		call	sub_D5DA
		jmp	short loc_ADB5	; default
; ---------------------------------------------------------------------------

loc_ADB1:
		mov	al, 0FFh	; jumptable 0000A876 case 36
		jmp	short loc_ADB7
; ---------------------------------------------------------------------------

loc_ADB5:
		mov	al, 0		; default

loc_ADB7:
		pop	si
		leave
		retn	2
sub_A847	endp

; ---------------------------------------------------------------------------
word_ADBC	dw    24h,   3Dh,   40h,   62h
		dw    63h,   65h,   66h,   67h ; value table for switch	statement
		dw    6Bh,   6Dh,   6Eh,   70h
		dw    73h,   74h,   76h,   77h
		dw offset loc_ADB1	; jump table for switch	statement
		dw offset loc_AC3F
		dw offset loc_AB48
		dw offset loc_A8FC
		dw offset loc_A8E5
		dw offset loc_AD95
		dw offset loc_AA38
		dw offset loc_AA9F
		dw offset loc_AB26
		dw offset loc_AD02
		dw offset loc_A87A
		dw offset loc_AB61
		dw offset loc_A88F
		dw offset loc_AA0E
		dw offset loc_A9D2
		dw offset loc_A913

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_ADFC	proc near

var_6		= dword	ptr -6
var_1		= byte ptr -1

		enter	6, 0
		mov	word ptr [bp+var_6+2], ds
		mov	word ptr [bp+var_6], 654h
		mov	word_124BC, 50h	; 'P'
		mov	word_124BE, 140h
		mov	word_124C0, 1
		mov	byte_124C2, 0Fh
		mov	word_EB2C, 2
		call	sub_A4AE
		mov	byte_1247E, 0

loc_AE2D:
		call	far ptr	sub_D48A
		test	byte ptr word_10072+1, 10h
		jz	short loc_AE40
		mov	byte_1247E, 1
		jmp	short loc_AE45
; ---------------------------------------------------------------------------

loc_AE40:
		mov	byte_1247E, 0

loc_AE45:
		mov	bx, word_12478
		mov	al, [bx]
		mov	[bp+var_1], al
		inc	word_12478
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0B69h], 20h
		jnz	short loc_AE2D
		cmp	[bp+var_1], 20h	; ' '
		jz	short loc_AE2D
		cmp	[bp+var_1], 5Ch	; '\'
		jnz	short loc_AE82
		mov	bx, word_12478
		mov	al, [bx]
		mov	[bp+var_1], al
		inc	word_12478
		push	word ptr [bp+var_1]
		call	sub_A847
		cmp	al, 0FFh
		jnz	short loc_AE2D
		jmp	short loc_AEC8
; ---------------------------------------------------------------------------

loc_AE82:
		les	bx, [bp+var_6]
		mov	al, [bp+var_1]
		mov	es:[bx], al
		mov	bx, word_12478
		mov	al, [bx]
		mov	[bp+var_1], al
		mov	bx, word ptr [bp+var_6]
		mov	es:[bx+1], al
		inc	word_12478
		mov	dx, 0A4h ; '§'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	word_124BC
		push	word_124BE
		mov	al, byte_124C2
		mov	ah, 0
		push	ax
		push	word ptr [bp+var_6+2]
		push	bx
		call	far ptr	loc_D1FC
		call	sub_A73B
		jmp	loc_AE2D
; ---------------------------------------------------------------------------

loc_AEC8:
		call	sub_A59E
		call	sub_A57F
		leave
		retn
sub_ADFC	endp

; ---------------------------------------------------------------------------
		enter	2, 0
		push	si
		push	di
		mov	si, [bp+4]
		or	si, si
		jnz	short loc_AEF1
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		mov	al, byte_124C6
		mov	ah, 0
		push	ax
		call	far ptr	loc_D356
		jmp	loc_B027
; ---------------------------------------------------------------------------

loc_AEF1:
		push	large 0C0000Fh
		call	sub_C82
		mov	bx, 4
		mov	ax, si
		cwd
		idiv	bx
		mov	si, ax
		push	word ptr [bp+8]
		push	ax
		mov	al, byte_124C7
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+1F4h]
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		push	si
		mov	al, byte_124C7
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+174h]
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	0
		call	far ptr	loc_D078
		mov	al, byte_124C7
		add	al, 40h	; '@'
		mov	byte_124C7, al
		push	word ptr [bp+8]
		push	si
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+1F4h]
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		push	si
		mov	al, byte_124C7
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+174h]
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	1
		call	far ptr	loc_D078
		mov	al, byte_124C7
		add	al, 40h	; '@'
		mov	byte_124C7, al
		push	word ptr [bp+8]
		push	si
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+1F4h]
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		push	si
		mov	al, byte_124C7
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+174h]
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	2
		call	far ptr	loc_D078
		mov	al, byte_124C7
		add	al, 40h	; '@'
		mov	byte_124C7, al
		push	word ptr [bp+8]
		push	si
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+1F4h]
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		push	si
		mov	al, byte_124C7
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+174h]
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	3
		call	far ptr	loc_D078
		mov	al, byte_124C7
		add	al, 40h	; '@'
		mov	byte_124C7, al
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al

loc_B027:
		pop	di
		pop	si
		leave
		retn	6
; ---------------------------------------------------------------------------
		enter	2, 0
		push	si
		push	di
		mov	si, [bp+4]
		or	si, si
		jnz	short loc_B04E
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		mov	al, byte_124C6
		mov	ah, 0
		push	ax
		call	far ptr	loc_D356
		jmp	loc_B13E
; ---------------------------------------------------------------------------

loc_B04E:
		push	large 0C0000Fh
		call	sub_C82
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	si, ax
		push	word ptr [bp+8]
		cwd
		sub	ax, dx
		sar	ax, 1
		push	ax
		push	word_E7E4
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		push	ax
		push	word_E764
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	0
		call	far ptr	loc_D078
		push	word ptr [bp+8]
		push	si
		push	word_E7A4
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		push	si
		push	word_E724
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	1
		call	far ptr	loc_D078
		push	word ptr [bp+8]
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		push	ax
		push	word_E8E4
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		push	ax
		push	word_E864
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	2
		call	far ptr	loc_D078
		push	word ptr [bp+8]
		push	si
		push	word_E8A4
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		push	si
		push	word_E824
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	3
		call	far ptr	loc_D078
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al

loc_B13E:
		pop	di
		pop	si
		leave
		retn	6
; ---------------------------------------------------------------------------
		enter	2, 0
		push	si
		push	di
		mov	si, [bp+4]
		or	si, si
		jnz	short loc_B165
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		mov	al, byte_124C6
		mov	ah, 0
		push	ax
		call	far ptr	loc_D356
		jmp	loc_B255
; ---------------------------------------------------------------------------

loc_B165:
		push	large 0C0000Fh
		call	sub_C82
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	si, ax
		push	word ptr [bp+8]
		cwd
		sub	ax, dx
		sar	ax, 1
		push	ax
		push	word_E724
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		push	ax
		push	word_E6A4
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	0
		call	far ptr	loc_D078
		push	word ptr [bp+8]
		push	si
		push	word_E724
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		push	si
		push	word_E6A4
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	1
		call	far ptr	loc_D078
		push	word ptr [bp+8]
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		push	ax
		push	word_E824
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		push	ax
		push	word_E7A4
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	2
		call	far ptr	loc_D078
		push	word ptr [bp+8]
		push	si
		push	word_E824
		call	sub_CED0
		mov	di, ax
		push	word ptr [bp+6]
		push	si
		push	word_E7A4
		call	sub_CED0
		mov	[bp-2],	ax
		push	di
		push	ax
		mov	al, byte_124C6
		mov	ah, 0
		inc	ax
		push	ax
		push	3
		call	far ptr	loc_D078
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al

loc_B255:
		pop	di
		pop	si
		leave
		retn	6

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B25B	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	si, ax
		mov	ax, [bp+arg_8]
		sub	ax, si
		push	ax
		mov	ax, [bp+arg_6]
		sub	ax, si
		push	ax
		mov	ax, si
		add	ax, ax
		add	ax, [bp+arg_4]
		push	ax
		mov	ax, si
		add	ax, ax
		add	ax, [bp+arg_2]
		push	ax
		call	far ptr	loc_D6F6
		pop	si
		pop	bp
		retn	0Ah
sub_B25B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B291	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	di, [bp+arg_2]
		mov	si, 3Fh	; '?'
		mov	[bp+var_2], 0
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '§'
		mov	al, 1
		jmp	short loc_B30B
; ---------------------------------------------------------------------------

loc_B2AF:
		push	di
		push	[bp+arg_0]
		mov	al, byte_124C6
		mov	ah, 0
		shl	ax, 4
		mov	bx, ax
		push	word ptr [bx+1B48h]
		mov	al, byte_124C6
		mov	ah, 0
		shl	ax, 4
		mov	bx, ax
		push	word ptr [bx+1B4Ah]
		lea	ax, [si+1]
		push	ax
		call	sub_B25B
		dec	si
		mov	al, byte_124C7
		add	al, 8
		mov	byte_124C7, al
		push	di
		push	[bp+arg_0]
		push	si
		call	word_124C8

loc_B2E8:
		cmp	vsync_Count1, 2
		jb	short loc_B2E8
		mov	vsync_Count1, 0
		mov	dx, 0A4h ; '§'
		mov	al, byte ptr [bp+var_2]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	ax, 1
		sub	ax, [bp+var_2]
		mov	[bp+var_2], ax
		mov	dx, 0A6h ; '¶'
		mov	al, byte ptr [bp+var_2]

loc_B30B:
		out	dx, al		; Interrupt Controller #2, 8259A
		or	si, si
		jg	short loc_B2AF
		push	[bp+var_2]
		call	sub_11C2
		pop	di
		pop	si
		leave
		retn	4
sub_B291	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B31E	proc near
					; sub_B44D+23Fp ...

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	di, [bp+arg_2]
		xor	si, si
		mov	[bp+var_2], 0
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '§'
		mov	al, 1

loc_B339:
		out	dx, al		; Interrupt Controller #2, 8259A
		push	di
		push	[bp+arg_0]
		mov	al, byte_124C6
		mov	ah, 0
		shl	ax, 4
		mov	bx, ax
		push	word ptr [bx+1B48h]
		mov	al, byte_124C6
		mov	ah, 0
		shl	ax, 4
		mov	bx, ax
		push	word ptr [bx+1B4Ah]
		push	si
		call	sub_B25B
		inc	si
		mov	al, byte_124C7
		add	al, 8
		mov	byte_124C7, al
		cmp	si, 40h	; '@'
		jge	short loc_B39A
		push	di
		push	[bp+arg_0]
		push	si
		call	word_124C8

loc_B375:
		cmp	vsync_Count1, 2
		jb	short loc_B375
		mov	vsync_Count1, 0
		mov	dx, 0A4h ; '§'
		mov	al, byte ptr [bp+var_2]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	ax, 1
		sub	ax, [bp+var_2]
		mov	[bp+var_2], ax
		mov	dx, 0A6h ; '¶'
		mov	al, byte ptr [bp+var_2]
		jmp	short loc_B339
; ---------------------------------------------------------------------------

loc_B39A:
		mov	ax, 1
		sub	ax, [bp+var_2]
		push	ax
		call	sub_11C2
		pop	di
		pop	si
		leave
		retn	4
sub_B31E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B3AC	proc near
					; sub_B44D+2F1p

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	2, 0
		push	si
		push	di
		mov	di, [bp+arg_6]
		xor	si, si
		mov	[bp+var_2], 0
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '§'
		mov	al, 1

loc_B3C7:
		out	dx, al		; Interrupt Controller #2, 8259A
		push	di
		push	[bp+arg_4]
		push	word_10098
		push	word_1009A
		push	si
		call	sub_B25B
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	word_10078
		push	word_1007A
		push	si
		call	sub_B25B
		inc	si
		mov	al, byte_124C7
		add	al, 0F8h ; '¯'
		mov	byte_124C7, al
		cmp	si, 40h	; '@'
		jge	short loc_B43B
		mov	byte_124C6, 2
		push	di
		push	[bp+arg_4]
		push	si
		call	word_124C8
		mov	byte_124C6, 0
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	si
		call	word_124C8

loc_B416:
		cmp	vsync_Count1, 2
		jb	short loc_B416
		mov	vsync_Count1, 0
		mov	dx, 0A4h ; '§'
		mov	al, byte ptr [bp+var_2]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	ax, 1
		sub	ax, [bp+var_2]
		mov	[bp+var_2], ax
		mov	dx, 0A6h ; '¶'
		mov	al, byte ptr [bp+var_2]
		jmp	short loc_B3C7
; ---------------------------------------------------------------------------

loc_B43B:
		mov	ax, 1
		sub	ax, [bp+var_2]
		push	ax
		call	sub_11C2
		pop	di
		pop	si
		leave
		retn	8
sub_B3AC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B44D	proc near
		push	bp
		mov	bp, sp
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aSff1_pi	; "sff1.pi"
		call	sub_CD65
		push	0
		call	sub_CCB8
		push	large 0
		push	0
		call	sub_CCDD
		push	ds
		push	offset unk_FCEA
		push	large [dword_FCD2]
		call	graph_pi_free
		push	0
		call	sub_11C2
		call	sub_D626
		push	100h
		call	sub_CF8C
		push	ds
		push	offset aStaff	; "staff"
		push	600h
		call	sub_D112
		push	0
		call	sub_CF8C
		push	0Ch
		call	palette_black_in
		push	0
		push	ds
		push	offset aSff1_cdg ; "sff1.cdg"
		push	0
		call	sub_D77E
		push	1
		push	ds
		push	offset aSff1b_cdg ; "sff1b.cdg"
		push	0
		call	far ptr	sub_D778
		push	large 30040h
		call	sub_D046
		mov	byte_124C6, 0
		mov	word_124C8, 0E80h
		push	large 16000A0h
		call	sub_B291
		push	2
		push	ds
		push	offset aSff2_cdg ; "sff2.cdg"
		push	0
		call	sub_D77E
		push	3
		push	ds
		push	offset aSff2b_cdg ; "sff2b.cdg"
		push	0
		call	far ptr	sub_D778
		push	large 700A0h
		call	sub_D046
		mov	word_124C8, 0FDDh
		push	large 16000A0h
		call	sub_B31E
		mov	byte_124C6, 2
		mov	word_124C8, 10F4h
		push	large 0C00080h
		call	sub_B291
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	byte_124C6, 0
		push	0
		push	ds
		push	offset aSff3_cdg ; "sff3.cdg"
		push	0
		call	sub_D77E
		push	1
		push	ds
		push	offset aSff3b_cdg ; "sff3b.cdg"
		push	0
		call	far ptr	sub_D778
		push	large 0B00A0h
		call	sub_D046
		push	large 12000C8h
		call	sub_B291
		push	large 1300A0h
		call	sub_D046
		mov	word_124C8, 0FDDh
		push	large 0C00080h
		push	large 12000C8h
		call	sub_B3AC
		push	4
		call	palette_black_out
		call	sub_D8CE
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aSff2_pi	; "sff2.pi"
		call	sub_CD65
		push	0
		call	sub_CCB8
		push	large 0
		push	0
		call	sub_CCDD
		push	ds
		push	offset unk_FCEA
		push	large [dword_FCD2]
		call	graph_pi_free
		push	0
		call	sub_11C2
		call	sub_D626
		push	4
		call	palette_black_in
		push	2
		push	ds
		push	offset aSff4_cdg ; "sff4.cdg"
		push	0
		call	sub_D77E
		push	3
		push	ds
		push	offset aSff4b_cdg ; "sff4b.cdg"
		push	0
		call	far ptr	sub_D778
		push	large 1700A0h
		call	sub_D046
		mov	byte_124C6, 2
		mov	word_124C8, 10F4h
		push	large 200070h
		call	sub_B291
		push	2
		call	sub_D898
		push	4
		push	ds
		push	offset aSff5_cdg ; "sff5.cdg"
		push	0
		call	sub_D77E
		push	5
		push	ds
		push	offset aSff5b_cdg ; "sff5b.cdg"
		push	0
		call	far ptr	sub_D778
		push	large 1B00A0h
		call	sub_D046
		mov	byte_124C6, 4
		mov	word_124C8, 0FDDh
		push	large 2000B8h
		call	sub_B291
		push	0
		push	ds
		push	offset aSff8_cdg ; "sff8.cdg"
		push	0
		call	sub_D77E
		push	1
		push	ds
		push	offset aSff8b_cdg ; "sff8b.cdg"
		push	0
		call	far ptr	sub_D778
		push	large 1F00A0h
		call	sub_D046
		mov	word_124C8, 10F4h
		push	large 2000B8h
		call	sub_B31E
		mov	byte_124C6, 0
		push	large 4000B8h
		call	sub_B291
		push	4
		push	ds
		push	offset aSff9_cdg ; "sff9.cdg"
		push	0
		call	sub_D77E
		push	5
		push	ds
		push	offset aSff9b_cdg ; "sff9b.cdg"
		push	0
		call	far ptr	sub_D778
		push	large 2300A0h
		call	sub_D046
		mov	word_124C8, 0E80h
		push	large 4000B8h
		call	sub_B31E
		mov	byte_124C6, 4
		push	large 4000B8h
		call	sub_B291
		push	0
		push	ds
		push	offset aSff6_cdg ; "sff6.cdg"
		push	0
		call	sub_D77E
		push	1
		push	ds
		push	offset aSff6b_cdg ; "sff6b.cdg"
		push	0
		call	far ptr	sub_D778
		push	large 2700A0h
		call	sub_D046
		mov	word_124C8, 0FDDh
		push	large 4000B8h
		call	sub_B31E
		mov	byte_124C6, 0
		push	large 2000B8h
		call	sub_B291
		push	large 2B00A0h
		call	sub_D046
		mov	word_124C8, 10F4h
		push	large 200070h
		push	large 2000B8h
		call	sub_B3AC
		push	0
		push	ds
		push	offset aSff7_cdg ; "sff7.cdg"
		push	0
		call	sub_D77E
		push	1
		push	ds
		push	offset aSff7b_cdg ; "sff7b.cdg"
		push	0
		call	far ptr	sub_D778
		mov	byte_124C6, 0
		push	large 200150h
		call	sub_B291
		push	large 3000A0h
		call	sub_D046
		call	sub_D6C4
		call	sub_D8CE
		push	4
		call	palette_black_out
		pop	bp
		retn
sub_B44D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B787	proc near

var_6		= word ptr -6
var_4		= byte ptr -4
var_3		= byte ptr -3
var_2		= byte ptr -2
var_1		= byte ptr -1
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	6, 0
		push	si
		xor	si, si
		mov	[bp+var_4], 2
		mov	ax, [bp+arg_0]
		mov	bx, 64h	; 'd'
		xor	dx, dx
		div	bx
		mov	[bp+var_6], ax
		mov	ax, [bp+arg_0]
		xor	dx, dx
		div	bx
		mov	[bp+arg_0], dx
		cmp	byte_EC73, 0
		jnz	short loc_B7C5
		or	si, [bp+var_6]
		or	si, si
		jz	short loc_B7C1
		mov	al, byte ptr [bp+var_6]
		add	al, 0A0h ; '†'
		mov	[bp+var_4], al
		jmp	short loc_B7C5
; ---------------------------------------------------------------------------

loc_B7C1:
		mov	[bp+var_4], 2

loc_B7C5:
		mov	ax, [bp+arg_0]
		mov	bx, 0Ah
		xor	dx, dx
		div	bx
		mov	[bp+var_6], ax
		mov	ax, [bp+arg_0]
		xor	dx, dx
		div	bx
		mov	[bp+arg_0], dx
		or	si, [bp+var_6]
		mov	al, byte_EC73
		mov	ah, 0
		or	si, ax
		or	si, si
		jz	short loc_B7F4
		mov	al, byte ptr [bp+var_6]
		add	al, 0A0h ; '†'
		mov	[bp+var_3], al
		jmp	short loc_B7F8
; ---------------------------------------------------------------------------

loc_B7F4:
		mov	[bp+var_3], 2

loc_B7F8:
		mov	al, byte ptr [bp+arg_0]
		add	al, 0A0h ; '†'
		mov	[bp+var_2], al
		mov	[bp+var_1], 0
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	10h
		push	ss
		lea	ax, [bp+var_4]
		push	ax
		push	0Eh
		call	sub_36B6
		pop	si
		leave
		retn	6
sub_B787	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B81D	proc near

var_C		= byte ptr -0Ch
var_4		= byte ptr -4
var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	0Ch, 0
		push	si
		mov	[bp+var_2], 0
		xor	si, si
		jmp	short loc_B851
; ---------------------------------------------------------------------------

loc_B82A:
		mov	ax, 7
		sub	ax, si
		les	bx, dword_F3CE
		add	bx, ax
		mov	al, es:[bx+1Dh]
		mov	[bp+var_1], al
		or	[bp+var_2], al
		cmp	[bp+var_2], 0
		jz	short loc_B84C
		add	al, 0A0h ; '†'
		mov	[bp+si+var_C], al
		jmp	short loc_B850
; ---------------------------------------------------------------------------

loc_B84C:
		mov	[bp+si+var_C], 2

loc_B850:
		inc	si

loc_B851:
		cmp	si, 8
		jl	short loc_B82A
		mov	[bp+var_4], 0
		push	large 0A00060h
		push	10h
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		push	0Eh
		call	sub_36B6
		mov	[bp+var_2], 1
		push	large 1200060h
		push	0Eh
		push	ds
		push	offset aU_	; "ì_"
		call	far ptr	loc_D1FC
		pop	si
		leave
		retn
sub_B81D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B886	proc near
					; sub_BB81+1C5p ...

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	6, 0
		push	si
		push	di
		mov	si, [bp+arg_6]
		mov	di, [bp+arg_4]
		cmp	[bp+arg_2], 0
		jz	short loc_B8A2
		mov	[bp+var_6], 0F4240h
		jmp	short loc_B8AA
; ---------------------------------------------------------------------------

loc_B8A2:
		mov	[bp+var_6], 0

loc_B8AA:
		mov	ax, [bp+arg_2]
		cmp	ax, [bp+arg_0]
		jz	short loc_B8E3
		cmp	[bp+arg_2], 0
		jz	short loc_B8CD
		movzx	ebx, [bp+arg_2]
		mov	eax, [bp+var_6]
		xor	edx, edx
		div	ebx
		mov	[bp+var_6], eax
		jmp	short loc_B8D5
; ---------------------------------------------------------------------------

loc_B8CD:
		mov	[bp+var_6], 0

loc_B8D5:
		movzx	eax, [bp+arg_0]
		imul	eax, [bp+var_6]
		mov	[bp+var_6], eax

loc_B8E3:
		cmp	byte_EC4A, 0
		jnz	short loc_B8F4
		mov	eax, dword_124CE
		add	eax, [bp+var_6]
		jmp	short loc_B8FC
; ---------------------------------------------------------------------------

loc_B8F4:
		mov	eax, dword_124CE
		sub	eax, [bp+var_6]

loc_B8FC:
		mov	dword_124CE, eax
		mov	eax, [bp+var_6]
		mov	ebx, 2710h
		xor	edx, edx
		div	ebx
		mov	[bp+var_2], ax
		push	si
		push	di
		push	ax
		call	sub_B787
		mov	ebx, 2710h
		mov	eax, [bp+var_6]
		xor	edx, edx
		div	ebx
		mov	[bp+var_6], edx
		mov	eax, [bp+var_6]
		mov	ebx, 64h ; 'd'
		xor	edx, edx
		div	ebx
		mov	[bp+var_2], ax
		mov	byte_EC73, 1
		lea	ax, [si+30h]
		push	ax
		push	di
		push	[bp+var_2]
		call	sub_B787
		mov	byte_EC73, 0
		lea	ax, [si+30h]
		push	ax
		push	di
		push	0Eh
		push	ds
		push	offset aBd	; "ÅD"
		call	far ptr	loc_D1FC
		lea	ax, [si+60h]
		push	ax
		push	di
		push	0Eh
		push	ds
		push	offset aBu	; "Åì"
		call	far ptr	loc_D1FC
		pop	di
		pop	si
		leave
		retn	8
sub_B886	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B97B	proc near
					; sub_BB81+478p

var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_6]
		mov	di, [bp+arg_4]
		mov	eax, [bp+arg_0]
		mov	ebx, 2710h
		xor	edx, edx
		div	ebx
		mov	[bp+var_2], ax
		push	si
		push	di
		push	ax
		call	sub_B787
		mov	ebx, 2710h
		mov	eax, [bp+arg_0]
		xor	edx, edx
		div	ebx
		mov	[bp+arg_0], edx
		mov	eax, [bp+arg_0]
		mov	ebx, 64h ; 'd'
		xor	edx, edx
		div	ebx
		mov	[bp+var_2], ax
		mov	byte_EC73, 1
		lea	ax, [si+30h]
		push	ax
		push	di
		push	[bp+var_2]
		call	sub_B787
		mov	byte_EC73, 0
		lea	ax, [si+30h]
		push	ax
		push	di
		push	0Eh
		push	ds
		push	offset aBd_0	; "ÅD"
		call	far ptr	loc_D1FC
		pop	di
		pop	si
		leave
		retn	8
sub_B97B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B9F2	proc near

var_8		= dword	ptr -8
var_4		= dword	ptr -4

		enter	8, 0
		les	bx, dword_F3CE
		mov	eax, es:[bx+14h]
		mov	dword_E6A0, eax
		mov	al, es:[bx+0Ch]
		mov	ah, 0
		dec	ax
		mov	bx, ax
		cmp	bx, 5
		ja	short loc_BA52
		add	bx, bx
		jmp	cs:off_BB75[bx]

loc_BA18:
		mov	[bp+var_4], 9C4h
		jmp	short loc_BA52
; ---------------------------------------------------------------------------

loc_BA22:
		mov	[bp+var_4], 7D0h
		jmp	short loc_BA52
; ---------------------------------------------------------------------------

loc_BA2C:
		mov	[bp+var_4], 5DCh
		jmp	short loc_BA52
; ---------------------------------------------------------------------------

loc_BA36:
		mov	[bp+var_4], 3E8h
		jmp	short loc_BA52
; ---------------------------------------------------------------------------

loc_BA40:
		mov	[bp+var_4], 1F4h
		jmp	short loc_BA52
; ---------------------------------------------------------------------------

loc_BA4A:
		mov	[bp+var_4], 0

loc_BA52:
		les	bx, dword_F3CE
		mov	al, es:[bx+0Eh]
		mov	ah, 0
		or	ax, ax
		jz	short loc_BA67
		cmp	ax, 1
		jz	short loc_BA71
		jmp	short loc_BA79
; ---------------------------------------------------------------------------

loc_BA67:
		add	[bp+var_4], 9C4h
		jmp	short loc_BA79
; ---------------------------------------------------------------------------

loc_BA71:
		add	[bp+var_4], 5DCh

loc_BA79:
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+49h], 0
		jz	short loc_BA8C
		add	[bp+var_4], 7D0h

loc_BA8C:
		les	bx, dword_F3CE
		cmp	word ptr es:[bx+38h], 0
		jz	short loc_BAA5
		mov	ax, es:[bx+38h]
		add	ax, ax
		movzx	eax, ax
		add	[bp+var_4], eax

loc_BAA5:
		mov	[bp+var_8], 0F4240h
		les	bx, dword_F3CE
		mov	ax, es:[bx+28h]
		cmp	ax, es:[bx+2Ah]
		jz	short loc_BAF3
		cmp	word ptr es:[bx+28h], 0
		jz	short loc_BAD8
		movzx	ebx, word ptr es:[bx+28h]
		mov	eax, [bp+var_8]
		xor	edx, edx
		div	ebx
		mov	[bp+var_8], eax
		jmp	short loc_BAE0
; ---------------------------------------------------------------------------

loc_BAD8:
		mov	[bp+var_8], 0

loc_BAE0:
		les	bx, dword_F3CE
		movzx	eax, word ptr es:[bx+2Ah]
		imul	eax, [bp+var_8]
		mov	[bp+var_8], eax

loc_BAF3:
		mov	eax, 0F4240h
		sub	eax, [bp+var_8]
		mov	[bp+var_8], eax
		mov	ebx, 64h ; 'd'
		xor	edx, edx
		div	ebx
		mov	[bp+var_8], eax
		cmp	[bp+var_8], 0
		jz	short loc_BB2A
		call	sub_1C5A
		cwde
		xor	edx, edx
		div	[bp+var_8]
		add	[bp+var_4], edx

loc_BB2A:
		mov	eax, [bp+var_4]
		imul	eax, 64h
		mov	[bp+var_4], eax
		cmp	[bp+var_4], 0F4240h
		jbe	short loc_BB48
		mov	[bp+var_4], 0F4240h

loc_BB48:
		mov	eax, dword_124CE
		add	eax, [bp+var_4]
		mov	dword_124CE, eax
		push	large 0C00108h
		push	large [bp+var_4]
		call	sub_B97B
		push	large 1200108h
		push	0Eh
		push	ds
		push	offset aBu_0	; "Åì"
		call	far ptr	loc_D1FC
		leave
		retn
sub_B9F2	endp

; ---------------------------------------------------------------------------
		db 0
off_BB75	dw offset loc_BA18
		dw offset loc_BA22
		dw offset loc_BA2C
		dw offset loc_BA36
		dw offset loc_BA40
		dw offset loc_BA4A

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BB81	proc near

var_4		= dword	ptr -4

		enter	4, 0
		push	si
		mov	word_EB2C, 2
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '§'
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 100030h
		push	0Fh
		push	ds
		push	offset aB@b@b@b@b@b@b@ ; "Å@Å@Å@Å@Å@Å@Å@ òrëOîªíË"
		call	far ptr	loc_D1FC
		push	large 100048h
		push	0Fh
		push	ds
		push	offset aUqiUx	; "ìÔà’ìx"
		call	far ptr	loc_D1FC
		push	large 100060h
		push	0Fh
		push	ds
		push	offset aNPiuU_	; "ç≈èIìæì_"
		call	far ptr	loc_D1FC
		push	large 100078h
		push	0Fh
		push	ds
		push	offset aGGxi	; "É~ÉXâÒêî"
		call	far ptr	loc_D1FC
		push	large 100090h
		push	0Fh
		push	ds
		push	offset aGGaogcpi ; "É{ÉÄégópâÒêî"
		call	far ptr	loc_D1FC
		push	large 1000A8h
		push	0Fh
		push	ds
		push	offset aGqbGatbrmcj ; "ÉQÅ[ÉÄíBê¨ó¶"
		call	far ptr	loc_D1FC
		push	large 1000C0h
		push	0Fh
		push	ds
		push	offset aIlcSObcj ; "à´óÏëﬁé°ó¶"
		call	far ptr	loc_D1FC
		push	large 1000D8h
		push	0Fh
		push	ds
		push	offset aGagcgegai ; "ÉAÉCÉeÉÄâÒé˚ó¶"
		call	far ptr	loc_D1FC
		push	large 1000F0h
		push	0Fh
		push	ds
		push	offset aUU_gagcgeganNv ; "ìæì_ÉAÉCÉeÉÄç≈çÇì_ó¶"
		call	far ptr	loc_D1FC
		push	large 100108h
		push	0Fh
		push	ds
		push	offset aLcnzvv	; "ãCçáÇ¢"
		call	far ptr	loc_D1FC
		push	large 100120h
		push	0Fh
		push	ds
		push	offset aPicacovCj ; "èàóùóéÇøó¶"
		call	far ptr	loc_D1FC
		push	large 100150h
		push	0Fh
		push	ds
		push	offset aVavVVSrso ; "Ç†Ç»ÇΩÇÃòrëO"
		call	far ptr	loc_D1FC
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+11h], 6
		jnz	short loc_BC71
		mov	al, 4
		jmp	short loc_BC79
; ---------------------------------------------------------------------------

loc_BC71:
		les	bx, dword_F3CE
		mov	al, es:[bx+0Fh]

loc_BC79:
		mov	byte_124D2, al
		push	large 0B00048h
		push	10h
		push	ds
		mov	ah, 0
		shl	ax, 3
		add	ax, 71Bh
		push	ax
		push	0Eh
		call	sub_36B6
		call	sub_B81D
		push	large 0F00078h
		les	bx, dword_F3CE
		mov	al, es:[bx+31h]
		mov	ah, 0
		push	ax
		call	sub_B787
		push	large 0F00090h
		les	bx, dword_F3CE
		mov	al, es:[bx+32h]
		mov	ah, 0
		push	ax
		call	sub_B787
		push	large 1200078h
		push	0Eh
		push	ds
		push	offset aTimes	; "âÒ"
		call	far ptr	loc_D1FC
		push	large 1200090h
		push	0Eh
		push	ds
		push	offset aTimes_0	; "âÒ"
		call	far ptr	loc_D1FC
		mov	byte_124CC, 1
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+11h], 6
		jz	short loc_BD0A
		cmp	byte ptr es:[bx+30h], 0FFh
		jnz	short loc_BCFF
		mov	word ptr es:[bx+26h], 0ABE0h

loc_BCFF:
		push	large 0C000A8h
		push	0ABE0h
		jmp	short loc_BD24
; ---------------------------------------------------------------------------

loc_BD0A:
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+30h], 0FDh ; '˝'
		jnz	short loc_BD1B
		mov	word ptr es:[bx+26h], 2EE0h

loc_BD1B:
		push	large 0C000A8h
		push	2EE0h

loc_BD24:
		les	bx, dword_F3CE
		push	word ptr es:[bx+26h]
		call	sub_B886
		mov	byte_124CC, 0
		push	large 0C000C0h
		les	bx, dword_F3CE
		push	word ptr es:[bx+34h]
		push	word ptr es:[bx+36h]
		call	sub_B886
		push	large 0C000D8h
		les	bx, dword_F3CE
		push	word ptr es:[bx+28h]
		push	word ptr es:[bx+2Ah]
		call	sub_B886
		push	large 0C000F0h
		les	bx, dword_F3CE
		push	word ptr es:[bx+2Ch]
		push	word ptr es:[bx+2Eh]
		call	sub_B886
		call	sub_B9F2
		push	large 0C00120h
		les	bx, dword_F3CE
		mov	eax, es:[bx+44h]
		mov	ebx, 0Ah
		xor	edx, edx
		div	ebx
		push	ax
		mov	bx, word ptr dword_F3CE
		mov	eax, es:[bx+40h]
		mov	ebx, 0Ah
		xor	edx, edx
		div	ebx
		push	ax
		call	sub_B886
		mov	ebx, 5
		mov	eax, dword_124CE
		cdq
		idiv	ebx
		mov	dword_124CE, eax
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+24h], 9
		jb	short loc_BDD4
		add	dword_124CE, 927C0h
		jmp	short loc_BE08
; ---------------------------------------------------------------------------

loc_BDD4:
		les	bx, dword_F3CE
		movzx	eax, byte ptr es:[bx+23h]
		imul	eax, 2710h
		add	dword_124CE, eax
		cmp	byte ptr es:[bx+24h], 3
		jbe	short loc_BE08
		mov	al, es:[bx+24h]
		mov	ah, 0
		add	ax, 0FFFDh
		cwde
		imul	eax, 186A0h
		add	dword_124CE, eax

loc_BE08:
					; sub_BB81+26Ej
		mov	al, byte_124D2
		mov	ah, 0
		mov	bx, ax
		cmp	bx, 4
		ja	short loc_BE6F
		add	bx, bx
		jmp	cs:off_C0EE[bx]

loc_BE1B:
		sub	dword_124CE, 0C350h
		mov	[bp+var_4], 0C3500h
		jmp	short loc_BE6F
; ---------------------------------------------------------------------------

loc_BE2E:
					; sub_BB81+302j
		mov	[bp+var_4], 0F4240h
		jmp	short loc_BE6F
; ---------------------------------------------------------------------------

loc_BE38:
					; sub_BB81+302j
		add	dword_124CE, 249F0h
		mov	[bp+var_4], 124F80h
		jmp	short loc_BE6F
; ---------------------------------------------------------------------------

loc_BE4B:
					; sub_BB81+302j
		add	dword_124CE, 493E0h
		mov	[bp+var_4], 155CC0h
		jmp	short loc_BE6F
; ---------------------------------------------------------------------------

loc_BE5E:
					; sub_BB81+302j
		add	dword_124CE, 6DDD0h
		mov	[bp+var_4], 16E360h

loc_BE6F:
					; sub_BB81+2ABj ...
		les	bx, dword_F3CE
		mov	al, es:[bx+0Ch]
		mov	ah, 0
		dec	ax
		mov	bx, ax
		cmp	bx, 5
		ja	short loc_BECA
		add	bx, bx
		jmp	cs:off_C0E2[bx]

loc_BE88:
		add	dword_124CE, 0C350h
		add	[bp+var_4], 186A0h
		jmp	short loc_BECA
; ---------------------------------------------------------------------------

loc_BE9B:
		add	dword_124CE, 61A8h
		add	[bp+var_4], 0C350h
		jmp	short loc_BECA
; ---------------------------------------------------------------------------

loc_BEAE:
		sub	[bp+var_4], 61A8h
		jmp	short loc_BECA
; ---------------------------------------------------------------------------

loc_BEB8:
		sub	[bp+var_4], 0C350h
		jmp	short loc_BECA
; ---------------------------------------------------------------------------

loc_BEC2:
		sub	[bp+var_4], 124F8h

loc_BECA:
					; sub_BB81+302j ...
		les	bx, dword_F3CE
		mov	al, es:[bx+0Eh]
		mov	ah, 0
		or	ax, ax
		jz	short loc_BEDF
		cmp	ax, 1
		jz	short loc_BEF2
		jmp	short loc_BF03
; ---------------------------------------------------------------------------

loc_BEDF:
		add	dword_124CE, 0C350h
		add	[bp+var_4], 186A0h
		jmp	short loc_BF03
; ---------------------------------------------------------------------------

loc_BEF2:
		add	dword_124CE, 4E20h
		add	[bp+var_4], 0C350h

loc_BF03:
					; sub_BB81+36Fj
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+49h], 0
		jnz	short loc_BF17
		sub	dword_124CE, 186A0h

loc_BF17:
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+31h], 0Fh
		jb	short loc_BF2D
		sub	dword_124CE, 493E0h
		jmp	short loc_BF43
; ---------------------------------------------------------------------------

loc_BF2D:
		les	bx, dword_F3CE
		movzx	eax, byte ptr es:[bx+31h]
		imul	eax, 4E20h
		sub	dword_124CE, eax

loc_BF43:
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+32h], 1Eh
		jb	short loc_BF59
		sub	dword_124CE, 15F90h
		jmp	short loc_BF6F
; ---------------------------------------------------------------------------

loc_BF59:
		les	bx, dword_F3CE
		movzx	eax, byte ptr es:[bx+32h]
		imul	eax, 0BB8h
		sub	dword_124CE, eax

loc_BF6F:
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+30h], 0FDh ; '˝'
		jnb	short loc_BFA1
		cmp	byte_124D2, 4
		jz	short loc_BF96
		mov	ebx, 2
		mov	eax, dword_124CE
		cdq
		idiv	ebx
		mov	dword_124CE, eax
		jmp	short loc_BFB4
; ---------------------------------------------------------------------------

loc_BF96:
		sub	dword_124CE, 30D40h
		jmp	short loc_BFB4
; ---------------------------------------------------------------------------

loc_BFA1:
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+30h], 0FEh ; '˛'
		jnz	short loc_BFB4
		sub	[bp+var_4], 186A0h

loc_BFB4:
					; sub_BB81+41Ej ...
		cmp	dword_124CE, 0
		jge	short loc_BFC7
		mov	dword_124CE, 0
		jmp	short loc_BFD9
; ---------------------------------------------------------------------------

loc_BFC7:
		mov	eax, dword_124CE
		cmp	eax, [bp+var_4]
		jbe	short loc_BFD9
		mov	eax, [bp+var_4]
		mov	dword_124CE, eax

loc_BFD9:
					; sub_BB81+44Ej
		les	bx, dword_F3CE
		mov	eax, es:[bx+44h]
		shr	eax, 1
		cmp	eax, es:[bx+40h]
		jbe	loc_C0AE
		push	large 0C00150h
		push	large [dword_124CE]
		call	sub_B97B
		push	large 1200150h
		push	0Eh
		push	ds
		push	offset aPoint	; "ì_"
		call	far ptr	loc_D1FC
		push	ds
		push	offset a_ude_txt ; "_ude.txt"
		call	sub_A88
		cmp	dword_124CE, 16E360h
		jge	short loc_C084
		cmp	dword_124CE, 0
		jnz	short loc_C02E
		mov	si, 19h
		jmp	short loc_C074
; ---------------------------------------------------------------------------

loc_C02E:
		cmp	dword_124CE, 100590h
		jge	short loc_C051
		mov	eax, dword_124CE
		mov	ebx, 0C350h
		cdq
		idiv	ebx
		mov	dx, 18h
		sub	dx, ax
		mov	si, dx
		jmp	short loc_C074
; ---------------------------------------------------------------------------

loc_C051:
		cmp	dword_124CE, 124F80h
		jge	short loc_C061
		mov	si, 3
		jmp	short loc_C074
; ---------------------------------------------------------------------------

loc_C061:
		cmp	dword_124CE, 149970h
		jge	short loc_C071
		mov	si, 2
		jmp	short loc_C074
; ---------------------------------------------------------------------------

loc_C071:
		mov	si, 1

loc_C074:
					; sub_BB81+4CEj ...
		mov	ax, si
		imul	ax, 1Eh
		cwde
		push	eax
		push	0
		call	sub_AC4

loc_C084:
		push	ds
		push	offset unk_124D3
		push	1Eh
		call	sub_9D4
		mov	byte_124EF, 0
		call	sub_968
		push	40h ; '@'
		call	sub_CCA3
		push	large 400168h
		push	0Fh
		push	ds
		push	offset unk_124D3
		jmp	short loc_C0CB
; ---------------------------------------------------------------------------

loc_C0AE:
		push	large 0C00150h
		push	0Eh
		push	ds
		push	offset aBhbhbhbhbhbhu_ ; "ÅHÅHÅHÅHÅHÅHì_"
		call	far ptr	loc_D1FC
		push	large 400168h
		push	0Fh
		push	ds
		push	offset aPicacovVVcvsfT ; "èàóùóéÇøÇ…ÇÊÇÈîªíËïsâ¬"

loc_C0CB:
		call	far ptr	loc_D1FC
		push	0
		call	sub_CE7A
		push	2
		call	palette_black_out
		pop	si
		leave
		retn
sub_BB81	endp

; ---------------------------------------------------------------------------
		db    0
off_C0E2	dw offset loc_BE88
		dw offset loc_BE9B
		dw offset loc_BECA
		dw offset loc_BEAE
		dw offset loc_BEB8
		dw offset loc_BEC2
off_C0EE	dw offset loc_BE1B
		dw offset loc_BE2E
		dw offset loc_BE38
		dw offset loc_BE4B
		dw offset loc_BE5E

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C0F8	proc near
		push	bp
		mov	bp, sp
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aUde_pi	; "ude.pi"
		call	sub_CD65
		push	0
		call	sub_CCB8
		push	large 0
		push	0
		call	sub_CCDD
		push	ds
		push	offset unk_FCEA
		push	large [dword_FCD2]
		call	graph_pi_free
		push	0
		call	sub_11C2
		push	4
		call	palette_black_in
		call	sub_BB81
		pop	bp
		retn
sub_C0F8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C149	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		mov	si, 4
		jmp	short loc_C176
; ---------------------------------------------------------------------------

loc_C153:
		mov	al, [si+3FC3h]
		mov	[bp+var_1], al
		mov	al, byte_124F3
		ror	[bp+var_1], 3
		xor	[bp+var_1], al
		mov	al, [si+3FC2h]
		mov	dl, byte_124F2
		add	dl, [bp+var_1]
		add	al, dl
		mov	[si+3FC2h], al
		inc	si

loc_C176:
		cmp	si, 0C3h ; '√'
		jl	short loc_C153
		mov	al, byte_124F2
		add	[si+3FC2h], al
		xor	cx, cx
		mov	si, 4
		jmp	short loc_C193
; ---------------------------------------------------------------------------

loc_C18A:
		mov	al, [si+3FC2h]
		mov	ah, 0
		add	cx, ax
		inc	si

loc_C193:
		cmp	si, 0C4h ; 'ƒ'
		jl	short loc_C18A
		mov	al, byte ptr word_124F4
		sub	al, cl
		pop	si
		leave
		retn
sub_C149	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C1A1	proc near
					; sub_C316+4p ...

var_1		= byte ptr -1

		enter	2, 0
		push	si
		mov	word_124F4, 0
		mov	si, 4
		jmp	short loc_C1BC
; ---------------------------------------------------------------------------

loc_C1B1:
		mov	al, [si+3FC2h]
		mov	ah, 0
		add	word_124F4, ax
		inc	si

loc_C1BC:
		cmp	si, 0C4h ; 'ƒ'
		jl	short loc_C1B1
		call	sub_1C5A
		mov	byte_124F2, al
		call	sub_1C5A
		mov	byte_124F3, al
		mov	[bp+var_1], 0
		mov	si, 0C3h ; '√'
		jmp	short loc_C1FE
; ---------------------------------------------------------------------------

loc_C1DB:
		mov	al, [si+3FC2h]
		mov	dl, byte_124F2
		add	dl, [bp+var_1]
		sub	al, dl
		mov	[si+3FC2h], al
		mov	al, [si+3FC2h]
		mov	[bp+var_1], al
		mov	al, byte_124F3
		ror	[bp+var_1], 3
		xor	[bp+var_1], al
		dec	si

loc_C1FE:
		cmp	si, 4
		jge	short loc_C1DB
		pop	si
		leave
		retn
sub_C1A1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C206	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		push	di
		mov	[bp+var_1], 0A9h ; '©'
		xor	si, si
		jmp	short loc_C27A
; ---------------------------------------------------------------------------

loc_C214:
		mov	byte_125A0, 19h
		xor	di, di
		jmp	short loc_C228
; ---------------------------------------------------------------------------

loc_C21D:
		mov	bx, si
		shl	bx, 3
		mov	byte ptr [bx+di+4020h],	0A0h ; '†'
		inc	di

loc_C228:
		cmp	di, 8
		jl	short loc_C21D
		or	si, si
		jnz	short loc_C23D
		mov	bx, si
		shl	bx, 3
		mov	byte ptr [bx+4025h], 0A1h ; '°'
		jmp	short loc_C24C
; ---------------------------------------------------------------------------

loc_C23D:
		mov	bx, si
		shl	bx, 3
		mov	al, [bp+var_1]
		mov	[bx+4024h], al
		dec	[bp+var_1]

loc_C24C:
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	dl, 0A5h ; '•'
		sub	dl, al
		mov	[si+4072h], dl
		xor	di, di
		jmp	short loc_C26A
; ---------------------------------------------------------------------------

loc_C25F:
		mov	bx, si
		imul	bx, 9
		mov	byte ptr [bx+di+3FC6h],	0C4h ; 'ƒ'
		inc	di

loc_C26A:
		cmp	di, 8
		jl	short loc_C25F
		mov	bx, si
		imul	bx, 9
		mov	byte ptr [bx+3FCEh], 0
		inc	si

loc_C27A:
		cmp	si, 0Ah
		jl	short loc_C214
		push	ds
		push	offset aGensou_scr ; "GENSOU.SCR"
		call	sub_978
		xor	si, si
		jmp	short loc_C29F
; ---------------------------------------------------------------------------

loc_C28C:
		call	sub_C1A1
		push	ds
		push	offset byte_124F2
		push	0C4h ; 'ƒ'
		call	sub_B14
		call	sub_C149
		inc	si

loc_C29F:
		cmp	si, 0Ah
		jl	short loc_C28C
		call	sub_968
		pop	di
		pop	si
		leave
		retn
sub_C206	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C2AD	proc near

arg_0		= byte ptr  4

		push	bp
		mov	bp, sp
		push	ds
		push	offset aGensou_scr_0 ; "GENSOU.SCR"
		call	sub_9B8
		or	ax, ax
		jz	short loc_C307
		push	ds
		push	offset aGensou_scr_1 ; "GENSOU.SCR"
		call	sub_A88
		mov	al, byte_125B7
		mov	ah, 0
		imul	ax, 0C4h
		movzx	eax, ax
		push	eax
		push	0
		call	sub_AC4
		cmp	[bp+arg_0], 0
		jz	short loc_C2EF
		push	large 3D4h
		push	1
		call	sub_AC4

loc_C2EF:
		push	ds
		push	offset byte_124F2
		push	0C4h ; 'ƒ'
		call	sub_9D4
		call	sub_968
		call	sub_C149
		or	al, al
		jz	short loc_C310

loc_C307:
		call	sub_C206
		mov	al, 1
		pop	bp
		retn	2
; ---------------------------------------------------------------------------

loc_C310:
		mov	al, 0
		pop	bp
		retn	2
sub_C2AD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C316	proc near
					; sub_C814:loc_CB7Fp
		push	bp
		mov	bp, sp
		push	si
		call	sub_C1A1
		push	ds
		push	offset aGensou_scr_2 ; "GENSOU.SCR"
		call	sub_8A8
		mov	al, byte_125B7
		mov	ah, 0
		imul	ax, 0C4h
		movzx	eax, ax
		push	eax
		push	0
		call	sub_AC4
		cmp	byte ptr word_125B8, 0
		jz	short loc_C350
		push	large 3D4h
		push	1
		call	sub_AC4

loc_C350:
		push	ds
		push	offset byte_124F2
		push	0C4h ; 'ƒ'
		call	sub_B14
		xor	si, si
		jmp	short loc_C3A5
; ---------------------------------------------------------------------------

loc_C360:
		mov	ax, si
		imul	ax, 0C4h
		movzx	eax, ax
		push	eax
		push	0
		call	sub_AC4
		push	ds
		push	offset byte_124F2
		push	0C4h ; 'ƒ'
		call	sub_9D4
		call	sub_C149
		call	sub_C1A1
		mov	ax, si
		imul	ax, 0C4h
		movzx	eax, ax
		push	eax
		push	0
		call	sub_AC4
		push	ds
		push	offset byte_124F2
		push	0C4h ; 'ƒ'
		call	sub_B14
		inc	si

loc_C3A5:
		cmp	si, 0Ah
		jl	short loc_C360
		call	sub_968
		pop	si
		pop	bp
		retn
sub_C316	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C3B2	proc near

var_2		= word ptr -2

		enter	2, 0
		mov	[bp+var_2], 9
		jmp	short loc_C40E
; ---------------------------------------------------------------------------

loc_C3BD:
		mov	cx, 7
		jmp	short loc_C407
; ---------------------------------------------------------------------------

loc_C3C2:
		les	bx, dword_F3CE
		add	bx, cx
		mov	al, es:[bx+1Dh]
		mov	ah, 0
		mov	bx, [bp+var_2]
		shl	bx, 3
		add	bx, cx
		mov	dl, [bx+4020h]
		mov	dh, 0
		add	dx, 0FF60h
		cmp	ax, dx
		jg	short loc_C40B
		les	bx, dword_F3CE
		add	bx, cx
		mov	al, es:[bx+1Dh]
		mov	ah, 0
		mov	bx, [bp+var_2]
		shl	bx, 3
		add	bx, cx
		mov	dl, [bx+4020h]
		mov	dh, 0
		add	dx, 0FF60h
		cmp	ax, dx
		jl	short loc_C41B
		dec	cx

loc_C407:
		or	cx, cx
		jge	short loc_C3C2

loc_C40B:
		dec	[bp+var_2]

loc_C40E:
		cmp	[bp+var_2], 0
		jge	short loc_C3BD
		mov	byte_125B6, 0
		jmp	short loc_C430
; ---------------------------------------------------------------------------

loc_C41B:
		cmp	[bp+var_2], 9
		jnz	short loc_C428
		mov	byte_125B6, 0FFh
		leave
		retn
; ---------------------------------------------------------------------------

loc_C428:
		mov	al, byte ptr [bp+var_2]
		inc	al
		mov	byte_125B6, al

loc_C430:
		mov	[bp+var_2], 8
		jmp	short loc_C489
; ---------------------------------------------------------------------------

loc_C437:
		mov	cx, 7
		jmp	short loc_C455
; ---------------------------------------------------------------------------

loc_C43C:
		mov	bx, [bp+var_2]
		imul	bx, 9
		add	bx, cx
		mov	al, [bx+3FC6h]
		mov	bx, [bp+var_2]
		imul	bx, 9
		add	bx, cx
		mov	[bx+3FCFh], al
		dec	cx

loc_C455:
		or	cx, cx
		jge	short loc_C43C
		mov	cx, 7
		jmp	short loc_C477
; ---------------------------------------------------------------------------

loc_C45E:
		mov	bx, [bp+var_2]
		shl	bx, 3
		add	bx, cx
		mov	al, [bx+4020h]
		mov	bx, [bp+var_2]
		shl	bx, 3
		add	bx, cx
		mov	[bx+4028h], al
		dec	cx

loc_C477:
		or	cx, cx
		jge	short loc_C45E
		mov	bx, [bp+var_2]
		mov	al, [bx+4072h]
		mov	[bx+4073h], al
		dec	[bp+var_2]

loc_C489:
		mov	al, byte_125B6
		mov	ah, 0
		cmp	ax, [bp+var_2]
		jle	short loc_C437
		mov	cx, 7
		jmp	short loc_C4AA
; ---------------------------------------------------------------------------

loc_C498:
		mov	al, byte_125B6
		mov	ah, 0
		imul	ax, 9
		add	ax, cx
		mov	bx, ax
		mov	byte ptr [bx+3FC6h], 0C4h ; 'ƒ'
		dec	cx

loc_C4AA:
		or	cx, cx
		jge	short loc_C498
		mov	cx, 7
		jmp	short loc_C4D1
; ---------------------------------------------------------------------------

loc_C4B3:
		les	bx, dword_F3CE
		add	bx, cx
		mov	al, es:[bx+1Dh]
		add	al, 0A0h ; '†'
		mov	dl, byte_125B6
		mov	dh, 0
		shl	dx, 3
		add	dx, cx
		mov	bx, dx
		mov	[bx+4020h], al
		dec	cx

loc_C4D1:
		or	cx, cx
		jge	short loc_C4B3
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+30h], 0FDh ; '˝'
		jb	short loc_C4EE
		mov	al, byte_125B6
		mov	ah, 0
		mov	bx, ax
		mov	byte ptr [bx+4072h], 0E9h ; 'È'
		leave
		retn
; ---------------------------------------------------------------------------

loc_C4EE:
		les	bx, dword_F3CE
		mov	al, es:[bx+11h]
		add	al, 0A1h ; '°'
		mov	dl, byte_125B6
		mov	dh, 0
		mov	bx, dx
		mov	[bx+4072h], al
		leave
		retn
sub_C3B2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C506	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		or	si, si
		jnz	short loc_C518
		mov	ax, 60h	; '`'
		jmp	short loc_C520
; ---------------------------------------------------------------------------

loc_C518:
		mov	ax, si
		shl	ax, 4
		add	ax, 70h	; 'p'

loc_C520:
		mov	[bp+var_4], ax
		cmp	[bp+arg_0], 0
		jnz	short loc_C52E
		mov	ax, 0ACh ; '¨'
		jmp	short loc_C531
; ---------------------------------------------------------------------------

loc_C52E:
		mov	ax, 1E0h

loc_C531:
		mov	di, ax
		mov	al, byte_125B6
		mov	ah, 0
		cmp	ax, si
		jnz	short loc_C549
		mov	al, [bp+arg_0]
		cmp	al, byte ptr word_125B8
		jnz	short loc_C549
		mov	al, 0Ah
		jmp	short loc_C54B
; ---------------------------------------------------------------------------

loc_C549:
		mov	al, 0

loc_C54B:
		mov	[bp+arg_0], al
		mov	bx, si
		shl	bx, 3
		mov	al, [bx+4027h]
		mov	ah, 0
		add	ax, 0FF60h
		cmp	ax, 0Ah
		jl	short loc_C589
		lea	ax, [di-20h]
		push	ax
		push	[bp+var_4]
		mov	bx, si
		shl	bx, 3
		mov	al, [bx+4027h]
		mov	ah, 0
		add	ax, 0FF60h
		mov	bx, 0Ah
		cwd
		idiv	bx
		mov	dl, [bp+arg_0]
		mov	dh, 0
		add	ax, dx
		push	ax
		call	sub_275E

loc_C589:
		lea	ax, [di-10h]
		push	ax
		push	[bp+var_4]
		mov	bx, si
		shl	bx, 3
		mov	al, [bx+4027h]
		mov	ah, 0
		add	ax, 0FF60h
		mov	bx, 0Ah
		cwd
		idiv	bx
		mov	al, [bp+arg_0]
		mov	ah, 0
		add	dx, ax
		push	dx
		call	sub_275E
		mov	[bp+var_2], 6
		jmp	short loc_C5E0
; ---------------------------------------------------------------------------

loc_C5B8:
		push	di
		push	[bp+var_4]
		mov	bx, si
		shl	bx, 3
		add	bx, [bp+var_2]
		mov	al, [bx+4020h]
		mov	ah, 0
		mov	dl, [bp+arg_0]
		mov	dh, 0
		add	ax, dx
		add	ax, 0FF60h
		push	ax
		call	sub_275E
		dec	[bp+var_2]
		add	di, 10h

loc_C5E0:
		cmp	[bp+var_2], 0
		jge	short loc_C5B8
		pop	di
		pop	si
		leave
		retn	4
sub_C506	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C5EC	proc near

var_5		= byte ptr -5
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	6, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_2]
		mov	al, byte_125B6
		mov	ah, 0
		cmp	ax, si
		jnz	short loc_C60E
		mov	al, byte ptr word_125B8
		mov	ah, 0
		cmp	ax, di
		jnz	short loc_C60E
		mov	al, 7
		jmp	short loc_C610
; ---------------------------------------------------------------------------

loc_C60E:
		mov	al, 0Ch

loc_C610:
		mov	[bp+var_5], al
		or	si, si
		jnz	short loc_C61C
		mov	ax, 60h	; '`'
		jmp	short loc_C624
; ---------------------------------------------------------------------------

loc_C61C:
		mov	ax, si
		shl	ax, 4
		add	ax, 70h	; 'p'

loc_C624:
		mov	[bp+var_4], ax
		or	di, di
		jnz	short loc_C630
		mov	ax, 124h
		jmp	short loc_C633
; ---------------------------------------------------------------------------

loc_C630:
		mov	ax, 258h

loc_C633:
		mov	[bp+var_2], ax
		add	ax, 2
		push	ax
		mov	ax, [bp+var_4]
		add	ax, 2
		push	ax
		push	[bp+arg_0]
		push	0Eh
		call	sub_3760
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+arg_0]
		mov	al, [bp+var_5]
		mov	ah, 0
		push	ax
		call	sub_3760
		pop	di
		pop	si
		leave
		retn	6
sub_C5EC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C665	proc near
					; sub_C814+315p

var_2		= word ptr -2
arg_0		= byte ptr  4
arg_2		= byte ptr  6
arg_4		= word ptr  8

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		cmp	[bp+arg_2], 0
		jnz	short loc_C679
		mov	ax, 2
		jmp	short loc_C67C
; ---------------------------------------------------------------------------

loc_C679:
		mov	ax, 28h	; '('

loc_C67C:
		mov	di, ax
		or	si, si
		jnz	short loc_C687
		mov	ax, 6
		jmp	short loc_C68A
; ---------------------------------------------------------------------------

loc_C687:
		lea	ax, [si+7]

loc_C68A:
		mov	[bp+var_2], ax
		mov	ax, di
		shl	ax, 3
		add	ax, 2
		push	ax
		mov	ax, [bp+var_2]
		shl	ax, 4
		add	ax, 2
		push	ax
		push	large 800010h
		call	sub_CBF3
		mov	ax, di
		shl	ax, 3
		add	ax, 2
		push	ax
		mov	ax, [bp+var_2]
		shl	ax, 4
		add	ax, 2
		push	ax
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3FC6h
		push	ds
		push	ax
		push	0Eh
		call	sub_36B6
		push	di
		push	[bp+var_2]
		mov	ax, si
		imul	ax, 9
		add	ax, 3FC6h
		push	ds
		push	ax
		push	41h ; 'A'
		call	sub_1008
		mov	al, [bp+arg_0]
		mov	ah, 0
		add	ax, ax
		add	ax, di
		push	ax
		push	[bp+var_2]
		mov	bx, si
		imul	bx, 9
		mov	al, [bp+arg_0]
		mov	ah, 0
		add	bx, ax
		mov	al, [bx+3FC6h]
		mov	ah, 0
		push	ax
		push	45h ; 'E'
		call	sub_FC4
		pop	di
		pop	si
		leave
		retn	6
sub_C665	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C711	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		cmp	byte ptr [bp+arg_0], 0
		jnz	short loc_C725
		mov	ax, 10h
		jmp	short loc_C728
; ---------------------------------------------------------------------------

loc_C725:
		mov	ax, 140h

loc_C728:
		mov	[bp+var_2], ax
		or	si, si
		jnz	short loc_C734
		mov	ax, 60h	; '`'
		jmp	short loc_C73C
; ---------------------------------------------------------------------------

loc_C734:
		mov	ax, si
		shl	ax, 4
		add	ax, 70h	; 'p'

loc_C73C:
		mov	di, ax
		mov	ax, [bp+var_2]
		add	ax, 2
		push	ax
		lea	ax, [di+2]
		push	ax
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3FC6h
		push	ds
		push	ax
		push	0Eh
		call	sub_36B6
		mov	al, byte_125B6
		mov	ah, 0
		cmp	ax, si
		jnz	short loc_C76E
		mov	al, byte ptr [bp+arg_0]
		cmp	al, byte ptr word_125B8
		jz	short loc_C787

loc_C76E:
		push	[bp+var_2]
		push	di
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3FC6h
		push	ds
		push	ax
		push	0Ch
		call	sub_36B6
		jmp	short loc_C7AB
; ---------------------------------------------------------------------------

loc_C787:
		mov	ax, [bp+var_2]
		mov	bx, 8
		cwd
		idiv	bx
		push	ax
		mov	ax, di
		mov	bx, 10h
		cwd
		idiv	bx
		push	ax
		mov	ax, si
		imul	ax, 9
		add	ax, 3FC6h
		push	ds
		push	ax
		push	41h ; 'A'
		call	sub_1008

loc_C7AB:
		push	si
		push	[bp+arg_0]
		call	sub_C506
		push	si
		mov	al, byte ptr [bp+arg_0]
		mov	ah, 0
		push	ax
		mov	al, [si+4072h]
		mov	ah, 0
		push	ax
		call	sub_C5EC
		pop	di
		pop	si
		leave
		retn	4
sub_C711	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C7C9	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_C7D9
; ---------------------------------------------------------------------------

loc_C7D1:
		push	si
		push	[bp+arg_0]
		call	sub_C711
		inc	si

loc_C7D9:
		cmp	si, 0Ah
		jl	short loc_C7D1
		pop	si
		pop	bp
		retn	2
sub_C7C9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C7E3	proc near
					; sub_C814+253p ...

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_2]
		mov	ax, si
		add	ax, ax
		add	ax, 17h
		push	ax
		lea	ax, [di+12h]
		push	ax
		mov	bx, di
		imul	bx, 11h
		mov	al, [bx+si+82Ch]
		mov	ah, 0
		push	ax
		push	[bp+arg_0]
		call	sub_FC4
		pop	di
		pop	si
		pop	bp
		retn	6
sub_C7E3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C814	proc near

var_A		= byte ptr -0Ah
var_9		= byte ptr -9
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Ah, 0
		push	si
		push	di
		xor	si, si
		mov	[bp+var_9], 0
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aHi01_pi	; "hi01.pi"
		call	sub_CD65
		push	0
		call	sub_CCB8
		push	large 0
		push	0
		call	sub_CCDD
		push	ds
		push	offset unk_FCEA
		push	large [dword_FCD2]
		call	graph_pi_free
		push	0
		call	sub_11C2
		push	ds
		push	offset aScnum2_bft ; "scnum2.bft"
		call	super_entry_bfnt
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+11h], 6
		jnz	short loc_C87A
		mov	al, 4
		jmp	short loc_C882
; ---------------------------------------------------------------------------

loc_C87A:
		les	bx, dword_F3CE
		mov	al, es:[bx+0Fh]

loc_C882:
		mov	byte_125B7, al
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+12h], 31h ; '1'
		jnz	short loc_C895
		mov	ax, 1
		jmp	short loc_C897
; ---------------------------------------------------------------------------

loc_C895:
		xor	ax, ax

loc_C897:
		mov	byte ptr word_125B8, al
		mov	al, 1
		sub	al, byte ptr word_125B8
		push	ax
		call	sub_C2AD
		mov	al, byte ptr word_125B8
		mov	ah, 0
		mov	dx, 1
		sub	dx, ax
		push	dx
		call	sub_C7C9
		push	word_125B8
		call	sub_C2AD
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+49h], 0
		jnz	short loc_C8CB
		cmp	byte_125B7, 4
		jnz	short loc_C8D9

loc_C8CB:
		call	sub_C3B2
		mov	al, byte ptr word_125B8
		mov	ah, 0
		push	ax
		call	sub_C7C9
		jmp	short loc_C909
; ---------------------------------------------------------------------------

loc_C8D9:
		mov	byte_125B6, 0FFh
		mov	al, byte ptr word_125B8
		mov	ah, 0
		push	ax
		call	sub_C7C9
		push	large 7C00C4h
		push	9
		push	ds
		push	offset aGxgnbGvbGhvVGv ; "ÉXÉçÅ[ÉÇÅ[ÉhÇ≈ÇÃÉvÉåÉCÇ≈ÇÕÅAÉXÉRÉAÇÕãLò"...
		call	far ptr	loc_D1FC
		push	large 7800C0h
		push	2
		push	ds
		push	offset aGxgnbGvbGhvV_1 ; "ÉXÉçÅ[ÉÇÅ[ÉhÇ≈ÇÃÉvÉåÉCÇ≈ÇÕÅAÉXÉRÉAÇÕãLò"...
		call	far ptr	loc_D1FC

loc_C909:
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+30h], 0FFh
		jz	short loc_C922
		cmp	byte ptr es:[bx+30h], 0FDh ; '˝'
		jz	short loc_C922
		cmp	byte_125B7, 0
		jnz	short loc_C95E

loc_C922:
					; sub_C814+105j
		mov	al, byte_125A0
		mov	[bp+var_A], al
		cmp	[bp+var_A], 4
		jb	short loc_C944
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+19h], 0
		jnz	short loc_C93D
		mov	al, 1
		jmp	short loc_C93F
; ---------------------------------------------------------------------------

loc_C93D:
		mov	al, 2

loc_C93F:
		mov	[bp+var_A], al
		jmp	short loc_C958
; ---------------------------------------------------------------------------

loc_C944:
		les	bx, dword_F3CE
		cmp	byte ptr es:[bx+19h], 0
		jnz	short loc_C953
		mov	al, 1
		jmp	short loc_C955
; ---------------------------------------------------------------------------

loc_C953:
		mov	al, 2

loc_C955:
		or	[bp+var_A], al

loc_C958:
		mov	al, [bp+var_A]
		mov	byte_125A0, al

loc_C95E:
		push	100h
		call	sub_CF8C
		push	ds
		push	offset aName	; "name"
		push	600h
		call	sub_D112
		push	0
		call	sub_CF8C
		push	2
		call	palette_black_in
		cmp	byte_125B6, 0FFh
		jz	loc_CB7F
		mov	[bp+var_6], 0
		jmp	short loc_C9CB
; ---------------------------------------------------------------------------

loc_C990:
		mov	[bp+var_8], 0
		jmp	short loc_C9C2
; ---------------------------------------------------------------------------

loc_C997:
		mov	ax, [bp+var_8]
		add	ax, ax
		add	ax, 17h
		push	ax
		mov	ax, [bp+var_6]
		add	ax, 12h
		push	ax
		mov	bx, [bp+var_6]
		imul	bx, 11h
		add	bx, [bp+var_8]
		mov	al, [bx+82Ch]
		mov	ah, 0
		push	ax
		push	0E1h ; '·'
		call	sub_FC4
		inc	[bp+var_8]

loc_C9C2:
		cmp	[bp+var_8], 11h
		jl	short loc_C997
		inc	[bp+var_6]

loc_C9CB:
		cmp	[bp+var_6], 3
		jl	short loc_C990
		push	large 170012h
		mov	al, byte_ED5C
		mov	ah, 0
		push	ax
		push	85h ; 'Ö'
		call	sub_FC4
		xor	di, di
		mov	[bp+var_2], 0
		call	far ptr	sub_D48A
		mov	[bp+var_4], 1

loc_C9F6:
		call	sub_D492
		cmp	[bp+var_4], 0
		jnz	loc_CB3B
		test	byte ptr word_10072, 0Fh
		jz	short loc_CA6A
		push	di
		push	[bp+var_2]
		push	0E1h ; '·'
		call	sub_C7E3
		test	byte ptr word_10072, 1
		jz	short loc_CA1E
		dec	[bp+var_2]

loc_CA1E:
		test	byte ptr word_10072, 2
		jz	short loc_CA28
		inc	[bp+var_2]

loc_CA28:
		test	byte ptr word_10072, 4
		jz	short loc_CA30
		dec	di

loc_CA30:
		test	byte ptr word_10072, 8
		jz	short loc_CA38
		inc	di

loc_CA38:
		cmp	[bp+var_2], 0
		jge	short loc_CA45
		mov	[bp+var_2], 2
		jmp	short loc_CA50
; ---------------------------------------------------------------------------

loc_CA45:
		cmp	[bp+var_2], 2
		jle	short loc_CA50
		mov	[bp+var_2], 0

loc_CA50:
					; sub_C814+235j
		or	di, di
		jge	short loc_CA59
		mov	di, 10h
		jmp	short loc_CA60
; ---------------------------------------------------------------------------

loc_CA59:
		cmp	di, 10h
		jle	short loc_CA60
		xor	di, di

loc_CA60:
					; sub_C814+248j
		push	di
		push	[bp+var_2]
		push	85h ; 'Ö'
		call	sub_C7E3

loc_CA6A:
		test	byte ptr word_10072, 20h
		jnz	short loc_CA7A
		test	byte ptr word_10072+1, 20h
		jz	loc_CB03

loc_CA7A:
		mov	bx, [bp+var_2]
		imul	bx, 11h
		mov	al, [bx+di+82Ch]
		mov	[bp+var_A], al
		mov	ah, 0
		sub	ax, 0CDh ; 'Õ'
		mov	bx, ax
		cmp	bx, 8
		ja	short loc_CABD
		add	bx, bx
		jmp	cs:off_CB9E[bx]

loc_CA9A:
		mov	[bp+var_A], 2
		jmp	short loc_CABD
; ---------------------------------------------------------------------------

loc_CAA0:
		mov	al, byte_125B6
		mov	ah, 0
		imul	ax, 9
		mov	bx, ax
		mov	byte ptr [bx+si+3FC6h],	2
		or	si, si
		jle	short loc_CAF5
		dec	si
		jmp	short loc_CAF5
; ---------------------------------------------------------------------------

loc_CAB6:
		cmp	si, 7
		jge	short loc_CAF5
		jmp	short loc_CAF4
; ---------------------------------------------------------------------------

loc_CABD:
					; sub_C814+281j ...
		mov	al, byte_125B6
		mov	ah, 0
		imul	ax, 9
		mov	dl, [bp+var_A]
		mov	bx, ax
		mov	[bx+si+3FC6h], dl
		cmp	si, 7
		jnz	short loc_CAEF
		push	di
		push	[bp+var_2]
		push	0E1h ; '·'
		call	sub_C7E3
		mov	di, 10h
		mov	[bp+var_2], 2
		push	di
		push	[bp+var_2]
		push	85h ; 'Ö'
		call	sub_C7E3

loc_CAEF:
		cmp	si, 7
		jge	short loc_CAF5

loc_CAF4:
		inc	si

loc_CAF5:
					; sub_C814+2A0j ...
		mov	al, byte_125B6
		mov	ah, 0
		push	ax
		push	word_125B8
		push	si
		call	sub_C665

loc_CB03:
		test	byte ptr word_10072, 10h
		jz	short loc_CB2C
		mov	al, byte_125B6
		mov	ah, 0
		imul	ax, 9
		mov	bx, ax
		mov	byte ptr [bx+si+3FC6h],	2
		or	si, si
		jle	short loc_CB1E
		dec	si

loc_CB1E:
		mov	al, byte_125B6
		mov	ah, 0
		push	ax
		push	word_125B8
		push	si
		call	sub_C665

loc_CB2C:
		test	byte ptr word_10072+1, 10h
		jnz	short loc_CB7A
		mov	ax, word_10072
		mov	[bp+var_4], ax
		jmp	short loc_CB6B
; ---------------------------------------------------------------------------

loc_CB3B:
		mov	ax, word_10072
		cmp	ax, [bp+var_4]
		jnz	short loc_CB59
		inc	[bp+var_9]
		cmp	[bp+var_9], 1Eh
		jbe	short loc_CB6B
		test	[bp+var_9], 1
		jnz	short loc_CB6B
		mov	[bp+var_4], 0
		jmp	short loc_CB6B
; ---------------------------------------------------------------------------

loc_CB59:
		cmp	word_10072, 0
		jz	short loc_CB62
		jmp	short loc_CB67
; ---------------------------------------------------------------------------

loc_CB62:
		mov	[bp+var_4], 0

loc_CB67:
		mov	[bp+var_9], 0

loc_CB6B:
					; sub_C814+336j ...
		call	far ptr	sub_D48A
		push	1
		call	sub_CCA3
		jmp	loc_C9F6
; ---------------------------------------------------------------------------

loc_CB7A:
					; sub_C814+31Dj
		call	sub_C316
		jmp	short loc_CB89
; ---------------------------------------------------------------------------

loc_CB7F:
		call	sub_C316
		push	0
		call	sub_CE7A

loc_CB89:
		call	super_free
		call	text_clear
		push	1
		call	palette_black_out
		pop	di
		pop	si
		leave
		retn
sub_C814	endp

; ---------------------------------------------------------------------------
off_CB9E	dw offset loc_CA9A
		dw offset loc_CAA0
		dw offset loc_CAB6
		dw offset loc_CABD
		dw offset loc_CABD
		dw offset loc_CABD
		dw offset loc_CABD
		dw offset loc_CABD
		dw offset loc_CB7A

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBB0	proc near
		push	bp
		mov	bp, sp
		mov	al, 0
		out	7Ch, al
		mov	al, 7
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 5
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 80h	; 'Ä'
		out	7Ch, al
		mov	al, 6
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	ax, 0FFF0h
		mov	dx, 4A0h
		out	dx, ax
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0FFFFh
		mov	dx, 4A8h
		out	dx, ax
		mov	ax, 0
		mov	dx, 4ACh
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		pop	bp
		retn
sub_CBB0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBF3	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	8, 0
		push	si
		push	di
		mov	di, [bp+arg_2]
		call	sub_CBB0
		mov	ax, [bp+arg_6]
		sar	ax, 3
		mov	dx, [bp+arg_4]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+arg_4]
		shl	dx, 4
		add	ax, dx
		mov	[bp+var_6], ax
		mov	bx, 10h
		mov	ax, di
		cwd
		idiv	bx
		mov	di, ax
		mov	[bp+var_4], 0
		jmp	short loc_CC66
; ---------------------------------------------------------------------------

loc_CC29:
		mov	[bp+var_2], 0
		mov	si, [bp+var_6]
		jmp	short loc_CC5A
; ---------------------------------------------------------------------------

loc_CC33:
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		les	bx, dword_FC3C
		add	bx, si
		mov	ax, es:[bx]
		mov	[bp+var_8], ax
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	bx, word ptr dword_FC3C
		add	bx, si
		mov	ax, [bp+var_8]
		mov	es:[bx], ax
		inc	[bp+var_2]
		add	si, 2

loc_CC5A:
		cmp	[bp+var_2], di
		jl	short loc_CC33
		inc	[bp+var_4]
		add	[bp+var_6], 50h	; 'P'

loc_CC66:
		mov	ax, [bp+var_4]
		cmp	ax, [bp+arg_0]
		jl	short loc_CC29
		call	egc_off
		pop	di
		pop	si
		leave
		retn	8
sub_CBF3	endp

seg001		ends

; ===========================================================================

; Segment type:	Pure code
seg002		segment	byte public 'CODE' use16
		assume cs:seg002
		;org 9
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CC7A	proc far
		push	bp
		mov	bp, sp
		mov	dword_FC3C, 0A8000000h
		mov	dword_FC40, 0B0000000h
		mov	dword_FC44, 0B8000000h
		mov	dword_FC48, 0E0000000h
		pop	bp
		retf
sub_CC7A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CCA3	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	vsync_Count1, 0

loc_CCAC:
		mov	ax, vsync_Count1
		cmp	ax, [bp+arg_0]
		jb	short loc_CCAC
		pop	bp
		retf	2
sub_CCA3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CCB8	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	30h ; '0'       ; n
		push	ds
		mov	ax, [bp+arg_0]
		imul	ax, 48h
		add	ax, 17D2h
		push	ax		; src
		push	ds
		push	offset Palettes	; dest
		call	_memcpy
		add	sp, 0Ah
		call	far ptr	palette_show
		pop	bp
		retf	2
sub_CCB8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CCDD	proc far

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	6, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		mov	bx, di
		shl	bx, 2
		mov	ax, [bx+17A4h]
		mov	dx, [bx+17A2h]
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		mov	[bp+var_6], 0
		jmp	short loc_CD51
; ---------------------------------------------------------------------------

loc_CD03:
		push	[bp+arg_4]
		push	si
		push	large [bp+var_4]
		mov	bx, di
		imul	bx, 48h
		push	word ptr [bx+17CEh]
		call	sub_18BA
		inc	si
		cmp	si, 190h
		jl	short loc_CD24
		sub	si, 190h

loc_CD24:
		mov	bx, di
		imul	bx, 48h
		mov	ax, [bx+17CEh]
		shr	ax, 1
		add	word ptr [bp+var_4], ax
		mov	eax, [bp+var_4]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_4]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_4]
		and	dx, 0Fh
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		inc	[bp+var_6]

loc_CD51:
		mov	bx, di
		imul	bx, 48h
		mov	ax, [bx+17D0h]
		cmp	ax, [bp+var_6]
		ja	short loc_CD03
		pop	di
		pop	si
		leave
		retf	6
sub_CCDD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CD65	proc far

var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		enter	2, 0
		push	si
		mov	si, [bp+arg_4]
		mov	ax, si
		imul	ax, 48h
		add	ax, 17BAh
		push	ds
		push	ax
		mov	bx, si
		shl	bx, 2
		push	large dword ptr	[bx+17A2h]
		call	graph_pi_free
		push	large [bp+arg_0]
		mov	ax, si
		imul	ax, 48h
		add	ax, 17BAh
		push	ds
		push	ax
		mov	ax, si
		shl	ax, 2
		add	ax, 17A2h
		push	ds
		push	ax
		call	graph_pi_load_pack
		mov	[bp+var_2], ax
		pop	si
		leave
		retf	6
sub_CD65	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CDAB	proc far

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	6, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_0]
		mov	bx, [bp+arg_2]
		shl	bx, 2
		mov	ax, [bx+17A4h]
		mov	dx, [bx+17A2h]
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		cmp	di, 1
		jnz	short loc_CDD7
		add	word ptr [bp+var_4], 0A0h ; '†'
		jmp	short loc_CDED
; ---------------------------------------------------------------------------

loc_CDD7:
		cmp	di, 2
		jnz	short loc_CDE3
		add	word ptr [bp+var_4], 0FA00h
		jmp	short loc_CDED
; ---------------------------------------------------------------------------

loc_CDE3:
		cmp	di, 3
		jnz	short loc_CDED
		add	word ptr [bp+var_4], 0FAA0h

loc_CDED:
		mov	eax, [bp+var_4]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_4]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_4]
		and	dx, 0Fh
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		mov	[bp+var_6], 0
		jmp	short loc_CE4F
; ---------------------------------------------------------------------------

loc_CE10:
		push	[bp+arg_6]
		push	si
		push	large [bp+var_4]
		push	140h
		call	sub_18BA
		inc	si
		cmp	si, 190h
		jl	short loc_CE2B
		sub	si, 190h

loc_CE2B:
		add	word ptr [bp+var_4], 140h
		mov	eax, [bp+var_4]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_4]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_4]
		and	dx, 0Fh
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		inc	[bp+var_6]

loc_CE4F:
		cmp	[bp+var_6], 0C8h ; '»'
		jl	short loc_CE10
		pop	di
		pop	si
		leave
		retf	8
sub_CDAB	endp

; ---------------------------------------------------------------------------
		push	di
		xor	ax, ax
		mov	di, 196Ah
		xor	dl, dl
		jmp	short loc_CE71
; ---------------------------------------------------------------------------

loc_CE66:
		xor	dl, dl
		mov	cx, 8

loc_CE6B:
		rol	al, 1
		rcr	dl, 1
		loop	loc_CE6B

loc_CE71:
		mov	[di], dl
		inc	di
		inc	al
		jnz	short loc_CE66
		pop	di
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CE7A	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_0]
		xor	di, di

loc_CE84:
		nop
		push	cs
		call	sub_D48A
		push	1
		nop
		push	cs
		call	near ptr sub_CCA3
		nop
		push	cs
		call	near ptr sub_D492
		cmp	word_10072, 0
		jnz	short loc_CE84
		or	si, si
		jnz	short loc_CEC6
		mov	si, 270Fh
		jmp	short loc_CEC6
; ---------------------------------------------------------------------------

loc_CEA5:
		nop
		push	cs
		call	sub_D48A
		push	1
		nop
		push	cs
		call	near ptr sub_CCA3
		nop
		push	cs
		call	near ptr sub_D492
		cmp	word_10072, 0
		jnz	short loc_CECA
		inc	di
		cmp	si, 270Fh
		jnz	short loc_CEC6
		xor	di, di

loc_CEC6:
		cmp	di, si
		jl	short loc_CEA5

loc_CECA:
		pop	di
		pop	si
		pop	bp
		retf	2
sub_CE7A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CED0	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		movsx	eax, [bp+arg_2]
		movsx	edx, [bp+arg_0]
		imul	eax, edx
		sar	eax, 8
		add	ax, [bp+arg_4]
		pop	bp
		retf	6
sub_CED0	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+0Eh]
		mov	bx, [bp+6]
		add	bx, bx
		movsx	eax, word ptr [bp+8]
		movsx	edx, word ptr [bx+1F4h]
		imul	eax, edx
		sar	eax, 8
		add	ax, [bp+0Ch]
		mov	[si], ax
		movsx	eax, word ptr [bp+8]
		movsx	edx, word ptr [bx+174h]
		imul	eax, edx
		sar	eax, 8
		add	ax, [bp+0Ah]
		mov	[si+2],	ax
		pop	si
		pop	bp
		retf	0Ah

; =============== S U B	R O U T	I N E =======================================


sub_CF2E	proc far
		xor	ax, ax
		mov	byte_FF9A, 60h ; '`'
		mov	byte_EAD2, al
		mov	byte_EAD1, al
		mov	byte_EAD0, al
		mov	es, ax
		les	bx, dword ptr es:[0180h]
		assume es:nothing
		cmp	byte ptr es:[bx+2], 50h	; 'P'
		jnz	short locret_CF5B
		cmp	byte ptr es:[bx+3], 4Dh	; 'M'
		jnz	short locret_CF5B
		cmp	byte ptr es:[bx+4], 44h	; 'D'
		jnz	short locret_CF5B
		inc	ax

locret_CF5B:
		retf
sub_CF2E	endp


; =============== S U B	R O U T	I N E =======================================


sub_CF5C	proc far
		xor	ax, ax
		mov	es, ax
		les	bx, dword ptr es:[0184h]
		assume es:nothing
		cmp	byte ptr es:[bx+2], 4Dh	; 'M'
		jnz	short loc_CF88
		cmp	byte ptr es:[bx+3], 4Dh	; 'M'
		jnz	short loc_CF88
		cmp	byte ptr es:[bx+4], 44h	; 'D'
		jnz	short loc_CF88
		mov	byte_FF9A, 61h ; 'a'
		mov	byte_EAD2, 1
		mov	ax, 1
		retf
; ---------------------------------------------------------------------------

loc_CF88:
		xor	ax, ax
		retf
sub_CF5C	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CF8C	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	byte_EAD1, 0
		jz	short loc_CFA6
		mov	ax, [bp+arg_0]
		cmp	byte_EAD1, 3
		jz	short loc_CFA4
		int	60h
		jmp	short loc_CFA6
; ---------------------------------------------------------------------------

loc_CFA4:
		int	61h		; reserved for user interrupt

loc_CFA6:
		pop	bp
		retf	2
sub_CF8C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CFAA	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		nop
		push	cs
		call	near ptr sub_CF2E
		cmp	si, 3
		jnz	short loc_CFC4
		nop
		push	cs
		call	near ptr sub_CF5C

loc_CFC4:
		mov	ah, 9
		int	60h
		cmp	al, 0FFh
		jnz	short loc_CFD3
		mov	byte_EAD1, 0
		jmp	short loc_CFE3
; ---------------------------------------------------------------------------

loc_CFD3:
		or	al, al
		jnz	short loc_CFDE
		mov	byte_EAD1, 1
		jmp	short loc_CFE3
; ---------------------------------------------------------------------------

loc_CFDE:
		mov	byte_EAD1, 2

loc_CFE3:
		cmp	di, 1
		jnz	short loc_CFFB
		cmp	byte_EAD1, 0
		jz	short loc_CFF4
		mov	ax, 1
		jmp	short loc_CFF6
; ---------------------------------------------------------------------------

loc_CFF4:
		xor	ax, ax

loc_CFF6:
		mov	byte_EAD0, al
		jmp	short loc_D00C
; ---------------------------------------------------------------------------

loc_CFFB:
		cmp	di, 2
		jnz	short loc_D007
		mov	byte_EAD0, 2
		jmp	short loc_D00C
; ---------------------------------------------------------------------------

loc_D007:
		mov	byte_EAD0, 0

loc_D00C:
		or	si, si
		jnz	short loc_D017
		mov	byte_EAD1, 0
		jmp	short loc_D03B
; ---------------------------------------------------------------------------

loc_D017:
		cmp	si, 3
		jnz	short loc_D02A
		cmp	byte_EAD2, 0
		jz	short loc_D02A
		mov	byte_EAD1, 3
		jmp	short loc_D03B
; ---------------------------------------------------------------------------

loc_D02A:
		cmp	si, 1
		jnz	short loc_D03B
		cmp	byte_EAD1, 0
		jz	short loc_D03B
		mov	byte_EAD1, 1

loc_D03B:
		mov	al, byte_EAD1
		mov	ah, 0
		pop	di
		pop	si
		pop	bp
		retf	4
sub_CFAA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D046	proc far
					; sub_B44D+8CP	...

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		cmp	byte_EAD1, 0
		jnz	short loc_D05C
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr sub_CCA3
		pop	bp
		retf	4
; ---------------------------------------------------------------------------

loc_D05C:
		mov	ah, 5
		cmp	byte_EAD1, 3
		jz	short loc_D069
		int	60h		; - FTP	Packet Driver -	BASIC FUNC - TERMINATE DRIVER FOR HANDLE
					; BX = handle
					; Return: CF set on error, DH =	error code
					; CF clear if successful
		jmp	short loc_D06E
; ---------------------------------------------------------------------------

loc_D069:
		mov	dx, 0C0h ; '¿'
		int	61h		; reserved for user interrupt

loc_D06E:
		cmp	ax, [bp+arg_2]
		jb	short loc_D05C
		pop	bp
		retf	4
sub_D046	endp

; ---------------------------------------------------------------------------
		db    0
; ---------------------------------------------------------------------------

loc_D078:
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+8]
		shl	si, 4
		add	si, 1B46h
		mov	cx, [bp+0Ch]
		mov	di, cx
		sar	di, 4
		shl	di, 1
		add	di, [si+6]
		mov	ax, [si+8]
		shl	ax, 1
		mov	cs:byte_D0DD, al
		and	cx, 0Fh
		mov	bx, cx
		shl	bx, 1
		mov	bx, [bx+580h]
		mov	cs:word_D0E4, bx
		mov	cs:word_D0F1, bx
		jmp	short $+2
		shl	ax, 1
		add	ax, 50h	; 'P'
		mov	dx, ax
		mov	ax, [bp+0Ah]
		mov	bx, ax
		shl	ax, 2
		add	ax, bx
		add	ax, 0A800h
		mov	es, ax
		push	ds
		mov	ax, [si+0Eh]
		mov	si, [si]
		mov	ds, ax
		mov	ax, [bp+6]
		mov	bp, dx
		mul	si
		mov	si, ax
		cld
; ---------------------------------------------------------------------------
		db 0B5h
byte_D0DD	db 80h
		db 0ADh, 0D3h, 0C8h, 8Bh, 0D0h,	25h
word_D0E4	dw 1234h
		db 33h,	0D0h, 0ABh, 0FEh, 0CDh,	0ADh, 0D3h, 0C8h, 8Bh
		db 0D8h, 25h
word_D0F1	dw 1234h
		db 33h,	0D8h, 0Bh, 0C2h, 8Bh, 0D3h, 0ABh, 0FEh,	0CDh, 75h
		db 0EDh, 0Bh, 0D2h, 74h, 5, 26h, 89h, 15h, 33h,	0D2h, 2Bh
		db 0FDh, 79h, 0D1h, 1Fh, 5Fh, 5Eh, 5Dh,	0CAh, 8, 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D112	proc far
					; sub_B44D+59P	...

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_D127
; ---------------------------------------------------------------------------

loc_D11A:
		les	bx, [bp+arg_2]
		add	bx, si
		mov	al, es:[bx]
		mov	[si+1B32h], al
		inc	si

loc_D127:
		cmp	si, 0Dh
		jl	short loc_D11A
		xor	si, si

loc_D12E:
		inc	si
		cmp	byte ptr [si+1B32h], 0
		jnz	short loc_D12E
		mov	byte ptr [si+1B36h], 0
		mov	byte ptr [si+1B32h], 2Eh ; '.'
		inc	si
		cmp	[bp+arg_0], 0B00h
		jnz	short loc_D17A
		mov	byte ptr [si+1B32h], 65h ; 'e'
		mov	byte ptr [si+1B33h], 66h ; 'f'
		cmp	byte_EAD0, 0
		jz	loc_D1F7
		cmp	byte_EAD0, 2
		jnz	short loc_D173
		mov	byte ptr [si+1B34h], 73h ; 's'
		push	ds
		push	offset unk_10062
		call	bgm_read_sdata
		jmp	loc_D1F7
; ---------------------------------------------------------------------------

loc_D173:
		mov	byte ptr [si+1B34h], 63h ; 'c'
		jmp	short loc_D1CA
; ---------------------------------------------------------------------------

loc_D17A:
		cmp	byte_EAD1, 0
		jz	short loc_D1F7
		push	100h
		nop
		push	cs
		call	near ptr sub_CF8C
		mov	al, byte_EAD1
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		les	bx, [bx+5A4h]
		mov	al, es:[bx]
		mov	[si+1B32h], al
		mov	al, byte_EAD1
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		les	bx, [bx+5A4h]
		mov	al, es:[bx+1]
		mov	[si+1B33h], al
		mov	al, byte_EAD1
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		les	bx, [bx+5A4h]
		mov	al, es:[bx+2]
		mov	[si+1B34h], al

loc_D1CA:
		push	ds
		mov	dx, 1B32h
		mov	ax, 3D00h
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read
		mov	bx, ax
		mov	ax, [bp+arg_0]
		cmp	ah, 6
		jnz	short loc_D1E8
		cmp	byte_EAD1, 3
		jnz	short loc_D1E8
		int	61h		; reserved for user interrupt
		jmp	short loc_D1EA
; ---------------------------------------------------------------------------

loc_D1E8:
		int	60h

loc_D1EA:
		mov	ax, 3F00h
		mov	cx, 5000h
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle

loc_D1F7:
		pop	si
		pop	bp
		retf	6
sub_D112	endp

; ---------------------------------------------------------------------------

loc_D1FC:
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	dx, [bp+0Ah]
		mov	al, 0C0h ; '¿'
		pushf
		cli
		out	7Ch, al
		popf
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		mov	dx, [bp+0Ch]
		shl	dx, 6
		mov	di, dx
		shr	dx, 2
		add	di, dx
		mov	cx, [bp+0Eh]
		mov	al, 0Bh
		out	68h, al
		mov	bx, word_EB2C
		add	bx, bx
		cmp	bx, 8
		jb	short loc_D258
		cmp	bx, 10h
		jnb	short loc_D258
		mov	ax, [bx+5CCh]
		mov	word ptr cs:loc_D350+3,	ax
		mov	bx, 8

loc_D258:
		mov	ax, [bx+5C0h]
		mov	cs:word_D2BB, ax
		mov	ax, [bx+5CAh]
		mov	word ptr cs:loc_D30C+1,	ax
		mov	ax, word_EB2E
		mov	cs:word_D2DA, ax
		mov	word ptr cs:loc_D320+1,	ax
		push	ds
		pop	fs
		assume fs:dseg
		lds	si, [bp+6]
		lodsb
		or	al, al
		jz	short loc_D2E5

loc_D27E:
		mov	dx, cx
		shr	dx, 3
		add	di, dx
		and	cx, 7
		mov	ah, 9
		test	al, 0E0h
		jns	short loc_D2F7
		jp	short loc_D2F4
		mov	ah, al
		lodsb
		shl	ah, 1
		cmp	al, 9Fh	; 'ü'
		jnb	short loc_D29E
		cmp	al, 80h	; 'Ä'
		adc	ax, 0FEDFh

loc_D29E:
		sbb	al, 0FEh ; '˛'
		and	ax, 7F7Fh
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		nop
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, ch
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
; ---------------------------------------------------------------------------
		db 0E8h
word_D2BB	dw 78h
		db 8Ah,	0F8h, 0B3h, 0, 0D3h, 0E8h, 0D3h, 0EBh, 86h, 0E0h
		db 0ABh, 26h, 88h, 1Dh,	83h, 0C7h, 4Eh,	0FEh, 0C5h, 80h
		db 0FDh, 10h, 72h, 0D5h, 81h, 0EFh, 0, 5, 0BAh
word_D2DA	dw 1234h
; ---------------------------------------------------------------------------

loc_D2DC:
		xor	ch, ch
		add	cx, dx
		lodsb
		or	al, al
		jnz	short loc_D27E

loc_D2E5:
		mov	al, 0Ah
		out	68h, al
		xor	al, al
		out	7Ch, al
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ah
; ---------------------------------------------------------------------------

loc_D2F4:
		add	ax, 80h	; 'Ä'

loc_D2F7:
		cmp	al, 20h	; ' '
		jz	short loc_D320
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		nop

loc_D302:
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		xor	ah, ah

loc_D30C:
		call	sub_D335
		ror	ax, cl
		stosw
		add	di, 4Eh	; 'N'
		inc	ch
		cmp	ch, 10h
		jb	short loc_D302
		sub	di, 500h

loc_D320:
		mov	dx, 1234h
		shr	dx, 1
		jmp	short loc_D2DC
; ---------------------------------------------------------------------------
		nop
		mov	dx, ax
		add	dx, dx
		or	ax, dx
		retn
; ---------------------------------------------------------------------------
		mov	dx, ax
		shl	dx, 1
		or	ax, dx

; =============== S U B	R O U T	I N E =======================================


sub_D335	proc near
					; seg002:06D6p
		mov	dx, ax
		mov	bp, ax
		add	bp, bp
		or	ax, bp
		xor	dx, ax
		add	dx, dx
		not	dx
		and	ax, dx
		retn
sub_D335	endp

; ---------------------------------------------------------------------------
		call	sub_D335
		mov	bl, ch
		and	bx, 3
		add	bx, bx

loc_D350:
		and	ax, fs:[bx+1234h]
		retn
; ---------------------------------------------------------------------------

loc_D356:
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		cli
		mov	al, 0C0h ; '¿'
		out	7Ch, al
		mov	dx, 7Eh	; '~'
		xor	al, al
		out	dx, al
		out	dx, al
		out	dx, al
		out	dx, al
		sti
		mov	si, [bp+6]
		shl	si, 4
		add	si, 1B46h
		mov	ax, [si+0Eh]
		mov	cs:word_D3CE, ax
		jmp	short $+2
		mov	ax, [bp+8]
		mov	bx, ax
		shl	ax, 2
		add	ax, bx
		add	ax, 0A800h
		mov	es, ax
		assume es:nothing
		push	0
		add	ax, 3800h
		push	ax
		sub	ax, 2800h
		push	ax
		sub	ax, 800h
		push	ax
		mov	ax, [bp+0Ah]
		shr	ax, 3
		add	ax, [si+6]
		mov	di, ax
		mov	bx, ax
		mov	ax, [si+8]
		mov	bp, ax
		shl	ax, 2
		add	ax, 50h	; 'P'
		mov	dx, ax
		mov	ax, [si+0Ch]
		mov	ds, ax
		xor	si, si
		cld
		nop

loc_D3BE:
		mov	cx, bp
		rep movsd
		sub	di, dx
		jns	short loc_D3BE
		xor	al, al
		out	7Ch, al
		xor	si, si
; ---------------------------------------------------------------------------
		db 0B8h
word_D3CE	dw 1234h
; ---------------------------------------------------------------------------
		mov	ds, ax

loc_D3D2:
		mov	di, bx

loc_D3D4:
		mov	cx, bp

loc_D3D6:
		lodsd
		or	es:[di], eax
		add	di, 4
		loop	loc_D3D6
		sub	di, dx
		jns	short loc_D3D4
		pop	ax
		mov	es, ax
		or	ax, ax
		jnz	short loc_D3D2
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	6
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D3F4	proc far
		push	bp
		mov	bp, sp
		call	sub_29D2
		mov	dx, 0A6h ; '¶'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¶'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '§'
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_24FC
		call	vsync_end
		call	text_clear
		call	js_end
		call	egc_start
		call	bgm_finish
		pop	bp
		retf
sub_D3F4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D43C	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	word_10070
		call	mem_assign_dos
		or	ax, ax
		jz	short loc_D453
		mov	ax, 1
		pop	bp
		retf	4
; ---------------------------------------------------------------------------

loc_D453:
		mov	bbufsiz, 1000h
		nop
		push	cs
		call	near ptr sub_CC7A
		call	vsync_start
		call	egc_start
		call	sub_113A
		call	sub_2B6E
		push	large [bp+arg_0]
		call	sub_2916
		push	800h
		call	bgm_init
		xor	ax, ax
		pop	bp
		retf	4
sub_D43C	endp

; ---------------------------------------------------------------------------
		db    0

; =============== S U B	R O U T	I N E =======================================


sub_D48A	proc near
					; sub_C814+1D8P ...
		xor	ax, ax
		mov	word_10072, ax
		mov	word_F3F6, ax
sub_D48A	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_D492	proc far
					; sub_CE7A+18p	...
		xor	ax, ax
		mov	es, ax
		mov	ah, byte ptr es:[531h]
		test	ah, 4
		jz	short loc_D4A5
		or	word_10072, 1

loc_D4A5:
		test	ah, 20h
		jz	short loc_D4AF
		or	word_10072, 2

loc_D4AF:
		test	ah, 8
		jz	short loc_D4B9
		or	word_10072, 4

loc_D4B9:
		test	ah, 10h
		jz	short loc_D4C3
		or	word_10072, 8

loc_D4C3:
		mov	ah, byte ptr es:[533h]
		test	ah, 1
		jz	short loc_D4D2
		or	word_10072, 8

loc_D4D2:
		test	ah, 4
		jz	short loc_D4DD
		or	word_10072, 400h

loc_D4DD:
		test	ah, 8
		jz	short loc_D4E7
		or	word_10072, 2

loc_D4E7:
		test	ah, 10h
		jz	short loc_D4F2
		or	word_10072, 800h

loc_D4F2:
		mov	ah, byte ptr es:[532h]
		test	ah, 40h
		jz	short loc_D501
		or	word_10072, 4

loc_D501:
		test	ah, 4
		jz	short loc_D50C
		or	word_10072, 100h

loc_D50C:
		test	ah, 8
		jz	short loc_D516
		or	word_10072, 1

loc_D516:
		test	ah, 10h
		jz	short loc_D521
		or	word_10072, 200h

loc_D521:
		mov	ah, byte ptr es:[52Fh]
		test	ah, 2
		jz	short loc_D530
		or	word_10072, 20h

loc_D530:
		test	ah, 4
		jz	short loc_D53A
		or	word_10072, 10h

loc_D53A:
		mov	ah, byte ptr es:[52Ch]
		test	ah, 1
		jz	short loc_D54A
		or	word_10072, 4000h

loc_D54A:
		mov	ah, byte ptr es:[52Ah]
		test	ah, 1
		jz	short loc_D55A
		or	word_10072, 1000h

loc_D55A:
		mov	ah, byte ptr es:[52Dh]
		test	ah, 10h
		jz	short loc_D56A
		or	word_10072, 2000h

loc_D56A:
		mov	ah, byte ptr es:[530h]
		test	ah, 10h
		jz	short loc_D579
		or	word_10072, 20h

loc_D579:
		mov	ah, 2
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		and	al, 1
		mov	byte_10074, al
		cmp	word_E658, 0
		jz	short locret_D592
		call	sub_2CFC
		or	word_10072, ax

locret_D592:
		retf
sub_D492	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D594	proc far
		mov	byte_EB31, 0
		mov	byte_EB30, 0FFh
		retf
sub_D594	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D5A0	proc far
		mov	bx, sp
		mov	dx, ss:[bx+4]
		cmp	byte_EAD0, 0
		jz	short locret_D5D6
		cmp	byte_EB30, 0FFh
		jnz	short loc_D5BB
		mov	byte_EB30, dl
		retf	2
; ---------------------------------------------------------------------------

loc_D5BB:
		mov	bl, byte_EB30
		xor	bh, bh
		mov	al, [bx+55Eh]
		mov	bx, dx
		cmp	al, [bx+55Eh]
		ja	short locret_D5D6
		mov	byte_EB30, dl
		mov	byte_EB31, 0

locret_D5D6:
		retf	2
sub_D5A0	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D5DA	proc far
		cmp	byte_EAD0, 0
		jz	short locret_D625
		cmp	byte_EB30, 0FFh
		jz	short locret_D625
		cmp	byte_EB31, 0
		jnz	short loc_D607
		mov	al, byte_EB30
		cmp	byte_EAD0, 2
		jz	short loc_D5FF
		mov	ah, 0Ch
		int	60h		; - Banyan VINES, 3com - GET STATION ADDRESS
					; Return: AL = status, 00h successful, ES:SI ->	6-byte station address
					; 02h semaphore	service	is unavailable
		jmp	short loc_D607
; ---------------------------------------------------------------------------

loc_D5FF:
		xor	ah, ah
		push	ax
		call	bgm_sound

loc_D607:
		inc	byte_EB31
		mov	bl, byte_EB30
		xor	bh, bh
		mov	al, [bx+56Fh]
		cmp	al, byte_EB31
		jnb	short locret_D625
		mov	byte_EB31, 0
		mov	byte_EB30, 0FFh

locret_D625:
		retf
sub_D5DA	endp


; =============== S U B	R O U T	I N E =======================================


sub_D626	proc far
					; sub_B44D+189P
		push	si
		push	di
		cmp	word_EB32, 0
		jnz	short loc_D65B
		push	7D00h
		call	hmem_allocbyte
		mov	word_EB32, ax
		push	7D00h
		call	hmem_allocbyte
		mov	word_EB34, ax
		push	7D00h
		call	hmem_allocbyte
		mov	word_EB36, ax
		push	7D00h
		call	hmem_allocbyte
		mov	word_EB38, ax

loc_D65B:
		mov	dl, 4
		push	ds
		push	0E000h
		push	word_EB38
		push	0B800h
		push	word_EB36
		push	0B000h
		push	word_EB34
		push	0A800h
		push	word_EB32

loc_D67A:
		pop	es
		assume es:nothing
		pop	ds
		xor	si, si
		xor	di, di
		mov	cx, 1F40h
		rep movsd
		dec	dl
		jnz	short loc_D67A
		pop	ds
		pop	di
		pop	si
		retf
sub_D626	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		push	si
		push	di
		mov	dl, 4
		push	ds
		push	0E000h
		push	word_EB38
		push	0B800h
		push	word_EB36
		push	0B000h
		push	word_EB34
		push	0A800h
		push	word_EB32

loc_D6AF:
		pop	ds
		pop	es
		xor	si, si
		xor	di, di
		mov	cx, 1F40h
		rep movsd
		dec	dl
		jnz	short loc_D6AF
		pop	ds
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D6C4	proc far
		cmp	word_EB32, 0
		jz	short locret_D6F5
		push	word_EB32
		call	hmem_free
		push	word_EB34
		call	hmem_free
		push	word_EB36
		call	hmem_free
		push	word_EB38
		call	hmem_free
		mov	word_EB32, 0

locret_D6F5:
		retf
sub_D6C4	endp

; ---------------------------------------------------------------------------

loc_D6F6:
		push	bp
		mov	bp, sp
		push	di
		push	si
		push	ds
		cld
		mov	ax, [bp+0Ch]
		mov	dx, [bp+0Ah]
		mov	bx, ax
		sar	bx, 4
		shl	bx, 1
		shl	dx, 6
		add	bx, dx
		shr	dx, 2
		add	bx, dx
		mov	cs:word_D75C, bx
		and	ax, 0Fh
		mov	cx, ax
		add	ax, [bp+8]
		shr	ax, 4
		or	cx, cx
		jz	short loc_D729
		inc	ax

loc_D729:
		mov	cs:word_D761, ax
		jmp	short $+2
		mov	cx, 28h	; '('
		sub	cx, ax
		shl	cx, 1
		mov	ax, [bp+6]
		mov	bp, cx
		push	0E000h
		push	word_EB38
		push	0B800h
		push	word_EB36
		push	0B000h
		push	word_EB34
		push	0A800h
		push	word_EB32
		mov	dl, 4
		mov	bx, ax
; ---------------------------------------------------------------------------
		db 0BFh
word_D75C	dw 1234h
		db 1Fh,	7, 0B9h
word_D761	dw 1234h
		db 8Bh,	0F7h, 0F3h, 0A5h, 3, 0FDh, 4Bh,	79h, 0F4h, 0FEh
		db 0CAh, 75h, 0E9h, 1Fh, 5Eh, 5Fh, 5Dh,	0CAh, 8, 0, 90h

; =============== S U B	R O U T	I N E =======================================


sub_D778	proc near
		mov	byte_EB3A, 1
		nop
sub_D778	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D77E	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_6]
		push	di
		nop
		push	cs
		call	near ptr sub_D898
		shl	di, 4
		add	di, 1B46h
		push	large [bp+arg_2]
		call	sub_A88
		push	ds
		push	di
		push	10h
		call	sub_9D4
		mov	ax, [di]
		mov	dx, ax
		cmp	byte ptr [di+0Bh], 0
		jz	short loc_D7BA
		shl	ax, 2
		cmp	byte ptr [di+0Bh], 2
		jz	short loc_D7BA
		add	ax, dx

loc_D7BA:
		mul	[bp+arg_0]
		movzx	eax, ax
		push	eax
		push	1
		call	sub_AC4
		call	sub_D7DE
		call	sub_968
		mov	byte_EB3A, 0
		pop	di
		pop	si
		pop	bp
		retf	8
sub_D77E	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D7DE	proc near
		mov	al, [di+0Bh]
		or	al, al
		jz	short loc_D813
		cmp	al, 2
		jz	short loc_D7F0
		cmp	byte_EB3A, 0
		jnz	short loc_D806

loc_D7F0:
		push	word ptr [di]
		call	hmem_allocbyte
		mov	[di+0Ch], ax
		push	ax
		push	0
		push	word ptr [di]
		call	sub_9D4
		jmp	short loc_D813
; ---------------------------------------------------------------------------

loc_D806:
		movzx	eax, word ptr [di]
		push	eax
		push	1
		call	sub_AC4

loc_D813:
		cmp	byte ptr [di+0Bh], 2
		jz	short locret_D835
		mov	ax, [di]
		shl	ax, 2
		push	ax
		call	hmem_allocbyte
		mov	[di+0Eh], ax
		push	ax
		push	0
		mov	ax, [di]
		shl	ax, 2
		push	ax
		call	sub_9D4

locret_D835:
		retn
sub_D7DE	endp

; ---------------------------------------------------------------------------
		mov	byte_EB3A, 1
		nop
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	large dword ptr	[bp+6]
		call	sub_A88
		mov	di, [bp+0Ah]
		shl	di, 4
		add	di, 1B46h
		push	ds
		push	di
		push	10h
		call	sub_9D4
		mov	si, di
		mov	bp, [bp+0Ah]
		mov	al, [si+0Ah]
		mov	byte_10476, al
		push	ds
		pop	es
		assume es:dseg

loc_D86A:
		push	bp
		push	cs
		call	near ptr sub_D898
		mov	cx, 3
		rep movsd
		sub	si, 0Ch
		sub	di, 0Ch
		call	sub_D7DE
		inc	bp
		add	di, 10h
		dec	byte_10476
		jnz	short loc_D86A
		call	sub_968
		mov	byte_EB3A, 0
		pop	di
		pop	si
		pop	bp
		retf	6

; =============== S U B	R O U T	I N E =======================================


sub_D898	proc far
		mov	bx, sp
		push	di
		mov	di, ss:[bx+4]
		shl	di, 4
		add	di, 1B52h
		cmp	word ptr [di], 0
		jz	short loc_D8B6
		push	word ptr [di]
		call	hmem_free
		mov	word ptr [di], 0

loc_D8B6:
		add	di, 2
		cmp	word ptr [di], 0
		jz	short loc_D8C9
		push	word ptr [di]
		call	hmem_free
		mov	word ptr [di], 0

loc_D8C9:
		pop	di
		retf	2
sub_D898	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D8CE	proc far
		push	si
		mov	si, 3Fh	; '?'

loc_D8D2:
		push	si
		push	cs
		call	near ptr sub_D898
		dec	si
		jge	short loc_D8D2
		pop	si
		retf
sub_D8CE	endp

seg002		ends

; ===========================================================================

; Segment type:	Pure code
seg003		segment	byte public 'CODE' use16
		assume cs:seg003
		;org 0Ch
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::string(string	const &)
@string@$bctr$qmx6string proc far
					; xmsg::xmsg(xmsg &)+56P ...

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9985h
		call	___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_D90B
		mov	ax, 4
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_D925

loc_D90B:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, es:[bx]
		inc	word ptr es:[bx]

loc_D925:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bctr$qmx6string endp

; ---------------------------------------------------------------------------
byte_D94B	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 8Bh,	99h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0BDh, 0
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0), 4, 0, 3, 0,	26h, 0,	2 dup(0FFh)
		db 3, 0, 2Ch, 0, 30h, 0Dh dup(0), 1, 0,	1, 0, 92h, 60h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far string__string(__int32, char *s)
@string@$bctr$qnxc proc	far
					; string::assert_element(uint)+5Ap ...

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
src		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 99F7h
		call	___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_D9F4
		mov	ax, 4
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_DA68

loc_D9F4:
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jz	short loc_DA58
		mov	[bp+var_16], 0Eh
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, word ptr [bp+src]
		or	ax, word ptr [bp+src+2]
		jz	short loc_DA2A
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; s
		call	_strlen
		pop	cx
		pop	cx
		jmp	short loc_DA2C
; ---------------------------------------------------------------------------

loc_DA2A:
		xor	ax, ax

loc_DA2C:
		push	ax		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		nop
		push	cs
		call	near ptr @TStringRef@$bctr$qnxcuit1uiui	; TStringRef::TStringRef(char *,uint,char *,uint,uint)
		add	sp, 12h
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_DA58:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_DA68:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		call	___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bctr$qnxc endp

; ---------------------------------------------------------------------------
		db 4, 0, 90h, 20h, 0Ah,	0, 9Dh,	2
		dw seg seg003
aTstringref	db 'TStringRef *',0
byte_DAA5	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 0Dh,	9Ah
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLengther	db 'string::lengtherror',0
		dd byte_DB35
		db 2 dup(0), 3,	0Dh dup(0)
byte_DAF3	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 5Ah,	9Ah
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 65h,	2
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0)
byte_DB35	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 92h,	60h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 0Ch, 0
		db 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 32h, 0, 3Eh, 0Dh dup(0)
		db 1, 0, 1, 0, 0B4h, 6
		dw seg seg003
		db 5, 0, 42h, 0, 54h, 53h, 74h,	72h, 69h, 6Eh, 67h, 52h
		db 65h,	66h, 2 dup(0), 0E3h, 2
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0), 2, 0, 3, 0,	1Ah, 0,	2 dup(0FFh)
		db 1, 0, 26h, 0, 2Ah, 0Dh dup(0), 54h, 52h, 65h, 66h, 65h
		db 72h,	65h, 6Eh, 63h, 65h, 0Ah	dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far string___string(void (*driver)(void), char)
@string@$bdtr$qv proc far
					; xmsg::~xmsg(void)+3FP ...

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9AB0h
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_DC59
		les	bx, [bp+driver]
		les	bx, es:[bx]
		dec	word ptr es:[bx]
		mov	ax, es:[bx]
		or	ax, ax
		jnz	short loc_DC46
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+driver]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		nop
		push	cs
		call	near ptr sub_DF84
		add	sp, 6

loc_DC46:
		test	[bp+arg_4], 1
		jz	short loc_DC59
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	_registerbgidriver
		pop	cx
		pop	cx

loc_DC59:
					; string::~string(void)+69j
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bdtr$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::assert_element(unsigned int)const
@string@assert_element$xqui proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9AE4h
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jbe	short loc_DC94
		mov	ax, 1
		jmp	short loc_DC96
; ---------------------------------------------------------------------------

loc_DC94:
		xor	ax, ax

loc_DC96:
		or	ax, ax
		jnz	short loc_DD17
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9BD6h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 0DF8h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0C06h
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_DD17:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@assert_element$xqui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::assert_index(unsigned	int)const
@string@assert_index$xqui proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9B28h
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jb	short loc_DD52
		mov	ax, 1
		jmp	short loc_DD54
; ---------------------------------------------------------------------------

loc_DD52:
		xor	ax, ax

loc_DD54:
		or	ax, ax
		jnz	short loc_DDD5
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9BD6h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 0E16h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0C06h
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_DDD5:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@assert_index$xqui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; TSubString::assert_element(unsigned int)const
@TSubString@assert_element$xqui	proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9B6Ch
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jbe	short loc_DE0D
		mov	ax, 1
		jmp	short loc_DE0F
; ---------------------------------------------------------------------------

loc_DE0D:
		xor	ax, ax

loc_DE0F:
		or	ax, ax
		jnz	short loc_DE90
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9BD6h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 0E34h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0C06h
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_DE90:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@TSubString@assert_element$xqui	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far TStringRef__TStringRef(__int32, void *src, size_t n, int, int, int,	int)
@TStringRef@$bctr$qnxcuit1uiui proc far

arg_0		= dword	ptr  6
src		= dword	ptr  0Ah
n		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_DEC2
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jnz	short loc_DEC2
		jmp	loc_DF68
; ---------------------------------------------------------------------------

loc_DEC2:
					; TStringRef::TStringRef(char *,uint,char *,uint,uint)+1Fj
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 1
		mov	word ptr es:[bx+0Ah], 0
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		mov	es:[bx+6], ax
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_10]
		push	ax
		nop
		push	cs
		call	near ptr sub_E11C
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		call	_malloc
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_DF1C
		push	ds
		mov	ax, 0B4Eh
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_DF1C:
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2] ; dest
		call	_memcpy
		push	[bp+arg_E]	; n
		push	[bp+arg_C]
		push	[bp+arg_A]	; src
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		add	ax, [bp+n]
		push	word ptr es:[bx+4]
		push	ax		; dest
		call	_memcpy
		add	sp, 14h
		les	bx, [bp+arg_0]
		les	bx, es:[bx+2]
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		add	bx, ax
		mov	byte ptr es:[bx], 0

loc_DF68:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@TStringRef@$bctr$qnxcuit1uiui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far sub_DF84(void (*driver)(void), char)
sub_DF84	proc far

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::~TStringRef(void)
@TStringRef@$bdtr$qv:
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9B86h
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_DFD6
		les	bx, [bp+driver]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_farfree
		pop	cx
		pop	cx
		test	[bp+arg_4], 1
		jz	short loc_DFD6
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	_registerbgidriver
		pop	cx
		pop	cx

loc_DFD6:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_DF84	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::reserve(unsigned int)
@TStringRef@reserve$qui:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9B98h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		or	word ptr es:[bx+0Ah], 1
		mov	ax, [bp+0Ah]
		inc	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_E11C
		pop	cx
		mov	[bp-20h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-20h]
		cmp	ax, word_F326
		jbe	short loc_E044
		mov	ax, [bp-20h]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp-20h]
		mov	es:[bx+8], ax

loc_E044:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::check_freeboard(void)
@TStringRef@check_freeboard$qv:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9BA2h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		push	word ptr es:[bx+6]
		nop
		push	cs
		call	near ptr sub_E11C
		pop	cx
		mov	[bp-20h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-20h]
		cmp	ax, word_F326
		jbe	short loc_E0AC
		mov	ax, [bp-20h]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp-20h]
		mov	es:[bx+8], ax

loc_E0AC:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_E0BA	proc far

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::grow_to(unsigned int)
@TStringRef@grow_to$qui:
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9BB4h
		call	___InitExceptBlocks
		les	bx, [bp+arg_0]
		mov	ax, [bp+arg_4]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_E10E
		push	ds
		mov	ax, 0B4Eh
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_E10E:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_E0BA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_E11C	proc far
					; seg003:0736p	...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; TStringRef::round_capacity(unsigned int)
@TStringRef@round_capacity$qui:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9BBEh
		call	___InitExceptBlocks
		mov	ax, word_F322
		mov	[bp+var_20], ax
		mov	cx, word_F324
		mov	ax, [bp+arg_0]
		sub	ax, [bp+var_20]
		add	ax, cx
		dec	ax
		xor	dx, dx
		div	cx
		imul	cx
		add	ax, [bp+var_20]
		push	ax
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_E11C	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::splice(unsigned int, unsigned int, char const *, unsigned	int)
@TStringRef@splice$quiuinxcui:
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9BD0h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		add	ax, [bp+12h]
		sub	ax, [bp+0Ch]
		mov	[bp-24h], ax
		push	ax
		push	cs
		call	near ptr sub_E11C
		pop	cx
		mov	[bp-26h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		cmp	ax, [bp-26h]
		jnb	short loc_E1A3
		push	word ptr [bp-26h]
		push	word ptr [bp+8]
		push	bx
		push	cs
		call	near ptr sub_E0BA
		add	sp, 6
		jmp	short loc_E212
; ---------------------------------------------------------------------------

loc_E1A3:
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-26h]
		cmp	ax, word_F326
		jbe	short loc_E212
		test	byte ptr es:[bx+0Ah], 1
		jnz	short loc_E212
		mov	ax, [bp-26h]
		inc	ax
		push	ax
		call	_malloc
		pop	cx
		mov	[bp-20h], dx
		mov	[bp-22h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_E1E4
		push	ds
		mov	ax, 0B4Eh
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_E1E4:
		cmp	word ptr [bp+0Ah], 0
		jz	short loc_E206
		push	word ptr [bp+0Ah]
		les	bx, [bp+6]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		push	word ptr [bp-20h]
		push	word ptr [bp-22h]
		call	_memcpy
		add	sp, 0Ah

loc_E206:
		les	bx, [bp+6]
		mov	ax, [bp-26h]
		mov	es:[bx+8], ax
		jmp	short loc_E223
; ---------------------------------------------------------------------------

loc_E212:
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	[bp-20h], dx
		mov	[bp-22h], ax

loc_E223:
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, [bp-20h]
		jnz	short loc_E240
		cmp	ax, [bp-22h]
		jnz	short loc_E240
		mov	ax, [bp+12h]
		cmp	ax, [bp+0Ch]
		jz	short loc_E272

loc_E240:
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		sub	ax, [bp+0Ah]
		sub	ax, [bp+0Ch]
		push	ax
		mov	ax, es:[bx+2]
		add	ax, [bp+0Ah]
		add	ax, [bp+0Ch]
		push	word ptr es:[bx+4]
		push	ax
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		add	ax, [bp+12h]
		push	word ptr [bp-20h]
		push	ax
		call	_memmove
		add	sp, 0Ah

loc_E272:
		cmp	word ptr [bp+12h], 0
		jz	short loc_E2B6
		mov	ax, [bp+0Eh]
		or	ax, [bp+10h]
		jz	short loc_E29D
		push	word ptr [bp+12h]
		push	word ptr [bp+10h]
		push	word ptr [bp+0Eh]
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		push	word ptr [bp-20h]
		push	ax
		call	_memmove
		add	sp, 0Ah
		jmp	short loc_E2B6
; ---------------------------------------------------------------------------

loc_E29D:
		push	word ptr [bp+12h]
		mov	ax, 20h	; ' '
		push	ax
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		push	word ptr [bp-20h]
		push	ax
		call	_memset
		add	sp, 8

loc_E2B6:
		les	bx, [bp+6]
		mov	ax, [bp-24h]
		mov	es:[bx+6], ax
		push	es
		les	ax, [bp-22h]
		mov	dx, es
		pop	es
		add	ax, es:[bx+6]
		mov	bx, ax
		mov	es, dx
		mov	byte ptr es:[bx], 0
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, [bp-20h]
		jnz	short loc_E2E8
		cmp	ax, [bp-22h]
		jz	short loc_E30B

loc_E2E8:
		les	bx, [bp+6]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_farfree
		pop	cx
		pop	cx
		les	bx, [bp+6]
		mov	dx, [bp-20h]
		mov	ax, [bp-22h]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax

loc_E30B:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::set_case_sensitive(int)
@string@set_case_sensitive$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F31C
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F31C, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::set_paranoid_check(int)
@string@set_paranoid_check$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F31E
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F31E, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::skip_whitespace(int)
@string@skip_whitespace$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F320
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F320, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::initial_capacity(unsigned int)
@string@initial_capacity$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F322
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F322, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::resize_increment(unsigned int)
@string@resize_increment$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F324
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F324, ax
		cmp	word_F324, 0
		jnz	short loc_E3AE
		mov	word_F324, 1

loc_E3AE:
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::max_waste(unsigned int)
@string@max_waste$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F326
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F326, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
byte_E3D4	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 0Bh,	9Ch
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLength_0	db 'string::lengtherror',0
		dd byte_E464
		dw 0
		db 3, 0Dh dup(0), 6, 0,	3, 0, 26h, 0, 2	dup(0FFh), 7, 0
		db 2Eh,	0, 3Ah,	0Dh dup(0), 2, 0, 2, 0,	58h, 9Ch
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 94h,	0Bh
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0)
byte_E464	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 92h,	60h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 4, 0
		db 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h, 0Dh dup(0)
		db 1, 0, 1, 0, 11h, 3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_E4D6	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 0A5h, 9Ch
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringOutofran	db 'string::outofrange',0
		db    0
		dd byte_E464
		db 2 dup(0), 3,	19h dup(0)
seg003		ends

; ===========================================================================

; Segment type:	Pure data
dseg		segment	para public 'DATA' use16
		assume cs:dseg

include libs/BorlandC/c0[data].asm

off_E5C0	dd a_ed000_txt
					; "_ED000.TXT"
aMiko_cfg	db 'MIKO.CFG',0
a_ed000_txt	db '_ED000.TXT',0
aCong00_pi	db 'CONG00.pi',0
aMSzlEd_dat	db 'å∂ëzãΩed.dat',0
aGameft_bft	db 'GAMEFT.bft',0
; char arg0[]
arg0		db 'op',0
		db    0
include libs/master.lib/atrtcmod[data].asm
include libs/master.lib/bfnt_id[data].asm
word_E60C	dw 0
word_E60E	dw 27Fh
word_E610	dw 27Fh
word_E612	dw 0
word_E614	dw 18Fh
word_E616	dw 18Fh
word_E618	dw 0A800h
word_E61A	dw 7CB0h
word_E61C	dw 0
word_E61E	dw 0FFFFh
include libs/master.lib/dos_ropen[data].asm
include libs/master.lib/get_machine_98[data].asm
include libs/master.lib/get_machine_at[data].asm
word_E642	dw 0
		db  10h
		db    0
		db  10h
		db    0
		db    0
		db    0
		db 0FFh
		db    0
include libs/master.lib/grp[data].asm
		db    0
word_E658	dw 0
					; sub_D492+F0r
		dw 0
		dw 0
		dw 0
include libs/master.lib/machine[data].asm
include libs/master.lib/pal[data].asm
include libs/master.lib/pf[data].asm
		db    0
dword_E6A0	dd 1
word_E6A4	dw 0
		db    6
		db    0
		db  0Dh
		db    0
		db  13h
		db    0
		db  19h
		db    0
		db  1Fh
		db    0
		db  26h	; &
		db    0
		db  2Ch	; ,
		db    0
		db  32h	; 2
		db    0
		db  38h	; 8
		db    0
		db  3Eh	; >
		db    0
		db  44h	; D
		db    0
		db  4Ah	; J
		db    0
		db  50h	; P
		db    0
		db  56h	; V
		db    0
		db  5Ch	; \
		db    0
		db  62h	; b
		db    0
		db  68h	; h
		db    0
		db  6Dh	; m
		db    0
		db  73h	; s
		db    0
		db  79h	; y
		db    0
		db  7Eh	; ~
		db    0
		db  84h	; Ñ
		db    0
		db  89h	; â
		db    0
		db  8Eh	; é
		db    0
		db  93h	; ì
		db    0
		db  98h	; ò
		db    0
		db  9Dh	; ù
		db    0
		db 0A2h	; ¢
		db    0
		db 0A7h	; ß
		db    0
		db 0ACh	; ¨
		db    0
		db 0B1h	; ±
		db    0
		db 0B5h	; µ
		db    0
		db 0B9h	; π
		db    0
		db 0BEh	; æ
		db    0
		db 0C2h	; ¬
		db    0
		db 0C6h	; ∆
		db    0
		db 0CAh	;  
		db    0
		db 0CEh	; Œ
		db    0
		db 0D1h	; —
		db    0
		db 0D5h	; ’
		db    0
		db 0D8h	; ÿ
		db    0
		db 0DCh	; ‹
		db    0
		db 0DFh	; ﬂ
		db    0
		db 0E2h	; ‚
		db    0
		db 0E5h	; Â
		db    0
		db 0E7h	; Á
		db    0
		db 0EAh	; Í
		db    0
		db 0EDh	; Ì
		db    0
		db 0EFh	; Ô
		db    0
		db 0F1h	; Ò
		db    0
		db 0F3h	; Û
		db    0
		db 0F5h	; ı
		db    0
		db 0F7h	; ˜
		db    0
		db 0F8h	; ¯
		db    0
		db 0FAh	; ˙
		db    0
		db 0FBh	; ˚
		db    0
		db 0FCh	; ¸
		db    0
		db 0FDh	; ˝
		db    0
		db 0FEh	; ˛
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db    0
		db    1
		db    0
		db    1
word_E724	dw 100h
		db    0
		db    1
		db    0
		db    1
		db 0FFh
		db    0
		db 0FFh
		db    0
		db 0FEh	; ˛
		db    0
		db 0FDh	; ˝
		db    0
		db 0FCh	; ¸
		db    0
		db 0FBh	; ˚
		db    0
		db 0FAh	; ˙
		db    0
		db 0F8h	; ¯
		db    0
		db 0F7h	; ˜
		db    0
		db 0F5h	; ı
		db    0
		db 0F3h	; Û
		db    0
		db 0F1h	; Ò
		db    0
		db 0EFh	; Ô
		db    0
		db 0EDh	; Ì
		db    0
		db 0EAh	; Í
		db    0
		db 0E7h	; Á
		db    0
		db 0E5h	; Â
		db    0
		db 0E2h	; ‚
		db    0
		db 0DFh	; ﬂ
		db    0
		db 0DCh	; ‹
		db    0
		db 0D8h	; ÿ
		db    0
		db 0D5h	; ’
		db    0
		db 0D1h	; —
		db    0
		db 0CEh	; Œ
		db    0
		db 0CAh	;  
		db    0
		db 0C6h	; ∆
		db    0
		db 0C2h	; ¬
		db    0
		db 0BEh	; æ
		db    0
		db 0B9h	; π
		db    0
word_E764	dw 0B5h
		db 0B1h	; ±
		db    0
		db 0ACh	; ¨
		db    0
		db 0A7h	; ß
		db    0
		db 0A2h	; ¢
		db    0
		db  9Dh	; ù
		db    0
		db  98h	; ò
		db    0
		db  93h	; ì
		db    0
		db  8Eh	; é
		db    0
		db  89h	; â
		db    0
		db  84h	; Ñ
		db    0
		db  7Eh	; ~
		db    0
		db  79h	; y
		db    0
		db  73h	; s
		db    0
		db  6Dh	; m
		db    0
		db  68h	; h
		db    0
		db  62h	; b
		db    0
		db  5Ch	; \
		db    0
		db  56h	; V
		db    0
		db  50h	; P
		db    0
		db  4Ah	; J
		db    0
		db  44h	; D
		db    0
		db  3Eh	; >
		db    0
		db  38h	; 8
		db    0
		db  32h	; 2
		db    0
		db  2Ch	; ,
		db    0
		db  26h	; &
		db    0
		db  1Fh
		db    0
		db  19h
		db    0
		db  13h
		db    0
		db  0Dh
		db    0
		db    6
		db    0
word_E7A4	dw 0
		db 0FAh	; ˙
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0EDh	; Ì
		db 0FFh
		db 0E7h	; Á
		db 0FFh
		db 0E1h	; ·
		db 0FFh
		db 0DAh	; ⁄
		db 0FFh
		db 0D4h	; ‘
		db 0FFh
		db 0CEh	; Œ
		db 0FFh
		db 0C8h	; »
		db 0FFh
		db 0C2h	; ¬
		db 0FFh
		db 0BCh	; º
		db 0FFh
		db 0B6h	; ∂
		db 0FFh
		db 0B0h	; ∞
		db 0FFh
		db 0AAh	; ™
		db 0FFh
		db 0A4h	; §
		db 0FFh
		db  9Eh	; û
		db 0FFh
		db  98h	; ò
		db 0FFh
		db  93h	; ì
		db 0FFh
		db  8Dh	; ç
		db 0FFh
		db  87h	; á
		db 0FFh
		db  82h	; Ç
		db 0FFh
		db  7Ch	; |
		db 0FFh
		db  77h	; w
		db 0FFh
		db  72h	; r
		db 0FFh
		db  6Dh	; m
		db 0FFh
		db  68h	; h
		db 0FFh
		db  63h	; c
		db 0FFh
		db  5Eh	; ^
		db 0FFh
		db  59h	; Y
		db 0FFh
		db  54h	; T
		db 0FFh
		db  4Fh	; O
		db 0FFh
word_E7E4	dw 0FF4Bh
		db  47h	; G
		db 0FFh
		db  42h	; B
		db 0FFh
		db  3Eh	; >
		db 0FFh
		db  3Ah	; :
		db 0FFh
		db  36h	; 6
		db 0FFh
		db  32h	; 2
		db 0FFh
		db  2Fh	; /
		db 0FFh
		db  2Bh	; +
		db 0FFh
		db  28h	; (
		db 0FFh
		db  24h	; $
		db 0FFh
		db  21h	; !
		db 0FFh
		db  1Eh
		db 0FFh
		db  1Bh
		db 0FFh
		db  19h
		db 0FFh
		db  16h
		db 0FFh
		db  13h
		db 0FFh
		db  11h
		db 0FFh
		db  0Fh
		db 0FFh
		db  0Dh
		db 0FFh
		db  0Bh
		db 0FFh
		db    9
		db 0FFh
		db    8
		db 0FFh
		db    6
		db 0FFh
		db    5
		db 0FFh
		db    4
		db 0FFh
		db    3
		db 0FFh
		db    2
		db 0FFh
		db    1
		db 0FFh
		db    1
		db 0FFh
		db    0
		db 0FFh
		db    0
		db 0FFh
word_E824	dw 0FF00h
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    1
		db 0FFh
		db    1
		db 0FFh
		db    2
		db 0FFh
		db    3
		db 0FFh
		db    4
		db 0FFh
		db    5
		db 0FFh
		db    6
		db 0FFh
		db    8
		db 0FFh
		db    9
		db 0FFh
		db  0Bh
		db 0FFh
		db  0Dh
		db 0FFh
		db  0Fh
		db 0FFh
		db  11h
		db 0FFh
		db  13h
		db 0FFh
		db  16h
		db 0FFh
		db  19h
		db 0FFh
		db  1Bh
		db 0FFh
		db  1Eh
		db 0FFh
		db  21h	; !
		db 0FFh
		db  24h	; $
		db 0FFh
		db  28h	; (
		db 0FFh
		db  2Bh	; +
		db 0FFh
		db  2Fh	; /
		db 0FFh
		db  32h	; 2
		db 0FFh
		db  36h	; 6
		db 0FFh
		db  3Ah	; :
		db 0FFh
		db  3Eh	; >
		db 0FFh
		db  42h	; B
		db 0FFh
		db  47h	; G
		db 0FFh
word_E864	dw 0FF4Bh
		db  4Fh	; O
		db 0FFh
		db  54h	; T
		db 0FFh
		db  59h	; Y
		db 0FFh
		db  5Eh	; ^
		db 0FFh
		db  63h	; c
		db 0FFh
		db  68h	; h
		db 0FFh
		db  6Dh	; m
		db 0FFh
		db  72h	; r
		db 0FFh
		db  77h	; w
		db 0FFh
		db  7Ch	; |
		db 0FFh
		db  82h	; Ç
		db 0FFh
		db  87h	; á
		db 0FFh
		db  8Dh	; ç
		db 0FFh
		db  93h	; ì
		db 0FFh
		db  98h	; ò
		db 0FFh
		db  9Eh	; û
		db 0FFh
		db 0A4h	; §
		db 0FFh
		db 0AAh	; ™
		db 0FFh
		db 0B0h	; ∞
		db 0FFh
		db 0B6h	; ∂
		db 0FFh
		db 0BCh	; º
		db 0FFh
		db 0C2h	; ¬
		db 0FFh
		db 0C8h	; »
		db 0FFh
		db 0CEh	; Œ
		db 0FFh
		db 0D4h	; ‘
		db 0FFh
		db 0DAh	; ⁄
		db 0FFh
		db 0E1h	; ·
		db 0FFh
		db 0E7h	; Á
		db 0FFh
		db 0EDh	; Ì
		db 0FFh
		db 0F3h	; Û
		db 0FFh
		db 0FAh	; ˙
		db 0FFh
word_E8A4	dw 0
		db    6
		db    0
		db  0Dh
		db    0
		db  13h
		db    0
		db  19h
		db    0
		db  1Fh
		db    0
		db  26h	; &
		db    0
		db  2Ch	; ,
		db    0
		db  32h	; 2
		db    0
		db  38h	; 8
		db    0
		db  3Eh	; >
		db    0
		db  44h	; D
		db    0
		db  4Ah	; J
		db    0
		db  50h	; P
		db    0
		db  56h	; V
		db    0
		db  5Ch	; \
		db    0
		db  62h	; b
		db    0
		db  68h	; h
		db    0
		db  6Dh	; m
		db    0
		db  73h	; s
		db    0
		db  79h	; y
		db    0
		db  7Eh	; ~
		db    0
		db  84h	; Ñ
		db    0
		db  89h	; â
		db    0
		db  8Eh	; é
		db    0
		db  93h	; ì
		db    0
		db  98h	; ò
		db    0
		db  9Dh	; ù
		db    0
		db 0A2h	; ¢
		db    0
		db 0A7h	; ß
		db    0
		db 0ACh	; ¨
		db    0
		db 0B1h	; ±
		db    0
word_E8E4	dw 0B5h
		db 0B9h	; π
		db    0
		db 0BEh	; æ
		db    0
		db 0C2h	; ¬
		db    0
		db 0C6h	; ∆
		db    0
		db 0CAh	;  
		db    0
		db 0CEh	; Œ
		db    0
		db 0D1h	; —
		db    0
		db 0D5h	; ’
		db    0
		db 0D8h	; ÿ
		db    0
		db 0DCh	; ‹
		db    0
		db 0DFh	; ﬂ
		db    0
		db 0E2h	; ‚
		db    0
		db 0E5h	; Â
		db    0
		db 0E7h	; Á
		db    0
		db 0EAh	; Í
		db    0
		db 0EDh	; Ì
		db    0
		db 0EFh	; Ô
		db    0
		db 0F1h	; Ò
		db    0
		db 0F3h	; Û
		db    0
		db 0F5h	; ı
		db    0
		db 0F7h	; ˜
		db    0
		db 0F8h	; ¯
		db    0
		db 0FAh	; ˙
		db    0
		db 0FBh	; ˚
		db    0
		db 0FCh	; ¸
		db    0
		db 0FDh	; ˝
		db    0
		db 0FEh	; ˛
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db    0
		db    1
		db    0
		db    1
include libs/master.lib/tx[data].asm
include libs/master.lib/vs[data].asm
		db 0FFh
		db  7Fh	; 
		db  3Fh	; ?
		db  1Fh
		db  0Fh
		db    7
		db    3
		db    1
include libs/master.lib/mem[data].asm
include libs/master.lib/super_entry_bfnt[data].asm
include libs/master.lib/superpa[data].asm
a_exe		db '.exe',0
		db    0
include libs/master.lib/bgm_timerhook[data].asm
include libs/master.lib/bgm[data].asm
		dw 0
		db  20h
		db  10h
		db    2
		db  12h
		db  12h
		db  40h	; @
		db  10h
		db  11h
		db    2
		db  12h
		db  20h
		db  20h
		db  20h
		db  20h
		db    0
		db    0
		db    0
		db  24h	; $
		db  10h
		db    4
		db  10h
		db    8
		db  30h	; 0
		db  50h	; P
		db  11h
		db    4
		db  0Bh
		db  50h	; P
		db  50h	; P
		db  50h	; P
		db  20h
		db    0
		db 0FFh
		db 0FFh
		db  7Fh	; 
		db 0FFh
		db  3Fh	; ?
		db 0FFh
		db  1Fh
		db 0FFh
		db  0Fh
		db 0FFh
		db    7
		db 0FFh
		db    3
		db 0FFh
		db    1
		db 0FFh
		db    0
		db 0FFh
		db    0
		db  7Fh	; 
		db    0
		db  3Fh	; ?
		db    0
		db  1Fh
		db    0
		db  0Fh
		db    0
		db    7
		db    0
		db    3
		db    0
		db    1
byte_EAD0	db 0
					; sub_CFAA:loc_CFF6w ...
byte_EAD1	db 0
byte_EAD2	db 0
		db    0
		dd aM26			; "m26"
		dd aM26			; "m26"
		dd aM86			; "m86"
		dd aMmd			; "mmd"
aM26		db 'm26',0
aM86		db 'm86',0
aMmd		db 'mmd',0
		db  71h	; q
		db    0
		db  6Bh	; k
		db    0
		db  78h	; x
		db    0
		db  72h	; r
		db    0
		db  89h	; â
		db    0
		db  1Fh
		db    0
		db  19h
		db    0
		db  26h	; &
		db    0
		db  20h
		db    0
		db  37h	; 7
		db    0
		db 0DCh	; ‹
		db    5
		db 0E4h	; ‰
		db    5
		db 0ECh	; Ï
		db    5
		db 0F4h	; Ù
		db    5
		db  88h	; à
		db  88h	; à
		db    0
		db    0
		db  22h	; "
		db  22h	; "
		db    0
		db    0
		db  88h	; à
		db  88h	; à
		db  44h	; D
		db  44h	; D
		db  22h	; "
		db  22h	; "
		db  11h
		db  11h
		db 0AAh	; ™
		db 0AAh	; ™
		db  44h	; D
		db  44h	; D
		db 0AAh	; ™
		db 0AAh	; ™
		db  11h
		db  11h
		db 0AAh	; ™
		db 0AAh	; ™
		db  55h	; U
		db  55h	; U
		db 0AAh	; ™
		db 0AAh	; ™
		db  55h	; U
		db  55h	; U
word_EB2C	dw 2
word_EB2E	dw 10h
byte_EB30	db 0FFh
byte_EB31	db 0
word_EB32	dw 0
word_EB34	dw 0
word_EB36	dw 0
word_EB38	dw 0
byte_EB3A	db 0
		db    0
		db    0
		db    0
		db  11h
		db  11h
		db    0
		db    0
		db  44h	; D
		db  44h	; D
		db  88h	; à
		db  88h	; à
		db  11h
		db  11h
		db  22h	; "
		db  22h	; "
		db  44h	; D
		db  44h	; D
		db 0AAh	; ™
		db 0AAh	; ™
		db  55h	; U
		db  55h	; U
		db 0AAh	; ™
		db 0AAh	; ™
		db  55h	; U
		db  55h	; U
		db 0EEh	; Ó
		db 0EEh	; Ó
		db  77h	; w
		db  77h	; w
		db 0BBh	; ª
		db 0BBh	; ª
		db 0DDh	; ›
		db 0DDh	; ›
		db  88h	; à
		db  88h	; à
		db    0
		db    0
		db  22h	; "
		db  22h	; "
		db    0
		db    0
		db  88h	; à
		db  88h	; à
		db  44h	; D
		db  44h	; D
		db  22h	; "
		db  22h	; "
		db  11h
		db  11h
		db 0AAh	; ™
		db 0AAh	; ™
		db  44h	; D
		db  44h	; D
		db 0AAh	; ™
		db 0AAh	; ™
		db  11h
		db  11h
		db 0AAh	; ™
		db 0AAh	; ™
		db  44h	; D
		db  44h	; D
		db 0AAh	; ™
		db 0AAh	; ™
		db  55h	; U
		db  55h	; U
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db  20h
		db  20h
		db    0
		db    0
aSff1_pi	db 'sff1.pi',0
aStaff		db 'staff',0
aSff1_cdg	db 'sff1.cdg',0
aSff1b_cdg	db 'sff1b.cdg',0
aSff2_cdg	db 'sff2.cdg',0
aSff2b_cdg	db 'sff2b.cdg',0
aSff3_cdg	db 'sff3.cdg',0
aSff3b_cdg	db 'sff3b.cdg',0
aSff2_pi	db 'sff2.pi',0
aSff4_cdg	db 'sff4.cdg',0
aSff4b_cdg	db 'sff4b.cdg',0
aSff5_cdg	db 'sff5.cdg',0
aSff5b_cdg	db 'sff5b.cdg',0
aSff8_cdg	db 'sff8.cdg',0
aSff8b_cdg	db 'sff8b.cdg',0
aSff9_cdg	db 'sff9.cdg',0
aSff9b_cdg	db 'sff9b.cdg',0
aSff6_cdg	db 'sff6.cdg',0
aSff6b_cdg	db 'sff6b.cdg',0
aSff7_cdg	db 'sff7.cdg',0
aSff7b_cdg	db 'sff7b.cdg',0
		db    0
byte_EC4A	db 0
		db    2
		db    2
		db    2
		db 0AEh	; Æ
		db 0AAh	; ™
		db 0BCh	; º
		db 0C2h	; ¬
		db    0
		db    2
		db 0B7h	; ∑
		db 0B8h	; ∏
		db 0BBh	; ª
		db 0B6h	; ∂
		db 0AAh	; ™
		db 0B5h	; µ
		db    0
		db    2
		db    2
		db    2
		db 0B1h	; ±
		db 0AAh	; ™
		db 0BBh	; ª
		db 0ADh	; ≠
		db    0
		db 0B5h	; µ
		db 0BEh	; æ
		db 0B7h	; ∑
		db 0AAh	; ™
		db 0BDh	; Ω
		db 0B2h	; ≤
		db 0ACh	; ¨
		db    0
		db    2
		db    2
		db 0AEh	; Æ
		db 0C1h	; ¡
		db 0BDh	; Ω
		db 0BBh	; ª
		db 0AAh	; ™
		db    0
byte_EC73	db 0
aU_		db 'ì_',0
aBd		db 'ÅD',0
aBu		db 'Åì',0
aBd_0		db 'ÅD',0
aBu_0		db 'Åì',0
aB@b@b@b@b@b@b@	db 'Å@Å@Å@Å@Å@Å@Å@ òrëOîªíË',0
aUqiUx		db 'ìÔà’ìx',0
aNPiuU_		db 'ç≈èIìæì_',0
aGGxi		db 'É~ÉXâÒêî',0
aGGaogcpi	db 'É{ÉÄégópâÒêî',0
aGqbGatbrmcj	db 'ÉQÅ[ÉÄíBê¨ó¶',0
aIlcSObcj	db 'à´óÏëﬁé°ó¶',0
aGagcgegai	db 'ÉAÉCÉeÉÄâÒé˚ó¶',0
aUU_gagcgeganNv	db 'ìæì_ÉAÉCÉeÉÄç≈çÇì_ó¶',0
aLcnzvv		db 'ãCçáÇ¢',0
aPicacovCj	db 'èàóùóéÇøó¶',0
aVavVVSrso	db 'Ç†Ç»ÇΩÇÃòrëO',0
aTimes		db 'âÒ',0
aTimes_0	db 'âÒ',0
aPoint		db 'ì_',0
a_ude_txt	db '_ude.txt',0
aBhbhbhbhbhbhu_	db 'ÅHÅHÅHÅHÅHÅHì_',0
aPicacovVVcvsfT	db 'èàóùóéÇøÇ…ÇÊÇÈîªíËïsâ¬',0
aUde_pi		db 'ude.pi',0
		db    0
byte_ED5C	db 0AAh
		db 0ABh	; ´
		db 0ACh	; ¨
		db 0ADh	; ≠
		db 0AEh	; Æ
		db 0AFh	; Ø
		db 0B0h	; ∞
		db 0B1h	; ±
		db 0B2h	; ≤
		db 0B3h	; ≥
		db 0B4h	; ¥
		db 0B5h	; µ
		db 0B6h	; ∂
		db 0B7h	; ∑
		db 0B8h	; ∏
		db 0B9h	; π
		db 0BAh	; ∫
		db 0BBh	; ª
		db 0BCh	; º
		db 0BDh	; Ω
		db 0BEh	; æ
		db 0BFh	; ø
		db 0C0h	; ¿
		db 0C1h	; ¡
		db 0C2h	; ¬
		db 0C3h	; √
		db 0C4h	; ƒ
		db 0C5h	; ≈
		db    3
		db    6
		db    7
		db    8
		db  0Ch
		db  0Fh
		db 0A0h	; †
		db 0A1h	; °
		db 0A2h	; ¢
		db 0A3h	; £
		db 0A4h	; §
		db 0A5h	; •
		db 0A6h	; ¶
		db 0A7h	; ß
		db 0A8h	; ®
		db 0A9h	; ©
		db 0E6h	; Ê
		db 0E7h	; Á
		db 0E8h	; Ë
		db 0CEh	; Œ
		db 0CFh	; œ
		db 0CDh	; Õ
		db 0D5h	; ’
aGensou_scr	db 'GENSOU.SCR',0
aGensou_scr_0	db 'GENSOU.SCR',0
aGensou_scr_1	db 'GENSOU.SCR',0
aGensou_scr_2	db 'GENSOU.SCR',0
aHi01_pi	db 'hi01.pi',0
aScnum2_bft	db 'scnum2.bft',0
aGxgnbGvbGhvVGv	db 'ÉXÉçÅ[ÉÇÅ[ÉhÇ≈ÇÃÉvÉåÉCÇ≈ÇÕÅAÉXÉRÉAÇÕãLò^Ç≥ÇÍÇ‹ÇπÇÒ',0
aGxgnbGvbGhvV_1	db 'ÉXÉçÅ[ÉÇÅ[ÉhÇ≈ÇÃÉvÉåÉCÇ≈ÇÕÅAÉXÉRÉAÇÕãLò^Ç≥ÇÍÇ‹ÇπÇÒ',0
aName		db 'name',0
		db    0
aAbnormalProgra	db 'Abnormal program termination',0Dh,0Ah,0
		db    0
include libs/BorlandC/atexit[data].asm
include libs/BorlandC/exit[data].asm
include libs/BorlandC/files[data].asm
include libs/BorlandC/__IOERROR[data].asm
		db    0
unk_F07E	db    0
		db    0
		db    0
		db    0
word_F082	dw 0
word_F084	dw 3D35h
					; set_new_handler(void (*)(void))+1Fw ...
seg_F086	dw seg seg000
					; set_new_handler(void (*)(void))+1Bw ...
aOutOfMemory	db 'Out of memory',0
__stklen	dw 1000h
		public __ctype
; unsigned __int8 _ctype[257]
__ctype		db    0, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 21h, 21h,	21h, 21h, 21h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 81h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 12h, 12h, 12h,	12h, 12h, 12h, 12h
		db  12h, 12h, 12h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 14h, 14h,	14h, 14h, 14h, 14h
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	40h, 40h, 40h, 40h
		db  40h, 40h, 18h, 18h,	18h, 18h, 18h, 18h
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	40h, 40h, 40h, 40h
		db  20h,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		dd @terminate$qv	; terminate(void)
		dd @unexpected$qv	; unexpected(void)
word_F1AC	dw 0
word_F1AE	dw 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_F2C2	dw 0
include libs/BorlandC/fbrk[data].asm
include libs/BorlandC/signal[data].asm
dword_F2EC	dd 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  5Ch	; \
		db    0
word_F300	dw 0
					; _setvbuf+4Bw
word_F302	dw 0
					; _setvbuf+35w
include libs/BorlandC/sysnerr[data].asm
aNotype		db '<notype>',0
aBccxh1		db '**BCCxh1',0
include libs/BorlandC/setenvp[data].asm
word_F31C	dw 1
word_F31E	dw 0
word_F320	dw 1
word_F322	dw 3Fh
word_F324	dw 40h
word_F326	dw 3Fh
aStringReferenc	db 'String reference out of range',0
aStringRefere_0	db 'String reference out of range',0
aStringRefere_1	db 'String reference out of range',0
aPath		db 'PATH',0
		db '/\',0
		db    0
a_bat		db '.BAT',0
a_com		db '.COM',0
a_exe_0		db '.EXE',0
a_bat_0		db '.BAT',0
aComspec	db 'COMSPEC',0
		db  2Fh	; /
		db  63h	; c
		db    0

InitStart	label byte
		db    1
		db  20h
		dd @string@contains$xqnxc ; string::contains(char *)
include libs/BorlandC/setupio[initdata].asm
		db    0
		db  10h
		db  5Fh	; _
		db  44h	; D
		db    0
		db    0
		db    0
		db  0Fh
		db 0B2h	; ≤
		db  4Dh	; M
		db    0
		db    0
include libs/BorlandC/setenvp[initdata].asm
InitEnd	label byte

ExitStart	label byte
		db    1
		db  20h
		dd loc_3EE3
ExitEnd	label byte

bdata@	label byte
dword_F3CE	dd 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
dword_F3E6	dd 0
word_F3EA	dw 0
word_F3EC	dw 0
word_F3EE	dw 0
word_F3F0	dw 0
word_F3F2	dw 0
word_F3F4	dw 0
					; sub_8FC:loc_92Dw ...
word_F3F6	dw 0
		db    0
		db    0
include libs/master.lib/pal[bss].asm
include libs/master.lib/vs[bss].asm
include libs/master.lib/vsync[bss].asm
include libs/master.lib/mem[bss].asm
include libs/master.lib/superpa[bss].asm
dword_FC3C	dd 0
dword_FC40	dd 0
dword_FC44	dd 0
dword_FC48	dd 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_FCCC	dw 0
word_FCCE	dw 0
word_FCD0	dw 0
dword_FCD2	dd 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_FCEA	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_FF9A	db 0
		db    0
include libs/master.lib/bgm[bss].asm
unk_10062	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
word_10070	dw ?
word_10072	dw ?
					; sub_C814+200r ...
byte_10074	db ?
		db    ?	;
		dw ?
word_10078	dw ?
word_1007A	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
word_10098	dw ?
word_1009A	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
byte_10476	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
word_12478	dw ?
dword_1247A	dd ?
byte_1247E	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
word_124BC	dw ?
word_124BE	dw ?
word_124C0	dw ?
					; sub_A847+1A5w ...
byte_124C2	db ?
					; sub_A847+2CEr ...
		db    ?	;
word_124C4	dw ?
byte_124C6	db ?
byte_124C7	db ?
word_124C8	dw ?
		dw ?
byte_124CC	db ?
					; sub_BB81+1AEw
		db    ?	;
dword_124CE	dd ?
					; sub_B886:loc_B8F4r ...
byte_124D2	db ?
					; sub_BB81:loc_BE08r ...
unk_124D3	db    ?	;
					; sub_BB81+528o
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
byte_124EF	db ?
		db    ?	;
		db    ?	;
byte_124F2	db ?
byte_124F3	db ?
word_124F4	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
word_12530	dw ?
word_12532	dw ?
dword_12534	dd ?
word_12538	dw ?
word_1253A	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
byte_125A0	db ?
					; sub_C814:loc_C922r ...
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
byte_125B6	db ?
byte_125B7	db ?
word_125B8	dw ?
include libs/BorlandC/atexit[bss].asm
include libs/BorlandC/sigdata[bss].asm
word_1263E	dw ?
word_12640	dw ?
include libs/BorlandC/signal[bss].asm
dword_12646	dd ?
dword_1264A	dd ?
		dw ?
edata@	label byte

dseg		ends

; ===========================================================================

; Segment type:	Uninitialized
seg005		segment	byte stack 'STACK' use16
		assume cs:seg005
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		db 80h dup(?)
seg005		ends


		end startx
