;
; +-------------------------------------------------------------------------+
; |   This file has been generated by The Interactive Disassembler (IDA)    |
; |        Copyright (c) 2009 by Hex-Rays, <support@hex-rays.com>           |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	2CAAD6F798E32B912A08DA327A97DDB4

; File Name   : th01/FUUIN.EXE
; Format      :	MS-DOS executable (EXE)
; Base Address:	0h Range: 0h-147E0h Loaded length: 13ED8h
; Entry	Point :	0:0
; OS type	  :  MS	DOS
; Application type:  Executable	16bit

		CGROUP00 group seg000
		CGROUP01 group seg001
		CGROUP02 group seg002
		CGROUP03 group seg003
		CGROUP04 group seg004
		CGROUP05 group seg005
		CGROUP06 group seg006
		CGROUP07 group seg007
		CGROUP08 group seg008
		CGROUP09 group seg009
		CGROUP10 group seg010
		CGROUP11 group seg011
		CGROUP12 group seg012
		CGROUP13 group seg013
		CGROUP14 group seg014
		CGROUP15 group EMU_PROG
		CGROUP16 group seg016

		.286 ; Force the .model directive to create 16-bit default segments...
		.model large
		__LARGE__ equ 1
		.386 ; ... then switch to what we actually need.
		; And yes, we can't move this to an include file for some reason.

include ReC98.inc
include libs/BorlandC/regs.inc

; ===========================================================================

; Segment type:	Pure code
seg000		segment	word public 'CODE' use16
		assume cs:seg000
		assume es:nothing, ss:_STACK, ds:dseg, fs:nothing, gs:nothing

include libs/BorlandC/c0.asm

		db 6 dup(0), 2	dup(7),	2 dup(0), 7, 0,	7, 0, 7
		db 2 dup(0), 4 dup(7), 0, 3 dup(7), 5 dup(0), 2	dup(0Fh)
		db 2 dup(0), 0Fh, 0, 0Fh, 0, 0Fh, 2 dup(0), 4 dup(0Fh)
		db 0, 3	dup(0Fh)
word_2A2	dw 0
word_2A4	dw 0
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		lds	dx, [bp+12h]
		mov	ax, [bp+0Eh]
		add	ax, 0Fh
		shr	ax, 4
		add	ax, [bp+10h]
		mov	es, ax
		cld
		mov	si, dx
		xor	dx, dx
		mov	di, dx
		lodsb
		xor	ch, ch
		mov	cl, al
		rep movsb
		xor	al, al
		stosb
		push	es
		pop	ds
		mov	si, [bp+0Ch]
		mov	ax, [bp+0Eh]
		and	ax, 0Fh
		sub	si, ax
		mov	bx, [bp+0Ah]
		mov	cx, [bp+8]
		mov	di, [bp+6]
		mov	ax, [bp+4]
		call	loc_3E2
		pop	ds
		pop	bp
		retn	10h
; ---------------------------------------------------------------------------
		mov	bx, sp
		push	ds
		mov	ax, cs:word_2A4
		mov	ds, ax
		mov	es, ax
		mov	al, ss:[bx+2]
		mov	byte_12BD8, al
		call	sub_BE3
		pop	ds
		retn	2
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	bx, ds
		mov	es, bx
		assume es:dseg
		mov	dx, [bp+4]
		mov	ax, [bp+6]
		add	ax, 0Fh
		shr	ax, 4
		add	ax, bx
		mov	ds, ax
		mov	si, [bp+8]
		mov	ax, [bp+6]
		and	ax, 0Fh
		sub	si, ax
		mov	bx, [bp+0Ah]
		mov	cx, [bp+0Ch]
		mov	di, [bp+0Eh]
		mov	ax, [bp+10h]
		call	loc_3E2
		pop	ds
		pop	di
		pop	si
		pop	bp
		retn
; ---------------------------------------------------------------------------
		mov	bx, sp
		push	ds
		push	si
		push	di
		mov	ax, cs:word_2A4
		mov	ds, ax
		mov	es, ax
		assume es:nothing
		mov	al, ss:[bx+2]
		mov	byte_12BD8, al
		call	sub_BE3
		pop	di
		pop	si
		pop	ds
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_35A		proc far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		les	dx, [bp+arg_0]
		mov	ax, [bp+arg_4]
		add	ax, 0Fh
		shr	ax, 4
		add	ax, [bp+arg_6]
		mov	ds, ax
		mov	si, [bp+arg_8]
		mov	ax, [bp+arg_4]
		and	ax, 0Fh
		sub	si, ax
		mov	bx, [bp+arg_A]
		mov	cx, [bp+arg_C]
		mov	di, [bp+arg_E]
		mov	ax, [bp+arg_10]
		call	loc_3E2
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf
sub_35A		endp

; ---------------------------------------------------------------------------
		mov	bx, sp
		push	ds
		push	si
		push	di
		mov	ax, cs:word_2A4
		mov	ds, ax
		mov	es, ax
		mov	al, ss:[bx+4]
		mov	byte_12BD8, al
		call	sub_BE3
		pop	di
		pop	si
		pop	ds
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		les	dx, [bp+4]
		mov	ax, [bp+8]
		add	ax, 0Fh
		shr	ax, 4
		add	ax, [bp+0Ah]
		mov	ds, ax
		mov	si, [bp+0Ch]
		mov	ax, [bp+8]

loc_3C8:
		and	ax, 0Fh
		sub	si, ax
		mov	bx, [bp+0Eh]
		mov	cx, [bp+10h]
		mov	di, [bp+12h]
		mov	ax, [bp+14h]
		call	loc_3E2
		pop	ds
		pop	di
		pop	si
		pop	bp
		retn
; ---------------------------------------------------------------------------

locret_3E1:
		retn
; ---------------------------------------------------------------------------

loc_3E2:
		cld
		mov	cs:word_2A2, sp
		mov	cs:word_2A4, ds
		mov	word_12BD0, bx
		mov	seg_12BD2, cx
		mov	word ptr byte_12BD9, ax
		mov	ax, di
		mov	byte_12BD8, al
		xor	ax, ax
		mov	byte ptr unk_12BDB, al
		mov	ax, 0FFF8h
		cmp	si, 1FA2h
		jb	short locret_3E1
		mov	ax, si
		sub	ax, 1F60h
		mov	seg_12BE6, ax
		add	ax, 1F60h
		mov	word ptr cs:loc_736+2, ax
		mov	word ptr cs:loc_746+2, ax
		mov	word ptr cs:loc_756+2, ax
		mov	word ptr cs:loc_766+2, ax
		mov	word ptr cs:loc_776+2, ax
		mov	word ptr cs:loc_7E0+2, ax
		mov	word ptr cs:loc_5DA+2, ax
		mov	word ptr cs:loc_5EA+2, ax
		mov	word ptr cs:loc_614+2, ax
		mov	word ptr cs:loc_624+2, ax
		mov	word ptr cs:loc_634+2, ax
		mov	word ptr cs:loc_644+2, ax
		mov	word ptr cs:loc_6B6+2, ax
		mov	word ptr cs:loc_716+2, ax
		mov	word ptr cs:loc_726+2, ax
		mov	word ptr cs:loc_8B3+2, ax

loc_456:
		mov	word ptr cs:loc_7F0+2, ax

loc_45A:
		mov	word ptr cs:loc_863+2, ax
		mov	word ptr cs:loc_873+2, ax
		mov	word ptr cs:loc_883+2, ax
		mov	word ptr cs:loc_893+2, ax
		mov	word ptr cs:loc_8A3+2, ax
		push	es
		pop	ds
		call	sub_8D2
		mov	bx, cs:word_2A4
		mov	ds, bx
		mov	es, bx
		jb	short locret_48F
		mov	word_12BE0, ax
		call	sub_8D8
		mov	si, bx
		lodsw
		cmp	ax, 4E5Ah
		mov	ax, 0FFE1h
		jz	short loc_490

locret_48F:
		retn
; ---------------------------------------------------------------------------

loc_490:
		test	byte_12BD9, 4
		jz	short loc_4A4

loc_497:
		lodsb
		cmp	al, 1Ah
		jz	short loc_4A4
		mov	dl, al
		mov	ah, 2
		int	21h		; DOS -	DISPLAY	OUTPUT
					; DL = character to send to standard output
		jmp	short loc_497
; ---------------------------------------------------------------------------

loc_4A4:
		lodsb
		or	al, al
		jnz	short loc_4A4
		lodsb
		mov	bl, al
		lodsw
		mov	cx, ax
		lodsb
		cmp	al, 4
		mov	ax, 0FFE0h
		jnz	short locret_48F
		test	byte_12BD9, 8
		jz	short loc_4C3
		mov	ax, cx
		call	sub_904

loc_4C3:
		add	si, 4
		lodsw
		xchg	ah, al
		xor	cx, cx
		mov	dx, cx
		mov	di, ax
		add	di, si
		and	ax, ax
		jz	short loc_50C

loc_4D5:
		cmp	si, di
		jz	short loc_50C
		lodsb
		cmp	al, 1
		jz	short loc_4E4
		cmp	al, 2
		jz	short loc_4F0
		jmp	short loc_50C
; ---------------------------------------------------------------------------

loc_4E4:
		lodsw
		xchg	ah, al
		mov	cx, ax
		lodsw
		xchg	ah, al
		mov	dx, ax
		jmp	short loc_4D5
; ---------------------------------------------------------------------------

loc_4F0:
		add	si, 3
		lodsb
		test	byte_12BD9, 40h
		jnz	short loc_4D5
		cmp	seg_12BDA, 0FFh

loc_500:
		jz	short loc_4D5
		mov	seg_12BDA, al
		or	byte_12BD9, 40h
		jmp	short loc_4D5
; ---------------------------------------------------------------------------

loc_50C:
		mov	si, di
		cmp	word_12BD0, 0
		jge	short loc_519
		mov	word_12BD0, cx

loc_519:
		cmp	seg_12BD2, 0
		jge	short loc_524
		mov	seg_12BD2, dx

loc_524:
		mov	cx, word_12BD0
		mov	ax, seg_12BD2
		shr	cx, 3
		shl	ax, 4
		add	cx, ax
		shl	ax, 2
		add	cx, ax

loc_538:
		mov	seg_12BDE, cx

loc_53C:
		lodsw
		xchg	ah, al
		mov	word_12BD4, ax
		mov	cx, ax
		neg	ax
		mov	word ptr cs:loc_667+1, ax
		inc	ax

loc_54B:
		mov	word ptr cs:loc_606+1, ax
		dec	ax
		add	ax, ax
		mov	word ptr cs:loc_5FB+1, ax
		add	cx, cx
		mov	ax, cx
		add	ax, 160h
		mov	seg_12BE2, ax
		add	cx, cx
		mov	word_12BDC, cx
		add	ax, cx
		mov	word_12BE4, ax
		mov	word ptr cs:loc_6A2+1, ax
		mov	word ptr cs:loc_6D5+2, ax
		mov	word ptr cs:loc_650+2, ax
		mov	ax, word_12BD0
		and	ax, 7
		add	ax, word_12BD4
		mov	word_12BEC, ax
		mov	cx, ax
		lodsw
		xchg	ah, al
		mov	seg_12BD6, ax
		mov	word ptr off_12BE8+2, ax
		test	bl, 80h
		jnz	short loc_5A5
		mov	cx, 30h	; '0'
		mov	di, 100h

loc_59A:
		lodsb
		shr	al, 4
		stosb
		loop	loc_59A
		mov	bx, si
		jmp	short loc_5B3
; ---------------------------------------------------------------------------

loc_5A5:
		mov	bx, si
		mov	si, 272h
		mov	di, 100h
		mov	cx, 0Ch
		rep movs word ptr es:[di], word	ptr cs:[si]

loc_5B3:
		test	byte_12BD9, 1
		jz	short loc_5BD
		call	sub_BE3

loc_5BD:
		call	sub_8BE
		mov	dh, 1
		mov	di, 160h
		xor	al, al
		call	loc_796
		mov	cx, word_12BD4
		rep stosw
		xor	bp, bp
		; Hack (jmp loc_659)
		db 0e9h
		db 084h
		db 000h
; ---------------------------------------------------------------------------

loc_5D5:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_5DA:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_5F9
		call	sub_8D8
		jmp	short loc_5F9
; ---------------------------------------------------------------------------

loc_5E5:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_5EA:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_604
		call	sub_8D8
		jmp	short loc_604
; ---------------------------------------------------------------------------

loc_5F5:
		dec	dh
		jz	short loc_5D5

loc_5F9:
		add	dl, dl

loc_5FB:
		mov	si, 0
		jnb	short loc_676
		dec	dh
		jz	short loc_5E5

loc_604:
		add	dl, dl

loc_606:
		mov	si, 0
		jnb	short loc_676
		dec	si
		dec	si
		jmp	short loc_676
; ---------------------------------------------------------------------------

loc_60F:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_614:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_65D
		call	sub_8D8
		jmp	short loc_65D
; ---------------------------------------------------------------------------

loc_61F:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_624:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_665
		call	sub_8D8
		jmp	short loc_665
; ---------------------------------------------------------------------------

loc_62F:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_634:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_682
		call	sub_8D8
		jmp	short loc_682
; ---------------------------------------------------------------------------

loc_63F:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_644:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_690
		call	sub_8D8
		jmp	short loc_690
; ---------------------------------------------------------------------------

loc_64F:
		movsw

loc_650:
		; Hack (cmp di, 0)
		db 081h
		db 0ffh
		db 000h
		db 000h
		jnz	short loc_659
		call	sub_930

loc_659:
		dec	dh
		jz	short loc_60F

loc_65D:
		add	dl, dl
		jb	short loc_5F5
		dec	dh
		jz	short loc_61F

loc_665:
		add	dl, dl

loc_667:
		mov	si, 0
		jb	short loc_676
		mov	si, 0FFFCh
		mov	ax, [di-2]
		cmp	ah, al
		jz	short loc_6C1

loc_676:
		cmp	si, bp
		mov	bp, si
		jz	short loc_6CC
		add	si, di

loc_67E:
		dec	dh
		jz	short loc_62F

loc_682:
		add	dl, dl
		jnb	short loc_64F
		mov	ax, 1
		xor	cx, cx

loc_68B:
		inc	cx
		dec	dh
		jz	short loc_63F

loc_690:
		add	dl, dl
		jb	short loc_68B

loc_694:
		dec	dh
		jz	short loc_6B1

loc_698:
		add	dl, dl
		adc	ax, ax
		loop	loc_694
		jb	short loc_6FB

loc_6A0:
		mov	cx, ax

loc_6A2:
		mov	ax, 0
		sub	ax, di
		shr	ax, 1
		cmp	cx, ax
		jnb	short loc_6ED
		rep movsw
		jmp	short loc_659
; ---------------------------------------------------------------------------

loc_6B1:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_6B6:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_698
		call	sub_8D8
		jmp	short loc_698
; ---------------------------------------------------------------------------

loc_6C1:
		cmp	si, bp
		mov	bp, si
		jz	short loc_6CC
		lea	si, [di-2]
		jmp	short loc_67E
; ---------------------------------------------------------------------------

loc_6CC:
		mov	al, [di-1]

loc_6CF:
		call	loc_796
		stosw
		mov	al, ah

loc_6D5:
		; Hack (cmp di, 0)
		db 081h
		db 0ffh
		db 000h
		db 000h
		jz	short loc_6E8

loc_6DB:
		dec	dh
		jz	short loc_711

loc_6DF:
		add	dl, dl
		jb	short loc_6CF
		xor	bp, bp
		jmp	loc_659
; ---------------------------------------------------------------------------

loc_6E8:
		call	sub_930
		jmp	short loc_6DB
; ---------------------------------------------------------------------------

loc_6ED:
		sub	cx, ax
		xchg	ax, cx
		rep movsw
		call	sub_930
		sub	si, word_12BDC
		jmp	short loc_6A0
; ---------------------------------------------------------------------------

loc_6FB:
		xor	cx, cx

loc_6FD:
		movsw
		cmp	di, word_12BE4
		loopne	loc_6FD
		jnz	short loc_6A0
		call	sub_930
		sub	si, word_12BDC
		jcxz	short loc_6A0
		jmp	short loc_6FD
; ---------------------------------------------------------------------------

loc_711:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_716:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_6DF
		call	sub_8D8
		jmp	short loc_6DF
; ---------------------------------------------------------------------------

loc_721:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_726:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_785
		call	sub_8D8
		jmp	short loc_785
; ---------------------------------------------------------------------------

loc_731:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_736:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7A0
		call	sub_8D8
		jmp	short loc_7A0
; ---------------------------------------------------------------------------

loc_741:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_746:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7A8
		call	sub_8D8
		jmp	short loc_7A8
; ---------------------------------------------------------------------------

loc_751:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_756:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7B3
		call	sub_8D8
		jmp	short loc_7B3
; ---------------------------------------------------------------------------

loc_761:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_766:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7BB
		call	sub_8D8
		jmp	short loc_7BB
; ---------------------------------------------------------------------------

loc_771:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_776:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7C3
		call	sub_8D8
		jmp	short loc_7C3
; ---------------------------------------------------------------------------

loc_781:
		dec	dh
		jz	short loc_721

loc_785:
		add	dl, dl
		jb	short loc_78C
		lodsb
		jmp	short loc_7FB
; ---------------------------------------------------------------------------

loc_78C:
		mov	ax, [si]
		xchg	ah, al
		mov	[si], ax
		xor	ah, ah
		jmp	short loc_7FB
; ---------------------------------------------------------------------------

loc_796:
		mov	bp, di
		xor	ah, ah
		mov	si, ax
		dec	dh
		jz	short loc_731

loc_7A0:
		add	dl, dl
		jb	short loc_781
		dec	dh
		jz	short loc_741

loc_7A8:
		add	dl, dl
		mov	cx, 1
		jnb	short loc_7C7
		dec	dh
		jz	short loc_751

loc_7B3:
		add	dl, dl
		jnb	short loc_7BF
		dec	dh
		jz	short loc_761

loc_7BB:
		add	dl, dl
		adc	cx, cx

loc_7BF:
		dec	dh
		jz	short loc_771

loc_7C3:
		add	dl, dl
		adc	cx, cx

loc_7C7:
		dec	dh
		jz	short loc_7DB

loc_7CB:
		add	dl, dl
		adc	cx, cx
		add	si, cx
		std
		lodsb
		lea	di, [si+1]
		rep movsb
		stosb
		jmp	short loc_7FB
; ---------------------------------------------------------------------------

loc_7DB:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_7E0:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7CB
		call	sub_8D8
		jmp	short loc_7CB
; ---------------------------------------------------------------------------

loc_7EB:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_7F0:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_803
		call	sub_8D8
		jmp	short loc_803
; ---------------------------------------------------------------------------

loc_7FB:
		xor	ah, ah
		mov	si, ax
		dec	dh
		jz	short loc_7EB

loc_803:
		add	dl, dl
		jb	short loc_844
		dec	dh
		jz	short loc_85E

loc_80B:
		add	dl, dl
		mov	cx, 1
		jnb	short loc_82A
		dec	dh
		jz	short loc_86E

loc_816:
		add	dl, dl
		jnb	short loc_822
		dec	dh
		jz	short loc_87E

loc_81E:
		add	dl, dl
		adc	cx, cx

loc_822:
		dec	dh
		jz	short loc_88E

loc_826:
		add	dl, dl
		adc	cx, cx

loc_82A:
		dec	dh
		jz	short loc_89E

loc_82E:
		add	dl, dl
		adc	cx, cx
		add	si, cx
		std
		mov	ah, al
		lodsb
		lea	di, [si+1]
		rep movsb
		stosb
		xchg	ah, al
		mov	di, bp
		cld
		retn
; ---------------------------------------------------------------------------

loc_844:
		dec	dh
		jz	short loc_8AE

loc_848:
		add	dl, dl
		jb	short loc_852
		mov	ah, [si]
		mov	di, bp
		cld
		retn
; ---------------------------------------------------------------------------

loc_852:
		mov	cx, [si]
		xchg	ch, cl
		mov	[si], cx
		mov	ah, cl
		mov	di, bp
		cld
		retn
; ---------------------------------------------------------------------------

loc_85E:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_863:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_80B
		call	sub_8D8
		jmp	short loc_80B
; ---------------------------------------------------------------------------

loc_86E:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_873:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_816
		call	sub_8D8
		jmp	short loc_816
; ---------------------------------------------------------------------------

loc_87E:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_883:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_81E
		call	sub_8D8
		jmp	short loc_81E
; ---------------------------------------------------------------------------

loc_88E:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_893:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_826
		call	sub_8D8
		jmp	short loc_826
; ---------------------------------------------------------------------------

loc_89E:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_8A3:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_82E
		call	sub_8D8
		jmp	short loc_82E
; ---------------------------------------------------------------------------

loc_8AE:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_8B3:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_848
		call	sub_8D8
		jmp	short loc_848

; =============== S U B	R O U T	I N E =======================================


sub_8BE		proc near
		xor	di, di
		mov	ax, 1000h

loc_8C3:
		mov	cx, 10h

loc_8C6:
		stosb
		sub	al, 10h
		loop	loc_8C6
		add	al, 10h
		dec	ah
		jnz	short loc_8C3
		retn
sub_8BE		endp


; =============== S U B	R O U T	I N E =======================================


sub_8D2		proc near
		mov	ax, 3D00h
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read
		retn
sub_8D2		endp


; =============== S U B	R O U T	I N E =======================================


sub_8D8		proc near
		push	ax
		push	cx
		push	dx
		mov	bx, word_12BE0
		mov	dx, 1F60h
		push	dx
		mov	cx, seg_12BE6
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		jb	short loc_8F2
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retn
; ---------------------------------------------------------------------------

loc_8F2:
		call	sub_8FB
		mov	sp, cs:word_2A2
		retn
sub_8D8		endp


; =============== S U B	R O U T	I N E =======================================


sub_8FB		proc near
		mov	bx, word_12BE0
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		retn
sub_8FB		endp


; =============== S U B	R O U T	I N E =======================================


sub_904		proc near
		cmp	ax, 102h
		jz	short loc_918
		mov	ch, 0C0h ; 'À'
		mov	ah, 42h	; 'B'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	ah, 40h
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	al, 1
		out	6Ah, al		; PC-98	GDC (6a):
					;
		retn
; ---------------------------------------------------------------------------

loc_918:
		mov	ch, 80h
		mov	ah, 42h	; 'B'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	al, 8
		out	68h, al
		mov	ah, 40h
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	al, 1
		out	6Ah, al		; PC-98	GDC (6a):
					;
		or	byte ptr unk_12BDB, 4
		retn
sub_904		endp


; =============== S U B	R O U T	I N E =======================================


sub_930		proc near
		pusha
		push	es
		cmp	seg_12BDE, 7D00h
		jl	short loc_949
		sub	seg_12BDE, 7D00h
		or	byte ptr unk_12BDB, 1
		mov	al, 1
		out	0A6h, al

loc_949:
		mov	si, word_12BE4
		mov	di, 160h
		mov	cx, word_12BD4
		sub	si, cx
		sub	si, cx
		rep movsw
		mov	si, di
		mov	cx, 4

loc_95F:
		push	cx
		mov	di, seg_12BDE
		mov	ax, word_12BD0
		and	ax, 7
		jz	short loc_9E4
		mov	cx, 8
		sub	cx, ax
		push	cx
		mov	ah, 0FFh
		shl	ah, cl
		not	al
		xor	bx, bx
		mov	dx, bx

loc_97C:
		lodsb
		add	al, al
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	al, al
		adc	dh, dh
		loop	loc_97C
		mov	cx, 0A800h
		mov	es, cx
		assume es:nothing
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	al, dh
		out	7Eh, al
		mov	al, dl
		out	7Eh, al
		mov	al, bh
		out	7Eh, al
		mov	al, bl
		out	7Eh, al
		mov	al, ah
		test	byte_12BD9, 40h
		jz	short loc_9D3
		mov	ah, seg_12BDA
		shr	ah, 1
		jnb	short loc_9BB
		not	dh

loc_9BB:
		shr	ah, 1
		jnb	short loc_9C1
		not	dl

loc_9C1:
		shr	ah, 1
		jnb	short loc_9C7
		not	bh

loc_9C7:
		shr	ah, 1
		jnb	short loc_9CD
		not	bl

loc_9CD:
		or	bx, dx
		or	bl, bh
		or	al, bl

loc_9D3:
		stosb
		xor	al, al
		out	7Ch, al
		pop	ax
		mov	cx, word_12BD4
		sub	cx, ax
		shr	cx, 3
		jmp	short loc_9EB
; ---------------------------------------------------------------------------

loc_9E4:
		mov	cx, word_12BD4
		shr	cx, 3

loc_9EB:
		lodsw
		add	al, al
		adc	bl, bl
		add	ah, ah
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	ah, ah
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	ah, ah
		adc	dl, dl
		add	al, al
		adc	dh, dh
		add	ah, ah
		adc	dh, dh
		lodsw
		add	al, al
		adc	bl, bl
		add	ah, ah
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	ah, ah
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	ah, ah
		adc	dl, dl
		add	al, al
		adc	dh, dh
		add	ah, ah
		adc	dh, dh
		lodsw
		add	al, al
		adc	bl, bl
		add	ah, ah
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	ah, ah
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	ah, ah
		adc	dl, dl
		add	al, al
		adc	dh, dh
		add	ah, ah
		adc	dh, dh
		lodsw
		add	al, al
		adc	bl, bl
		add	ah, ah
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	ah, ah
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	ah, ah
		adc	dl, dl
		add	al, al
		adc	dh, dh
		add	ah, ah
		adc	dh, dh
		mov	ax, 0A800h
		mov	es, ax
		test	byte_12BD9, 40h
		jnz	short loc_A97
		mov	es:[di], dh
		mov	es:[di-8000h], dl
		mov	ah, 0B8h ; '¸'
		mov	es, ax
		assume es:nothing
		mov	es:[di], bh
		mov	ah, 0E0h
		mov	es, ax
		assume es:nothing
		mov	al, bl
		stosb
		dec	cx
		jz	short loc_AD4
		jmp	loc_9EB
; ---------------------------------------------------------------------------

loc_A97:
		mov	ah, seg_12BDA
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	al, dh
		out	7Eh, al
		mov	al, dl
		out	7Eh, al
		mov	al, bh
		out	7Eh, al
		mov	al, bl
		out	7Eh, al
		shr	ah, 1
		jnb	short loc_AB5
		not	dh

loc_AB5:
		shr	ah, 1
		jnb	short loc_ABB
		not	dl

loc_ABB:
		shr	ah, 1
		jnb	short loc_AC1
		not	bh

loc_AC1:
		shr	ah, 1
		jnb	short loc_AC7
		not	bl

loc_AC7:
		mov	ax, dx
		or	ax, bx
		or	al, ah
		stosb
		dec	cx
		jz	short loc_AD4
		jmp	loc_9EB
; ---------------------------------------------------------------------------

loc_AD4:
		xor	al, al
		out	7Ch, al
		mov	cx, word_12BEC
		and	cx, 7
		jz	short loc_B4F
		mov	ah, 8
		sub	ah, cl
		xor	bx, bx
		mov	dx, bx

loc_AE9:
		lodsb
		add	al, al
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	al, al
		adc	dh, dh
		loop	loc_AE9
		mov	cl, ah
		mov	ch, 0FFh
		shl	ch, cl
		shl	bx, cl
		shl	dx, cl
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	al, dh
		out	7Eh, al
		mov	al, dl
		out	7Eh, al
		mov	al, bh
		out	7Eh, al
		mov	al, bl
		out	7Eh, al
		mov	al, ch
		test	byte_12BD9, 40h
		jz	short loc_B4A
		mov	ah, seg_12BDA
		shr	ah, 1
		jnb	short loc_B32
		not	dh

loc_B32:
		shr	ah, 1
		jnb	short loc_B38
		not	dl

loc_B38:
		shr	ah, 1
		jnb	short loc_B3E
		not	bh

loc_B3E:
		shr	ah, 1
		jnb	short loc_B44
		not	bl

loc_B44:
		or	bx, dx
		or	bl, bh
		or	al, bl

loc_B4A:
		stosb
		xor	al, al
		out	7Ch, al

loc_B4F:
		pop	cx
		add	seg_12BDE, 50h ; 'P'
		dec	word ptr off_12BE8+2
		jz	short loc_B68
		dec	cx
		jz	short loc_B61
		jmp	loc_95F
; ---------------------------------------------------------------------------

loc_B61:
		pop	es
		assume es:nothing
		popa
		mov	di, seg_12BE2
		retn
; ---------------------------------------------------------------------------

loc_B68:
		test	byte ptr unk_12BDB, 1
		jle	short loc_B78
		mov	al, 0
		out	0A6h, al
		and	byte ptr unk_12BDB, 0FDh

loc_B78:
		call	sub_8FB
		mov	sp, cs:word_2A2
		xor	ax, ax
		retn
sub_930		endp

; ---------------------------------------------------------------------------
		db    0
		db    0
		db  26h	; &
		db    0
		db  4Ch	; L
		db    0
		db  72h	; r
		db    0
		db  98h
		db    0
		db 0BEh	; ¾
		db    0
		db 0E4h
		db    0
		db  0Ah
		db    1
		db  30h	; 0
		db    1
		db  56h	; V
		db    1
		db  7Ch	; |
		db    1
		db 0A2h	; ¢
		db    1
		db 0C8h	; È
		db    1
		db 0EEh
		db    1
		db  14h
		db    2
		db  3Ah	; :
		db    2
		db    0
		db    0
		db  4Bh	; K
		db    0
		db  96h
		db    0
		db 0E1h
		db    0
		db  2Ch	; ,
		db    1
		db  77h	; w
		db    1
		db 0C2h	; Â
		db    1
		db  0Dh
		db    2
		db  58h	; X
		db    2
		db 0A3h	; £
		db    2
		db 0EEh
		db    2
		db  39h	; 9
		db    3
		db  84h
		db    3
		db 0CFh	; Ï
		db    3
		db  1Ah
		db    4
		db  65h	; e
		db    4
		db    0
		db    0
		db  0Fh
		db    0
		db  1Eh
		db    0
		db  2Dh	; -
		db    0
		db  3Ch	; <
		db    0
		db  4Bh	; K
		db    0
		db  5Ah	; Z
		db    0
		db  69h	; i
		db    0
		db  78h	; x
		db    0
		db  87h
		db    0
		db  96h
		db    0
		db 0A5h	; ¥
		db    0
		db 0B4h	; ´
		db    0
		db 0C3h	; Ã
		db    0
		db 0D2h	; Ò
		db    0
		db 0E1h
		db    0

; =============== S U B	R O U T	I N E =======================================


sub_BE3		proc near
		push	bx
		mov	bl, byte_12BD8
		mov	bh, 64h	; 'd'
		mov	di, 150h
		xor	cx, cx

loc_BEF:
		mov	al, cl
		mul	bl
		div	bh
		stosb
		inc	cl
		cmp	cl, 10h
		jnz	short loc_BEF
		mov	si, 100h
		mov	bx, 150h
		mov	cx, 10h
		xor	ah, ah
		test	byte_12BD9, 10h
		jnz	short loc_C25

loc_C0F:
		mov	al, ah
		out	0A8h, al
		lodsb
		xlat
		out	0ACh, al
		lodsb
		xlat
		out	0AAh, al
		lodsb
		xlat
		out	0AEh, al
		inc	ah
		loop	loc_C0F
		pop	bx
		retn
; ---------------------------------------------------------------------------

loc_C25:
		mov	al, 10h
		sub	al, cl
		out	0A8h, al
		mov	dx, 40h
		lodsb
		add	al, al
		mov	di, ax
		add	dx, cs:[di+0B83h]
		lodsb
		add	al, al
		mov	di, ax
		add	dx, cs:[di+0BA3h]
		lodsb
		add	al, al
		mov	di, ax
		add	dx, cs:[di+0BC3h]
		mov	al, 7
		sub	al, dh
		xlat
		mov	dl, al
		shr	dl, 1
		sbb	al, al
		out	0AEh, al
		shr	dl, 1
		sbb	al, al
		out	0ACh, al
		shr	dl, 1
		sbb	al, al
		out	0AAh, al
		loop	loc_C25
		pop	bx
		retn
sub_BE3		endp

; ---------------------------------------------------------------------------
		db 0
include libs/master.lib/graph_400line.asm
include libs/master.lib/graph_clear.asm
include libs/master.lib/graph_show.asm
include libs/master.lib/graph_start.asm
include libs/master.lib/graph_scrollup.asm
include libs/master.lib/palette_show.asm
include libs/master.lib/palette_init.asm
include libs/master.lib/respal_exist.asm
include libs/master.lib/respal_free.asm
include libs/master.lib/resdata.asm
include libs/master.lib/file_read.asm
include libs/master.lib/file_close.asm
include libs/master.lib/file_ropen.asm
include libs/master.lib/file_seek.asm
include libs/master.lib/key_sense.asm
include libs/master.lib/dos_ropen.asm
include libs/master.lib/egc.asm
include libs/master.lib/gdc_outpw.asm
		db    0
include libs/master.lib/random.asm
include libs/BorlandC/emu/nec_fpinit.asm
include libs/BorlandC/math/realcvt.asm
include libs/BorlandC/math/xcvt.asm
include libs/BorlandC/fperr.asm
include libs/BorlandC/math/_pow10.asm
include libs/BorlandC/math/pow10d.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1B5B	proc far

var_A		= qword	ptr -0Ah
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		; Hack (fnstcw [bp+var_2])
		db 0cdh
		db 035h
		db 07eh
		db 0feh
		; Hack (wait)
		db 0cdh
		db 03dh
		mov	al, byte ptr [bp+var_2+1]
		or	byte ptr [bp+var_2+1], 0Ch
		; Hack (fldcw [bp+var_2])
		db 0cdh
		db 035h
		db 06eh
		db 0feh
		; Hack (fistp [bp+var_A])
		db 0cdh
		db 03bh
		db 07eh
		db 0f6h
		mov	byte ptr [bp+var_2+1], al
		; Hack (fldcw [bp+var_2])
		db 0cdh
		db 035h
		db 06eh
		db 0feh
		mov	ax, word ptr [bp+var_A]
		mov	dx, word ptr [bp+var_A+2]
		mov	sp, bp
		pop	bp
		retf
sub_1B5B	endp

include libs/BorlandC/_abort.asm
include libs/BorlandC/stpcpy.asm
include libs/BorlandC/abort.asm
include libs/BorlandC/atexit.asm
include libs/BorlandC/del.asm
include libs/BorlandC/delarray.asm
include libs/BorlandC/dosenv.asm
include libs/BorlandC/dosfattr.asm
include libs/BorlandC/dosgdriv.asm
include libs/BorlandC/errormsg.asm
include libs/BorlandC/exit.asm
include libs/BorlandC/f_lxmul.asm
include libs/BorlandC/f_scopy.asm
include libs/BorlandC/getvect.asm
include libs/BorlandC/H_LDIV.ASM
include libs/BorlandC/H_LLSH.ASM
include libs/BorlandC/H_PADD.ASM
include libs/BorlandC/ioerror.asm
include libs/BorlandC/_isatty.asm
include libs/BorlandC/longtoa.asm
include libs/BorlandC/lrotl.asm
include libs/BorlandC/lrotr.asm
include libs/BorlandC/lseek.asm
include libs/BorlandC/mkname.asm
include libs/BorlandC/new.asm
include libs/BorlandC/newarray.asm
include libs/BorlandC/N_LXMUL.ASM
include libs/BorlandC/N_PCMP.ASM
include libs/BorlandC/reada.asm
include libs/BorlandC/segread.asm
include libs/BorlandC/setupio.asm
include libs/BorlandC/cconv.asm
include libs/BorlandC/toupper.asm
include libs/BorlandC/unlink.asm
include libs/BorlandC/vprinter.asm
include libs/BorlandC/xclose.asm
include libs/BorlandC/xxas.asm
include libs/BorlandC/xxv.asm
include libs/BorlandC/cputype.asm
include libs/BorlandC/FARHEAP.ASM
include libs/BorlandC/fbrk.asm
include libs/BorlandC/int86.asm
include libs/BorlandC/intdos.asm
include libs/BorlandC/ioctl.asm
include libs/BorlandC/signal.asm
include libs/BorlandC/access.asm
include libs/BorlandC/pathops.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl access(const char	*path, int amode)
_access		proc far

pathname	= dword	ptr  6
amode		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+amode] ; char
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nopcall	__access
		add	sp, 6
		pop	di
		pop	si
		pop	bp
		retf
_access		endp

include libs/BorlandC/chmoda.asm
include libs/BorlandC/close.asm
include libs/BorlandC/closea.asm
include libs/BorlandC/eof.asm
include libs/BorlandC/fclose.asm
include libs/BorlandC/fflush.asm
include libs/BorlandC/flength.asm
include libs/BorlandC/flushall.asm
include libs/BorlandC/fopen.asm
include libs/BorlandC/fprintf.asm
include libs/BorlandC/fseek.asm
include libs/BorlandC/fullpath.asm
include libs/BorlandC/getc.asm
include libs/BorlandC/getdcwd.asm
include libs/BorlandC/getenv.asm
include libs/BorlandC/memcmp.asm
include libs/BorlandC/memcpy.asm
include libs/BorlandC/memset.asm
include libs/BorlandC/movmem.asm
include libs/BorlandC/open.asm
include libs/BorlandC/opena.asm
include libs/BorlandC/printf.asm
include libs/BorlandC/putc.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl puts(const char *s)
_puts		proc far

var_2		= word ptr -2
buf		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, word ptr [bp+buf]
		or	ax, word ptr [bp+buf+2]
		jnz	short loc_5023
		xor	ax, ax
		jmp	short loc_506A
; ---------------------------------------------------------------------------

loc_5023:
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; s
		nopcall	_strlen
		pop	cx
		pop	cx
		mov	[bp+var_2], ax
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; buf
		push	ax		; len
		push	ds
		mov	ax, 0CBEh
		push	ax		; stream
		call	__FPUTN
		cmp	ax, [bp+var_2]
		jz	short loc_504C
		mov	ax, 0FFFFh
		jmp	short loc_506A
; ---------------------------------------------------------------------------

loc_504C:
		push	ds
		mov	ax, 0CBEh
		push	ax		; stream
		mov	ax, 0Ah
		push	ax		; c
		nopcall	_fputc
		add	sp, 6
		cmp	ax, 0Ah
		jz	short loc_5067
		mov	ax, 0FFFFh
		jmp	short loc_506A
; ---------------------------------------------------------------------------

loc_5067:
		mov	ax, 0Ah

loc_506A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_puts		endp

include libs/BorlandC/read.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame thunk

j____read	proc far
		jmp	near ptr ___read
j____read	endp

include libs/BorlandC/srchenv.asm
include libs/BorlandC/srchstr.asm
include libs/BorlandC/setvbuf.asm
include libs/BorlandC/sprintf.asm
include libs/BorlandC/_strcat.asm
include libs/BorlandC/_strcmp.asm
include libs/BorlandC/_strcpy.asm
include libs/BorlandC/_stricmp.asm
include libs/BorlandC/_strlen.asm
include libs/BorlandC/strrchr.asm
include libs/BorlandC/write.asm
include libs/BorlandC/writea.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame thunk

j____write	proc far
		jmp	near ptr ___write
j____write	endp

include libs/BorlandC/xfclose.asm
include libs/BorlandC/xfflush.asm
include libs/BorlandC/xalloc.asm
include libs/BorlandC/xmsg.asm
include libs/BorlandC/xx.asm
include libs/BorlandC/cvtfak.asm
include libs/BorlandC/doscmd.asm
include libs/BorlandC/exec.asm
include libs/BorlandC/execl.asm
include libs/BorlandC/realcvt.asm
include libs/BorlandC/setargv.asm
include libs/BorlandC/setblock.asm
include libs/BorlandC/setenvp.asm
include libs/BorlandC/ctor2.asm
include libs/BorlandC/ctor3.asm
include libs/BorlandC/strings.asm
include libs/BorlandC/ccomdely.asm
include libs/BorlandC/cibmdely.asm
include libs/BorlandC/cnecdely.asm
include libs/BorlandC/conioini.asm
include libs/BorlandC/mbjmsjis.asm
include libs/BorlandC/loadprog.asm
seg000		ends

; ===========================================================================

; Segment type:	Pure code
seg001		segment	byte public 'CODE' use16
		assume cs:seg001
		;org 9
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9F49	proc far

var_4		= dword	ptr -4

		enter	4, 0
		push	si
		push	di
		push	ds
		push	offset aReiidenconfig ;	"ReiidenConfig"
		push	0Dh
		push	5
		call	resdata_exist
		mov	di, ax
		or	di, di
		jnz	short loc_9F65
		jmp	loc_A05D
; ---------------------------------------------------------------------------

loc_9F65:
		mov	word ptr [bp+var_4+2], di
		mov	word ptr [bp+var_4], 0
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+12h], 0
		jnz	short loc_9F7A
		jmp	loc_A053
; ---------------------------------------------------------------------------

loc_9F7A:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+21h]
		mov	ax, es:[bx+1Fh]
		mov	word_12B32, dx
		mov	word_12B30, ax
		mov	word_13EDA, 0
		mov	word_13ED8, 0
		les	bx, [bp+var_4]
		mov	al, es:[bx+12h]
		mov	byte_14021, al
		les	bx, [bp+var_4]
		mov	al, es:[bx+0Eh]
		mov	byte_14022, al
		les	bx, [bp+var_4]
		mov	dx, es:[bx+47h]
		mov	ax, es:[bx+45h]
		mov	word_12B36, dx
		mov	arglist, ax
		xor	si, si
		jmp	short loc_A003
; ---------------------------------------------------------------------------

loc_9FC2:
		mov	ax, si
		add	ax, ax
		les	bx, [bp+var_4]
		add	bx, ax
		mov	ax, es:[bx+27h]
		mov	bx, si
		shl	bx, 2
		mov	word ptr [bx+143Eh], 0
		mov	[bx+143Ch], ax
		mov	ax, si
		add	ax, ax
		les	bx, [bp+var_4]
		add	bx, ax
		mov	word ptr es:[bx+27h], 0
		mov	bx, si
		shl	bx, 2
		mov	dx, [bx+143Eh]
		mov	ax, [bx+143Ch]
		add	word_13ED8, ax
		adc	word_13EDA, dx
		inc	si

loc_A003:
		cmp	si, 4
		jl	short loc_9FC2
		les	bx, [bp+var_4]
		mov	dx, es:[bx+1Dh]
		mov	ax, es:[bx+1Bh]
		mov	word ptr random_seed+2, dx
		mov	word ptr random_seed, ax
		les	bx, [bp+var_4]
		mov	al, es:[bx+11h]
		mov	byte_14020, al
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+21h], 0
		mov	word ptr es:[bx+1Fh], 0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+25h], 0
		mov	word ptr es:[bx+23h], 0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+47h], 0
		mov	word ptr es:[bx+45h], 0
		jmp	short loc_A05B
; ---------------------------------------------------------------------------

loc_A053:
		push	ds
		push	offset aErrorEnd_flagI ; "ERROR	: end_flag is not ture !!"
		jmp	short loc_A061
; ---------------------------------------------------------------------------
		jmp	short loc_A069
; ---------------------------------------------------------------------------

loc_A05B:
		jmp	short loc_A06D
; ---------------------------------------------------------------------------

loc_A05D:
		push	ds
		push	offset s	; "ERROR : cfg_id is not alloc!!"

loc_A061:
		call	_puts
		add	sp, 4

loc_A069:
		xor	ax, ax
		jmp	short loc_A072
; ---------------------------------------------------------------------------

loc_A06D:
		mov	ax, 1
		jmp	short $+2

loc_A072:
		pop	di
		pop	si
		leave
		retf
sub_9F49	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A076	proc far

var_4		= dword	ptr -4

		enter	4, 0
		push	si
		push	di
		push	ds
		push	offset aReiidenconfi_0 ; "ReiidenConfig"
		push	0Dh
		push	5
		call	resdata_exist
		mov	di, ax
		or	di, di
		jz	short loc_A0EE
		mov	word ptr [bp+var_4+2], di
		mov	word ptr [bp+var_4], 0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+21h], 0
		mov	word ptr es:[bx+1Fh], 0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+25h], 0
		mov	word ptr es:[bx+23h], 0
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx+12h], 0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+47h], 0
		mov	word ptr es:[bx+45h], 0
		xor	si, si
		jmp	short loc_A0E0
; ---------------------------------------------------------------------------

loc_A0D0:
		mov	ax, si
		add	ax, ax
		les	bx, [bp+var_4]
		add	bx, ax
		mov	word ptr es:[bx+27h], 0
		inc	si

loc_A0E0:
		cmp	si, 4
		jl	short loc_A0D0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+3Fh], 0

loc_A0EE:
		mov	ax, 1
		jmp	short $+2
		pop	di
		pop	si
		leave
		retf
sub_A076	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl main(int argc, const char	**argv,	const char **envp)
_main		proc far

_argc		= word ptr  6
_argv		= dword	ptr  8
_envp		= dword	ptr  0Ch

		push	bp
		mov	bp, sp
		call	sub_EF80
		or	ax, ax
		jnz	short loc_A105
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_A105:
		les	bx, [bp+_argv]
		les	bx, es:[bx+4]
		mov	al, es:[bx]
		cbw
		cmp	ax, 74h	; 't'
		jz	short loc_A121
		call	sub_9F49
		or	ax, ax
		jnz	short loc_A11F
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_A11F:
		jmp	short loc_A13E
; ---------------------------------------------------------------------------

loc_A121:
		les	bx, [bp+_argv]
		les	bx, es:[bx+4]
		mov	al, es:[bx+1]
		cbw
		cmp	ax, 31h	; '1'
		jnz	short loc_A139
		mov	byte_14021, 1
		jmp	short loc_A13E
; ---------------------------------------------------------------------------

loc_A139:
		mov	byte_14021, 2

loc_A13E:
		call	sub_F0E4
		call	sub_CEAD
		call	sub_B945
		call	sub_CF1B
		push	0
		push	0
		push	ds
		push	offset arg0	; "op"
		push	ds
		push	offset path	; "op"
		call	_execl
		add	sp, 0Ch
		pop	bp
		retf
_main		endp

seg001		ends

; ===========================================================================

; Segment type:	Pure code
seg002		segment	byte public 'CODE' use16
		assume cs:seg002
		;org 8
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A168	proc far

var_30		= byte ptr -30h
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		enter	30h, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	[bp+var_6], 0
		mov	[bp+var_8], 1
		lea	ax, [bp+var_30]
		push	ss
		push	ax
		push	ds
		push	offset off_12BCC
		mov	cx, 28h	; '('
		call	SCOPY@
		xor	di, di
		jmp	short loc_A1A7
; ---------------------------------------------------------------------------

loc_A190:
		xor	cx, cx
		mov	bx, 0Ah
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		call	LXMUL@
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		inc	di

loc_A1A7:
		cmp	di, [bp+arg_6]
		jl	short loc_A190

loc_A1AC:
		push	0
		push	0Ah
		push	[bp+var_6]
		push	[bp+var_8]
		call	far ptr F_LUDIV@
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		cmp	si, 270h
		jle	short loc_A1CA
		jmp	loc_A261
; ---------------------------------------------------------------------------

loc_A1CA:
		push	0
		push	0Ah
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+arg_A]
		push	[bp+arg_8]
		call	far ptr F_LUDIV@
		push	dx
		push	ax
		call	far ptr LUMOD@
		mov	[bp+var_2], ax
		push	0
		push	0Ah
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+arg_E]
		push	[bp+arg_C]
		call	far ptr F_LUDIV@
		push	dx
		push	ax
		call	far ptr LUMOD@
		mov	[bp+var_4], ax
		cmp	[bp+var_2], 0
		jz	short loc_A213
		mov	[bp+arg_10], 1

loc_A213:
		cmp	[bp+arg_10], 0
		jz	short loc_A24A
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_A229
		mov	ax, [bp+arg_C]
		or	ax, [bp+arg_E]
		jnz	short loc_A24A

loc_A229:
		mov	bx, [bp+var_2]
		shl	bx, 2
		lea	ax, [bp+var_30]
		add	bx, ax
		push	word ptr ss:[bx+2]
		push	word ptr ss:[bx]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	si
		call	sub_E10C
		add	sp, 0Ah

loc_A24A:
		add	si, 10h
		cmp	[bp+var_6], 0
		jbe	short loc_A256
		jmp	loc_A1AC
; ---------------------------------------------------------------------------

loc_A256:
		jnz	short loc_A261
		cmp	[bp+var_8], 1
		jbe	short loc_A261
		jmp	loc_A1AC
; ---------------------------------------------------------------------------

loc_A261:
		pop	di
		pop	si
		leave
		retf
sub_A168	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A265	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		enter	4, 0
		cmp	[bp+arg_0], 1
		jnz	short loc_A2A5
		mov	byte_14039, 0
		mov	byte_1403A, 0
		mov	byte_1403B, 0
		mov	byte_1403C, 0
		mov	byte_1403D, 0
		mov	byte_1403E, 0
		mov	byte_1403F, 0
		mov	byte_14040, 0
		mov	byte_14041, 0
		mov	byte_14042, 0
		leave
		retf
; ---------------------------------------------------------------------------
		leave
		retf
; ---------------------------------------------------------------------------

loc_A2A5:
		push	7
		call	key_sense
		mov	[bp+var_2], ax
		push	5
		call	key_sense
		mov	[bp+var_4], ax
		push	7
		call	key_sense
		or	[bp+var_2], ax
		push	5
		call	key_sense
		or	[bp+var_4], ax
		mov	al, byte_14039
		mov	ah, 0
		mov	dx, [bp+var_2]
		and	dx, 4
		cmp	ax, dx
		jz	short loc_A2EE
		test	byte ptr [bp+var_2], 4
		jz	short loc_A2E9
		mov	byte_12BA2, 1
		jmp	short loc_A2EE
; ---------------------------------------------------------------------------

loc_A2E9:
		mov	byte_12BA2, 0

loc_A2EE:
		mov	al, byte ptr [bp+var_2]
		and	al, 4
		mov	byte_14039, al
		mov	al, byte_1403A
		mov	ah, 0
		mov	dx, [bp+var_2]
		and	dx, 20h
		cmp	ax, dx
		jz	short loc_A317
		test	byte ptr [bp+var_2], 20h
		jz	short loc_A312
		mov	byte_12BA3, 1
		jmp	short loc_A317
; ---------------------------------------------------------------------------

loc_A312:
		mov	byte_12BA3, 0

loc_A317:
		mov	al, byte ptr [bp+var_2]
		and	al, 20h
		mov	byte_1403A, al
		mov	al, byte_1403B
		mov	ah, 0
		mov	dx, [bp+var_2]
		and	dx, 8
		cmp	ax, dx
		jz	short loc_A340
		test	byte ptr [bp+var_2], 8
		jz	short loc_A33B
		or	byte_12B99, 2
		jmp	short loc_A340
; ---------------------------------------------------------------------------

loc_A33B:
		and	byte_12B99, 0FDh

loc_A340:
		mov	al, byte ptr [bp+var_2]
		and	al, 8
		mov	byte_1403B, al
		mov	al, byte_1403C
		mov	ah, 0
		mov	dx, [bp+var_2]
		and	dx, 10h
		cmp	ax, dx
		jz	short loc_A369
		test	byte ptr [bp+var_2], 10h
		jz	short loc_A364
		or	byte_12B99, 1
		jmp	short loc_A369
; ---------------------------------------------------------------------------

loc_A364:
		and	byte_12B99, 0FEh

loc_A369:
		mov	al, byte ptr [bp+var_2]
		and	al, 10h
		mov	byte_1403C, al
		mov	al, byte_1403D
		mov	ah, 0
		mov	dx, [bp+var_4]
		and	dx, 2
		cmp	ax, dx
		jz	short loc_A392
		test	byte ptr [bp+var_4], 2
		jz	short loc_A38D
		mov	byte_12B9C, 1
		jmp	short loc_A392
; ---------------------------------------------------------------------------

loc_A38D:
		mov	byte_12B9C, 0

loc_A392:
		mov	al, byte ptr [bp+var_4]
		and	al, 2
		mov	byte_1403D, al
		mov	al, byte_1403E
		mov	ah, 0
		mov	dx, [bp+var_4]
		and	dx, 4
		cmp	ax, dx
		jz	short loc_A3BB
		test	byte ptr [bp+var_4], 4
		jz	short loc_A3B6
		mov	byte_12BA1, 1
		jmp	short loc_A3BB
; ---------------------------------------------------------------------------

loc_A3B6:
		mov	byte_12BA1, 0

loc_A3BB:
		mov	al, byte ptr [bp+var_4]
		and	al, 4
		mov	byte_1403E, al
		push	0
		call	key_sense
		mov	[bp+var_2], ax
		push	3
		call	key_sense
		mov	[bp+var_4], ax
		push	0
		call	key_sense
		or	[bp+var_2], ax
		push	3
		call	key_sense
		or	[bp+var_4], ax
		mov	al, byte_1403F
		mov	ah, 0
		mov	dx, [bp+var_2]
		and	dx, 1
		cmp	ax, dx
		jz	short loc_A409
		test	byte ptr [bp+var_2], 1
		jz	short loc_A409
		mov	al, 1
		sub	al, byte_12B9F
		mov	byte_12B9F, al

loc_A409:
		mov	al, byte ptr [bp+var_2]
		and	al, 1
		mov	byte_1403F, al
		mov	al, byte_14040
		mov	ah, 0
		mov	dx, [bp+var_4]
		and	dx, 10h
		cmp	ax, dx
		jz	short loc_A445
		test	byte ptr [bp+var_4], 10h
		jz	short loc_A440
		cmp	byte_12B9F, 1
		jnz	short loc_A439
		cmp	byte_12B9C, 1
		jnz	short loc_A439
		mov	byte_12B9D, 1

loc_A439:
		mov	byte_12BA0, 1
		jmp	short loc_A445
; ---------------------------------------------------------------------------

loc_A440:
		mov	byte_12BA0, 0

loc_A445:
		mov	al, byte ptr [bp+var_4]
		and	al, 10h
		mov	byte_14040, al
		leave
		retf
sub_A265	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A44F	proc far
		push	bp
		mov	bp, sp
		mov	byte_12B99, 0
		mov	byte_12BA2, 0
		mov	byte_12BA3, 0
		mov	byte_12BA0, 0
		mov	byte_12B9F, 0
		mov	byte_12B9C, 0
		mov	byte_12BA1, 0
		mov	byte_12B9A, 0
		mov	byte_12B9B, 0
		push	1
		call	sub_A265
		pop	cx
		pop	bp
		retf
sub_A44F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A488	proc far

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	al, [bp+arg_0]
		add	al, 9Ch
		pop	bp
		retf
sub_A488	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A494	proc far

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	al, [bp+arg_0]
		add	al, 64h	; 'd'
		pop	bp
		retf
sub_A494	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A4A0	proc far

dest		= byte ptr -26h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= dword	ptr -12h
stream		= dword	ptr -0Eh
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	26h, 0
		push	si
		mov	[bp+var_4], ds
		mov	[bp+var_6], 1ACh
		mov	word ptr [bp+var_12+2],	ds
		mov	word ptr [bp+var_12], 1AFh
		mov	[bp+var_14], ds
		mov	[bp+var_16], 1C0h
		mov	al, byte_14022
		mov	ah, 0
		mov	bx, ax
		cmp	bx, 3
		ja	short loc_A4F5
		add	bx, bx
		jmp	cs:off_A614[bx]

loc_A4D0:
		push	ds
		push	offset aReyhies_dat ; "REYHIES.DAT"
		jmp	short loc_A4E6
; ---------------------------------------------------------------------------

loc_A4D6:
		push	ds
		push	offset aReyhino_dat ; "REYHINO.DAT"
		jmp	short loc_A4E6
; ---------------------------------------------------------------------------

loc_A4DC:
		push	ds
		push	offset aReyhiha_dat ; "REYHIHA.DAT"
		jmp	short loc_A4E6
; ---------------------------------------------------------------------------

loc_A4E2:
		push	ds
		push	offset src	; "REYHILU.DAT"

loc_A4E6:
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		jmp	short $+2

loc_A4F5:
		cli
		push	ds
		push	offset mode	; "wb"
		push	ss
		lea	ax, [bp+dest]
		push	ax		; path
		call	_fopen
		add	sp, 8
		mov	word ptr [bp+stream+2],	dx
		mov	word ptr [bp+stream], ax
		or	ax, dx
		jnz	short loc_A517
		jmp	loc_A610
; ---------------------------------------------------------------------------
		jmp	loc_A611
; ---------------------------------------------------------------------------

loc_A517:
		push	7
		push	[bp+var_14]
		push	[bp+var_16]
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		mov	[bp+var_2], 0Ah
		mov	[bp+var_8], 0
		mov	[bp+var_A], 3E8h
		xor	si, si
		jmp	short loc_A55A
; ---------------------------------------------------------------------------

loc_A543:
		les	bx, [bp+var_12]
		add	bx, si
		mov	al, es:[bx]
		push	ax
		call	sub_A488
		pop	cx
		les	bx, [bp+var_12]
		add	bx, si
		mov	es:[bx], al
		inc	si

loc_A55A:
		cmp	si, 10h
		jl	short loc_A543
		xor	si, si
		jmp	short loc_A57D
; ---------------------------------------------------------------------------

loc_A563:
		push	10h
		push	word ptr [bp+var_12+2]
		push	word ptr [bp+var_12]
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		inc	si

loc_A57D:
		cmp	si, 0Ah
		jl	short loc_A563
		xor	si, si
		jmp	short loc_A5B1
; ---------------------------------------------------------------------------

loc_A586:
		push	4
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		add	ax, 0FF9Ch
		adc	dx, 0FFFFh
		mov	[bp+var_8], dx
		mov	[bp+var_A], ax
		inc	si

loc_A5B1:
		cmp	si, 0Ah
		jl	short loc_A586
		xor	si, si
		jmp	short loc_A5DA
; ---------------------------------------------------------------------------

loc_A5BA:
		push	2
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		mov	ax, [bp+var_2]
		dec	ax
		mov	[bp+var_2], ax
		inc	si

loc_A5DA:
		cmp	si, 0Ah
		jl	short loc_A5BA
		xor	si, si
		jmp	short loc_A5FD
; ---------------------------------------------------------------------------

loc_A5E3:
		push	2
		push	[bp+var_4]
		push	[bp+var_6]
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		inc	si

loc_A5FD:
		cmp	si, 0Ah
		jl	short loc_A5E3
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4

loc_A610:
		sti

loc_A611:
		pop	si
		leave
		retf
sub_A4A0	endp

; ---------------------------------------------------------------------------
off_A614	dw offset loc_A4D0
		dw offset loc_A4D6
		dw offset loc_A4DC
		dw offset loc_A4E2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A61C	proc far

dest		= byte ptr -46h
s1		= byte ptr -36h
stream		= dword	ptr -4

		enter	46h, 0
		push	si
		mov	al, byte_14022
		mov	ah, 0
		mov	bx, ax
		cmp	bx, 3
		ja	short loc_A659
		add	bx, bx
		jmp	cs:off_A7C7[bx]

loc_A634:
		push	ds
		push	offset aReyhies_dat_0 ;	"REYHIES.DAT"
		jmp	short loc_A64A
; ---------------------------------------------------------------------------

loc_A63A:
		push	ds
		push	offset aReyhino_dat_0 ;	"REYHINO.DAT"
		jmp	short loc_A64A
; ---------------------------------------------------------------------------

loc_A640:
		push	ds
		push	offset aReyhiha_dat_0 ;	"REYHIHA.DAT"
		jmp	short loc_A64A
; ---------------------------------------------------------------------------

loc_A646:
		push	ds
		push	offset aReyhilu_dat_0 ;	"REYHILU.DAT"

loc_A64A:
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		jmp	short $+2

loc_A659:
		push	0		; amode
		push	ss
		lea	ax, [bp+dest]
		push	ax		; path
		call	_access
		add	sp, 6
		or	ax, ax
		jz	short loc_A670
		call	sub_A4A0

loc_A670:
		cli
		push	ds
		push	offset aRb	; "rb"
		push	ss
		lea	ax, [bp+dest]
		push	ax		; path
		call	_fopen
		add	sp, 8
		mov	word ptr [bp+stream+2],	dx
		mov	word ptr [bp+stream], ax
		or	ax, dx
		jnz	short loc_A694
		push	ds
		push	offset aGtg@gcglvkvVVi ; "t@CªÝÂ©ñÈ¢"
		jmp	short loc_A6D5
; ---------------------------------------------------------------------------
		jmp	short loc_A6DE
; ---------------------------------------------------------------------------

loc_A694:
		push	7
		push	ss
		lea	ax, [bp+s1]
		push	ax
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____read
		add	sp, 8
		push	4		; n
		push	ds
		push	offset aHiscore	; "HISCORE"
		push	ss
		lea	ax, [bp+s1]
		push	ax		; s1
		call	_memcmp
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_A6E4
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4
		push	ds
		push	offset format	; "t@Cªá¤I"

loc_A6D5:
		call	_printf
		add	sp, 4
		sti

loc_A6DE:
		mov	ax, 1
		jmp	loc_A7C4
; ---------------------------------------------------------------------------

loc_A6E4:
		push	0A0h
		call	@$bnwa$qui
		pop	cx
		mov	word ptr font+2, dx
		mov	word ptr font, ax
		push	14h
		call	@$bnwa$qui
		pop	cx
		mov	word ptr off_1402C+2, dx
		mov	word ptr off_1402C, ax
		push	14h
		call	@$bnwa$qui
		pop	cx
		mov	word ptr off_14028+2, dx
		mov	word ptr off_14028, ax
		push	28h ; '('
		call	@$bnwa$qui
		pop	cx
		mov	word ptr off_14034+2, dx
		mov	word ptr off_14034, ax
		push	0A0h
		push	word ptr font+2
		push	word ptr font
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____read
		add	sp, 8
		push	28h ; '('
		push	word ptr off_14034+2
		push	word ptr off_14034
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____read
		add	sp, 8
		push	14h
		push	word ptr off_1402C+2
		push	word ptr off_1402C
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____read
		add	sp, 8
		push	14h
		push	word ptr off_14028+2
		push	word ptr off_14028
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____read
		add	sp, 8
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4
		xor	si, si
		jmp	short loc_A7B9
; ---------------------------------------------------------------------------

loc_A7A0:
		les	bx, font
		add	bx, si
		mov	al, es:[bx]
		push	ax
		call	sub_A494
		pop	cx
		les	bx, font
		add	bx, si
		mov	es:[bx], al
		inc	si

loc_A7B9:
		cmp	si, 0A0h
		jl	short loc_A7A0
		sti
		xor	ax, ax
		jmp	short $+2

loc_A7C4:
		pop	si
		leave
		retf
sub_A61C	endp

; ---------------------------------------------------------------------------
off_A7C7	dw offset loc_A634
		dw offset loc_A63A
		dw offset loc_A640
		dw offset loc_A646

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A7CF	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		xor	dx, dx
		jmp	short loc_A7F2
; ---------------------------------------------------------------------------

loc_A7D6:
		mov	bx, [bp+arg_0]
		shl	bx, 4
		add	bx, dx
		mov	es, word ptr font+2
		add	bx, word ptr font
		mov	al, es:[bx]
		les	bx, [bp+arg_2]
		add	bx, dx
		mov	es:[bx], al
		inc	dx

loc_A7F2:
		cmp	dx, 10h
		jl	short loc_A7D6
		les	bx, [bp+arg_2]
		mov	byte ptr es:[bx+10h], 0
		pop	bp
		retf
sub_A7CF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A801	proc far

var_2		= word ptr -2

		enter	2, 0
		push	si
		push	di
		mov	[bp+var_2], 27h	; '''
		mov	di, 8282h
		mov	si, 1
		jmp	short loc_A84F
; ---------------------------------------------------------------------------

loc_A814:
		mov	ax, di
		and	ax, 0FFh
		push	ax
		mov	ax, di
		shr	ax, 8
		push	ax		; arglist
		push	ds
		push	offset aCC	; "%c%c"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 0F0h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Eh
		inc	di
		inc	si

loc_A84F:
		cmp	si, 1Ah
		jl	short loc_A814
		push	ds
		push	offset aVb	; ""
		push	823h
		push	0F0h
		push	20h ; ' '
		call	sub_E10C
		add	sp, 0Ah
		mov	di, 8260h
		xor	si, si
		jmp	short loc_A8AA
; ---------------------------------------------------------------------------

loc_A86F:
		mov	ax, di
		and	ax, 0FFh
		push	ax
		mov	ax, di
		shr	ax, 8
		push	ax		; arglist
		push	ds
		push	offset aCC_0	; "%c%c"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 120h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Eh
		inc	di
		inc	si

loc_A8AA:
		cmp	si, 1Ah
		jl	short loc_A86F
		xor	si, si
		jmp	short loc_A8F5
; ---------------------------------------------------------------------------

loc_A8B3:
		mov	bx, si
		add	bx, bx
		mov	di, [bx+108h]
		mov	ax, di
		and	ax, 0FFh
		push	ax
		mov	ax, di
		shr	ax, 8
		push	ax		; arglist
		push	ds
		push	offset aCC_1	; "%c%c"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 150h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Eh
		inc	si

loc_A8F5:
		cmp	si, 12h
		jl	short loc_A8B3
		mov	di, 824Fh
		xor	si, si
		jmp	short loc_A93C
; ---------------------------------------------------------------------------

loc_A901:
		mov	ax, di
		and	ax, 0FFh
		push	ax
		mov	ax, di
		shr	ax, 8
		push	ax		; arglist
		push	ds
		push	offset aCC_2	; "%c%c"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 168h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Eh
		inc	di
		inc	si

loc_A93C:
		cmp	si, 0Ah
		jl	short loc_A901
		push	ds
		push	offset aSp	; "SP"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 168h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Ah
		mov	si, 0Fh
		push	ds
		push	offset aBi	; "©"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 168h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Ah
		inc	si
		push	ds
		push	offset aBi_0	; "¨"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 168h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Ah
		inc	si
		push	ds
		push	offset aPi	; "I"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 168h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Ah
		inc	si
		pop	di
		pop	si
		leave
		retf
sub_A801	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A9FF	proc far

var_12		= byte ptr -12h
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= dword	ptr  0Eh
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	12h, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		lea	ax, [bp+var_12]
		push	ss
		push	ax
		push	ds
		push	offset aBqbqbqbqbqbqbq ; "QQQQQQQQ"
		mov	cx, 11h
		call	SCOPY@
		push	0
		call	sub_D107
		pop	cx
		push	ds
		push	offset aB@cB@iB@ ; "@ì@Ê@"
		push	33h ; '3'
		push	30h ; '0'
		push	20h ; ' '
		call	sub_E10C
		add	sp, 0Ah
		push	ds
		push	offset aB@b@cB@b@sob@b ; "@@¼@@O@@"
		push	33h ; '3'
		push	30h ; '0'
		push	90h
		call	sub_E10C
		add	sp, 0Ah
		push	ds
		push	offset aB@b@uB@b@u_b@b ; "@@¾@@_@@"
		push	33h ; '3'
		push	30h ; '0'
		push	160h
		call	sub_E10C
		add	sp, 0Ah
		push	ds
		push	offset aGxgebGwbeglbGg ; "Xe[WE[g"
		push	33h ; '3'
		push	30h ; '0'
		push	200h
		call	sub_E10C
		add	sp, 0Ah
		xor	si, si
		jmp	loc_AD66
; ---------------------------------------------------------------------------

loc_AA71:
		mov	bx, si
		cmp	bx, 9
		jbe	short loc_AA7B
		jmp	loc_AB4F
; ---------------------------------------------------------------------------

loc_AA7B:
		add	bx, bx
		jmp	cs:off_AD72[bx]

loc_AA82:
		push	ds
		push	offset aB@sB@r_b@ ; "@èË@_@"
		cmp	si, di
		jnz	short loc_AA8F
		mov	ax, 3
		jmp	short loc_AA92
; ---------------------------------------------------------------------------

loc_AA8F:
		mov	ax, 7

loc_AA92:
		jmp	loc_AB36
; ---------------------------------------------------------------------------

loc_AA95:
		push	ds
		push	offset aSMRgcId	; "¾³¾¤"
		cmp	si, di
		jnz	short loc_AAA2
		mov	ax, 3
		jmp	short loc_AAA5
; ---------------------------------------------------------------------------

loc_AAA2:
		mov	ax, 7

loc_AAA5:
		jmp	loc_AB36
; ---------------------------------------------------------------------------

loc_AAA8:
		push	ds
		push	offset aB@uvb@rxb@ ; "@V@å@"
		cmp	si, di
		jnz	short loc_AAB5
		mov	ax, 3
		jmp	short loc_AAB8
; ---------------------------------------------------------------------------

loc_AAB5:
		mov	ax, 7

loc_AAB8:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AABA:
		push	ds
		push	offset aB@r_b@rxb@ ; "@_@å@"
		cmp	si, di
		jnz	short loc_AAC7
		mov	ax, 3
		jmp	short loc_AACA
; ---------------------------------------------------------------------------

loc_AAC7:
		mov	ax, 7

loc_AACA:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AACC:
		push	ds
		push	offset aB@tnb@rxb@ ; "@n@å@"
		cmp	si, di
		jnz	short loc_AAD9
		mov	ax, 3
		jmp	short loc_AADC
; ---------------------------------------------------------------------------

loc_AAD9:
		mov	ax, 7

loc_AADC:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AADE:
		push	ds
		push	offset aB@rlb@rxb@ ; "@l@å@"
		cmp	si, di
		jnz	short loc_AAEB
		mov	ax, 3
		jmp	short loc_AAEE
; ---------------------------------------------------------------------------

loc_AAEB:
		mov	ax, 7

loc_AAEE:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AAF0:
		push	ds
		push	offset aB@rxb@pcb@ ; "@å@@"
		cmp	si, di
		jnz	short loc_AAFD
		mov	ax, 3
		jmp	short loc_AB00
; ---------------------------------------------------------------------------

loc_AAFD:
		mov	ax, 7

loc_AB00:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AB02:
		push	ds
		push	offset aIab@czb@ot ; "A@z@t"
		cmp	si, di
		jnz	short loc_AB0F
		mov	ax, 3
		jmp	short loc_AB12
; ---------------------------------------------------------------------------

loc_AB0F:
		mov	ax, 7

loc_AB12:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AB14:
		push	ds
		push	offset aSB@fB@ot ; "èË@}@t"
		cmp	si, di
		jnz	short loc_AB21
		mov	ax, 3
		jmp	short loc_AB24
; ---------------------------------------------------------------------------

loc_AB21:
		mov	ax, 7

loc_AB24:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AB26:
		push	ds
		push	offset aPcb@lB@o ; "C@Æ@Ò"
		cmp	si, di
		jnz	short loc_AB33
		mov	ax, 3
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AB33:
		mov	ax, 7

loc_AB36:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h
		push	ax
		push	20h ; ' '
		call	sub_E10C
		add	sp, 0Ah
		jmp	short $+2

loc_AB4F:
		cmp	si, di
		jnz	short loc_AB5A
		mov	dx, ss
		lea	ax, [bp+var_12]
		jmp	short loc_AB69
; ---------------------------------------------------------------------------

loc_AB5A:
		mov	ax, si
		imul	ax, 12h
		mov	dx, [bp+arg_E]
		push	ax
		mov	ax, [bp+arg_C]
		pop	bx
		add	ax, bx

loc_AB69:
		push	dx
		push	ax
		cmp	si, di
		jnz	short loc_AB74
		mov	ax, 3
		jmp	short loc_AB77
; ---------------------------------------------------------------------------

loc_AB74:
		mov	ax, 7

loc_AB77:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h
		push	ax
		push	90h
		call	sub_E10C
		add	sp, 0Ah
		push	0
		push	0
		push	0
		cmp	di, si
		jnz	short loc_ABA1
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_2]
		jmp	short loc_ABB3
; ---------------------------------------------------------------------------

loc_ABA1:
		mov	ax, si
		shl	ax, 2
		les	bx, off_14034
		add	bx, ax
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_ABB3:
		push	dx
		push	ax
		push	7
		cmp	si, di
		jnz	short loc_ABC0
		mov	ax, 3
		jmp	short loc_ABC3
; ---------------------------------------------------------------------------

loc_ABC0:
		mov	ax, 7

loc_ABC3:
		or	ax, 30h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h
		push	ax
		push	160h
		call	sub_A168
		add	sp, 12h
		cmp	si, di
		jz	short loc_ABEE
		mov	ax, si
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		cmp	word ptr es:[bx], 28h ;	'('
		jl	short loc_ABF8

loc_ABEE:
		cmp	si, di
		jnz	short loc_AC3F
		cmp	[bp+arg_6], 28h	; '('
		jge	short loc_AC3F

loc_ABF8:
		push	0
		push	0
		push	0
		cmp	si, di
		jnz	short loc_AC07
		mov	ax, [bp+arg_6]
		jmp	short loc_AC14
; ---------------------------------------------------------------------------

loc_AC07:
		mov	ax, si
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		mov	ax, es:[bx]

loc_AC14:
		cwd
		push	dx
		push	ax
		push	2
		cmp	si, di
		jnz	short loc_AC22
		mov	ax, 3
		jmp	short loc_AC25
; ---------------------------------------------------------------------------

loc_AC22:
		mov	ax, 7

loc_AC25:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h
		push	ax
		push	210h
		call	sub_A168
		add	sp, 12h
		jmp	loc_ACCD
; ---------------------------------------------------------------------------

loc_AC3F:
		cmp	si, di
		jz	short loc_AC53
		mov	ax, si
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		cmp	word ptr es:[bx], 32h ;	'2'
		jz	short loc_AC5D

loc_AC53:
		cmp	si, di
		jnz	short loc_AC87
		cmp	[bp+arg_6], 32h	; '2'
		jnz	short loc_AC87

loc_AC5D:
		push	ds
		push	offset aCvke	; "E"
		cmp	si, di
		jnz	short loc_AC6A
		mov	ax, 3
		jmp	short loc_AC6D
; ---------------------------------------------------------------------------

loc_AC6A:
		mov	ax, 7

loc_AC6D:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h
		push	ax
		push	210h
		call	sub_E10C
		add	sp, 0Ah
		jmp	short loc_ACCD
; ---------------------------------------------------------------------------

loc_AC87:
		cmp	si, di
		jz	short loc_AC9B
		mov	ax, si
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		cmp	word ptr es:[bx], 3Ch ;	'<'
		jz	short loc_ACA5

loc_AC9B:
		cmp	si, di
		jnz	short loc_ACCD
		cmp	[bp+arg_6], 3Ch	; '<'
		jnz	short loc_ACCD

loc_ACA5:
		push	ds
		push	offset aTnnc	; "n"
		cmp	si, di
		jnz	short loc_ACB2
		mov	ax, 3
		jmp	short loc_ACB5
; ---------------------------------------------------------------------------

loc_ACB2:
		mov	ax, 7

loc_ACB5:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h
		push	ax
		push	210h
		call	sub_E10C
		add	sp, 0Ah

loc_ACCD:
		push	ds
		push	offset aB	; "|"
		cmp	si, di
		jnz	short loc_ACDA
		mov	ax, 3
		jmp	short loc_ACDD
; ---------------------------------------------------------------------------

loc_ACDA:
		mov	ax, 7

loc_ACDD:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h
		push	ax
		push	230h
		call	sub_E10C
		add	sp, 0Ah
		cmp	si, di
		jnz	short loc_ACFE
		les	bx, [bp+arg_8]
		jmp	short loc_AD0A
; ---------------------------------------------------------------------------

loc_ACFE:
		mov	bx, si
		add	bx, bx
		mov	es, word ptr off_14028+2
		add	bx, word ptr off_14028

loc_AD0A:
		mov	al, es:[bx+1]
		cbw
		push	ax
		cmp	si, di
		jnz	short loc_AD19
		les	bx, [bp+arg_8]
		jmp	short loc_AD23
; ---------------------------------------------------------------------------

loc_AD19:
		mov	ax, si
		add	ax, ax
		les	bx, off_14028
		add	bx, ax

loc_AD23:
		mov	al, es:[bx]
		cbw
		push	ax		; arglist
		push	ds
		push	offset aCC_3	; "%c%c"
		cmp	si, di
		jnz	short loc_AD35
		mov	ax, 3
		jmp	short loc_AD38
; ---------------------------------------------------------------------------

loc_AD35:
		mov	ax, 7

loc_AD38:
		or	ax, 20h
		push	ax		; int
		mov	ax, si
		shl	ax, 4
		add	ax, 40h
		push	ax		; int
		push	240h		; int
		call	sub_E9E4
		add	sp, 0Eh
		cmp	di, si
		jnz	short loc_AD65
		mov	word_14030, 90h
		mov	ax, si
		shl	ax, 4
		add	ax, 40h
		mov	word_14032, ax

loc_AD65:
		inc	si

loc_AD66:
		cmp	si, 0Ah
		jge	short loc_AD6E
		jmp	loc_AA71
; ---------------------------------------------------------------------------

loc_AD6E:
		pop	di
		pop	si
		leave
		retf
sub_A9FF	endp

; ---------------------------------------------------------------------------
off_AD72	dw offset loc_AA82
		dw offset loc_AA95
		dw offset loc_AAA8
		dw offset loc_AABA
		dw offset loc_AACC
		dw offset loc_AADE
		dw offset loc_AAF0
		dw offset loc_AB02
		dw offset loc_AB14
		dw offset loc_AB26

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AD86	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	4, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	di, [bp+arg_2]
		mov	[bp+var_2], 0
		push	10h
		push	20h ; ' '
		push	di
		push	si
		call	sub_ECA3
		add	sp, 8
		cmp	[bp+arg_4], 0
		jnz	short loc_ADB0
		mov	ax, 7
		jmp	short loc_ADB3
; ---------------------------------------------------------------------------

loc_ADB0:
		mov	ax, 803h

loc_ADB3:
		or	ax, 20h
		mov	[bp+var_4], ax
		cmp	di, 0F0h
		jnz	short loc_ADD1
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8281h
		mov	[bp+var_2], ax
		jmp	loc_AECD
; ---------------------------------------------------------------------------

loc_ADD1:
		cmp	di, 108h
		jnz	short loc_ADE9
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8293h
		mov	[bp+var_2], ax
		jmp	loc_AECD
; ---------------------------------------------------------------------------

loc_ADE9:
		cmp	di, 120h
		jnz	short loc_AE01
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8260h
		mov	[bp+var_2], ax
		jmp	loc_AECD
; ---------------------------------------------------------------------------

loc_AE01:
		cmp	di, 138h
		jnz	short loc_AE19
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8272h
		mov	[bp+var_2], ax
		jmp	loc_AECD
; ---------------------------------------------------------------------------

loc_AE19:
		cmp	di, 150h
		jnz	short loc_AE36
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, ax
		mov	bx, ax
		mov	ax, [bx+108h]
		mov	[bp+var_2], ax
		jmp	loc_AECD
; ---------------------------------------------------------------------------

loc_AE36:
		cmp	di, 168h
		jnz	short loc_AE53
		cmp	si, 160h
		jge	short loc_AE53
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 824Fh
		mov	[bp+var_2], ax
		jmp	short loc_AECD
; ---------------------------------------------------------------------------

loc_AE53:
		cmp	di, 168h
		jnz	short loc_AE72
		cmp	si, 160h
		jnz	short loc_AE72
		push	ds
		push	offset aSp_0	; "SP"
		push	[bp+var_4]	; int
		push	di		; int
		push	si		; int
		call	sub_E9E4
		add	sp, 0Ah
		jmp	short loc_AECD
; ---------------------------------------------------------------------------

loc_AE72:
		cmp	di, 168h
		jnz	short loc_AE91
		cmp	si, 200h
		jnz	short loc_AE91
		push	ds
		push	offset aBi_1	; "©"
		push	[bp+var_4]	; int
		push	di		; int
		push	si		; int
		call	sub_E9E4
		add	sp, 0Ah
		jmp	short loc_AECD
; ---------------------------------------------------------------------------

loc_AE91:
		cmp	di, 168h
		jnz	short loc_AEB0
		cmp	si, 220h
		jnz	short loc_AEB0
		push	ds
		push	offset aBi_2	; "¨"
		push	[bp+var_4]	; int
		push	di		; int
		push	si		; int
		call	sub_E9E4
		add	sp, 0Ah
		jmp	short loc_AECD
; ---------------------------------------------------------------------------

loc_AEB0:
		cmp	di, 168h
		jnz	short loc_AECD
		cmp	si, 240h
		jnz	short loc_AECD
		push	ds
		push	offset aPi_0	; "I"
		push	[bp+var_4]	; int
		push	di		; int
		push	si		; int
		call	sub_E9E4
		add	sp, 0Ah

loc_AECD:
		cmp	[bp+var_2], 0
		jz	short loc_AEF2
		mov	ax, [bp+var_2]
		and	ax, 0FFh
		push	ax
		mov	ax, [bp+var_2]
		sar	ax, 8
		push	ax		; arglist
		push	ds
		push	offset aCC_4	; "%c%c"
		push	[bp+var_4]	; int
		push	di		; int
		push	si		; int
		call	sub_E9E4
		add	sp, 0Eh

loc_AEF2:
		pop	di
		pop	si
		leave
		retf
sub_AD86	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_AEF6(int, int, char arglist, int, __int32)
sub_AEF6	proc far

var_14		= byte ptr -14h
var_13		= byte ptr -13h
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
_arglist		= byte ptr  0Ah
arg_8		= dword	ptr  0Eh

		enter	14h, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	di, [bp+arg_2]
		mov	[bp+var_2], 0
		lea	ax, [bp+var_14]
		push	ss
		push	ax
		push	ds
		push	offset aB@b@b@b@b@b@b@ ; "@@@@@@@@"
		mov	cx, 11h
		call	SCOPY@
		cmp	di, 0F0h
		jnz	short loc_AF30
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8281h
		mov	[bp+var_2], ax
		jmp	loc_B021
; ---------------------------------------------------------------------------

loc_AF30:
		cmp	di, 108h
		jnz	short loc_AF48
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8293h
		mov	[bp+var_2], ax
		jmp	loc_B021
; ---------------------------------------------------------------------------

loc_AF48:
		cmp	di, 120h
		jnz	short loc_AF60
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8260h
		mov	[bp+var_2], ax
		jmp	loc_B021
; ---------------------------------------------------------------------------

loc_AF60:
		cmp	di, 138h
		jnz	short loc_AF78
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8272h
		mov	[bp+var_2], ax
		jmp	loc_B021
; ---------------------------------------------------------------------------

loc_AF78:
		cmp	di, 150h
		jnz	short loc_AF95
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, ax
		mov	bx, ax
		mov	ax, [bx+108h]
		mov	[bp+var_2], ax
		jmp	loc_B021
; ---------------------------------------------------------------------------

loc_AF95:
		cmp	di, 168h
		jnz	short loc_AFB2
		cmp	si, 160h
		jge	short loc_AFB2
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 824Fh
		mov	[bp+var_2], ax
		jmp	short loc_B021
; ---------------------------------------------------------------------------

loc_AFB2:
		cmp	di, 168h
		jnz	short loc_AFC5
		cmp	si, 160h
		jnz	short loc_AFC5
		mov	[bp+var_2], 8140h
		jmp	short loc_B021
; ---------------------------------------------------------------------------

loc_AFC5:
		cmp	di, 168h
		jnz	short loc_AFEA
		cmp	si, 200h
		jnz	short loc_AFEA
		les	bx, [bp+arg_8]
		dec	word ptr es:[bx]
		les	bx, [bp+arg_8]
		cmp	word ptr es:[bx], 0
		jge	short loc_AFE8
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 0

loc_AFE8:
		jmp	short loc_B021
; ---------------------------------------------------------------------------

loc_AFEA:
		cmp	di, 168h
		jnz	short loc_B00F
		cmp	si, 220h
		jnz	short loc_B00F
		les	bx, [bp+arg_8]
		inc	word ptr es:[bx]
		les	bx, [bp+arg_8]
		cmp	word ptr es:[bx], 7
		jle	short loc_B00D
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 7

loc_B00D:
		jmp	short loc_B021
; ---------------------------------------------------------------------------

loc_B00F:
		cmp	di, 168h
		jnz	short loc_B021
		cmp	si, 240h
		jnz	short loc_B021
		mov	ax, 1
		jmp	loc_B0D5
; ---------------------------------------------------------------------------

loc_B021:
		cmp	[bp+var_2], 0
		jz	short loc_B063
		mov	ax, [bp+var_2]
		sar	ax, 8
		les	bx, [bp+arg_8]
		mov	dx, es:[bx]
		add	dx, dx
		les	bx, dword ptr [bp+_arglist]
		add	bx, dx
		mov	es:[bx], al
		les	bx, [bp+arg_8]
		mov	bx, es:[bx]
		add	bx, bx
		mov	es, word ptr [bp+0Ch]
		add	bx, word ptr [bp+_arglist]
		mov	al, byte ptr [bp+var_2]
		and	al, 0FFh
		mov	es:[bx+1], al
		les	bx, [bp+arg_8]
		cmp	word ptr es:[bx], 7
		jge	short loc_B063
		les	bx, [bp+arg_8]
		inc	word ptr es:[bx]

loc_B063:
		push	10h
		push	80h
		push	word_14032
		push	word_14030
		call	sub_ECA3
		add	sp, 8
		push	word ptr [bp+0Ch]
		push	word ptr [bp+_arglist] ;	arglist
		push	ds
		push	offset aS	; "%s"
		push	23h ; '#'       ; int
		push	word_14032	; int
		push	word_14030	; int
		call	sub_E9E4
		add	sp, 0Eh
		les	bx, [bp+arg_8]
		mov	bx, es:[bx]
		add	bx, bx
		lea	ax, [bp+var_14]
		add	bx, ax
		mov	byte ptr ss:[bx], 81h
		les	bx, [bp+arg_8]
		mov	bx, es:[bx]
		add	bx, bx
		lea	ax, [bp+var_13]
		add	bx, ax
		mov	byte ptr ss:[bx], 51h ;	'Q'
		push	ss
		lea	ax, [bp+var_14]
		push	ax		; arglist
		push	ds
		push	offset aS_0	; "%s"
		push	3		; int
		push	word_14032	; int
		push	word_14030	; int
		call	sub_E9E4
		add	sp, 0Eh
		xor	ax, ax
		jmp	short $+2

loc_B0D5:
		pop	di
		pop	si
		leave
		retf
sub_AEF6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_B0D9(__int32, __int32, char arglist, int, __int32)
sub_B0D9	proc far

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
_arglist		= byte ptr  0Eh
arg_A		= word ptr  10h
arg_C		= dword	ptr  12h

		push	bp
		mov	bp, sp
		cmp	byte_12BA2, 1
		jz	short loc_B0E6
		jmp	loc_B18F
; ---------------------------------------------------------------------------

loc_B0E6:
		push	0
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		call	sub_AD86
		add	sp, 6
		les	bx, [bp+arg_4]
		sub	word ptr es:[bx], 18h
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 0F0h
		jge	short loc_B114
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 168h

loc_B114:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 108h
		jnz	short loc_B130
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B130
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 0F0h

loc_B130:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 138h
		jnz	short loc_B14C
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B14C
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 120h

loc_B14C:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 168h
		jnz	short loc_B172
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 160h
		jle	short loc_B172
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 200h
		jge	short loc_B172
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 150h

loc_B172:
		push	1
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		call	sub_AD86
		add	sp, 6
		mov	byte_12BA2, 0
		jmp	loc_B408
; ---------------------------------------------------------------------------

loc_B18F:
		cmp	byte_12BA3, 1
		jz	short loc_B199
		jmp	loc_B242
; ---------------------------------------------------------------------------

loc_B199:
		push	0
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		call	sub_AD86
		add	sp, 6
		les	bx, [bp+arg_4]
		add	word ptr es:[bx], 18h
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 168h
		jle	short loc_B1C7
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 0F0h

loc_B1C7:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 108h
		jnz	short loc_B1E3
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B1E3
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 120h

loc_B1E3:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 138h
		jnz	short loc_B1FF
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B1FF
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 150h

loc_B1FF:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 168h
		jnz	short loc_B225
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 160h
		jle	short loc_B225
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 200h
		jge	short loc_B225
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 0F0h

loc_B225:
		push	1
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		call	sub_AD86
		add	sp, 6
		mov	byte_12BA3, 0
		jmp	loc_B408
; ---------------------------------------------------------------------------

loc_B242:
		cmp	byte_12B99, 2
		jz	short loc_B24C
		jmp	loc_B2F4
; ---------------------------------------------------------------------------

loc_B24C:
		push	0
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		call	sub_AD86
		add	sp, 6
		les	bx, [bp+arg_0]
		sub	word ptr es:[bx], 20h ;	' '
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 20h ;	' '
		jge	short loc_B279
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 240h

loc_B279:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 108h
		jnz	short loc_B295
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B295
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 100h

loc_B295:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 138h
		jnz	short loc_B2B1
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B2B1
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 100h

loc_B2B1:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 168h
		jnz	short loc_B2D7
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 160h
		jle	short loc_B2D7
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 200h
		jge	short loc_B2D7
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 160h

loc_B2D7:
		push	1
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		call	sub_AD86
		add	sp, 6
		mov	byte_12B99, 0
		jmp	loc_B408
; ---------------------------------------------------------------------------

loc_B2F4:
		cmp	byte_12B99, 1
		jz	short loc_B2FE
		jmp	loc_B3A6
; ---------------------------------------------------------------------------

loc_B2FE:
		push	0
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		call	sub_AD86
		add	sp, 6
		les	bx, [bp+arg_0]
		add	word ptr es:[bx], 20h ;	' '
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 240h
		jle	short loc_B32C
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 20h ;	' '

loc_B32C:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 108h
		jnz	short loc_B348
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B348
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 20h ;	' '

loc_B348:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 138h
		jnz	short loc_B364
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B364
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 20h ;	' '

loc_B364:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 168h
		jnz	short loc_B38A
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 160h
		jle	short loc_B38A
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 200h
		jge	short loc_B38A
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 200h

loc_B38A:
		push	1
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		call	sub_AD86
		add	sp, 6
		mov	byte_12B99, 0
		jmp	short loc_B408
; ---------------------------------------------------------------------------

loc_B3A6:
		cmp	byte_12B9C, 1
		jnz	short loc_B3DC
		push	word ptr [bp+arg_C+2]
		push	word ptr [bp+arg_C] ; __int32
		push	[bp+arg_A]	; int
		push	word ptr [bp+_arglist] ;	arglist
		les	bx, [bp+arg_4]
		push	word ptr es:[bx] ; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx] ; int
		call	sub_AEF6
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_B3D5
		mov	ax, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_B3D5:
		mov	byte_12B9C, 0
		jmp	short loc_B408
; ---------------------------------------------------------------------------

loc_B3DC:
		cmp	byte_12BA1, 1
		jnz	short loc_B403
		push	word ptr [bp+arg_C+2]
		push	word ptr [bp+arg_C] ; __int32
		push	[bp+arg_A]	; int
		push	word ptr [bp+_arglist] ;	arglist
		push	168h		; int
		push	200h		; int
		call	sub_AEF6
		add	sp, 0Ch
		mov	byte_12BA1, 0
		jmp	short loc_B408
; ---------------------------------------------------------------------------

loc_B403:
		mov	ax, 2
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_B408:
		xor	ax, ax
		pop	bp
		retf
sub_B0D9	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B40E	proc far

dest		= byte ptr -1Ch
var_C		= byte ptr -0Ch
stream		= dword	ptr -4

		enter	1Ch, 0
		push	si
		lea	ax, [bp+var_C]
		push	ss
		push	ax
		push	ds
		push	offset aHiscore_0 ; "HISCORE"
		mov	cx, 8
		call	SCOPY@
		mov	al, byte_14022
		mov	ah, 0
		mov	bx, ax
		cmp	bx, 3
		ja	short loc_B45C
		add	bx, bx
		jmp	cs:off_B533[bx]

loc_B437:
		push	ds
		push	offset aReyhies_dat_1 ;	"REYHIES.DAT"
		jmp	short loc_B44D
; ---------------------------------------------------------------------------

loc_B43D:
		push	ds
		push	offset aReyhino_dat_1 ;	"REYHINO.DAT"
		jmp	short loc_B44D
; ---------------------------------------------------------------------------

loc_B443:
		push	ds
		push	offset aReyhiha_dat_1 ;	"REYHIHA.DAT"
		jmp	short loc_B44D
; ---------------------------------------------------------------------------

loc_B449:
		push	ds
		push	offset aReyhilu_dat_1 ;	"REYHILU.DAT"

loc_B44D:
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		jmp	short $+2

loc_B45C:
		push	ds
		push	offset aWb_0	; "wb"
		push	ss
		lea	ax, [bp+dest]
		push	ax		; path
		call	_fopen
		add	sp, 8
		mov	word ptr [bp+stream+2],	dx
		mov	word ptr [bp+stream], ax
		or	ax, dx
		jnz	short loc_B47A
		jmp	loc_B530
; ---------------------------------------------------------------------------

loc_B47A:
		push	7
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		xor	si, si
		jmp	short loc_B4AF
; ---------------------------------------------------------------------------

loc_B496:
		les	bx, font
		add	bx, si
		mov	al, es:[bx]
		push	ax
		call	sub_A488
		pop	cx
		les	bx, font
		add	bx, si
		mov	es:[bx], al
		inc	si

loc_B4AF:
		cmp	si, 0A0h
		jl	short loc_B496
		push	0A0h
		push	word ptr font+2
		push	word ptr font
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		push	28h ; '('
		push	word ptr off_14034+2
		push	word ptr off_14034
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		push	14h
		push	word ptr off_1402C+2
		push	word ptr off_1402C
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		push	14h
		push	word ptr off_14028+2
		push	word ptr off_14028
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4

loc_B530:
		pop	si
		leave
		retf
sub_B40E	endp

; ---------------------------------------------------------------------------
off_B533	dw offset loc_B437
		dw offset loc_B43D
		dw offset loc_B443
		dw offset loc_B449

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B53B	proc far

_arglist		= byte ptr -18h
var_8		= byte ptr -8
var_6		= dword	ptr -6
arg_0		= word ptr  6

		enter	18h, 0
		push	si
		push	di
		mov	word ptr [bp+var_6], 0
		mov	word ptr [bp-2], 20h ; ' '
		mov	word ptr [bp+var_6+2], 0F0h
		xor	si, si
		jmp	short loc_B559
; ---------------------------------------------------------------------------

loc_B554:
		mov	[bp+si+_arglist], 20h ; ' '
		inc	si

loc_B559:
		cmp	si, 10h
		jl	short loc_B554
		mov	[bp+var_8], 0
		call	sub_A44F

loc_B566:
		push	0
		call	sub_A265
		pop	cx
		push	ss
		lea	ax, [bp+var_6]
		push	ax		; __int32
		push	ss		; int
		lea	ax, [bp+_arglist]
		push	ax		; arglist
		push	ss
		lea	ax, [bp+var_6+2]
		push	ax		; __int32
		push	ss
		lea	ax, [bp-2]
		push	ax		; __int32
		call	sub_B0D9
		add	sp, 10h
		mov	di, ax
		cmp	di, 1
		jnz	short loc_B591
		jmp	short loc_B5AB
; ---------------------------------------------------------------------------

loc_B591:
		cmp	byte_12BA0, 0
		jz	short loc_B59A
		jmp	short loc_B5AB
; ---------------------------------------------------------------------------

loc_B59A:
		cmp	di, 2
		jnz	short loc_B5A1
		jmp	short loc_B5A9
; ---------------------------------------------------------------------------

loc_B5A1:
		push	4
		call	sub_C82D
		pop	cx

loc_B5A9:
		jmp	short loc_B566
; ---------------------------------------------------------------------------

loc_B5AB:
		mov	byte_12BA0, 0
		xor	si, si
		jmp	short loc_B5CB
; ---------------------------------------------------------------------------

loc_B5B4:
		mov	al, [bp+si+_arglist]
		mov	bx, [bp+arg_0]
		shl	bx, 4
		add	bx, si
		mov	es, word ptr font+2
		add	bx, word ptr font
		mov	es:[bx], al
		inc	si

loc_B5CB:
		cmp	si, 10h
		jl	short loc_B5B4
		call	sub_B40E
		pop	di
		pop	si
		leave
		retf
sub_B53B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B5D8	proc far

var_D2		= byte ptr -0D2h
var_D0		= byte ptr -0D0h
var_C0		= byte ptr -0C0h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch

		enter	0D0h, 0
		push	si
		push	di
		mov	di, [bp+arg_4]
		lea	ax, [bp+var_D0]
		push	ss
		push	ax
		push	ds
		push	offset off_12C1E
		mov	cx, 10h
		call	SCOPY@
		push	1
		call	sub_D107
		pop	cx
		mov	al, byte_14022
		mov	ah, 0
		shl	ax, 2
		lea	dx, [bp+var_D0]
		add	ax, dx
		mov	bx, ax
		push	word ptr ss:[bx+2]
		push	word ptr ss:[bx] ; arglist
		push	ds
		push	offset aUmx	; "ûèËÙ`@­ÒÌL^@%s"
		push	227h		; int
		push	0		; int
		push	0		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	0
		call	sub_D107
		pop	cx
		cmp	di, 1Eh
		jge	short loc_B666
		push	10h
		push	120h
		push	180h
		push	0
		push	0
		push	30h ; '0'
		call	sub_EE15
		add	sp, 0Ch
		push	1
		push	0
		push	180h
		push	0
		push	190h
		push	120h
		push	180h
		push	0
		call	sub_E56D
		add	sp, 10h
		jmp	short loc_B67B
; ---------------------------------------------------------------------------

loc_B666:
		push	10h
		push	120h
		push	0
		push	0
		push	0
		push	30h ; '0'
		call	sub_EE15
		add	sp, 0Ch

loc_B67B:
		call	sub_A61C
		or	ax, ax
		jz	short loc_B686
		jmp	loc_B941
; ---------------------------------------------------------------------------

loc_B686:
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		jmp	short loc_B6B2
; ---------------------------------------------------------------------------

loc_B692:
		mov	ax, [bp+var_4]
		imul	ax, 12h
		lea	dx, [bp+var_C0]
		add	ax, dx
		push	ss
		push	ax
		push	[bp+var_4]
		call	sub_A7CF
		add	sp, 6
		add	[bp+var_4], 1
		adc	[bp+var_2], 0

loc_B6B2:
		cmp	[bp+var_2], 0
		jl	short loc_B692
		jnz	short loc_B6C0
		cmp	[bp+var_4], 0Ah
		jb	short loc_B692

loc_B6C0:
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		jmp	short loc_B6F5
; ---------------------------------------------------------------------------

loc_B6CC:
		mov	ax, [bp+var_4]
		shl	ax, 2
		les	bx, off_14034
		add	bx, ax
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		cmp	dx, [bp+arg_2]
		jg	short loc_B6ED
		jnz	short loc_B6EB
		cmp	ax, [bp+arg_0]
		ja	short loc_B6ED

loc_B6EB:
		jmp	short loc_B703
; ---------------------------------------------------------------------------

loc_B6ED:
		add	[bp+var_4], 1
		adc	[bp+var_2], 0

loc_B6F5:
		cmp	[bp+var_2], 0
		jl	short loc_B6CC
		jnz	short loc_B703
		cmp	[bp+var_4], 0Ah
		jb	short loc_B6CC

loc_B703:
		call	sub_A44F
		cmp	[bp+var_2], 0
		jle	short loc_B710
		jmp	loc_B8BD
; ---------------------------------------------------------------------------

loc_B710:
		jl	short loc_B71B
		cmp	[bp+var_4], 0Ah
		jb	short loc_B71B
		jmp	loc_B8BD
; ---------------------------------------------------------------------------

loc_B71B:
		mov	[bp+var_6], 0
		mov	[bp+var_8], 9
		jmp	loc_B7D9
; ---------------------------------------------------------------------------

loc_B728:
		push	ss
		mov	ax, [bp+var_8]
		imul	ax, 12h
		lea	dx, [bp+var_D2]
		add	ax, dx
		push	ax		; src
		mov	ax, [bp+var_8]
		imul	ax, 12h
		lea	dx, [bp+var_C0]
		add	ax, dx
		push	ss
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		mov	ax, [bp+var_8]
		dec	ax
		shl	ax, 2
		les	bx, off_14034
		add	bx, ax
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	bx, [bp+var_8]
		shl	bx, 2
		les	si, off_14034
		add	si, bx
		mov	es:[si+2], dx
		mov	es:[si], ax
		mov	ax, [bp+var_8]
		dec	ax
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		mov	ax, es:[bx]
		mov	dx, [bp+var_8]
		add	dx, dx
		les	bx, off_1402C
		add	bx, dx
		mov	es:[bx], ax
		mov	bx, [bp+var_8]
		add	bx, bx
		mov	es, word ptr off_14028+2
		add	bx, word ptr off_14028
		mov	al, es:[bx-2]
		mov	dx, [bp+var_8]
		add	dx, dx
		les	bx, off_14028
		add	bx, dx
		mov	es:[bx], al
		mov	bx, [bp+var_8]
		add	bx, bx
		mov	es, word ptr off_14028+2
		add	bx, word ptr off_14028
		mov	al, es:[bx-1]
		mov	bx, [bp+var_8]
		add	bx, bx
		mov	es, word ptr off_14028+2
		add	bx, word ptr off_14028
		mov	es:[bx+1], al
		sub	[bp+var_8], 1
		sbb	[bp+var_6], 0

loc_B7D9:
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		cmp	dx, [bp+var_2]
		jle	short loc_B7E7
		jmp	loc_B728
; ---------------------------------------------------------------------------

loc_B7E7:
		jnz	short loc_B7F1
		cmp	ax, [bp+var_4]
		jbe	short loc_B7F1
		jmp	loc_B728
; ---------------------------------------------------------------------------

loc_B7F1:
		mov	[bp+var_A], 0
		mov	[bp+var_C], 9Fh
		jmp	short loc_B81E
; ---------------------------------------------------------------------------

loc_B7FD:
		mov	bx, [bp+var_C]
		mov	es, word ptr font+2
		add	bx, word ptr font
		mov	al, es:[bx-10h]
		les	bx, font
		add	bx, [bp+var_C]
		mov	es:[bx], al
		sub	[bp+var_C], 1
		sbb	[bp+var_A], 0

loc_B81E:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	cl, 4
		call	far ptr LXLSH@
		add	ax, 10h
		adc	dx, 0
		cmp	dx, [bp+var_A]
		jl	short loc_B7FD
		jg	short loc_B83D
		cmp	ax, [bp+var_C]
		jbe	short loc_B7FD

loc_B83D:
		push	ss
		lea	ax, [bp+var_C0]
		push	ax
		push	word ptr [bp+arg_6+2]
		push	word ptr [bp+arg_6]
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	[bp+var_4]
		call	sub_A9FF
		add	sp, 10h
		call	sub_A801
		mov	ax, [bp+var_4]
		shl	ax, 2
		les	bx, off_14034
		add	bx, ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	ax, [bp+var_4]
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		mov	es:[bx], di
		mov	ax, [bp+var_4]
		add	ax, ax
		les	bx, off_14028
		add	bx, ax
		push	es
		les	si, [bp+arg_6]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		les	bx, [bp+arg_6]
		mov	al, es:[bx+1]
		mov	bx, [bp+var_4]
		add	bx, bx
		mov	es, word ptr off_14028+2
		add	bx, word ptr off_14028
		mov	es:[bx+1], al
		push	[bp+var_4]
		call	sub_B53B
		pop	cx
		jmp	short loc_B8FC
; ---------------------------------------------------------------------------

loc_B8BD:
		push	ss
		lea	ax, [bp+var_C0]
		push	ax
		push	word ptr [bp+arg_6+2]
		push	word ptr [bp+arg_6]
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	1Eh
		call	sub_A9FF
		add	sp, 10h
		mov	byte_12BA0, 1
		mov	byte_12B9C, 1

loc_B8E3:
		push	0
		call	sub_A265
		pop	cx
		cmp	byte_12BA0, 0
		jz	short loc_B8F8
		cmp	byte_12B9C, 0
		jnz	short loc_B8FA

loc_B8F8:
		jmp	short loc_B8FC
; ---------------------------------------------------------------------------

loc_B8FA:
		jmp	short loc_B8E3
; ---------------------------------------------------------------------------

loc_B8FC:
		mov	ax, seg	seg008
		mov	es, ax
		assume es:seg008
		push	word ptr font+2
		push	word ptr font	; font
		call	@$bdla$qnv
		add	sp, 4
		push	word ptr off_1402C+2
		push	word ptr off_1402C ; font
		call	@$bdla$qnv
		add	sp, 4
		push	word ptr off_14028+2
		push	word ptr off_14028 ; font
		call	@$bdla$qnv
		add	sp, 4
		push	word ptr off_14034+2
		push	word ptr off_14034 ; font
		call	@$bdla$qnv
		add	sp, 4

loc_B941:
		pop	di
		pop	si
		leave
		retf
sub_B5D8	endp

seg002		ends

; ===========================================================================

; Segment type:	Pure code
seg003		segment	byte public 'CODE' use16
		assume cs:seg003
		;org 5
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B945	proc far
		push	bp
		mov	bp, sp
		push	si
		push	ds
		push	offset aIris_mdt ; "iris.mdt"
		call	sub_F074
		add	sp, 4
		call	sub_F094
		push	0
		call	sub_C842
		push	ds
		push	offset aEd1a_grp ; "ED1A.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	6
		call	sub_C939
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	5
		call	sub_C960
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C842
		push	0Dh
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	0Dh
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	32h ; '2'
		call	sub_C82D
		pop	cx
		push	ds
		push	offset aEd1b_grp ; "ED1B.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	0Ah
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	0Ah
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	6
		call	sub_C911
		push	0
		call	sub_D107
		pop	cx
		call	sub_D2D6
		push	64h ; 'd'
		call	sub_C842
		push	ds
		push	offset aEd1c_grp ; "ED1C.GRP"
		call	sub_C73A
		xor	si, si
		jmp	short loc_BA49
; ---------------------------------------------------------------------------

loc_BA28:
		push	0
		call	sub_C78B
		pop	cx
		push	14h
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	14h
		call	sub_C82D
		pop	cx
		inc	si

loc_BA49:
		cmp	si, 6
		jl	short loc_BA28
		push	0
		call	sub_C78B
		pop	cx
		push	28h ; '('
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	28h ; '('
		call	sub_C82D
		pop	cx
		push	ds
		push	offset aEd1d_grp ; "ED1D.GRP"
		call	sub_C73A
		push	3
		call	sub_C78B
		pop	cx
		push	46h ; 'F'
		call	sub_C82D
		pop	cx
		xor	si, si
		jmp	loc_BB16
; ---------------------------------------------------------------------------

loc_BA8C:
		or	si, si
		jnz	short loc_BA98
		push	0
		call	sub_C78B
		pop	cx

loc_BA98:
		cmp	si, 14h
		jnz	short loc_BAA5
		push	1
		call	sub_C78B
		pop	cx

loc_BAA5:
		cmp	si, 18h
		jnz	short loc_BAB2
		push	2
		call	sub_C78B
		pop	cx

loc_BAB2:
		cmp	si, 1Ch
		jnz	short loc_BABF
		push	0
		call	sub_C78B
		pop	cx

loc_BABF:
		cmp	si, 32h	; '2'
		jnz	short loc_BACC
		push	1
		call	sub_C78B
		pop	cx

loc_BACC:
		cmp	si, 36h	; '6'
		jnz	short loc_BAD9
		push	2
		call	sub_C78B
		pop	cx

loc_BAD9:
		cmp	si, 3Ah	; ':'
		jnz	short loc_BAE6
		push	0
		call	sub_C78B
		pop	cx

loc_BAE6:
		cmp	si, 5Ah	; 'Z'
		jnz	short loc_BAF3
		push	1
		call	sub_C78B
		pop	cx

loc_BAF3:
		cmp	si, 5Eh	; '^'
		jnz	short loc_BB00
		push	2
		call	sub_C78B
		pop	cx

loc_BB00:
		cmp	si, 62h	; 'b'
		jnz	short loc_BB0D
		push	0
		call	sub_C78B
		pop	cx

loc_BB0D:
		push	2
		call	sub_C82D
		pop	cx
		inc	si

loc_BB16:
		cmp	si, 64h	; 'd'
		jge	short loc_BB1E
		jmp	loc_BA8C
; ---------------------------------------------------------------------------

loc_BB1E:
		push	3
		call	sub_C78B
		pop	cx
		push	3Ch ; '<'
		call	sub_C82D
		pop	cx
		push	0
		call	sub_C78B
		pop	cx
		push	14h
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	69h ; 'i'
		call	sub_C842
		push	ds
		push	offset aEd1e_grp ; "ED1E.GRP"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		xor	si, si
		jmp	short loc_BB79
; ---------------------------------------------------------------------------

loc_BB62:
		mov	ax, si
		imul	ax, 5
		add	ax, 6Eh	; 'n'
		push	ax
		call	sub_C842
		push	10h
		call	sub_C82D
		pop	cx
		inc	si

loc_BB79:
		cmp	si, 4
		jl	short loc_BB62
		xor	si, si
		jmp	short loc_BBB1
; ---------------------------------------------------------------------------

loc_BB82:
		push	1
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		mov	ax, si
		imul	ax, 5
		add	ax, 82h
		push	ax
		call	sub_C842
		inc	si

loc_BBB1:
		cmp	si, 0Fh
		jl	short loc_BB82
		mov	ax, word_13ED8
		or	ax, word_13EDA
		jnz	short loc_BBC7
		call	sub_BDBD
		call	sub_C03D
		jmp	short loc_BBF1
; ---------------------------------------------------------------------------

loc_BBC7:
		call	sub_BC7C
		call	sub_F0B4
		push	0Ah
		call	sub_C911
		call	sub_D2D6
		call	sub_F0A4
		push	ds
		push	offset aSt1_mdt	; "st1.mdt"
		call	sub_F074
		add	sp, 4
		call	sub_F094

loc_BBF1:
		nopcall	sub_C446
		pop	si
		pop	bp
		retf
sub_B945	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BBF9	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_BC35
; ---------------------------------------------------------------------------

loc_BC01:
		test	si, 3
		jnz	short loc_BC0B
		push	8
		jmp	short loc_BC0D
; ---------------------------------------------------------------------------

loc_BC0B:
		push	0

loc_BC0D:
		call	graph_scrollup
		push	1
		call	sub_C78B
		pop	cx
		push	1
		call	sub_C82D
		pop	cx
		test	si, 1
		jz	short loc_BC2D
		push	0AAh ; 'ª'
		jmp	short loc_BC2F
; ---------------------------------------------------------------------------

loc_BC2D:
		push	64h ; 'd'

loc_BC2F:
		call	sub_C842
		inc	si

loc_BC35:
		cmp	si, [bp+arg_2]
		jle	short loc_BC01
		xor	si, si
		jmp	short loc_BC72
; ---------------------------------------------------------------------------

loc_BC3E:
		test	si, 3
		jnz	short loc_BC48
		push	8
		jmp	short loc_BC4A
; ---------------------------------------------------------------------------

loc_BC48:
		push	0

loc_BC4A:
		call	graph_scrollup
		push	1
		call	sub_C78B
		pop	cx
		push	2
		call	sub_C82D
		pop	cx
		test	si, 1
		jz	short loc_BC69
		push	2
		jmp	short loc_BC6B
; ---------------------------------------------------------------------------

loc_BC69:
		push	1

loc_BC6B:
		call	sub_C78B
		pop	cx
		inc	si

loc_BC72:
		cmp	si, [bp+arg_0]
		jle	short loc_BC3E
		pop	si
		pop	bp
		retn	4
sub_BBF9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BC7C	proc near
		push	bp
		mov	bp, sp
		push	si
		push	ds
		push	offset aEd2a_grp ; "ed2a.grp"
		call	sub_C73A
		push	0C8h ; 'È'
		call	sub_C842
		push	0
		call	sub_C78B
		pop	cx
		push	5
		call	sub_C988
		push	78h ; 'x'
		call	sub_C82D
		pop	cx
		cmp	byte_14021, 2
		jnz	short loc_BCFC
		push	40h
		push	10h
		call	sub_BBF9
		push	20h ; ' '
		push	20h ; ' '
		call	sub_BBF9
		push	0
		call	graph_scrollup
		push	32h ; '2'
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	0E8h
		push	13Ch
		push	16h
		push	ds
		push	offset aTryToNoContinu ; "Try to 'No continue'!!"
		call	sub_C9B0
		push	0E8h
		push	15Ch
		push	16h
		push	ds
		push	offset aBadEnding2 ; "	    Bad	Ending2	    "
		jmp	loc_BDAC
; ---------------------------------------------------------------------------

loc_BCFC:
		push	ds
		push	offset aEd4a_grp ; "ed4a.grp"
		call	sub_C73A
		xor	si, si
		jmp	short loc_BD2A
; ---------------------------------------------------------------------------

loc_BD09:
		push	0
		call	sub_C78B
		pop	cx
		push	3
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	3
		call	sub_C82D
		pop	cx
		inc	si

loc_BD2A:
		cmp	si, 14h
		jl	short loc_BD09
		xor	si, si
		jmp	short loc_BD62
; ---------------------------------------------------------------------------

loc_BD33:
		push	0
		call	sub_C78B
		pop	cx
		push	3
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	3
		call	sub_C82D
		pop	cx
		mov	ax, si
		imul	ax, 5
		add	ax, 64h	; 'd'
		push	ax
		call	sub_C842
		inc	si

loc_BD62:
		cmp	si, 14h
		jl	short loc_BD33
		push	2
		call	sub_C78B
		pop	cx
		push	5
		call	sub_C988
		push	0C8h ; 'È'
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	0E8h
		push	13Ch
		push	16h
		push	ds
		push	offset aTryToNoConti_0 ; "Try to 'No continue'!!"
		call	sub_C9B0
		push	0E8h
		push	15Ch
		push	16h
		push	ds
		push	offset aBadEnding1 ; "	    Bad	Ending1	    "

loc_BDAC:
		call	sub_C9B0
		push	12Ch
		call	sub_C82D
		pop	cx
		pop	si
		pop	bp
		retn
sub_BC7C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BDBD	proc near
		push	bp
		mov	bp, sp
		push	si
		push	ds
		push	offset aEd3a_grp ; "ed3a.grp"
		call	sub_C73A
		push	0C8h ; 'È'
		call	sub_C842
		xor	si, si
		jmp	short loc_BE07
; ---------------------------------------------------------------------------

loc_BDD6:
		push	0
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		mov	ax, si
		imul	ax, 5
		mov	dx, 0C8h ; 'È'
		sub	dx, ax
		push	dx
		call	sub_C842
		inc	si

loc_BE07:
		cmp	si, 14h
		jl	short loc_BDD6
		push	64h ; 'd'
		call	sub_C842
		xor	si, si
		jmp	short loc_BE38
; ---------------------------------------------------------------------------

loc_BE17:
		push	0
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		inc	si

loc_BE38:
		cmp	si, 0Ah
		jl	short loc_BE17
		xor	si, si
		jmp	short loc_BE64
; ---------------------------------------------------------------------------

loc_BE41:
		mov	ax, si
		and	ax, 1
		push	ax
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		mov	ax, si
		imul	ax, 0Ah
		add	ax, 64h	; 'd'
		push	ax
		call	sub_C842
		inc	si

loc_BE64:
		cmp	si, 0Ah
		jl	short loc_BE41
		push	0C8h ; 'È'
		call	sub_C842
		cmp	byte_14021, 1
		jnz	short loc_BE7D
		call	sub_BF07
		jmp	short loc_BE80
; ---------------------------------------------------------------------------

loc_BE7D:
		call	sub_BE83

loc_BE80:
		pop	si
		pop	bp
		retn
sub_BDBD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BE83	proc near
		push	bp
		mov	bp, sp
		push	ds
		push	offset aEd3b_grp ; "ed3b.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	4
		call	sub_C988
		push	0FAh
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	0C8h ; 'È'
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	96h
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	96h
		call	sub_C82D
		pop	cx
		push	100h
		push	13Ch
		push	10h
		push	ds
		push	offset aCongratulation ; "Congratulations!"
		call	sub_C9B0
		push	0E8h
		push	15Ch
		push	16h
		push	ds
		push	offset aGoodEnding2 ; "	    Good Ending2     "
		call	sub_C9B0
		push	12Ch
		call	sub_C82D
		pop	cx
		pop	bp
		retn
sub_BE83	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BF07	proc near
		push	bp
		mov	bp, sp
		push	si
		push	ds
		push	offset aEd5a_grp ; "ed5a.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	4
		call	sub_C988
		push	12Ch
		call	sub_C82D
		pop	cx
		xor	si, si
		jmp	short loc_BF51
; ---------------------------------------------------------------------------

loc_BF30:
		push	1
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		inc	si

loc_BF51:
		cmp	si, 0Fh
		jl	short loc_BF30
		push	ds
		push	offset aEd5b_grp ; "ed5b.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	96h
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	ds
		push	offset aEd5c_grp ; "ed5c.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	96h
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	96h
		call	sub_C82D
		pop	cx
		push	100h
		push	13Ch
		push	10h
		push	ds
		push	offset aCongratulati_0 ; "Congratulations!"
		call	sub_C9B0
		push	0E8h
		push	15Ch
		push	16h
		push	ds
		push	offset aGoodEnding1 ; "	    Good Ending1     "
		call	sub_C9B0
		push	12Ch
		call	sub_C82D
		pop	cx
		pop	si
		pop	bp
		retn
sub_BF07	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C009	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	96h
		call	sub_C82D
		pop	cx
		push	5
		call	sub_C911
		call	sub_D2D6
		push	[bp+arg_0]
		call	sub_C78B
		pop	cx
		push	5
		call	sub_C939
		push	32h ; '2'
		call	sub_C82D
		pop	cx
		pop	bp
		retn	2
sub_C009	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C03D	proc near
		push	bp
		mov	bp, sp
		call	sub_F0B4
		push	0Ah
		call	sub_C911
		call	sub_D2D6
		call	sub_F0A4
		push	ds
		push	offset aSt1_mdt_0 ; "st1.mdt"
		call	sub_F074
		add	sp, 4
		call	sub_F094
		cmp	byte_14021, 1
		jnz	short loc_C074
		push	ds
		push	offset aEndb_a_grp ; "endb_a.grp"
		jmp	short loc_C078
; ---------------------------------------------------------------------------

loc_C074:
		push	ds
		push	offset aEndb_b_grp ; "endb_b.grp"

loc_C078:
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C842
		push	32h ; '2'
		call	sub_C82D
		pop	cx
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage5Boss ; "STAGE 5 BOSS"
		call	sub_C9B0
		push	0E8h
		push	15Ch
		push	16h
		push	ds
		push	offset aGatekeeperSing ; "Gatekeeper 'SinGyoku'"
		call	sub_C9B0
		push	1
		call	sub_C009
		cmp	byte_14021, 1
		jnz	short loc_C0E1
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage10Boss ; "STAGE 10	BOSS"
		call	sub_C9B0
		push	0E8h
		push	15Ch
		push	16h
		push	ds
		push	offset aEvileyesYuugen ; "EvilEyes 'YuugenMagan'"
		jmp	short loc_C0FE
; ---------------------------------------------------------------------------

loc_C0E1:
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage10Boss_0 ;	"STAGE 10 BOSS"
		call	sub_C9B0
		push	0E8h
		push	15Ch
		push	17h
		push	ds
		push	offset aRevengefulGhos ; "Revengeful Ghost 'Mima'"

loc_C0FE:
		call	sub_C9B0
		push	2
		call	sub_C009
		cmp	byte_14021, 1
		jnz	short loc_C12E
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage15Boss ; "STAGE 15	BOSS"
		call	sub_C9B0
		push	0E8h
		push	15Ch
		push	16h
		push	ds
		push	offset aInnocenceDevil ; "Innocence Devil 'Elis'"
		jmp	short loc_C14B
; ---------------------------------------------------------------------------

loc_C12E:
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage15Boss_0 ;	"STAGE 15 BOSS"
		call	sub_C9B0
		push	100h
		push	15Ch
		push	11h
		push	ds
		push	offset aHellmoonKikuri ; "HellMoon 'Kikuri'"

loc_C14B:
		call	sub_C9B0
		push	3
		call	sub_C009
		cmp	byte_14021, 1
		jnz	short loc_C17B
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage20Boss ; "STAGE 20	BOSS"
		call	sub_C9B0
		push	0E8h
		push	15Ch
		push	16h
		push	ds
		push	offset aAngelOfDeathSa ; "Angel	of Death'Sariel'"
		jmp	short loc_C198
; ---------------------------------------------------------------------------

loc_C17B:
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage20Boss_0 ;	"STAGE 20 BOSS"
		call	sub_C9B0
		push	0E0h
		push	15Ch
		push	18h
		push	ds
		push	offset aAstralKnightKo ; "Astral Knight	'Konngara'"

loc_C198:
		call	sub_C9B0
		push	96h
		call	sub_C82D
		pop	cx
		pop	bp
		retn
sub_C03D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C1A8	proc far

var_2		= word ptr -2

		enter	2, 0
		push	si
		push	di
		xor	si, si
		cmp	word_12B32, 26h	; '&'
		jl	short loc_C1C6
		jnz	short loc_C1C1
		cmp	word_12B30, 25A0h
		jb	short loc_C1C6

loc_C1C1:
		add	si, 0Ah
		jmp	short loc_C21C
; ---------------------------------------------------------------------------

loc_C1C6:
		cmp	word_12B32, 1Eh
		jl	short loc_C1DC
		jnz	short loc_C1D7
		cmp	word_12B30, 8480h
		jb	short loc_C1DC

loc_C1D7:
		add	si, 8
		jmp	short loc_C21C
; ---------------------------------------------------------------------------

loc_C1DC:
		cmp	word_12B32, 16h
		jl	short loc_C1F2
		jnz	short loc_C1ED
		cmp	word_12B30, 0E360h
		jb	short loc_C1F2

loc_C1ED:
		add	si, 6
		jmp	short loc_C21C
; ---------------------------------------------------------------------------

loc_C1F2:
		cmp	word_12B32, 0Fh
		jl	short loc_C208
		jnz	short loc_C203
		cmp	word_12B30, 4240h
		jb	short loc_C208

loc_C203:
		add	si, 4
		jmp	short loc_C21C
; ---------------------------------------------------------------------------

loc_C208:
		cmp	word_12B32, 7
		jl	short loc_C21C
		jnz	short loc_C219
		cmp	word_12B30, 0A120h
		jb	short loc_C21C

loc_C219:
		add	si, 2

loc_C21C:
		cmp	word_12B36, 2Dh	; '-'
		jl	short loc_C232
		jnz	short loc_C22D
		cmp	arglist, 0C6C0h
		jb	short loc_C232

loc_C22D:
		add	si, 0Ah
		jmp	short loc_C288
; ---------------------------------------------------------------------------

loc_C232:
		cmp	word_12B36, 27h	; '''
		jl	short loc_C248
		jnz	short loc_C243
		cmp	arglist, 0AC40h
		jb	short loc_C248

loc_C243:
		add	si, 8
		jmp	short loc_C288
; ---------------------------------------------------------------------------

loc_C248:
		cmp	word_12B36, 21h	; '!'
		jl	short loc_C25E
		jnz	short loc_C259
		cmp	arglist, 91C0h
		jb	short loc_C25E

loc_C259:
		add	si, 6
		jmp	short loc_C288
; ---------------------------------------------------------------------------

loc_C25E:
		cmp	word_12B36, 1Bh
		jl	short loc_C274
		jnz	short loc_C26F
		cmp	arglist, 7740h
		jb	short loc_C274

loc_C26F:
		add	si, 4
		jmp	short loc_C288
; ---------------------------------------------------------------------------

loc_C274:
		cmp	word_12B36, 15h
		jl	short loc_C288
		jnz	short loc_C285
		cmp	arglist, 5CC0h
		jb	short loc_C288

loc_C285:
		add	si, 2

loc_C288:
		mov	ax, word_13ED8
		or	ax, word_13EDA
		jnz	short loc_C297
		add	si, 1Eh
		jmp	loc_C36C
; ---------------------------------------------------------------------------

loc_C297:
		cmp	word_13EDA, 0
		jg	short loc_C2AD
		jnz	short loc_C2A7
		cmp	word_13ED8, 2
		ja	short loc_C2AD

loc_C2A7:
		add	si, 0Ah
		jmp	loc_C36C
; ---------------------------------------------------------------------------

loc_C2AD:
		cmp	word_13EDA, 0
		jg	short loc_C2C3
		jnz	short loc_C2BD
		cmp	word_13ED8, 4
		ja	short loc_C2C3

loc_C2BD:
		add	si, 8
		jmp	loc_C36C
; ---------------------------------------------------------------------------

loc_C2C3:
		cmp	word_13EDA, 0
		jg	short loc_C2D9
		jnz	short loc_C2D3
		cmp	word_13ED8, 6
		ja	short loc_C2D9

loc_C2D3:
		add	si, 6
		jmp	loc_C36C
; ---------------------------------------------------------------------------

loc_C2D9:
		cmp	word_13EDA, 0
		jg	short loc_C2EE
		jnz	short loc_C2E9
		cmp	word_13ED8, 8
		ja	short loc_C2EE

loc_C2E9:
		add	si, 4
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C2EE:
		cmp	word_13EDA, 0
		jg	short loc_C303
		jnz	short loc_C2FE
		cmp	word_13ED8, 0Ah
		ja	short loc_C303

loc_C2FE:
		add	si, 2
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C303:
		cmp	word_13EDA, 0
		jg	short loc_C315
		jnz	short loc_C313
		cmp	word_13ED8, 0Ch
		ja	short loc_C315

loc_C313:
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C315:
		cmp	word_13EDA, 0
		jg	short loc_C32A
		jnz	short loc_C325
		cmp	word_13ED8, 0Eh
		ja	short loc_C32A

loc_C325:
		sub	si, 2
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C32A:
		cmp	word_13EDA, 0
		jg	short loc_C33F
		jnz	short loc_C33A
		cmp	word_13ED8, 10h
		ja	short loc_C33F

loc_C33A:
		sub	si, 4
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C33F:
		cmp	word_13EDA, 0
		jg	short loc_C354
		jnz	short loc_C34F
		cmp	word_13ED8, 12h
		ja	short loc_C354

loc_C34F:
		sub	si, 6
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C354:
		cmp	word_13EDA, 0
		jg	short loc_C369
		jnz	short loc_C364
		cmp	word_13ED8, 14h
		ja	short loc_C369

loc_C364:
		sub	si, 8
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C369:
		sub	si, 0Ah

loc_C36C:
		cmp	byte_14022, 3
		jnz	short loc_C378
		add	si, 32h	; '2'
		jmp	short loc_C39A
; ---------------------------------------------------------------------------

loc_C378:
		cmp	byte_14022, 2
		jnz	short loc_C384
		add	si, 1Eh
		jmp	short loc_C39A
; ---------------------------------------------------------------------------

loc_C384:
		cmp	byte_14022, 1
		jnz	short loc_C390
		add	si, 0Ah
		jmp	short loc_C39A
; ---------------------------------------------------------------------------

loc_C390:
		cmp	byte_14022, 0
		jnz	short loc_C39A
		sub	si, 0Ah

loc_C39A:
		cmp	byte_14021, 2
		jnz	short loc_C3A4
		add	si, 5

loc_C3A4:
		mov	al, byte_14020
		cbw
		cmp	ax, 4
		jnz	short loc_C3B2
		sub	si, 0Ah
		jmp	short loc_C3D8
; ---------------------------------------------------------------------------

loc_C3B2:
		mov	al, byte_14020
		cbw
		cmp	ax, 3
		jnz	short loc_C3C0
		sub	si, 5
		jmp	short loc_C3D8
; ---------------------------------------------------------------------------

loc_C3C0:
		mov	al, byte_14020
		cbw
		cmp	ax, 1
		jnz	short loc_C3CE
		add	si, 5
		jmp	short loc_C3D8
; ---------------------------------------------------------------------------

loc_C3CE:
		cmp	byte_14020, 0
		jnz	short loc_C3D8
		add	si, 0Ah

loc_C3D8:
		call	IRand
		mov	bx, 3
		cwd
		idiv	bx
		mov	[bp+var_2], dx
		cmp	si, 50h	; 'P'
		jl	short loc_C3F0
		mov	di, 5
		jmp	short loc_C419
; ---------------------------------------------------------------------------

loc_C3F0:
		cmp	si, 3Ch	; '<'
		jl	short loc_C3FA
		mov	di, 4
		jmp	short loc_C419
; ---------------------------------------------------------------------------

loc_C3FA:
		cmp	si, 28h	; '('
		jl	short loc_C404
		mov	di, 3
		jmp	short loc_C419
; ---------------------------------------------------------------------------

loc_C404:
		cmp	si, 14h
		jl	short loc_C40E
		mov	di, 2
		jmp	short loc_C419
; ---------------------------------------------------------------------------

loc_C40E:
		or	si, si
		jl	short loc_C417
		mov	di, 1
		jmp	short loc_C419
; ---------------------------------------------------------------------------

loc_C417:
		xor	di, di

loc_C419:
		mov	bx, [bp+var_2]
		imul	bx, 18h
		mov	ax, di
		shl	ax, 2
		add	bx, ax
		push	word ptr [bx+3DAh]
		push	word ptr [bx+3D8h] ; arglist
		push	ds
		push	offset aS_1	; "%s"
		push	12h		; int
		push	180h		; int
		push	1E8h		; int
		call	sub_E9E4
		add	sp, 0Eh
		pop	di
		pop	si
		leave
		retf
sub_C1A8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C446	proc far

var_10		= byte ptr -10h

		enter	10h, 0
		push	si
		lea	ax, [bp+var_10]
		push	ss
		push	ax
		push	ds
		push	offset off_12EC0
		mov	cx, 10h
		call	SCOPY@
		push	0Ah
		call	sub_C911
		push	1
		call	sub_D107
		pop	cx
		push	ds
		push	offset aEndm_a_grp ; "endm_a.grp"
		call	sub_EB39
		add	sp, 4
		call	sub_D349
		push	0
		call	sub_D107
		pop	cx
		push	8
		call	sub_C939
		push	190h
		push	20h ; ' '
		push	5
		push	ds
		push	offset aUmx_1	; "ûèËÙ`"
		call	sub_C9EE
		push	1F0h
		push	20h ; ' '
		push	3
		push	ds
		push	offset aVer	; "ver"
		call	sub_C9B0
		push	210h
		push	20h ; ' '
		push	4
		push	ds
		push	offset a1_10	; "1.10"
		call	sub_C9B0
		push	1Eh
		call	sub_C82D
		pop	cx
		mov	al, byte_14022
		mov	ah, 0
		shl	ax, 2
		lea	dx, [bp+var_10]
		add	ax, dx
		mov	bx, ax
		push	word ptr ss:[bx+2]
		push	word ptr ss:[bx] ; arglist
		push	ds
		push	offset aUqiUxb@b@b@b@b ; "ïÕx@@@@@@@@@@  %s"
		push	0Fh		; int
		push	40h	; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		push	word_12B36
		push	arglist		; arglist
		push	ds
		push	offset aNbi	; "¡ñÌÅ¾_@@@@@@  %7lu"
		push	0Fh		; int
		push	60h	; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		push	word_12B32
		push	word_12B30	; arglist
		push	ds
		push	offset aNPiuU_b@b@b@b@ ; "ÅI¾_@@@@@@@@@  %7lu"
		push	0Fh		; int
		push	80h	; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		push	ds
		push	offset aGrgugegbgjgebI ; "ReBj[ñ"
		push	0Fh		; int
		push	0A0h	; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Ah
		push	1Eh
		call	sub_C82D
		pop	cx
		push	word_13EDE
		push	word_13EDC	; arglist
		push	ds
		push	offset aB@r_oB@b@b@b@b ; "@_Ð@@@@iPÊ`TÊj @ %3lu"
		push	0Fh		; int
		push	0C0h	;int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		cmp	byte_14021, 1
		jnz	short loc_C590
		push	word_13EE2
		push	word_13EE0
		push	ds
		push	offset aB@gqbGgb@b@b@b ; "@Q[g@@@iUÊ`POÊj  %3lu"
		jmp	short loc_C59C
; ---------------------------------------------------------------------------

loc_C590:
		push	word_13EE2
		push	word_13EE0	; arglist
		push	ds
		push	offset aB@tkb@b@b@b@b@ ; "@âK@@@@@iUÊ`POÊj  %3lu"

loc_C59C:
		push	0Fh		; int
		push	0E0h	; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		cmp	byte_14021, 1
		jnz	short loc_C5C9
		push	word_13EE6
		push	word_13EE4
		push	ds
		push	offset aGfgbgivFpBivpv ; "  BiÌpÐiPPÊ`PTÊj%3lu"
		jmp	short loc_C5D5
; ---------------------------------------------------------------------------

loc_C5C9:
		push	word_13EE6
		push	word_13EE4	; arglist
		push	ds
		push	offset aB@ikvXekeb@b@b ; "@ÌE@@iPPÊ`PTÊj%3lu"

loc_C5D5:
		push	0Fh		; int
		push	100h		; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		cmp	byte_14021, 1
		jnz	short loc_C602
		push	word_13EEA
		push	word_13EE8
		push	ds
		push	offset aSVVVsr_uabivpv ; "  Â¿½é_aiPTÊ`QOÊj%3lu"
		jmp	short loc_C60E
; ---------------------------------------------------------------------------

loc_C602:
		push	word_13EEA
		push	word_13EE8	; arglist
		push	ds
		push	offset aB@rVivVsr_uabi ; "@Ã©Èé_aiPTÊ`QOÊj%3lu"

loc_C60E:
		push	0Fh		; int
		push	120h		; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		cmp	byte_14021, 1
		jnz	short loc_C63B
		push	word_13EDA
		push	word_13ED8
		push	ds
		push	offset aCvkeglbGgsnnzb ; "  E[g@@@@@@	%5lu"
		jmp	short loc_C647
; ---------------------------------------------------------------------------

loc_C63B:
		push	word_13EDA
		push	word_13ED8	; arglist
		push	ds
		push	offset aB@tnncglbGgsnn ; "@n[g@@@@@@@%5lu"

loc_C647:
		push	0Fh		; int
		push	140h		; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		push	128h
		push	160h
		push	1Dh
		push	ds
		push	offset aThankYouForPla ; "    Thank you	for Playing !! "
		call	sub_C9B0
		push	ds
		push	offset aBBBVavVVPNjbBB ; " È½ÌÌ"
		push	12h		; int
		push	180h		; int
		push	108h		; int
		call	sub_E9E4
		add	sp, 0Ah
		push	32h ; '2'
		call	sub_C82D
		pop	cx
		call	sub_C1A8
		xor	si, si
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		call	sub_A44F
		jmp	short loc_C6B1
; ---------------------------------------------------------------------------

loc_C6A1:
		push	0
		call	sub_A265
		pop	cx
		push	1
		call	sub_C82D
		pop	cx

loc_C6B1:
		mov	ax, si
		inc	si
		cmp	ax, 7D0h
		jge	short loc_C6C7
		cmp	byte_12BA0, 0
		jnz	short loc_C6C7
		cmp	byte_12B9C, 0
		jz	short loc_C6A1

loc_C6C7:
		push	1
		call	sub_D107
		pop	cx
		call	sub_D349
		push	0
		call	sub_D107
		pop	cx
		push	32h ; '2'
		call	sub_C842
		mov	byte_134C3, 7
		mov	byte_134C4, 0Fh
		mov	byte_134C5, 7
		mov	byte_134CF, 0Fh
		mov	byte_134D0, 0Fh
		mov	byte_134D1, 0Fh
		push	ds
		push	offset unk_134BA
		call	sub_D1D9
		add	sp, 4
		cmp	byte_14021, 1
		jnz	short loc_C71C
		push	ds
		push	offset aKo	; "®"
		push	32h ; '2'
		jmp	short loc_C722
; ---------------------------------------------------------------------------

loc_C71C:
		push	ds
		push	offset aKo_0	; "®"
		push	3Ch ; '<'

loc_C722:
		push	word_12B32
		push	word_12B30
		call	sub_B5D8
		add	sp, 0Ah
		call	sub_A076
		pop	si
		leave
		retf
sub_C446	endp

seg003		ends

; ===========================================================================

; Segment type:	Pure code
seg004		segment	byte public 'CODE' use16
		assume cs:seg004
		;org 0Ah
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C73A	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	1
		call	sub_D107
		pop	cx
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_EB39
		add	sp, 4
		pop	bp
		retf	4
sub_C73A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C757	proc far
		push	bp
		mov	bp, sp
		call	egc_on
		mov	ax, 0FFF0h
		mov	dx, 4A0h
		out	dx, ax
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0FFFFh
		mov	dx, 4A8h
		out	dx, ax
		mov	ax, 0
		mov	dx, 4ACh
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		pop	bp
		retf
sub_C757	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C78B	proc far

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		enter	0Ah, 0
		push	si
		push	di
		call	sub_C757
		mov	ax, [bp+arg_0]
		mov	bx, 2
		cwd
		idiv	bx
		imul	dx, 140h
		mov	[bp+var_2], dx
		mov	ax, [bp+arg_0]
		cwd
		sub	ax, dx
		sar	ax, 1
		imul	ax, 0C8h
		mov	[bp+var_4], ax
		mov	ax, [bp+var_2]
		sar	ax, 3
		mov	dx, [bp+var_4]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+var_4]
		shl	dx, 4
		add	ax, dx
		mov	si, ax
		mov	di, 1F54h
		mov	[bp+var_8], 0
		jmp	short loc_C81D
; ---------------------------------------------------------------------------

loc_C7D6:
		mov	[bp+var_6], 0
		jmp	short loc_C80E
; ---------------------------------------------------------------------------

loc_C7DD:
		push	1
		call	sub_D107
		pop	cx
		les	bx, dword_1464E
		add	bx, si
		mov	ax, es:[bx]
		mov	[bp+var_A], ax
		push	0
		call	sub_D107
		pop	cx
		les	bx, dword_1464E
		add	bx, di
		mov	ax, [bp+var_A]
		mov	es:[bx], ax
		add	si, 2
		add	di, 2
		inc	[bp+var_6]

loc_C80E:
		cmp	[bp+var_6], 14h
		jl	short loc_C7DD
		add	si, 28h	; '('
		add	di, 28h	; '('
		inc	[bp+var_8]

loc_C81D:
		cmp	[bp+var_8], 0C8h ; 'È'
		jl	short loc_C7D6
		call	egc_off
		pop	di
		pop	si
		leave
		retf
sub_C78B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C82D	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	word_14044, 0

loc_C836:
		mov	ax, word_14044
		cmp	ax, [bp+arg_0]
		jnb	short loc_C840
		jmp	short loc_C836
; ---------------------------------------------------------------------------

loc_C840:
		pop	bp
		retf
sub_C82D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C842	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		enter	2, 0
		push	si
		push	di
		cmp	[bp+arg_0], 0
		jge	short loc_C855
		mov	[bp+arg_0], 0
		jmp	short loc_C861
; ---------------------------------------------------------------------------

loc_C855:
		cmp	[bp+arg_0], 0C8h ; 'È'
		jle	short loc_C861
		mov	[bp+arg_0], 0C8h ; 'È'

loc_C861:
		mov	si, 1
		jmp	loc_C8F1
; ---------------------------------------------------------------------------

loc_C867:
		xor	di, di
		jmp	short loc_C8E8
; ---------------------------------------------------------------------------

loc_C86B:
		cmp	[bp+arg_0], 64h	; 'd'
		jle	short loc_C8A9
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+di+170Ah]
		cbw
		mov	dx, 0Fh
		sub	dx, ax
		mov	[bp+var_2], dx
		mov	ax, [bp+arg_0]
		add	ax, 0FF9Ch
		imul	[bp+var_2]
		mov	[bp+var_2], ax
		mov	bx, 64h	; 'd'
		mov	ax, [bp+var_2]
		cwd
		idiv	bx
		mov	[bp+var_2], ax
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+di+170Ah]
		add	al, byte ptr [bp+var_2]
		jmp	short loc_C8DE
; ---------------------------------------------------------------------------

loc_C8A9:
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+di+170Ah]
		cbw
		mov	[bp+var_2], ax
		mov	ax, 64h	; 'd'
		sub	ax, [bp+arg_0]
		imul	[bp+var_2]
		mov	[bp+var_2], ax
		mov	bx, 64h	; 'd'
		mov	ax, [bp+var_2]
		cwd
		idiv	bx
		mov	[bp+var_2], ax
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+di+170Ah]
		mov	dl, byte ptr [bp+var_2]
		neg	dl
		add	al, dl

loc_C8DE:
		mov	bx, si
		imul	bx, 3
		mov	[bx+di+0A1Ah], al
		inc	di

loc_C8E8:
		cmp	di, 3
		jge	short loc_C8F0
		jmp	loc_C86B
; ---------------------------------------------------------------------------

loc_C8F0:
		inc	si

loc_C8F1:
		cmp	si, 10h
		jge	short loc_C8F9
		jmp	loc_C867
; ---------------------------------------------------------------------------

loc_C8F9:
		mov	ax, [bp+arg_0]
		mov	word_13507, ax
		push	ds
		push	offset unk_134BA
		call	sub_D1D9
		add	sp, 4
		pop	di
		pop	si
		leave
		retf	2
sub_C842	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C911	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, 64h	; 'd'
		xor	si, si
		jmp	short loc_C92E
; ---------------------------------------------------------------------------

loc_C91D:
		sub	di, 5
		push	di
		call	sub_C842
		push	[bp+arg_0]
		call	sub_C82D
		pop	cx
		inc	si

loc_C92E:
		cmp	si, 14h
		jl	short loc_C91D
		pop	di
		pop	si
		pop	bp
		retf	2
sub_C911	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C939	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	di, di
		xor	si, si
		jmp	short loc_C955
; ---------------------------------------------------------------------------

loc_C944:
		add	di, 5
		push	di
		call	sub_C842
		push	[bp+arg_0]
		call	sub_C82D
		pop	cx
		inc	si

loc_C955:
		cmp	si, 14h
		jl	short loc_C944
		pop	di
		pop	si
		pop	bp
		retf	2
sub_C939	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C960	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, 64h	; 'd'
		xor	si, si
		jmp	short loc_C97D
; ---------------------------------------------------------------------------

loc_C96C:
		add	di, 5
		push	di
		call	sub_C842
		push	[bp+arg_0]
		call	sub_C82D
		pop	cx
		inc	si

loc_C97D:
		cmp	si, 14h
		jl	short loc_C96C
		pop	di
		pop	si
		pop	bp
		retf	2
sub_C960	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C988	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, 0C8h ; 'È'
		xor	si, si
		jmp	short loc_C9A5
; ---------------------------------------------------------------------------

loc_C994:
		sub	di, 5
		push	di
		call	sub_C842
		push	[bp+arg_0]
		call	sub_C82D
		pop	cx
		inc	si

loc_C9A5:
		cmp	si, 14h
		jl	short loc_C994
		pop	di
		pop	si
		pop	bp
		retf	2
sub_C988	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C9B0	proc far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_C9E4
; ---------------------------------------------------------------------------

loc_C9B8:
		les	bx, [bp+arg_0]
		add	bx, si
		mov	al, es:[bx]
		cbw
		push	ax		; arglist
		push	ds
		push	offset aC	; "%c"
		push	0Fh		; int
		push	[bp+arg_6]	; int
		mov	ax, si
		shl	ax, 3
		add	ax, [bp+arg_8]
		push	ax		; int
		call	sub_E9E4
		add	sp, 0Ch
		push	3
		call	sub_C82D
		pop	cx
		inc	si

loc_C9E4:
		cmp	si, [bp+arg_4]
		jl	short loc_C9B8
		pop	si
		pop	bp
		retf	0Ah
sub_C9B0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C9EE	proc far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_CA36
; ---------------------------------------------------------------------------

loc_C9F6:
		mov	bx, si
		add	bx, bx
		mov	es, word ptr [bp+arg_0+2]
		add	bx, word ptr [bp+arg_0]
		mov	al, es:[bx+1]
		cbw
		push	ax
		mov	ax, si
		add	ax, ax
		les	bx, [bp+arg_0]
		add	bx, ax
		mov	al, es:[bx]
		cbw
		push	ax		; arglist
		push	ds
		push	offset aCC_5	; "%c%c"
		push	0Fh		; int
		push	[bp+arg_6]	; int
		mov	ax, si
		shl	ax, 4
		add	ax, [bp+arg_8]
		push	ax		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	3
		call	sub_C82D
		pop	cx
		inc	si

loc_CA36:
		cmp	si, [bp+arg_4]
		jl	short loc_C9F6
		pop	si
		pop	bp
		retf	0Ah
sub_C9EE	endp

seg004		ends

; ===========================================================================

; Segment type:	Pure code
seg005		segment	byte public 'CODE' use16
		assume cs:seg005
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; void __interrupt isr()
isr		proc far

var_4		= word ptr -4
var_2		= word ptr -2

		push	ax
		push	bx
		push	cx
		push	dx
		push	es
		push	ds
		push	si
		push	di
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		sub	sp, 4
		mov	ax, word_1344D
		mov	[bp+var_2], ax
		mov	ax, word_1344F
		mov	[bp+var_4], ax
		inc	word_14044
		inc	word_14046
		cmp	word_13443, 0
		jz	short loc_CA72
		call	dword_1404C

loc_CA72:
		xor	dx, dx
		mov	al, 20h	; ' '
		out	dx, al
		mov	dx, 64h	; 'd'
		mov	al, 0
		out	dx, al		; AT Keyboard controller 8042.
		leave
		pop	di
		pop	si
		pop	ds
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		iret
isr		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CA87	proc far
		push	bp
		mov	bp, sp
		cmp	byte_13442, 0
		jnz	short loc_CAC7
		mov	byte_13442, 1
		cli
		push	0Ah		; interruptno
		call	_getvect
		pop	cx
		mov	word_1404A, dx
		mov	off_14048, ax
		push	seg seg005
		push	offset isr	; isr
		push	0Ah		; interruptno
		call	_setvect
		add	sp, 6
		mov	dx, 2
		in	al, dx		; DMA controller, 8237A-5.
					; channel 1 current address
		and	al, 0FBh
		mov	dx, 2
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address
					; (also	sets current address)
		mov	dx, 64h	; 'd'
		mov	al, 0
		out	dx, al		; AT Keyboard controller 8042.
		sti

loc_CAC7:
		pop	bp
		retf
sub_CA87	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CAC9	proc far
		push	bp
		mov	bp, sp
		cmp	byte_13442, 1
		jnz	short loc_CAF6
		mov	byte_13442, 0
		cli
		mov	dx, 2
		in	al, dx		; DMA controller, 8237A-5.
					; channel 1 current address
		or	al, 4
		mov	dx, 2
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address
					; (also	sets current address)
		push	word_1404A
		push	off_14048	; isr
		push	0Ah		; interruptno
		call	_setvect
		add	sp, 6
		sti

loc_CAF6:
		pop	bp
		retf
sub_CAC9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CAF8	proc far
		push	bp
		mov	bp, sp

loc_CAFB:
		mov	dx, 60h
		in	al, dx		; AT Keyboard controller 8042.
		test	al, 20h
		jnz	short loc_CAFB

loc_CB03:
		mov	dx, 60h
		in	al, dx		; AT Keyboard controller 8042.
		test	al, 20h
		jz	short loc_CB03
		pop	bp
		retf
sub_CAF8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB0D	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	word_13443, 0
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr dword_1404C+2,	dx
		mov	word ptr dword_1404C, ax
		mov	word_13443, 1
		pop	bp
		retf
sub_CB0D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB2B	proc far
		push	bp
		mov	bp, sp
		mov	word_13443, 0
		pop	bp
		retf
sub_CB2B	endp

seg005		ends

; ===========================================================================

; Segment type:	Pure code
seg006		segment	byte public 'CODE' use16
		assume cs:seg006
		;org 6
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB36	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		mov	byte ptr [bp+inregs+1],	0Eh
		mov	word ptr [bp+inregs+6],	0
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		nopcall	sub_CB95
		nopcall	sub_CBC8
		push	0
		nopcall	sub_CC26
		add	sp, 0Ch
		nopcall	sub_CBD9
		nopcall	sub_CBEA
		leave
		retf
sub_CB36	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB74	proc far
		push	bp
		mov	bp, sp
		nopcall	sub_CB95
		nopcall	sub_CBB7
		push	1
		nopcall	sub_CC26
		pop	cx
		nopcall	sub_CBD9
		nopcall	sub_CBEA
		pop	bp
		retf
sub_CB74	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB95	proc far
		push	bp
		mov	bp, sp
		push	ds
		push	offset a3l	; "\x1B[>3l"
		nopcall	sub_CE47
		add	sp, 4
		pop	bp
		retf
sub_CB95	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBA6	proc far
		push	bp
		mov	bp, sp
		push	ds
		push	offset a3h	; "\x1B[>3h"
		nopcall	sub_CE47
		add	sp, 4
		pop	bp
		retf
sub_CBA6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBB7	proc far
		push	bp
		mov	bp, sp
		push	ds
		push	offset a1l	; "\x1B[>1l"
		nopcall	sub_CE47
		add	sp, 4
		pop	bp
		retf
sub_CBB7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBC8	proc far
		push	bp
		mov	bp, sp
		push	ds
		push	offset a1h	; "\x1B[>1h"
		nopcall	sub_CE47
		add	sp, 4
		pop	bp
		retf
sub_CBC8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBD9	proc far
		push	bp
		mov	bp, sp
		push	ds
		push	offset a2j	; "\x1B[2J"
		nopcall	sub_CE47
		add	sp, 4
		pop	bp
		retf
sub_CBD9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBEA	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		mov	byte ptr [bp+inregs+1],	0Ch
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		leave
		retf
sub_CBEA	endp

; ---------------------------------------------------------------------------
		enter	10h, 0
		mov	byte ptr [bp-0Fh], 0Dh
		push	ss
		lea	ax, [bp-10h]
		push	ax
		push	ss
		lea	ax, [bp-10h]
		push	ax
		push	18h
		call	_int86
		add	sp, 0Ah
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CC26	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	es, ax
		assume es:seg000
		mov	al, byte ptr es:loc_538+3
		cbw
		mov	bx, ax
		mov	dx, 62h	; 'b'
		mov	al, 4Bh	; 'K'
		out	dx, al		; PC/XT	PPI port C. Bits:
					; 0-3: values of DIP switches
					; 5: 1=Timer 2 channel out
					; 6: 1=I/O channel check
					; 7: 1=RAM parity check	error occurred.
		mov	al, bl
		or	al, 80h
		mov	dx, 60h
		out	dx, al		; AT Keyboard controller 8042.
		mov	ax, [bp+arg_0]
		or	ax, ax
		jz	short loc_CC55
		cmp	ax, 1
		jz	short loc_CC5C
		cmp	ax, 2
		jz	short loc_CC63
		jmp	short loc_CC6B
; ---------------------------------------------------------------------------

loc_CC55:
		mov	dx, 60h
		mov	al, 9Fh
		jmp	short loc_CC6A
; ---------------------------------------------------------------------------

loc_CC5C:
		mov	dx, 60h
		mov	al, 80h
		jmp	short loc_CC6A
; ---------------------------------------------------------------------------

loc_CC63:
		mov	al, bl
		add	al, 7Dh	; '}'
		mov	dx, 60h

loc_CC6A:
		out	dx, al		; AT Keyboard controller 8042.

loc_CC6B:
		mov	al, bl
		shl	al, 3
		add	al, 2
		mov	dx, 60h
		out	dx, al		; AT Keyboard controller 8042.
		pop	bp
		retf
sub_CC26	endp

; ---------------------------------------------------------------------------
		enter	10h, 0
		mov	byte ptr [bp-0Ch], 10h
		mov	byte ptr [bp-0Fh], 3
		mov	al, [bp+8]
		mov	[bp-9],	al
		mov	al, [bp+6]
		mov	[bp-0Ah], al
		push	ss
		lea	ax, [bp-10h]
		push	ax
		push	ss
		lea	ax, [bp-10h]
		push	ax
		push	0DCh ; 'Ü'
		call	_int86
		add	sp, 0Ah
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CCA7	proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= byte ptr  0Ah
arg_5		= byte ptr  0Bh
arg_6		= dword	ptr  0Ch

		enter	2, 0
		push	si
		push	di
		mov	ax, [bp+arg_2]
		imul	ax, 50h
		add	ax, [bp+arg_0]
		add	ax, ax
		mov	si, ax
		mov	di, 1
		test	[bp+arg_4], 1
		jz	short loc_CCC6
		add	di, 20h	; ' '

loc_CCC6:
		test	[bp+arg_4], 4
		jz	short loc_CCCF
		add	di, 40h

loc_CCCF:
		test	[bp+arg_4], 2
		jz	short loc_CCD9
		add	di, 80h

loc_CCD9:
		test	[bp+arg_5], 8
		jz	short loc_CCE2
		add	di, 10h

loc_CCE2:
		test	[bp+arg_5], 4
		jz	short loc_CCEB
		add	di, 8

loc_CCEB:
		test	[bp+arg_5], 2
		jz	short loc_CCF4
		add	di, 4

loc_CCF4:
		test	[bp+arg_5], 1
		jz	short loc_CCFD
		add	di, 2

loc_CCFD:
		mov	ax, di
		shl	ax, 8
		add	di, ax
		jmp	loc_CDFB
; ---------------------------------------------------------------------------

loc_CD07:
		les	bx, [bp+arg_6]
		assume es:nothing
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+12C3h], 4
		jnz	short loc_CD1B
		jmp	loc_CDD2
; ---------------------------------------------------------------------------

loc_CD1B:
		les	bx, [bp+arg_6]
		mov	al, es:[bx]
		cbw
		shl	ax, 8
		les	bx, [bp+arg_6]
		mov	dl, es:[bx+1]
		mov	dh, 0
		add	ax, dx
		push	ax
		call	__mbcjmstojis
		pop	cx
		mov	[bp+var_2], ax
		add	word ptr [bp+arg_6], 2
		cmp	[bp+var_2], 2921h
		jb	short loc_CD6C
		cmp	[bp+var_2], 2B7Eh
		ja	short loc_CD6C
		mov	ax, [bp+var_2]
		shr	ax, 8
		add	al, 0E0h
		or	al, 80h
		mov	dx, 0A000h
		mov	es, dx
		assume es:nothing
		mov	es:[si], al
		mov	ax, 0A000h
		mov	dl, byte ptr [bp+var_2]
		mov	es, ax
		mov	es:[si+1], dl
		jmp	short loc_CDE5
; ---------------------------------------------------------------------------

loc_CD6C:
		cmp	[bp+arg_0], 4Fh	; 'O'
		jnz	short loc_CD7E
		mov	ax, 0A000h
		mov	es, ax
		mov	word ptr es:[si], 20h ;	' '
		jmp	short loc_CDE5
; ---------------------------------------------------------------------------

loc_CD7E:
		mov	ax, [bp+var_2]
		shr	ax, 8
		add	al, 0E0h
		mov	dx, 0A000h
		mov	es, dx
		mov	es:[si], al
		mov	ax, 0A000h
		mov	dl, byte ptr [bp+var_2]
		mov	es, ax
		mov	es:[si+1], dl
		mov	ax, [bp+var_2]
		shr	ax, 8
		add	al, 0E0h
		or	al, 80h
		mov	dx, 0A000h
		mov	es, dx
		mov	es:[si+2], al
		mov	ax, 0A000h
		mov	dl, byte ptr [bp+var_2]
		mov	es, ax
		mov	es:[si+3], dl
		mov	ax, 0A200h
		mov	es, ax
		assume es:nothing
		mov	es:[si], di
		mov	ax, 0A200h
		mov	es, ax
		mov	es:[si+2], di
		add	si, 2
		inc	[bp+arg_0]
		jmp	short loc_CDED
; ---------------------------------------------------------------------------

loc_CDD2:
		les	bx, [bp+arg_6]
		assume es:nothing
		mov	al, es:[bx]
		mov	ah, 0
		mov	dx, 0A000h
		mov	es, dx
		assume es:nothing
		mov	es:[si], ax
		inc	word ptr [bp+arg_6]

loc_CDE5:
		mov	ax, 0A200h
		mov	es, ax
		assume es:nothing
		mov	es:[si], di

loc_CDED:
		add	si, 2
		inc	[bp+arg_0]
		mov	ax, [bp+arg_0]
		cmp	ax, 50h	; 'P'
		jge	short loc_CE07

loc_CDFB:
		les	bx, [bp+arg_6]
		assume es:nothing
		cmp	byte ptr es:[bx], 0
		jz	short loc_CE07
		jmp	loc_CD07
; ---------------------------------------------------------------------------

loc_CE07:
		pop	di
		pop	si
		leave
		retf
sub_CCA7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CE0B	proc far

@@buffer		= byte ptr -104h
_arglist		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
_format		= dword	ptr  0Ch
arg_A		= byte ptr  10h

		enter	104h, 0
		lea	ax, [bp+arg_A]
		mov	word ptr [bp+_arglist+2], ss
		mov	word ptr [bp+_arglist], ax
		push	word ptr [bp+_arglist+2]
		push	word ptr [bp+_arglist] ;	arglist
		push	word ptr [bp+_format+2]
		push	word ptr [bp+_format] ; format
		push	ss
		lea	ax, [bp+@@buffer]
		push	ax		; buffer
		call	_vsprintf
		push	ss
		lea	ax, [bp+@@buffer]
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_CCA7
		add	sp, 16h
		leave
		retf
sub_CE0B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CE47	proc far

inregs		= REGS ptr -10h
arg_0		= dword	ptr  6

		enter	10h, 0
		mov	byte ptr [bp+inregs+4],	10h
		mov	byte ptr [bp+inregs+1],	0
		jmp	short loc_CE76
; ---------------------------------------------------------------------------

loc_CE55:
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		mov	byte ptr [bp+inregs+6],	al
		inc	word ptr [bp+arg_0]
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	0DCh ; 'Ü'      ; intno
		call	_int86
		add	sp, 0Ah

loc_CE76:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_CE55
		mov	dx, 64h	; 'd'
		mov	al, 0
		out	dx, al		; AT Keyboard controller 8042.
		leave
		retf
sub_CE47	endp

seg006		ends

; ===========================================================================

; Segment type:	Pure code
seg007		segment	byte public 'CODE' use16
		assume cs:seg007
		;org 7
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; void __interrupt sub_CE87()
sub_CE87	proc far
		push	eax
		push	ebx
		push	ecx
		push	edx
		push	es
		push	ds
		push	esi
		push	edi
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		pop	bp
		pop	edi
		pop	esi
		pop	ds
		pop	es
		pop	edx
		pop	ecx
		pop	ebx
		pop	eax
		iret
sub_CE87	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CEAD	proc far
		push	bp
		mov	bp, sp
		cmp	byte_134B8, 0
		jnz	short loc_CEFE
		mov	byte_134B8, 1
		push	6		; interruptno
		call	_getvect
		pop	cx
		mov	word ptr off_14150+2, dx
		mov	word ptr off_14150, ax
		push	seg seg007
		push	offset sub_CF87	; isr
		push	6		; interruptno
		call	_setvect
		add	sp, 6
		call	sub_CA87
		call	sub_CB36
		call	egc_start
		call	graph_start
		call	respal_create
		call	sub_E984
		call	sub_EC46

loc_CEFE:
		pop	bp
		retf
sub_CEAD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CF00	proc far
		push	bp
		mov	bp, sp
		cmp	byte_134B8, 1
		jnz	short loc_CF19
		mov	byte_134B8, 0
		nopcall	sub_CF48
		call	respal_free

loc_CF19:
		pop	bp
		retf
sub_CF00	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CF1B	proc far
		push	bp
		mov	bp, sp
		cmp	byte_134B8, 1
		jnz	short loc_CF46
		nopcall	sub_CF48
		call	sub_CB95
		push	0
		call	sub_CC26
		pop	cx
		call	sub_CBD9
		call	sub_CBEA
		mov	byte_134B8, 0

loc_CF46:
		pop	bp
		retf
sub_CF1B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CF48	proc far
		push	bp
		mov	bp, sp
		mov	byte_134B8, 0
		push	seg seg007
		push	offset sub_CE87	; isr
		push	6		; interruptno
		call	_setvect
		call	sub_CAC9
		call	sub_CBD9
		call	sub_D4FE
		call	sub_D094
		call	egc_start
		push	large [off_14150] ; isr
		push	6		; interruptno
		call	_setvect
		add	sp, 0Ch
		pop	bp
		retf
sub_CF48	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

; void __interrupt sub_CF87()
sub_CF87	proc far
		push	eax
		push	ebx
		push	ecx
		push	edx
		push	es
		push	ds
		push	esi
		push	edi
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		call	sub_CF00
		push	0		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx
		pop	bp
		pop	edi
		pop	esi
		pop	ds
		pop	es
		pop	edx
		pop	ecx
		pop	ebx
		pop	eax
		iret
sub_CF87	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

sub_CFB9	proc far

@@buffer		= byte ptr -104h
var_4		= word ptr -4
var_2		= word ptr -2
_format		= dword	ptr  6
_arglist		= byte ptr  0Ah

		enter	104h, 0
		lea	ax, [bp+_arglist]
		mov	[bp+var_2], ss
		mov	[bp+var_4], ax
		push	[bp+var_2]
		push	ax		; arglist
		push	large [bp+_format] ; format
		push	ss
		lea	ax, [bp+@@buffer]
		push	ax		; buffer
		call	_vsprintf
		call	sub_CF00
		push	ss
		lea	ax, [bp+@@buffer]
		push	ax
		call	sub_CE47
		push	1		; status
		call	_exit
; ---------------------------------------------------------------------------
		add	sp, 12h
		leave
		retf
sub_CFB9	endp

seg007		ends

; ===========================================================================

; Segment type:	Pure code
seg008		segment	byte public 'CODE' use16
		assume cs:seg008
		;org 4
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CFF4	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		nopcall	sub_D0E0
		mov	byte ptr [bp+inregs+1],	42h ; 'B'
		mov	byte ptr [bp+inregs+5],	0C0h ; 'À'
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		mov	dx, 6Ah	; 'j'
		mov	al, 1
		out	dx, al		; PC-98	GDC (6a):
					;
		push	ds
		push	offset unk_134BA
		nopcall	sub_D1D9
		push	0
		nopcall	sub_D107
		push	0
		nopcall	sub_D0FB
		add	sp, 12h
		nopcall	sub_D300
		mov	dx, 68h	; 'h'
		mov	al, 0Ah
		out	dx, al
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		nopcall	sub_D0C5
		leave
		retf
sub_CFF4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D04B	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		nopcall	sub_D0E0
		mov	byte ptr [bp+inregs+1],	42h ; 'B'
		mov	byte ptr [bp+inregs+5],	0C0h ; 'À'
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		mov	dx, 6Ah	; 'j'
		mov	al, 1
		out	dx, al		; PC-98	GDC (6a):
					;
		push	0
		nopcall	sub_D107
		push	0
		nopcall	sub_D0FB
		add	sp, 0Eh
		mov	dx, 68h	; 'h'
		mov	al, 0Ah
		out	dx, al
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		nopcall	sub_D0C5
		leave
		retf
sub_D04B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D094	proc far
		push	bp
		mov	bp, sp
		nopcall	sub_D431
		nopcall	sub_D300
		push	0
		nopcall	sub_D107
		push	0
		nopcall	sub_D0FB
		add	sp, 4
		nopcall	sub_D0C5
		mov	dx, 68h	; 'h'
		mov	al, 0Ah
		out	dx, al
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		pop	bp
		retf
sub_D094	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D0C5	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		mov	byte ptr [bp+inregs+1],	40h
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		leave
		retf
sub_D0C5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D0E0	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		mov	byte ptr [bp+inregs+1],	41h ; 'A'
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		leave
		retf
sub_D0E0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D0FB	proc far

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	dx, 0A4h ; '¤'
		mov	al, [bp+arg_0]
		out	dx, al
		pop	bp
		retf
sub_D0FB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D107	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		mov	byte_14159, bl
		mov	dx, 0A6h ; '¦'
		mov	al, bl
		out	dx, al
		pop	bp
		retf
sub_D107	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D119	proc far

arg_0		= byte ptr  6
arg_2		= byte ptr  8
arg_4		= byte ptr  0Ah
arg_6		= byte ptr  0Ch

		push	bp
		mov	bp, sp
		mov	dx, 0A8h ; '¨'
		mov	al, [bp+arg_0]
		out	dx, al
		mov	dx, 0AAh ; 'ª'
		mov	al, [bp+arg_4]
		out	dx, al
		mov	dx, 0ACh ; '¬'
		mov	al, [bp+arg_2]
		out	dx, al
		mov	dx, 0AEh ; '®'
		mov	al, [bp+arg_6]
		out	dx, al
		pop	bp
		retf
sub_D119	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D13A	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		mov	dx, 7Ch	; '|'
		mov	al, 0C0h ; 'À'
		out	dx, al
		test	bl, 1
		jz	short loc_D14F
		mov	al, 0FFh
		jmp	short loc_D151
; ---------------------------------------------------------------------------

loc_D14F:
		mov	al, 0

loc_D151:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 2
		jz	short loc_D15E
		mov	al, 0FFh
		jmp	short loc_D160
; ---------------------------------------------------------------------------

loc_D15E:
		mov	al, 0

loc_D160:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 4
		jz	short loc_D16D
		mov	al, 0FFh
		jmp	short loc_D16F
; ---------------------------------------------------------------------------

loc_D16D:
		mov	al, 0

loc_D16F:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 8
		jz	short loc_D17C
		mov	al, 0FFh
		jmp	short loc_D17E
; ---------------------------------------------------------------------------

loc_D17C:
		mov	al, 0

loc_D17E:
		mov	dx, 7Eh	; '~'
		out	dx, al
		pop	bp
		retf
sub_D13A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D184	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		mov	dx, 7Ch	; '|'
		mov	al, 80h
		out	dx, al
		test	bl, 1
		jz	short loc_D199
		mov	al, 0FFh
		jmp	short loc_D19B
; ---------------------------------------------------------------------------

loc_D199:
		mov	al, 0

loc_D19B:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 2
		jz	short loc_D1A8
		mov	al, 0FFh
		jmp	short loc_D1AA
; ---------------------------------------------------------------------------

loc_D1A8:
		mov	al, 0

loc_D1AA:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 4
		jz	short loc_D1B7
		mov	al, 0FFh
		jmp	short loc_D1B9
; ---------------------------------------------------------------------------

loc_D1B7:
		mov	al, 0

loc_D1B9:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 8
		jz	short loc_D1C6
		mov	al, 0FFh
		jmp	short loc_D1C8
; ---------------------------------------------------------------------------

loc_D1C6:
		mov	al, 0

loc_D1C8:
		mov	dx, 7Eh	; '~'
		out	dx, al
		pop	bp
		retf
sub_D184	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D1CE	proc far
		push	bp
		mov	bp, sp
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		pop	bp
		retf
sub_D1CE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D1D9	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_D21A
; ---------------------------------------------------------------------------

loc_D1E1:
		mov	ax, si
		imul	ax, 3
		les	bx, [bp+arg_0]
		add	bx, ax
		mov	al, es:[bx+2]
		cbw
		push	ax
		mov	ax, si
		imul	ax, 3
		mov	bx, word ptr [bp+arg_0]
		add	bx, ax
		mov	al, es:[bx+1]
		cbw
		push	ax
		mov	ax, si
		imul	ax, 3
		mov	bx, word ptr [bp+arg_0]
		add	bx, ax
		mov	al, es:[bx]
		cbw
		push	ax
		push	si
		nopcall	sub_D222
		add	sp, 8
		inc	si

loc_D21A:
		cmp	si, 10h
		jl	short loc_D1E1
		pop	si
		pop	bp
		retf
sub_D1D9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D222	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		cmp	[bp+arg_2], 0Fh
		jge	short loc_D234
		mov	ax, [bp+arg_2]
		jmp	short loc_D237
; ---------------------------------------------------------------------------

loc_D234:
		mov	ax, 0Fh

loc_D237:
		or	ax, ax
		jle	short loc_D24B
		cmp	[bp+arg_2], 0Fh
		jge	short loc_D246
		mov	ax, [bp+arg_2]
		jmp	short loc_D249
; ---------------------------------------------------------------------------

loc_D246:
		mov	ax, 0Fh

loc_D249:
		jmp	short loc_D24D
; ---------------------------------------------------------------------------

loc_D24B:
		xor	ax, ax

loc_D24D:
		mov	[bp+arg_2], ax
		cmp	[bp+arg_4], 0Fh
		jge	short loc_D25B
		mov	ax, [bp+arg_4]
		jmp	short loc_D25E
; ---------------------------------------------------------------------------

loc_D25B:
		mov	ax, 0Fh

loc_D25E:
		or	ax, ax
		jle	short loc_D272
		cmp	[bp+arg_4], 0Fh
		jge	short loc_D26D
		mov	ax, [bp+arg_4]
		jmp	short loc_D270
; ---------------------------------------------------------------------------

loc_D26D:
		mov	ax, 0Fh

loc_D270:
		jmp	short loc_D274
; ---------------------------------------------------------------------------

loc_D272:
		xor	ax, ax

loc_D274:
		mov	[bp+arg_4], ax
		cmp	[bp+arg_6], 0Fh
		jge	short loc_D282
		mov	ax, [bp+arg_6]
		jmp	short loc_D285
; ---------------------------------------------------------------------------

loc_D282:
		mov	ax, 0Fh

loc_D285:
		or	ax, ax
		jle	short loc_D299
		cmp	[bp+arg_6], 0Fh
		jge	short loc_D294
		mov	ax, [bp+arg_6]
		jmp	short loc_D297
; ---------------------------------------------------------------------------

loc_D294:
		mov	ax, 0Fh

loc_D297:
		jmp	short loc_D29B
; ---------------------------------------------------------------------------

loc_D299:
		xor	ax, ax

loc_D29B:
		mov	[bp+arg_6], ax
		mov	bx, si
		imul	bx, 3
		mov	al, byte ptr [bp+arg_2]
		mov	[bx+0A1Ah], al
		mov	bx, si
		imul	bx, 3
		mov	al, byte ptr [bp+arg_4]
		mov	[bx+0A1Bh], al
		mov	bx, si
		imul	bx, 3
		mov	al, byte ptr [bp+arg_6]
		mov	[bx+0A1Ch], al
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	si
		call	sub_D119
		add	sp, 8
		pop	si
		pop	bp
		retf
sub_D222	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D2D6	proc far

_s		= dword	ptr -4

		enter	4, 0
		mov	[bp+_s],	0A8000000h
		push	0
		call	sub_D13A
		push	large 7D0000FFh	; c
		push	large [bp+_s]	; s
		call	_memset
		add	sp, 0Ah
		call	sub_D1CE
		leave
		retf
sub_D2D6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D300	proc far
		push	bp
		mov	bp, sp
		push	2
		call	sub_D107
		call	sub_D2D6
		push	2
		call	sub_D107
		add	sp, 4
		call	sub_D2D6
		pop	bp
		retf
sub_D300	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D31C	proc far

_s		= dword	ptr -4
arg_0		= byte ptr  6

		enter	4, 0
		mov	[bp+_s],	0A8000000h
		mov	al, [bp+arg_0]
		cbw
		push	ax
		call	sub_D13A
		push	large 7D0000FFh	; c
		push	large [bp+_s]	; s
		call	_memset
		add	sp, 0Ah
		call	sub_D1CE
		leave
		retf
sub_D31C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D349	proc far

var_152		= byte ptr -152h
var_102		= byte ptr -102h
var_B2		= byte ptr -0B2h
dest		= byte ptr -62h
var_11		= byte ptr -11h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
_src		= dword	ptr -4

		enter	152h, 0
		push	si
		mov	[bp+_src], 0A8000000h
		mov	[bp+var_8], 0B0000000h
		mov	[bp+var_C], 0B8000000h
		mov	[bp+var_10], 0E0000000h
		mov	al, byte_14159
		xor	al, 1
		mov	[bp+var_11], al
		xor	si, si
		jmp	loc_D426
; ---------------------------------------------------------------------------

loc_D37B:
		push	50h ; 'P'       ; n
		push	large [bp+_src]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_memcpy
		push	50h ; 'P'       ; n
		push	large [bp+var_8] ; src
		push	ss
		lea	ax, [bp+var_B2]
		push	ax		; dest
		call	_memcpy
		push	50h ; 'P'       ; n
		push	large [bp+var_C] ; src
		push	ss
		lea	ax, [bp+var_102]
		push	ax		; dest
		call	_memcpy
		push	50h ; 'P'       ; n
		push	large [bp+var_10] ; src
		push	ss
		lea	ax, [bp+var_152]
		push	ax		; dest
		call	_memcpy
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+var_11]
		out	dx, al
		push	50h ; 'P'       ; n
		push	ss
		lea	ax, [bp+dest]
		push	ax		; src
		push	large [bp+_src]	; dest
		call	_memcpy
		add	sp, 32h
		push	50h ; 'P'       ; n
		push	ss
		lea	ax, [bp+var_B2]
		push	ax		; src
		push	large [bp+var_8] ; dest
		call	_memcpy
		push	50h ; 'P'       ; n
		push	ss
		lea	ax, [bp+var_102]
		push	ax		; src
		push	large [bp+var_C] ; dest
		call	_memcpy
		push	50h ; 'P'       ; n
		push	ss
		lea	ax, [bp+var_152]
		push	ax		; src
		push	large [bp+var_10] ; dest
		call	_memcpy
		add	sp, 1Eh
		mov	dx, 0A6h ; '¦'
		mov	al, byte_14159
		out	dx, al
		add	word ptr [bp+_src], 50h ; 'P'
		add	word ptr [bp+var_8], 50h ; 'P'
		add	word ptr [bp+var_C], 50h ; 'P'
		add	word ptr [bp+var_10], 50h ; 'P'
		inc	si

loc_D426:
		cmp	si, 190h
		jl	loc_D37B
		pop	si
		leave
		retf
sub_D349	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D431	proc far
		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_D447
; ---------------------------------------------------------------------------

loc_D439:
		push	large 0
		push	0
		push	si
		call	sub_D119
		add	sp, 8
		inc	si

loc_D447:
		cmp	si, 10h
		jl	short loc_D439
		pop	si
		pop	bp
		retf
sub_D431	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D44F	proc far

_s		= byte ptr -32h
var_31		= byte ptr -31h
var_30		= byte ptr -30h
var_2		= word ptr -2

		enter	32h, 0
		push	si
		push	di
		push	large 300000h	; c
		push	ss
		lea	ax, [bp+_s]
		push	ax		; s
		call	_memset
		add	sp, 8
		mov	[bp+var_2], 0
		jmp	loc_D4F2
; ---------------------------------------------------------------------------

loc_D470:
		call	sub_CAF8
		xor	si, si
		jmp	short loc_D4E2
; ---------------------------------------------------------------------------

loc_D479:
		xor	di, di
		jmp	short loc_D4A7
; ---------------------------------------------------------------------------

loc_D47D:
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		mov	bx, si
		imul	bx, 3
		cmp	al, [bx+di+0A1Ah]
		jge	short loc_D4A6
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+_s]
		add	bx, ax
		inc	byte ptr ss:[bx]

loc_D4A6:
		inc	di

loc_D4A7:
		cmp	di, 3
		jl	short loc_D47D
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_30]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_31]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		push	si
		call	sub_D119
		add	sp, 8
		inc	si

loc_D4E2:
		cmp	si, 10h
		jl	short loc_D479
		push	0Ah
		call	_delay
		pop	cx
		inc	[bp+var_2]

loc_D4F2:
		cmp	[bp+var_2], 10h
		jl	loc_D470
		pop	di
		pop	si
		leave
		retf
sub_D44F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D4FE	proc far

dest		= byte ptr -32h
var_31		= byte ptr -31h
var_30		= byte ptr -30h
var_2		= word ptr -2

		enter	32h, 0
		push	si
		push	di
		push	30h ; '0'       ; n
		push	ds
		push	offset unk_134BA ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_memcpy
		add	sp, 0Ah
		mov	[bp+var_2], 0
		jmp	short loc_D595
; ---------------------------------------------------------------------------

loc_D51E:
		call	sub_CAF8
		xor	si, si
		jmp	short loc_D585
; ---------------------------------------------------------------------------

loc_D527:
		xor	di, di
		jmp	short loc_D54A
; ---------------------------------------------------------------------------

loc_D52B:
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+dest]
		add	bx, ax
		cmp	byte ptr ss:[bx], 0
		jle	short loc_D549
		mov	bx, si
		imul	bx, 3
		add	bx, di
		add	bx, ax
		dec	byte ptr ss:[bx]

loc_D549:
		inc	di

loc_D54A:
		cmp	di, 3
		jl	short loc_D52B
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_30]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_31]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+dest]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		push	si
		call	sub_D119
		add	sp, 8
		inc	si

loc_D585:
		cmp	si, 10h
		jl	short loc_D527
		push	0Ah
		call	_delay
		pop	cx
		inc	[bp+var_2]

loc_D595:
		cmp	[bp+var_2], 10h
		jl	short loc_D51E
		pop	di
		pop	si
		leave
		retf
sub_D4FE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D59F	proc far
		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_D5B8
; ---------------------------------------------------------------------------

loc_D5A7:
		push	large 0F000Fh
		push	0Fh
		push	si
		call	sub_D119
		add	sp, 8
		inc	si

loc_D5B8:
		cmp	si, 10h
		jl	short loc_D5A7
		pop	si
		pop	bp
		retf
sub_D59F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D5C0	proc far

_s		= byte ptr -32h
var_31		= byte ptr -31h
var_30		= byte ptr -30h
var_2		= word ptr -2

		enter	32h, 0
		push	si
		push	di
		push	large 30000Fh	; c
		push	ss
		lea	ax, [bp+_s]
		push	ax		; s
		call	_memset
		add	sp, 8
		mov	[bp+var_2], 0
		jmp	loc_D663
; ---------------------------------------------------------------------------

loc_D5E1:
		call	sub_CAF8
		xor	si, si
		jmp	short loc_D653
; ---------------------------------------------------------------------------

loc_D5EA:
		xor	di, di
		jmp	short loc_D618
; ---------------------------------------------------------------------------

loc_D5EE:
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		mov	bx, si
		imul	bx, 3
		cmp	al, [bx+di+0A1Ah]
		jle	short loc_D617
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+_s]
		add	bx, ax
		dec	byte ptr ss:[bx]

loc_D617:
		inc	di

loc_D618:
		cmp	di, 3
		jl	short loc_D5EE
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_30]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_31]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		push	si
		call	sub_D119
		add	sp, 8
		inc	si

loc_D653:
		cmp	si, 10h
		jl	short loc_D5EA
		push	0Ah
		call	_delay
		pop	cx
		inc	[bp+var_2]

loc_D663:
		cmp	[bp+var_2], 10h
		jl	loc_D5E1
		pop	di
		pop	si
		leave
		retf
sub_D5C0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D66F	proc far

dest		= byte ptr -32h
var_31		= byte ptr -31h
var_30		= byte ptr -30h
var_2		= word ptr -2

		enter	32h, 0
		push	si
		push	di
		push	30h ; '0'       ; n
		push	ds
		push	offset unk_134BA ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_memcpy
		add	sp, 0Ah
		mov	[bp+var_2], 0
		jmp	short loc_D706
; ---------------------------------------------------------------------------

loc_D68F:
		call	sub_CAF8
		xor	si, si
		jmp	short loc_D6F6
; ---------------------------------------------------------------------------

loc_D698:
		xor	di, di
		jmp	short loc_D6BB
; ---------------------------------------------------------------------------

loc_D69C:
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+dest]
		add	bx, ax
		cmp	byte ptr ss:[bx], 0Fh
		jge	short loc_D6BA
		mov	bx, si
		imul	bx, 3
		add	bx, di
		add	bx, ax
		inc	byte ptr ss:[bx]

loc_D6BA:
		inc	di

loc_D6BB:
		cmp	di, 3
		jl	short loc_D69C
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_30]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_31]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+dest]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		push	si
		call	sub_D119
		add	sp, 8
		inc	si

loc_D6F6:
		cmp	si, 10h
		jl	short loc_D698
		push	0Ah
		call	_delay
		pop	cx
		inc	[bp+var_2]

loc_D706:
		cmp	[bp+var_2], 10h
		jl	short loc_D68F
		pop	di
		pop	si
		leave
		retf
sub_D66F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D710	proc far
		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_D742
; ---------------------------------------------------------------------------

loc_D718:
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Ch]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Bh]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Ah]
		cbw
		push	ax
		push	si
		call	sub_D119
		add	sp, 8
		inc	si

loc_D742:
		cmp	si, 10h
		jl	short loc_D718
		pop	si
		pop	bp
		retf
sub_D710	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D74A	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	[bp+arg_4]
		call	sub_D13A
		pop	cx
		mov	bx, [bp+arg_2]
		imul	bx, 50h
		mov	ax, [bp+arg_0]
		sar	ax, 3
		add	bx, ax
		mov	ax, 0A800h
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	dx, 80h
		sar	dx, cl
		mov	es, ax
		assume es:nothing
		mov	es:[bx], dl
		call	sub_D1CE
		pop	bp
		retf
sub_D74A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D77C	proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		push	si
		push	di
		mov	ax, [bp+arg_2]
		imul	ax, 50h
		mov	dx, [bp+arg_0]
		sar	dx, 3
		add	ax, dx
		mov	di, ax
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	ax, 80h
		sar	ax, cl
		mov	[bp+var_2], ax
		xor	si, si
		mov	ax, 0A800h
		mov	es, ax
		mov	al, es:[di]
		cbw
		test	[bp+var_2], ax
		jz	short loc_D7B3
		or	si, 1

loc_D7B3:
		mov	ax, 0B000h
		mov	es, ax
		assume es:nothing
		mov	al, es:[di]
		cbw
		test	[bp+var_2], ax
		jz	short loc_D7C4
		or	si, 2

loc_D7C4:
		mov	ax, 0B800h
		mov	es, ax
		assume es:nothing
		mov	al, es:[di]
		cbw
		test	[bp+var_2], ax
		jz	short loc_D7D5
		or	si, 4

loc_D7D5:
		mov	ax, 0E000h
		mov	es, ax
		assume es:nothing
		mov	al, es:[di]
		cbw
		test	[bp+var_2], ax
		jz	short loc_D7E6
		or	si, 8

loc_D7E6:
		mov	ax, si
		pop	di
		pop	si
		leave
		retf
sub_D77C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D7EC	proc far

var_A		= dword	ptr -0Ah
var_6		= byte ptr -6
var_5		= byte ptr -5
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	0Ah, 0
		push	si
		push	di
		mov	di, [bp+arg_4]
		mov	ax, [bp+arg_0]
		cmp	ax, [bp+arg_2]
		jle	short loc_D80C
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_2]
		mov	[bp+arg_0], ax
		mov	ax, [bp+var_4]
		mov	[bp+arg_2], ax

loc_D80C:
		cmp	[bp+arg_0], 0
		jge	short loc_D81F
		cmp	[bp+arg_2], 0
		jl	loc_D8FB
		mov	[bp+arg_0], 0

loc_D81F:
		cmp	[bp+arg_2], 27Fh
		jle	short loc_D834
		cmp	[bp+arg_0], 27Fh
		jg	loc_D8FB
		mov	[bp+arg_2], 27Fh

loc_D834:
		mov	ax, [bp+arg_2]
		mov	word_14154, ax
		mov	word_14156, di
		mov	ax, di
		imul	ax, 50h
		push	ax
		mov	ax, [bp+arg_0]
		mov	bx, 8
		cwd
		idiv	bx
		pop	dx
		add	dx, ax
		mov	word ptr [bp+var_A+2], 0A800h
		mov	word ptr [bp+var_A], dx
		mov	ax, [bp+arg_2]
		cwd
		idiv	bx
		push	ax
		mov	ax, [bp+arg_0]
		cwd
		idiv	bx
		pop	dx
		sub	dx, ax
		mov	[bp+var_2], dx
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	ax, 0FFh
		sar	ax, cl
		mov	[bp+var_5], al
		mov	al, byte ptr [bp+arg_2]
		and	al, 7
		mov	cl, 7
		sub	cl, al
		mov	al, 0FFh
		shl	al, cl
		mov	[bp+var_6], al
		cmp	byte_134EA, 0
		jnz	short loc_D898
		push	[bp+arg_6]
		call	sub_D13A
		pop	cx

loc_D898:
		cmp	byte_134EA, 0
		jz	short loc_D8B6
		push	1
		mov	ax, 280h
		sub	ax, [bp+arg_0]
		push	ax
		push	di
		push	[bp+arg_0]
		call	sub_ECA3
		add	sp, 8
		jmp	short loc_D8F0
; ---------------------------------------------------------------------------

loc_D8B6:
		cmp	[bp+var_2], 0
		jnz	short loc_D8C7
		mov	al, [bp+var_5]
		and	al, [bp+var_6]
		les	bx, [bp+var_A]
		assume es:nothing
		jmp	short loc_D8ED
; ---------------------------------------------------------------------------

loc_D8C7:
		les	bx, [bp+var_A]
		mov	al, [bp+var_5]
		mov	es:[bx], al
		mov	si, 1
		jmp	short loc_D8DF
; ---------------------------------------------------------------------------

loc_D8D5:
		les	bx, [bp+var_A]
		add	bx, si
		mov	byte ptr es:[bx], 0FFh
		inc	si

loc_D8DF:
		cmp	si, [bp+var_2]
		jl	short loc_D8D5
		les	bx, [bp+var_A]
		add	bx, [bp+var_2]
		mov	al, [bp+var_6]

loc_D8ED:
		mov	es:[bx], al

loc_D8F0:
		cmp	byte_134EA, 0
		jnz	short loc_D8FB
		call	sub_D1CE

loc_D8FB:
		pop	di
		pop	si
		leave
		retf
sub_D7EC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D8FF	proc far

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	8, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_4]
		cmp	si, di
		jle	short loc_D917
		mov	[bp+var_4], si
		mov	si, di
		mov	di, [bp+var_4]

loc_D917:
		or	si, si
		jge	short loc_D923
		or	di, di
		jl	loc_D9BA
		xor	si, si

loc_D923:
		cmp	di, 18Fh
		jle	short loc_D934
		cmp	si, 18Fh
		jg	loc_D9BA
		mov	di, 18Fh

loc_D934:
		mov	ax, [bp+arg_0]
		mov	word_14154, ax
		mov	word_14156, di
		cmp	byte_134EA, 0
		jz	short loc_D95A
		mov	ax, di
		sub	ax, si
		push	ax
		push	10h
		push	si
		push	[bp+arg_0]
		call	sub_ECA3
		add	sp, 8
		jmp	short loc_D9BA
; ---------------------------------------------------------------------------

loc_D95A:
		mov	ax, [bp+arg_0]
		sar	ax, 3
		mov	dx, si
		shl	dx, 6
		add	ax, dx
		mov	dx, si
		shl	dx, 4
		add	ax, dx
		mov	[bp+var_8], ax
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	ax, word_134EB
		shr	ax, cl
		mov	[bp+var_6], ax
		mov	al, byte ptr [bp+arg_0]
		and	al, 7
		mov	cl, 10h
		sub	cl, al
		mov	ax, word_134EB
		shl	ax, cl
		or	[bp+var_6], ax
		push	[bp+arg_6]
		call	sub_D13A
		pop	cx
		mov	[bp+var_2], si
		jmp	short loc_D9B1
; ---------------------------------------------------------------------------

loc_D99D:
		les	bx, dword_1464E
		add	bx, [bp+var_8]
		mov	ax, [bp+var_6]
		mov	es:[bx], ax
		add	[bp+var_8], 50h	; 'P'
		inc	[bp+var_2]

loc_D9B1:
		cmp	[bp+var_2], di
		jle	short loc_D99D
		call	sub_D1CE

loc_D9BA:
		pop	di
		pop	si
		leave
		retf
sub_D8FF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D9BE	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		mov	byte_134EA, 1
		push	7
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		nopcall	sub_DA0B
		add	sp, 0Ah
		mov	byte_134EA, 0
		pop	bp
		retf
sub_D9BE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D9E3	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_A]
		mov	word_134EB, ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		nopcall	sub_DA0B
		add	sp, 0Ah
		mov	word_134EB, 80h
		pop	bp
		retf
sub_D9E3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DA0B	proc far

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	28h, 0
		push	si
		push	di
		mov	di, [bp+arg_2]
		cmp	byte_134EA, 0
		jnz	short loc_DA31
		mov	ax, [bp+arg_0]
		cmp	ax, [bp+arg_4]
		jnz	short loc_DA31
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	di
		push	ax
		call	sub_D8FF
		jmp	short loc_DA4B
; ---------------------------------------------------------------------------

loc_DA31:
		cmp	byte_134EA, 0
		jnz	short loc_DA51
		cmp	di, [bp+arg_6]
		jnz	short loc_DA51
		push	[bp+arg_8]
		push	di
		push	[bp+arg_4]
		push	[bp+arg_0]
		call	sub_D7EC

loc_DA4B:
		add	sp, 8
		jmp	loc_DF36
; ---------------------------------------------------------------------------

loc_DA51:
		mov	ax, [bp+arg_0]
		cmp	ax, [bp+arg_4]
		jle	short loc_DA74
		mov	[bp+var_10], ax
		mov	ax, [bp+arg_4]
		mov	[bp+arg_0], ax
		mov	ax, [bp+var_10]
		mov	[bp+arg_4], ax
		mov	[bp+var_10], di
		mov	di, [bp+arg_6]
		mov	ax, [bp+var_10]
		mov	[bp+arg_6], ax

loc_DA74:
		cmp	[bp+arg_0], 0
		jge	short loc_DAB2
		cmp	[bp+arg_4], 0
		jl	loc_DF36
		mov	ax, [bp+arg_6]
		sub	ax, di
		mov	bx, [bp+arg_4]
		sub	bx, [bp+arg_0]
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		xor	ax, ax
		sub	ax, [bp+arg_0]
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		add	di, ax
		mov	[bp+arg_0], 0

loc_DAB2:
		cmp	[bp+arg_4], 27Fh
		jle	short loc_DAF4
		cmp	[bp+arg_0], 27Fh
		jg	loc_DF36
		mov	ax, [bp+arg_6]
		sub	ax, di
		mov	bx, [bp+arg_4]
		sub	bx, [bp+arg_0]
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		mov	ax, [bp+arg_4]
		add	ax, 0FD81h
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		sub	[bp+arg_6], ax
		mov	[bp+arg_4], 27Fh

loc_DAF4:
		or	di, di
		jge	short loc_DB2D
		cmp	[bp+arg_6], 0
		jl	loc_DF36
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_0]
		mov	bx, [bp+arg_6]
		sub	bx, di
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		xor	ax, ax
		sub	ax, di
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		add	[bp+arg_0], ax
		xor	di, di

loc_DB2D:
		cmp	[bp+arg_6], 18Fh
		jle	short loc_DB6E
		cmp	di, 18Fh
		jg	loc_DF36
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_0]
		mov	bx, [bp+arg_6]
		sub	bx, di
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		mov	ax, [bp+arg_6]
		add	ax, 0FE71h
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		sub	[bp+arg_4], ax
		mov	[bp+arg_6], 18Fh

loc_DB6E:
		cmp	[bp+arg_6], 0
		jge	short loc_DBA5
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_0]
		mov	bx, [bp+arg_6]
		sub	bx, di
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		xor	ax, ax
		sub	ax, [bp+arg_6]
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		add	[bp+arg_4], ax
		mov	[bp+arg_6], 0

loc_DBA5:
		cmp	di, 18Fh
		jle	short loc_DBD9
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_0]
		mov	bx, [bp+arg_6]
		sub	bx, di
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		lea	ax, [di-18Fh]
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		sub	[bp+arg_0], ax
		mov	di, 18Fh

loc_DBD9:
		mov	ax, [bp+arg_4]
		mov	word_14154, ax
		mov	ax, [bp+arg_6]
		mov	word_14156, ax
		mov	ax, [bp+arg_0]
		mov	[bp+var_4], ax
		mov	[bp+var_6], di
		cmp	di, [bp+arg_6]
		jge	short loc_DBF8
		mov	ax, 1
		jmp	short loc_DBFB
; ---------------------------------------------------------------------------

loc_DBF8:
		mov	ax, 0FFFFh

loc_DBFB:
		mov	[bp+var_E], ax
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_0]
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_6]
		sub	ax, di
		imul	[bp+var_E]
		mov	[bp+var_A], ax
		mov	[bp+var_16], 0
		mov	ax, [bp+var_4]
		sar	ax, 3
		mov	[bp+var_12], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_14], ax
		cmp	byte_134EA, 0
		jnz	short loc_DC35
		push	[bp+arg_8]
		call	sub_D13A
		pop	cx

loc_DC35:
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_A]
		jle	loc_DD69
		sar	ax, 1
		mov	[bp+var_C], ax
		mov	[bp+var_2], 0
		jmp	loc_DD53
; ---------------------------------------------------------------------------

loc_DC4C:
		mov	ax, [bp+var_4]
		sar	ax, 3
		cmp	ax, [bp+var_12]
		jnz	short loc_DC61
		mov	ax, [bp+var_14]
		cmp	ax, [bp+var_6]
		jz	loc_DD16

loc_DC61:
		mov	ax, [bp+var_14]
		imul	ax, 50h
		add	ax, [bp+var_12]
		mov	si, ax
		cmp	byte_134EA, 0
		jnz	short loc_DC87
		les	bx, dword_1464E
		add	bx, si
		mov	ax, [bp+var_16]
		mov	es:[bx], ax
		mov	[bp+var_16], 0
		jmp	loc_DD07
; ---------------------------------------------------------------------------

loc_DC87:
		dec	si
		push	1
		call	sub_D107
		les	bx, dword_1464E
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_28], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_24], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_20], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_1C], eax
		push	0
		call	sub_D107
		add	sp, 4
		les	bx, dword_1464E
		add	bx, si
		mov	eax, [bp+var_28]
		mov	es:[bx], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, [bp+var_24]
		mov	es:[bx], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, [bp+var_20]
		mov	es:[bx], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, [bp+var_1C]
		mov	es:[bx], eax

loc_DD07:
		mov	ax, [bp+var_6]
		mov	[bp+var_14], ax
		mov	ax, [bp+var_4]
		sar	ax, 3
		mov	[bp+var_12], ax

loc_DD16:
		mov	cl, byte ptr [bp+var_4]
		and	cl, 7
		mov	ax, word_134EB
		shr	ax, cl
		or	[bp+var_16], ax
		mov	al, byte ptr [bp+var_4]
		and	al, 7
		mov	cl, 10h
		sub	cl, al
		mov	ax, word_134EB
		shl	ax, cl
		or	[bp+var_16], ax
		mov	ax, [bp+var_A]
		sub	[bp+var_C], ax
		inc	[bp+var_4]
		cmp	[bp+var_C], 0
		jge	short loc_DD50
		mov	ax, [bp+var_8]
		add	[bp+var_C], ax
		mov	ax, [bp+var_E]
		add	[bp+var_6], ax

loc_DD50:
		inc	[bp+var_2]

loc_DD53:
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_8]
		jle	loc_DC4C
		cmp	byte_134EA, 0
		jz	loc_DF2B
		jmp	loc_DE93
; ---------------------------------------------------------------------------

loc_DD69:
		mov	ax, [bp+var_A]
		sar	ax, 1
		mov	[bp+var_C], ax
		mov	[bp+var_2], 0
		jmp	loc_DE80
; ---------------------------------------------------------------------------

loc_DD79:
		mov	ax, [bp+var_4]
		sar	ax, 3
		cmp	ax, [bp+var_12]
		jnz	short loc_DD8E
		mov	ax, [bp+var_14]
		cmp	ax, [bp+var_6]
		jz	loc_DE43

loc_DD8E:
		mov	ax, [bp+var_14]
		imul	ax, 50h
		add	ax, [bp+var_12]
		mov	si, ax
		cmp	byte_134EA, 0
		jnz	short loc_DDB4
		les	bx, dword_1464E
		add	bx, si
		mov	ax, [bp+var_16]
		mov	es:[bx], ax
		mov	[bp+var_16], 0
		jmp	loc_DE34
; ---------------------------------------------------------------------------

loc_DDB4:
		dec	si
		push	1
		call	sub_D107
		les	bx, dword_1464E
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_28], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_24], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_20], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_1C], eax
		push	0
		call	sub_D107
		add	sp, 4
		les	bx, dword_1464E
		add	bx, si
		mov	eax, [bp+var_28]
		mov	es:[bx], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, [bp+var_24]
		mov	es:[bx], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, [bp+var_20]
		mov	es:[bx], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, [bp+var_1C]
		mov	es:[bx], eax

loc_DE34:
		mov	ax, [bp+var_6]
		mov	[bp+var_14], ax
		mov	ax, [bp+var_4]
		sar	ax, 3
		mov	[bp+var_12], ax

loc_DE43:
		mov	cl, byte ptr [bp+var_4]
		and	cl, 7
		mov	ax, word_134EB
		shr	ax, cl
		or	[bp+var_16], ax
		mov	al, byte ptr [bp+var_4]
		and	al, 7
		mov	cl, 10h
		sub	cl, al
		mov	ax, word_134EB
		shl	ax, cl
		or	[bp+var_16], ax
		mov	ax, [bp+var_8]
		sub	[bp+var_C], ax
		mov	ax, [bp+var_E]
		add	[bp+var_6], ax
		cmp	[bp+var_C], 0
		jge	short loc_DE7D
		mov	ax, [bp+var_A]
		add	[bp+var_C], ax
		inc	[bp+var_4]

loc_DE7D:
		inc	[bp+var_2]

loc_DE80:
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_A]
		jle	loc_DD79
		cmp	byte_134EA, 0
		jz	loc_DF2B

loc_DE93:
		mov	ax, [bp+var_4]
		sar	ax, 3
		mov	dx, [bp+var_6]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+var_6]
		shl	dx, 4
		add	ax, dx
		dec	ax
		mov	si, ax
		push	1
		call	sub_D107
		les	bx, dword_1464E
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_28], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_24], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_20], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_1C], eax
		push	0
		call	sub_D107
		add	sp, 4
		les	bx, dword_1464E
		add	bx, si
		mov	eax, [bp+var_28]
		mov	es:[bx], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, [bp+var_24]
		mov	es:[bx], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, [bp+var_20]
		mov	es:[bx], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, [bp+var_1C]
		mov	es:[bx], eax

loc_DF2B:
		cmp	byte_134EA, 0
		jnz	short loc_DF36
		call	sub_D1CE

loc_DF36:
		pop	di
		pop	si
		leave
		retf
sub_DA0B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DF3A	proc far

var_E		= dword	ptr -0Eh
var_A		= byte ptr -0Ah
var_9		= byte ptr -9
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	0Eh, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_6]
		mov	ax, [bp+arg_0]
		cmp	ax, [bp+arg_4]
		jle	short loc_DF5D
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_4]
		mov	[bp+arg_0], ax
		mov	ax, [bp+var_8]
		mov	[bp+arg_4], ax

loc_DF5D:
		cmp	si, di
		jle	short loc_DF69
		mov	[bp+var_8], si
		mov	si, di
		mov	di, [bp+var_8]

loc_DF69:
		cmp	[bp+arg_0], 0
		jge	short loc_DF7C
		cmp	[bp+arg_4], 0
		jl	loc_E051
		mov	[bp+arg_0], 0

loc_DF7C:
		cmp	[bp+arg_4], 27Fh
		jle	short loc_DF91
		cmp	[bp+arg_0], 27Fh
		jg	loc_E051
		mov	[bp+arg_4], 27Fh

loc_DF91:
		or	si, si
		jge	short loc_DF9D
		or	di, di
		jl	loc_E051
		xor	si, si

loc_DF9D:
		cmp	di, 18Fh
		jle	short loc_DFAE
		cmp	si, 18Fh
		jg	loc_E051
		mov	di, 18Fh

loc_DFAE:
		push	[bp+arg_8]
		call	sub_D13A
		pop	cx
		mov	ax, si
		imul	ax, 50h
		mov	dx, [bp+arg_0]
		sar	dx, 3
		add	ax, dx
		mov	word ptr [bp+var_E+2], 0A800h
		mov	word ptr [bp+var_E], ax
		mov	[bp+var_4], si
		jmp	short loc_E048
; ---------------------------------------------------------------------------

loc_DFD0:
		mov	ax, [bp+arg_4]
		sar	ax, 3
		mov	dx, [bp+arg_0]
		sar	dx, 3
		sub	ax, dx
		mov	[bp+var_6], ax
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	ax, 0FFh
		sar	ax, cl
		mov	[bp+var_9], al
		mov	al, byte ptr [bp+arg_4]
		and	al, 7
		mov	cl, 7
		sub	cl, al
		mov	al, 0FFh
		shl	al, cl
		mov	[bp+var_A], al
		cmp	[bp+var_6], 0
		jnz	short loc_E010
		mov	al, [bp+var_9]
		and	al, [bp+var_A]
		les	bx, [bp+var_E]
		jmp	short loc_E03E
; ---------------------------------------------------------------------------

loc_E010:
		les	bx, [bp+var_E]
		mov	al, [bp+var_9]
		mov	es:[bx], al
		mov	[bp+var_2], 1
		jmp	short loc_E02D
; ---------------------------------------------------------------------------

loc_E020:
		les	bx, [bp+var_E]
		add	bx, [bp+var_2]
		mov	byte ptr es:[bx], 0FFh
		inc	[bp+var_2]

loc_E02D:
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_6]
		jl	short loc_E020
		les	bx, [bp+var_E]
		add	bx, [bp+var_6]
		mov	al, [bp+var_A]

loc_E03E:
		mov	es:[bx], al
		add	word ptr [bp+var_E], 50h ; 'P'
		inc	[bp+var_4]

loc_E048:
		cmp	[bp+var_4], di
		jle	short loc_DFD0
		call	sub_D1CE

loc_E051:
		pop	di
		pop	si
		leave
		retf
sub_DF3A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E055	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_0]
		mov	si, [bp+arg_8]
		push	si
		push	[bp+arg_2]
		push	[bp+arg_4]
		push	di
		call	sub_D7EC
		push	si
		push	[bp+arg_6]
		push	[bp+arg_2]
		push	di
		call	sub_D8FF
		push	si
		push	[bp+arg_6]
		push	[bp+arg_2]
		push	[bp+arg_4]
		call	sub_D8FF
		push	si
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	di
		call	sub_D7EC
		add	sp, 20h
		pop	di
		pop	si
		pop	bp
		retf
sub_E055	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E099	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	cx, cx
		mov	ax, [bp+arg_0]
		mov	bx, 40h
		cwd
		idiv	bx
		mov	bx, 8
		cwd
		idiv	bx
		mov	si, dx
		jmp	short loc_E0FB
; ---------------------------------------------------------------------------

loc_E0B3:
		les	bx, [bp+arg_2]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+12C3h], 4
		jz	short loc_E0F3
		mov	bx, word ptr [bp+arg_2]
		mov	al, es:[bx]
		cbw
		shl	ax, 8
		mov	dl, es:[bx]
		mov	dh, 0
		add	ax, dx
		mov	di, ax
		inc	word ptr [bp+arg_2]
		inc	word ptr [bp+arg_2]
		cmp	di, 8540h
		jb	short loc_E0E9
		cmp	di, 869Eh
		jbe	short loc_E0EE

loc_E0E9:
		add	cx, 10h
		jmp	short loc_E0F9
; ---------------------------------------------------------------------------

loc_E0EE:
		add	cx, 8
		jmp	short loc_E0F9
; ---------------------------------------------------------------------------

loc_E0F3:
		add	cx, 8
		inc	word ptr [bp+arg_2]

loc_E0F9:
		add	cx, si

loc_E0FB:
		les	bx, [bp+arg_2]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_E0B3
		mov	ax, cx
		sub	ax, si
		pop	di
		pop	si
		pop	bp
		retf
sub_E099	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E10C	proc far

var_3A		= byte ptr -3Ah
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch

		enter	3Ah, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	ax, [bp+arg_4]
		mov	bx, 10h
		cwd
		idiv	bx
		mov	bx, 4
		cwd
		idiv	bx
		mov	[bp+var_E], dx
		mov	ax, [bp+arg_4]
		mov	bx, 40h
		cwd
		idiv	bx
		mov	bx, 8
		cwd
		idiv	bx
		mov	[bp+var_10], dx
		mov	ax, [bp+arg_4]
		and	ax, 200h
		mov	[bp+var_12], ax
		mov	ax, [bp+arg_4]
		and	ax, 400h
		mov	[bp+var_14], ax
		mov	ax, [bp+arg_4]
		and	ax, 800h
		mov	[bp+var_16], ax
		cmp	[bp+var_12], 0
		jz	short loc_E1AB
		push	large [bp+arg_6]
		push	[bp+arg_4]
		call	sub_E099
		add	sp, 6
		mov	[bp+var_18], ax
		cmp	[bp+var_14], 0
		jz	short loc_E18E
		push	0
		mov	ax, [bp+arg_2]
		add	ax, 11h
		push	ax
		mov	ax, si
		add	ax, [bp+var_18]
		dec	ax
		push	ax
		push	[bp+arg_2]
		push	si
		call	sub_DF3A
		add	sp, 0Ah
		jmp	short loc_E1C2
; ---------------------------------------------------------------------------

loc_E18E:
		push	0
		mov	ax, [bp+arg_2]
		add	ax, 0Fh
		push	ax
		mov	ax, si
		add	ax, [bp+var_18]
		dec	ax
		push	ax
		push	[bp+arg_2]
		push	si
		call	sub_DF3A
		add	sp, 0Ah
		jmp	short loc_E1DA
; ---------------------------------------------------------------------------

loc_E1AB:
		cmp	[bp+var_14], 0
		jz	short loc_E1DA
		push	large [bp+arg_6]
		push	[bp+arg_4]
		call	sub_E099
		add	sp, 6
		mov	[bp+var_18], ax

loc_E1C2:
		push	7
		mov	ax, [bp+arg_2]
		add	ax, 11h
		push	ax
		mov	ax, si
		add	ax, [bp+var_18]
		dec	ax
		push	ax
		push	si
		call	sub_D7EC
		add	sp, 8

loc_E1DA:
		push	[bp+arg_4]
		call	sub_D13A
		pop	cx
		mov	dx, 68h	; 'h'
		mov	al, 0Bh
		out	dx, al
		jmp	loc_E412
; ---------------------------------------------------------------------------

loc_E1EB:
		mov	ax, [bp+arg_2]
		imul	ax, 50h
		push	ax
		mov	ax, si
		mov	bx, 8
		cwd
		idiv	bx
		pop	dx
		add	dx, ax
		mov	word ptr [bp+var_8+2], 0A800h
		mov	word ptr [bp+var_8], dx
		mov	ax, si
		cwd
		idiv	bx
		mov	[bp+var_C], dx
		les	bx, [bp+arg_6]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+12C3h], 4
		jz	short loc_E240
		mov	bx, word ptr [bp+arg_6]
		mov	al, es:[bx]
		cbw
		shl	ax, 8
		mov	dl, es:[bx+1]
		mov	dh, 0
		add	ax, dx
		push	ax
		call	__mbcjmstojis
		pop	cx
		mov	[bp+var_2], ax
		add	word ptr [bp+arg_6], 2
		jmp	short loc_E286
; ---------------------------------------------------------------------------

loc_E240:
		les	bx, [bp+arg_6]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+12C3h], 3
		jz	short loc_E25E
		mov	bx, word ptr [bp+arg_6]
		mov	al, es:[bx]
		mov	ah, 0
		add	ax, 2980h
		jmp	short loc_E279
; ---------------------------------------------------------------------------

loc_E25E:
		les	bx, [bp+arg_6]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+0EEBh], 5Eh
		jz	short loc_E27E
		mov	bx, word ptr [bp+arg_6]
		mov	al, es:[bx]
		mov	ah, 0
		add	ax, 2900h

loc_E279:
		mov	[bp+var_2], ax
		jmp	short loc_E283
; ---------------------------------------------------------------------------

loc_E27E:
		mov	[bp+var_2], 2B21h

loc_E283:
		inc	word ptr [bp+arg_6]

loc_E286:
		mov	al, byte ptr [bp+var_2]
		and	al, 0FFh
		mov	dx, 0A1h ; '¡'
		out	dx, al
		mov	ax, [bp+var_2]
		shr	ax, 8
		sub	al, 20h	; ' '
		mov	dx, 0A3h ; '£'
		out	dx, al
		cmp	[bp+var_2], 2921h
		jb	short loc_E2E7
		cmp	[bp+var_2], 2B7Eh
		ja	short loc_E2E7
		cmp	si, 278h
		jg	loc_E41D
		mov	[bp+var_1A], 0
		jmp	short loc_E2DA
; ---------------------------------------------------------------------------

loc_E2B8:
		mov	al, byte ptr [bp+var_1A]
		or	al, 20h
		mov	dx, 0A5h ; '¥'
		out	dx, al
		mov	dx, 0A9h ; '©'
		in	al, dx
		mov	ah, 0
		shl	ax, 8
		mov	bx, [bp+var_1A]
		add	bx, bx
		lea	dx, [bp+var_3A]
		add	bx, dx
		mov	ss:[bx], ax
		inc	[bp+var_1A]

loc_E2DA:
		cmp	[bp+var_1A], 10h
		jl	short loc_E2B8
		mov	[bp+var_A], 0
		jmp	short loc_E33D
; ---------------------------------------------------------------------------

loc_E2E7:
		cmp	si, 270h
		jg	loc_E41D
		mov	[bp+var_1A], 0
		jmp	short loc_E332
; ---------------------------------------------------------------------------

loc_E2F6:
		mov	al, byte ptr [bp+var_1A]
		or	al, 20h
		mov	dx, 0A5h ; '¥'
		out	dx, al
		mov	dx, 0A9h ; '©'
		in	al, dx
		mov	ah, 0
		shl	ax, 8
		mov	bx, [bp+var_1A]
		add	bx, bx
		lea	dx, [bp+var_3A]
		add	bx, dx
		mov	ss:[bx], ax
		mov	dx, 0A5h ; '¥'
		mov	al, byte ptr [bp+var_1A]
		out	dx, al
		mov	dx, 0A9h ; '©'
		in	al, dx
		mov	ah, 0
		mov	bx, [bp+var_1A]
		add	bx, bx
		lea	dx, [bp+var_3A]
		add	bx, dx
		add	ss:[bx], ax
		inc	[bp+var_1A]

loc_E332:
		cmp	[bp+var_1A], 10h
		jl	short loc_E2F6
		mov	[bp+var_A], 1

loc_E33D:
		mov	[bp+var_1A], 0
		jmp	loc_E3F9
; ---------------------------------------------------------------------------

loc_E345:
		mov	bx, [bp+var_1A]
		add	bx, bx
		lea	ax, [bp+var_3A]
		add	bx, ax
		mov	ax, ss:[bx]
		mov	[bp+var_4], ax
		mov	ax, [bp+var_E]
		cmp	ax, 1
		jz	short loc_E369
		cmp	ax, 2
		jz	short loc_E37F
		cmp	ax, 3
		jz	short loc_E375
		jmp	short loc_E395
; ---------------------------------------------------------------------------

loc_E369:
		mov	di, [bp+var_4]
		mov	ax, di
		add	ax, ax
		or	[bp+var_4], ax
		jmp	short loc_E395
; ---------------------------------------------------------------------------

loc_E375:
		mov	di, [bp+var_4]
		mov	ax, di
		add	ax, ax
		or	[bp+var_4], ax

loc_E37F:
		mov	di, [bp+var_4]
		mov	ax, di
		add	ax, ax
		or	[bp+var_4], ax
		xor	di, [bp+var_4]
		mov	ax, di
		add	ax, ax
		not	ax
		and	[bp+var_4], ax

loc_E395:
		cmp	[bp+var_16], 0
		jz	short loc_E3AC
		cmp	[bp+var_A], 0
		jz	short loc_E3A7
		xor	[bp+var_4], 0FFFFh
		jmp	short loc_E3AC
; ---------------------------------------------------------------------------

loc_E3A7:
		xor	[bp+var_4], 0FF00h

loc_E3AC:
		cmp	[bp+var_C], 0
		jz	short loc_E3DF
		mov	cl, byte ptr [bp+var_C]
		add	cl, 8
		mov	ax, [bp+var_4]
		shr	ax, cl
		les	bx, [bp+var_8]
		mov	es:[bx], al
		mov	ax, [bp+var_4]
		mov	cl, byte ptr [bp+var_C]
		shr	ax, cl
		mov	es:[bx+1], al
		mov	cl, 8
		sub	cl, byte ptr [bp+var_C]
		mov	al, byte ptr [bp+var_4]
		shl	al, cl
		mov	es:[bx+2], al
		jmp	short loc_E3F2
; ---------------------------------------------------------------------------

loc_E3DF:
		mov	ax, [bp+var_4]
		shr	ax, 8
		les	bx, [bp+var_8]
		mov	es:[bx], al
		mov	al, byte ptr [bp+var_4]
		mov	es:[bx+1], al

loc_E3F2:
		add	word ptr [bp+var_8], 50h ; 'P'
		inc	[bp+var_1A]

loc_E3F9:
		cmp	[bp+var_1A], 10h
		jl	loc_E345
		cmp	[bp+var_A], 0
		jz	short loc_E40A
		add	si, 8

loc_E40A:
		mov	ax, [bp+var_10]
		add	ax, 8
		add	si, ax

loc_E412:
		les	bx, [bp+arg_6]
		cmp	byte ptr es:[bx], 0
		jnz	loc_E1EB

loc_E41D:
		mov	dx, 68h	; 'h'
		mov	al, 0Ah
		out	dx, al
		call	sub_D1CE
		pop	di
		pop	si
		leave
		retf
sub_E10C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E42B	proc far

var_156		= byte ptr -156h
var_106		= byte ptr -106h
var_B6		= byte ptr -0B6h
dest		= byte ptr -66h
var_16		= word ptr -16h
var_13		= byte ptr -13h
var_12		= dword	ptr -12h
var_E		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
_src		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	156h, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		mov	ax, [bp+arg_4]
		sub	ax, di
		mov	bx, 8
		cwd
		idiv	bx
		mov	si, ax
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_2]
		mov	[bp+var_2], ax
		mov	[bp+_src], 0A8000000h
		mov	[bp+var_A], 0B0000000h
		mov	[bp+var_E], 0B8000000h
		mov	[bp+var_12], 0E0000000h
		mov	al, byte_14159
		xor	al, 1
		mov	[bp+var_13], al
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+_src], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_A], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_E], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_12], ax
		mov	[bp+var_16], 0
		jmp	loc_E55F
; ---------------------------------------------------------------------------

loc_E4BA:
		push	si		; n
		push	large [bp+_src]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_A] ; src
		push	ss
		lea	ax, [bp+var_B6]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_E] ; src
		push	ss
		lea	ax, [bp+var_106]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_12] ; src
		push	ss
		lea	ax, [bp+var_156]
		push	ax		; dest
		call	_memcpy
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+var_13]
		out	dx, al
		push	si		; n
		push	ss
		lea	ax, [bp+dest]
		push	ax		; src
		push	large [bp+_src]	; dest
		call	_memcpy
		add	sp, 32h
		push	si		; n
		push	ss
		lea	ax, [bp+var_B6]
		push	ax		; src
		push	large [bp+var_A] ; dest
		call	_memcpy
		push	si		; n
		push	ss
		lea	ax, [bp+var_106]
		push	ax		; src
		push	large [bp+var_E] ; dest
		call	_memcpy
		push	si		; n
		push	ss
		lea	ax, [bp+var_156]
		push	ax		; src
		push	large [bp+var_12] ; dest
		call	_memcpy
		add	sp, 1Eh
		mov	dx, 0A6h ; '¦'
		mov	al, byte_14159
		out	dx, al
		add	word ptr [bp+_src], 50h ; 'P'
		add	word ptr [bp+var_A], 50h ; 'P'
		add	word ptr [bp+var_E], 50h ; 'P'
		add	word ptr [bp+var_12], 50h ; 'P'
		inc	[bp+var_16]

loc_E55F:
		mov	ax, [bp+var_16]
		cmp	ax, [bp+var_2]
		jl	loc_E4BA
		pop	di
		pop	si
		leave
		retf
sub_E42B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E56D	proc far

var_164		= byte ptr -164h
var_114		= byte ptr -114h
var_C4		= byte ptr -0C4h
dest		= byte ptr -74h
var_24		= word ptr -24h
var_22		= dword	ptr -22h
var_1E		= dword	ptr -1Eh
var_1A		= dword	ptr -1Ah
var_16		= dword	ptr -16h
var_12		= dword	ptr -12h
var_E		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
_src		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= byte ptr  12h
arg_E		= byte ptr  14h

		enter	164h, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		mov	ax, [bp+arg_4]
		sub	ax, di
		mov	bx, 8
		cwd
		idiv	bx
		mov	si, ax
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_2]
		mov	[bp+var_2], ax
		mov	[bp+_src], 0A8000000h
		mov	[bp+var_A], 0B0000000h
		mov	[bp+var_E], 0B8000000h
		mov	[bp+var_12], 0E0000000h
		mov	[bp+var_16], 0A8000000h
		mov	[bp+var_1A], 0B0000000h
		mov	[bp+var_1E], 0B8000000h
		mov	[bp+var_22], 0E0000000h
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+_src], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_A], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_E], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_12], ax
		mov	ax, [bp+arg_8]
		cwd
		idiv	bx
		mov	dx, [bp+arg_A]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_16], ax
		mov	ax, [bp+arg_8]
		cwd
		idiv	bx
		mov	dx, [bp+arg_A]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_1A], ax
		mov	ax, [bp+arg_8]
		cwd
		idiv	bx
		mov	dx, [bp+arg_A]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_1E], ax
		mov	ax, [bp+arg_8]
		cwd
		idiv	bx
		mov	dx, [bp+arg_A]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_22], ax
		mov	[bp+var_24], 0
		jmp	loc_E70D
; ---------------------------------------------------------------------------

loc_E658:
		push	si		; n
		push	large [bp+_src]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_A] ; src
		push	ss
		lea	ax, [bp+var_C4]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_E] ; src
		push	ss
		lea	ax, [bp+var_114]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_12] ; src
		push	ss
		lea	ax, [bp+var_164]
		push	ax		; dest
		call	_memcpy
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+arg_E]
		out	dx, al
		push	si		; n
		push	ss
		lea	ax, [bp+dest]
		push	ax		; src
		push	large [bp+var_16] ; dest
		call	_memcpy
		add	sp, 32h
		push	si		; n
		push	ss
		lea	ax, [bp+var_C4]
		push	ax		; src
		push	large [bp+var_1A] ; dest
		call	_memcpy
		push	si		; n
		push	ss
		lea	ax, [bp+var_114]
		push	ax		; src
		push	large [bp+var_1E] ; dest
		call	_memcpy
		push	si		; n
		push	ss
		lea	ax, [bp+var_164]
		push	ax		; src
		push	large [bp+var_22] ; dest
		call	_memcpy
		add	sp, 1Eh
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+arg_C]
		out	dx, al
		add	word ptr [bp+_src], 50h ; 'P'
		add	word ptr [bp+var_A], 50h ; 'P'
		add	word ptr [bp+var_E], 50h ; 'P'
		add	word ptr [bp+var_12], 50h ; 'P'
		add	word ptr [bp+var_16], 50h ; 'P'
		add	word ptr [bp+var_1A], 50h ; 'P'
		add	word ptr [bp+var_1E], 50h ; 'P'
		add	word ptr [bp+var_22], 50h ; 'P'
		inc	[bp+var_24]

loc_E70D:
		mov	ax, [bp+var_24]
		cmp	ax, [bp+var_2]
		jl	loc_E658
		mov	dx, 0A6h ; '¦'
		mov	al, byte_14159
		out	dx, al
		pop	di
		pop	si
		leave
		retf
sub_E56D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E722	proc far

_s		= byte ptr -34h
var_33		= byte ptr -33h
var_32		= byte ptr -32h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  6
arg_2		= byte ptr  8
arg_4		= byte ptr  0Ah
arg_6		= dword	ptr  0Ch
arg_A		= word ptr  10h

		enter	34h, 0
		push	si
		push	di
		push	large 300000h	; c
		push	ss
		lea	ax, [bp+_s]
		push	ax		; s
		call	_memset
		add	sp, 8
		xor	di, di
		jmp	loc_E7C1
; ---------------------------------------------------------------------------

loc_E740:
		mov	ax, di
		add	ax, ax
		les	bx, [bp+arg_6]
		add	bx, ax
		cmp	word ptr es:[bx], 0
		jnz	short loc_E77E
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, [bp+arg_0]
		mov	ss:[bx], al
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_33]
		add	bx, ax
		mov	al, [bp+arg_2]
		mov	ss:[bx], al
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_32]
		add	bx, ax
		mov	al, [bp+arg_4]
		jmp	short loc_E7BD
; ---------------------------------------------------------------------------

loc_E77E:
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+_s]
		add	bx, ax
		mov	si, di
		imul	si, 3
		mov	al, [si+0A1Ah]
		mov	ss:[bx], al
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_33]
		add	bx, ax
		mov	si, di
		imul	si, 3
		mov	al, [si+0A1Bh]
		mov	ss:[bx], al
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_32]
		add	bx, ax
		mov	si, di
		imul	si, 3
		mov	al, [si+0A1Ch]

loc_E7BD:
		mov	ss:[bx], al
		inc	di

loc_E7C1:
		cmp	di, 10h
		jl	loc_E740
		xor	di, di
		jmp	loc_E89E
; ---------------------------------------------------------------------------

loc_E7CD:
		call	sub_CAF8
		mov	[bp+var_2], 0
		jmp	loc_E88C
; ---------------------------------------------------------------------------

loc_E7DA:
		mov	[bp+var_4], 0
		jmp	short loc_E849
; ---------------------------------------------------------------------------

loc_E7E1:
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		cmp	al, [bx+0A1Ah]
		jz	short loc_E846
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		cmp	al, [bx+0A1Ah]
		jge	short loc_E825
		mov	al, 1
		jmp	short loc_E827
; ---------------------------------------------------------------------------

loc_E825:
		mov	al, 0FFh

loc_E827:
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		lea	dx, [bp+_s]
		add	bx, dx
		add	al, ss:[bx]
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		add	bx, dx
		mov	ss:[bx], al

loc_E846:
		inc	[bp+var_4]

loc_E849:
		cmp	[bp+var_4], 3
		jl	short loc_E7E1
		mov	bx, [bp+var_2]
		imul	bx, 3
		lea	ax, [bp+var_32]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, [bp+var_2]
		imul	bx, 3
		lea	ax, [bp+var_33]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, [bp+var_2]
		imul	bx, 3
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		push	[bp+var_2]
		call	sub_D119
		add	sp, 8
		inc	[bp+var_2]

loc_E88C:
		cmp	[bp+var_2], 10h
		jl	loc_E7DA
		push	[bp+arg_A]
		call	_delay
		pop	cx
		inc	di

loc_E89E:
		cmp	di, 10h
		jl	loc_E7CD
		pop	di
		pop	si
		leave
		retf
sub_E722	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E8A9	proc far

inregs		= REGS ptr -22h
var_12		= byte ptr -12h
segp		= SREGS	ptr -8

		enter	22h, 0
		push	si
		push	di
		lea	ax, [bp+var_12]
		push	ss
		push	ax
		push	ds
		push	offset aPal98Grb ; "pal98 grb"
		mov	cx, 0Ah
		call	SCOPY@
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segp
		call	_segread
		add	sp, 4
		mov	byte ptr [bp+inregs+1],	52h ; 'R'
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		push	ax		; inregs
		call	_intdosx
		add	sp, 0Ch
		mov	bx, word ptr [bp+inregs+2]
		sub	bx, 2
		mov	es, [bp+segp._es]
		mov	si, es:[bx]

loc_E8F1:
		mov	es, si
		cmp	word ptr es:1, 0
		jz	short loc_E91A
		xor	di, di
		jmp	short loc_E90B
; ---------------------------------------------------------------------------

loc_E8FF:
		mov	es, si
		mov	al, es:[di+10h]
		cmp	al, [bp+di+var_12]
		jnz	short loc_E910
		inc	di

loc_E90B:
		cmp	di, 0Ah
		jl	short loc_E8FF

loc_E910:
		cmp	di, 0Ah
		jnz	short loc_E91A
		lea	ax, [si+1]
		jmp	short loc_E933
; ---------------------------------------------------------------------------

loc_E91A:
		mov	es, si
		cmp	byte ptr es:0, 4Dh ; 'M'
		jz	short loc_E928
		xor	ax, ax
		jmp	short loc_E933
; ---------------------------------------------------------------------------

loc_E928:
		mov	es, si
		mov	ax, es:3
		inc	ax
		add	si, ax
		jmp	short loc_E8F1
; ---------------------------------------------------------------------------

loc_E933:
		pop	di
		pop	si
		leave
		retf
sub_E8A9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E937	proc far

var_4		= dword	ptr -4

		enter	4, 0
		push	si
		push	di
		call	sub_E8A9
		mov	di, ax
		or	di, di
		jz	short loc_E97D
		mov	word ptr [bp+var_4+2], di
		mov	word ptr [bp+var_4], 10h
		xor	si, si
		jmp	short loc_E974
; ---------------------------------------------------------------------------

loc_E953:
		les	bx, [bp+var_4]
		mov	al, es:[bx+2]
		cbw
		push	ax
		mov	al, es:[bx]
		cbw
		push	ax
		mov	al, es:[bx+1]
		cbw
		push	ax
		push	si
		call	sub_D222
		add	sp, 8
		add	word ptr [bp+var_4], 3
		inc	si

loc_E974:
		cmp	si, 10h
		jl	short loc_E953
		xor	ax, ax
		jmp	short loc_E980
; ---------------------------------------------------------------------------

loc_E97D:
		mov	ax, 1

loc_E980:
		pop	di
		pop	si
		leave
		retf
sub_E937	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E984	proc far

var_4		= dword	ptr -4

		enter	4, 0
		push	si
		push	di
		call	sub_E8A9
		mov	di, ax
		or	di, di
		jz	short loc_E9DD
		mov	word ptr [bp+var_4+2], di
		mov	word ptr [bp+var_4], 10h
		xor	si, si
		jmp	short loc_E9D4
; ---------------------------------------------------------------------------

loc_E9A0:
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Bh]
		les	bx, [bp+var_4]
		mov	es:[bx], al
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Ah]
		mov	bx, word ptr [bp+var_4]
		mov	es:[bx+1], al
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Ch]
		mov	bx, word ptr [bp+var_4]
		mov	es:[bx+2], al
		add	word ptr [bp+var_4], 3
		inc	si

loc_E9D4:
		cmp	si, 10h
		jl	short loc_E9A0
		xor	ax, ax
		jmp	short loc_E9E0
; ---------------------------------------------------------------------------

loc_E9DD:
		mov	ax, 1

loc_E9E0:
		pop	di
		pop	si
		leave
		retf
sub_E984	endp

seg008		ends

; ===========================================================================

; Segment type:	Pure code
seg009		segment	byte public 'CODE' use16
		assume cs:seg009
		;org 4
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_E9E4(int, int, int, char *format, char arglist)
sub_E9E4	proc far

@@buffer		= byte ptr -104h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
_format		= dword	ptr  0Ch
_arglist		= byte ptr  10h

		enter	104h, 0
		lea	ax, [bp+_arglist]
		mov	[bp+var_2], ss
		mov	[bp+var_4], ax
		push	[bp+var_2]
		push	ax		; arglist
		push	large [bp+_format] ; format
		push	ss
		lea	ax, [bp+@@buffer]
		push	ax		; buffer
		call	_vsprintf
		push	ss
		lea	ax, [bp+@@buffer]
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_E10C
		add	sp, 16h
		leave
		retf
sub_E9E4	endp

seg009		ends

; ===========================================================================

; Segment type:	Pure code
seg010		segment	byte public 'CODE' use16
		assume cs:seg010
		;org 0Dh
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EA1D	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	file_ropen
		or	ax, ax
		jnz	short loc_EA34
		mov	ax, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_EA34:
		push	0
		push	12h
		push	0
		call	file_seek
		push	ds
		push	offset unk_141AA
		push	30h ; '0'
		call	file_read
		push	word_13507
		call	sub_C842
		call	file_close
		xor	ax, ax
		pop	bp
		retf
sub_EA1D	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EA5E	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	file_ropen
		or	ax, ax
		jnz	short loc_EA75
		mov	ax, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_EA75:
		push	0
		push	12h
		push	0
		call	file_seek
		push	ds
		push	offset unk_141AA
		push	30h ; '0'
		call	file_read
		call	file_close
		xor	ax, ax
		pop	bp
		retf
sub_EA5E	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EA96	proc far

stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+stream]
		dec	word ptr es:[bx]
		jl	short loc_EABB
		les	bx, [bp+stream]
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	es, dx
		mov	al, es:[si]
		mov	ah, 0
		jmp	short loc_EAC9
; ---------------------------------------------------------------------------

loc_EABB:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	__fgetc
		add	sp, 4

loc_EAC9:
		mov	di, ax
		les	bx, [bp+stream]
		dec	word ptr es:[bx]
		jl	short loc_EAEB
		les	bx, [bp+stream]
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	es, dx
		mov	al, es:[si]
		mov	ah, 0
		jmp	short loc_EAF9
; ---------------------------------------------------------------------------

loc_EAEB:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	__fgetc
		add	sp, 4

loc_EAF9:
		shl	ax, 8
		add	di, ax
		mov	ax, di
		jmp	short $+2
		pop	di
		pop	si
		pop	bp
		retf
sub_EA96	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EB06	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		xor	dx, dx
		jmp	short loc_EB32
; ---------------------------------------------------------------------------

loc_EB0D:
		xor	cx, cx
		jmp	short loc_EB2C
; ---------------------------------------------------------------------------

loc_EB11:
		mov	ax, dx
		imul	ax, 3
		les	bx, [bp+arg_0]
		add	bx, ax
		add	bx, cx
		mov	al, es:[bx]
		mov	bx, dx
		imul	bx, 3
		add	bx, cx
		mov	[bx+170Ah], al
		inc	cx

loc_EB2C:
		cmp	cx, 3
		jl	short loc_EB11
		inc	dx

loc_EB32:
		cmp	dx, 10h
		jl	short loc_EB0D
		pop	bp
		retf
sub_EB06	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EB39	proc far

var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		push	si
		xor	si, si
		push	4000h
		call	@$bnwa$qui
		pop	cx
		mov	word_1464C, dx
		mov	off_1464A, ax
		cmp	word_134F8, 1
		jnz	short loc_EB5A
		or	si, 2

loc_EB5A:
		cmp	byte_13509, 1
		jnz	short loc_EB64
		mov	si, 0F40h

loc_EB64:
		cmp	word_134FA, 1
		jnz	short loc_EB8E
		push	si
		push	64h ; 'd'
		push	0
		push	0
		push	4000h
		push	word_1464C
		push	off_1464A
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_35A
		add	sp, 12h
		mov	[bp+var_1], al

loc_EB8E:
		cmp	word_134F8, 1
		jnz	short loc_EBA1
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_EA1D
		jmp	short loc_EBAB
; ---------------------------------------------------------------------------

loc_EBA1:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_EA5E

loc_EBAB:
		add	sp, 4
		push	word_1464C
		push	off_1464A	; font
		call	@$bdla$qnv
		add	sp, 4
		mov	al, [bp+var_1]
		cbw
		jmp	short $+2
		pop	si
		leave
		retf
sub_EB39	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EBC7	proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	word_134F8, 0
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_EB39
		add	sp, 4
		mov	[bp+var_2], ax
		mov	word_134F8, 1
		mov	ax, [bp+var_2]
		leave
		retf
sub_EBC7	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EBEE	proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	word_134FA, 0
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_EB39
		add	sp, 4
		mov	[bp+var_2], ax
		mov	word_134FA, 1
		mov	ax, [bp+var_2]
		leave
		retf
sub_EBEE	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EC15	proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	byte_13509, 1
		mov	word_134F8, 0
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_EB39
		add	sp, 4
		mov	[bp+var_2], ax
		mov	word_134F8, 1
		mov	byte_13509, 0
		mov	ax, [bp+var_2]
		leave
		retf
sub_EC15	endp

seg010		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg011		segment	byte public 'CODE' use16
		assume cs:seg011
		;org 4
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EC46	proc far
		push	bp
		mov	bp, sp
		mov	dword_1464E, 0A8000000h
		mov	dword_14652, 0B0000000h
		mov	dword_14656, 0B8000000h
		mov	dword_1465A, 0E0000000h
		pop	bp
		retf
sub_EC46	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EC6F	proc far
		push	bp
		mov	bp, sp
		call	egc_on
		mov	ax, 0FFF0h
		mov	dx, 4A0h
		out	dx, ax
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0FFFFh
		mov	dx, 4A8h
		out	dx, ax
		mov	ax, 0
		mov	dx, 4ACh
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		pop	bp
		retf
sub_EC6F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_ECA3	proc far

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	0Ah, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	di, si
		add	si, [bp+arg_4]
		and	di, 0FFF0h
		mov	ax, di
		sar	ax, 3
		mov	dx, [bp+arg_2]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+arg_2]
		shl	dx, 4
		add	ax, dx
		mov	[bp+var_6], ax
		call	sub_EC6F
		mov	[bp+var_2], 0
		jmp	short loc_ED21
; ---------------------------------------------------------------------------

loc_ECD7:
		mov	[bp+var_4], di
		mov	ax, [bp+var_6]
		mov	[bp+var_A], ax
		jmp	short loc_ED15
; ---------------------------------------------------------------------------

loc_ECE2:
		push	1
		call	sub_D107
		les	bx, dword_1464E
		add	bx, [bp+var_A]
		mov	ax, es:[bx]
		mov	[bp+var_8], ax
		push	0
		call	sub_D107
		add	sp, 4
		les	bx, dword_1464E
		add	bx, [bp+var_A]
		mov	ax, [bp+var_8]
		mov	es:[bx], ax
		add	[bp+var_A], 2
		add	[bp+var_4], 10h

loc_ED15:
		cmp	[bp+var_4], si
		jl	short loc_ECE2
		add	[bp+var_6], 50h	; 'P'
		inc	[bp+var_2]

loc_ED21:
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_6]
		jl	short loc_ECD7
		call	egc_off
		pop	di
		pop	si
		leave
		retf
sub_ECA3	endp

seg011		ends

; ===========================================================================

; Segment type:	Pure code
seg012		segment	byte public 'CODE' use16
		assume cs:seg012
		;org 2
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_ED32	proc far

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
val		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		enter	0Ch, 0
		push	si
		mov	[bp+val], 1
		mov	[bp+var_8], 0
		movsx	eax, [bp+arg_4]
		mov	[bp+var_8], eax
		mov	[bp+var_C], 0
		les	bx, [bp+arg_0]
		mov	dword ptr es:[bx], 0
		xor	si, si
		jmp	short loc_EDBF
; ---------------------------------------------------------------------------

loc_ED67:
		mov	ax, si
		add	ax, ax
		sub	ax, si
		push	ax		; count
		mov	eax, [bp+var_8]
		and	eax, [bp+val]
		push	eax		; val
		call	__lrotl
		push	dx
		push	ax
		pop	eax
		add	sp, 6
		or	[bp+var_C], eax
		mov	ax, si
		add	ax, ax
		inc	ax
		sub	ax, si
		push	ax		; count
		mov	eax, [bp+var_8]
		and	eax, [bp+val]
		push	eax		; val
		call	__lrotl
		push	dx
		push	ax
		pop	eax
		add	sp, 6
		or	[bp+var_C], eax
		push	1		; count
		push	large [bp+val]	; val
		call	__lrotl
		add	sp, 6
		mov	word ptr [bp+val+2], dx
		mov	word ptr [bp+val], ax
		inc	si

loc_EDBF:
		cmp	si, 10h
		jl	short loc_ED67
		mov	[bp+val], 0FF00FFh
		push	8		; count
		mov	eax, [bp+var_C]
		and	eax, [bp+val]
		push	eax		; val
		call	__lrotl
		push	dx
		push	ax
		pop	eax
		add	sp, 6
		les	bx, [bp+arg_0]
		or	es:[bx], eax
		mov	[bp+val], 0FF00FF00h
		push	8		; count
		mov	eax, [bp+var_C]
		and	eax, [bp+val]
		push	eax		; val
		call	__lrotr
		push	dx
		push	ax
		pop	eax
		add	sp, 6
		les	bx, [bp+arg_0]
		or	es:[bx], eax
		pop	si
		leave
		retf
sub_ED32	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EE15	proc far

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	1Ch, 0
		push	si
		push	di
		mov	ax, [bp+arg_4]
		mov	bx, 8
		cwd
		idiv	bx
		mov	dx, [bp+arg_6]
		imul	dx, 50h
		add	ax, dx
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_0]
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		mov	[bp+var_4], ax
		mov	[bp+var_8], 0
		jmp	loc_EF72
; ---------------------------------------------------------------------------

loc_EE48:
		mov	di, [bp+var_4]
		mov	ax, [bp+var_2]
		mov	[bp+var_14], ax
		mov	[bp+var_6], 0
		jmp	loc_EF56
; ---------------------------------------------------------------------------

loc_EE59:
		push	1
		call	sub_D107
		pop	cx
		les	bx, dword_1464E
		add	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	[bp+var_10], ax
		les	bx, dword_14652
		add	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	[bp+var_E], ax
		les	bx, dword_14656
		add	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	[bp+var_C], ax
		les	bx, dword_1465A
		add	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	[bp+var_A], ax
		mov	ax, [bp+var_10]
		or	ax, [bp+var_E]
		or	ax, [bp+var_C]
		or	ax, [bp+var_A]
		mov	[bp+var_12], ax
		xor	si, si
		jmp	loc_EF44
; ---------------------------------------------------------------------------

loc_EEA9:
		push	0
		call	sub_D107
		push	[bp+var_12]
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		call	sub_ED32
		push	0
		call	sub_D13A
		les	bx, dword_1464E
		add	bx, di
		mov	eax, [bp+var_1C]
		mov	es:[bx+si], eax
		call	sub_D1CE
		push	[bp+var_10]
		push	ss
		lea	ax, [bp+var_18]
		push	ax
		call	sub_ED32
		les	bx, dword_1464E
		add	bx, di
		mov	eax, [bp+var_18]
		or	es:[bx+si], eax
		push	[bp+var_E]
		push	ss
		lea	ax, [bp+var_18]
		push	ax
		call	sub_ED32
		les	bx, dword_14652
		add	bx, di
		mov	eax, [bp+var_18]
		or	es:[bx+si], eax
		push	[bp+var_C]
		push	ss
		lea	ax, [bp+var_18]
		push	ax
		call	sub_ED32
		les	bx, dword_14656
		add	bx, di
		mov	eax, [bp+var_18]
		or	es:[bx+si], eax
		push	[bp+var_A]
		push	ss
		lea	ax, [bp+var_18]
		push	ax
		call	sub_ED32
		add	sp, 22h
		les	bx, dword_1465A
		add	bx, di
		mov	eax, [bp+var_18]
		or	es:[bx+si], eax
		add	si, 50h	; 'P'

loc_EF44:
		cmp	si, 0A0h
		jl	loc_EEA9
		add	[bp+var_14], 2
		add	di, 4
		inc	[bp+var_6]

loc_EF56:
		mov	ax, [bp+arg_8]
		mov	bx, 10h
		cwd
		idiv	bx
		cmp	ax, [bp+var_6]
		jg	loc_EE59
		add	[bp+var_4], 0A0h
		add	[bp+var_2], 50h	; 'P'
		inc	[bp+var_8]

loc_EF72:
		mov	ax, [bp+var_8]
		cmp	ax, [bp+arg_A]
		jl	loc_EE48
		pop	di
		pop	si
		leave
		retf
sub_EE15	endp

seg012		ends

; ===========================================================================

; Segment type:	Pure code
seg013		segment	byte public 'CODE' use16
		assume cs:seg013
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EF80	proc far

s2		= byte ptr -1Ch
s1		= byte ptr -10h
var_4		= dword	ptr -4

		enter	1Ch, 0
		push	si
		lea	ax, [bp+s2]
		push	ss
		push	ax
		push	ds
		push	offset aMdrv2system ; "Mdrv2System"
		mov	cx, 0Ch
		call	SCOPY@
		xor	ax, ax
		mov	es, ax
		assume es:seg000
		movsx	eax, word ptr es:loc_3C8+2
		shl	eax, 10h
		add	eax, 102h
		shld	edx, eax, 10h
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		xor	si, si
		jmp	short loc_EFC6
; ---------------------------------------------------------------------------

loc_EFBA:
		les	bx, [bp+var_4]
		assume es:nothing
		add	bx, si
		mov	al, es:[bx]
		mov	[bp+si+s1], al
		inc	si

loc_EFC6:
		cmp	si, 0Ch
		jl	short loc_EFBA
		push	ss
		lea	ax, [bp+s2]
		push	ax		; s2
		push	ss
		lea	ax, [bp+s1]
		push	ax		; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jz	short loc_EFE5
		xor	ax, ax
		jmp	short loc_EFE8
; ---------------------------------------------------------------------------

loc_EFE5:
		mov	ax, 1

loc_EFE8:
		pop	si
		leave
		retf
sub_EF80	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_EFEB(char, char *path)
sub_EFEB	proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
handle		= word ptr -2
arg_0		= byte ptr  4
_path		= dword	ptr  6

		enter	0Ch, 0
		push	si
		cmp	byte_1350A, 0
		jz	short loc_F06F
		push	8001h		; access
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path] ; path
		call	_open
		add	sp, 6
		mov	[bp+handle], ax
		push	[bp+handle]	; handle
		call	_filelength
		pop	cx
		mov	[bp+var_4], ax
		movsx	eax, [bp+var_4]
		push	eax
		call	_farmalloc
		add	sp, 4
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_A]
		mov	[bp+var_6], ax
		mov	ax, [bp+var_C]
		mov	[bp+var_8], ax
		push	ds
		mov	ax, 3F00h
		mov	bx, [bp+handle]
		mov	cx, [bp+var_4]
		mov	ds, [bp+var_6]
		mov	dx, [bp+var_8]
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		push	[bp+handle]	; handle
		call	_close
		pop	cx
		push	ds
		mov	ah, [bp+arg_0]
		mov	ds, [bp+var_6]
		mov	si, [bp+var_8]
		int	0F2h
		pop	ds
		push	[bp+var_A]
		push	[bp+var_C]
		call	_farfree
		add	sp, 4

loc_F06F:
		pop	si
		leave
		retn	6
sub_EFEB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_F074(char *path)
sub_F074	proc far

_path		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path] ; path
		push	6		; char
		call	sub_EFEB
		pop	bp
		retf
sub_F074	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F084	proc far

_path		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path] ; path
		push	7		; char
		call	sub_EFEB
		pop	bp
		retf
sub_F084	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F094	proc far
		push	bp
		mov	bp, sp
		cmp	byte_1350A, 0
		jz	short loc_F0A2
		mov	ah, 0
		int	0F2h

loc_F0A2:
		pop	bp
		retf
sub_F094	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F0A4	proc far
		push	bp
		mov	bp, sp
		cmp	byte_1350A, 0
		jz	short loc_F0B2
		mov	ah, 3
		int	0F2h

loc_F0B2:
		pop	bp
		retf
sub_F0A4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F0B4	proc far
		push	bp
		mov	bp, sp
		cmp	byte_1350A, 0
		jz	short loc_F0C2
		mov	ah, 2
		int	0F2h

loc_F0C2:
		pop	bp
		retf
sub_F0B4	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		cmp	byte_1350A, 0
		jz	short loc_F0D2
		mov	ah, 1
		int	0F2h

loc_F0D2:
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		cmp	byte_1350A, 0
		jz	short loc_F0E2
		mov	ah, 0Fh
		int	0F2h

loc_F0E2:
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F0E4	proc far
		push	bp
		mov	bp, sp
		mov	ah, 9
		int	0F2h
		mov	byte_1350A, al
		mov	al, byte_1350A
		cbw
		pop	bp
		retf
sub_F0E4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F0F4	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	[bp+arg_0], 0
		jz	short loc_F10E
		cmp	byte_1350A, 0
		jz	short loc_F10E
		add	[bp+arg_0], 400h
		mov	ax, [bp+arg_0]
		int	0F2h

loc_F10E:
		pop	bp
		retf
sub_F0F4	endp

seg013		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg014		segment	byte public 'CODE' use16
		assume cs:seg014
; START	OF FUNCTION CHUNK FOR sub_F150
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

loc_F110:
		pop	di
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	si
		pop	ds
		clc
		retf
; ---------------------------------------------------------------------------

loc_F119:
		mov	al, byte ptr ds:[022h]
		mov	ah, byte ptr ds:[020h]
		; Hack (fnclex)
		db 0cdh
		db 037h
		db 0e2h
		test	ah, 80h
		jz	short loc_F110
		not	al
		and	al, ah
		jmp	loc_F265
; ---------------------------------------------------------------------------

loc_F12F:
		les	di, [si+6]
		test	bl, 8
		jnz	short loc_F13F
		mov	bx, es
		and	bx, 0F000h
		mov	es, bx
		assume es:nothing

loc_F13F:
		test	byte ptr es:[di], 80h
		jnz	short loc_F146
		inc	di

loc_F146:
		mov	bx, es:[di]
		xchg	bh, bl
		jmp	short loc_F196
; END OF FUNCTION CHUNK	FOR sub_F150
; ---------------------------------------------------------------------------
		jmp	short loc_F1B1
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


e087_Trap	proc far

; FUNCTION CHUNK AT 0000 SIZE 0000003D BYTES

		push	ds
		push	si
		push	bx
		push	cx
		push	dx
		push	es
		push	di
		mov	ds, ax
		mov	al, byte ptr ds:[026h]
		or	al, al
		mov	bx, ax
		jz	short loc_F119
		mov	si, 33h	; '3'
		; Hack (fnstenv byte ptr [si])
		db 0d9h
		db 034h
		wait
		mov	ax, [si+2]
		test	al, 80h
		jz	short loc_F110
		fclex
		mov	dx, ax
		mov	al, [si]
		mov	dh, dl
		or	al, 40h
		and	dl, al
		and	dl, 7Fh
		mov	[si+2],	dl
		; The original executable has two wait instructions here, but TASM
		; would add a third one for some reason?
		wait
		fldenv	byte ptr [si]
		not	al
		and	al, dh
		or	bx, word ptr ds:[027h]
		cmp	bl, 3
		jge	short loc_F12F
		mov	bx, [si+8]

loc_F196:
		and	bh, 7
		mov	dh, bl
		and	dh, 0C0h
		cmp	dh, 0C0h ; 'À'
		jz	short loc_F1A6
		and	bl, 38h

loc_F1A6:
		wait
		sti
		test	al, 1
		jz	short loc_F1B1
		mov	al, 40h
		jmp	loc_F265
; ---------------------------------------------------------------------------

loc_F1B1:
		test	al, 2
		jz	short loc_F20A
		mov	cx, 8

loc_F1B8:
		call	sub_F278
		wait
		fincstp
		loop	loc_F1B8
		mov	ax, bx
		shr	ax, 1
		and	al, 9Ch
		cmp	al, 80h
		jz	short loc_F1D2
		cmp	al, 94h
		jz	short loc_F1D2
		and	al, 98h
		cmp	al, 8

loc_F1D2:
		jz	short loc_F208
		; Hack (fnstcw word ptr ds:051h)
		db 0d9h
		db 03eh
		db 051h
		db 000h
		wait
		or	byte ptr ds:051h, 2
		wait
		fldcw	word ptr ds:051h
		les	di, [si+0Ah]
		assume es:nothing
		cmp	bx, 30h	; '0'
		jnz	short loc_F1F1
		wait
		fld	dword ptr es:[di]
		jmp	short loc_F1FB
; ---------------------------------------------------------------------------

loc_F1F1:
		cmp	bx, 430h
		jnz	short loc_F201
		wait
		fld	qword ptr es:[di]

loc_F1FB:
		call	sub_F278
		mov	bx, 0DEF9h

loc_F201:
		wait
		mov	di, word ptr ds:[02Dh]
		jmp	short loc_F23B
; ---------------------------------------------------------------------------

loc_F208:
		jmp	short loc_F253
; ---------------------------------------------------------------------------

loc_F20A:
		mov	ah, byte ptr ds:[022h]
		not	ah
		and	ah, al
		and	ah, 7Fh
		jnz	short loc_F265
		test	al, 5
		jnz	short loc_F229
		test	al, 18h
		jz	short loc_F257
		mov	ax, bx
		shr	ax, 1
		and	al, 0E8h
		cmp	al, 88h
		jnz	short loc_F257

loc_F229:
		; Hack (fnstcw word ptr ds:051h)
		db 0d9h
		db 03eh
		db 051h
		db 000h
		wait
		mov	ax, word ptr ds:051h
		or	byte ptr ds:051h, 3Fh
		wait
		fldcw	word ptr ds:051h

loc_F23B:
		call	sub_F2C5
		add	sp, 0Ah
		fstsw	word ptr ds:051h
		fclex
		mov	ax, word ptr ds:051h
		and	al, 3Fh
		or	byte ptr ds:[045h], al

loc_F253:
		wait
		fldcw	word ptr [si]
		clc

loc_F257:
		pop	di
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	si
		pop	ds
		jb	short locret_F264
		pop	ax
		pop	ax
		pop	ax
		iret
; ---------------------------------------------------------------------------

locret_F264:
		retf
; ---------------------------------------------------------------------------

loc_F265:
		xor	dx, dx
		mov	bx, ax

loc_F269:
		inc	dx
		shr	bx, 1
		jnb	short loc_F269
		mov	word ptr ds:[029h], dx
		mov	ax, 29h	; ')'
		stc
		jmp	short loc_F257
e087_Trap	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_F278	proc near
		wait
		fxam
		fstsw	word ptr ds:[051h]
		wait
		mov	ah, byte ptr ds:[052h]
		sahf
		jnb	short loc_F28B
		jnz	short loc_F28D
		retn
; ---------------------------------------------------------------------------

loc_F28B:
		jz	short loc_F292

loc_F28D:
		jb	short locret_F291
		jnp	short loc_F299

locret_F291:
		retn
; ---------------------------------------------------------------------------

loc_F292:
		wait
		fstp	st
		wait
		fldz
		retn
; ---------------------------------------------------------------------------

loc_F299:
		wait
		fstp	tbyte ptr ds:[047h]
		wait
		fild	qword ptr ds:[047h]
		mov	ax, word ptr ds:[04Fh]
		mov	dx, ax
		and	dh, 80h
		wait
		fstp	tbyte ptr ds:[047h]
		xor	ah, dh
		wait
		add	ax, word ptr ds:[04Fh]
		sub	ax, 403Eh
		xor	ah, dh
		mov	word ptr ds:[04Fh], ax
		wait
		fld	tbyte ptr ds:[047h]
		retn
sub_F278	endp


; =============== S U B	R O U T	I N E =======================================


sub_F2C5	proc far
		mov	word ptr ds:[02Dh], di
		mov	dx, 0EA90h
		push	dx
		mov	dx, bx
		and	bl, 0C0h
		cmp	bl, 0C0h ; 'À'
		jz	short loc_F2DA
		or	dl, 7

loc_F2DA:
		or	dh, 0D8h
		xchg	dh, dl
		push	dx
		mov	dx, 269Bh
		push	dx
		mov	dx, ss
		xor	dx, word ptr ds:[027h]
		push	dx
		mov	dx, sp
		add	dx, 2
		push	dx
		les	bx, [si+0Ah]
		retf
sub_F2C5	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		dd 0
		dd 0
		dw 0
		db    0
		; Hack. Let's better use bytes for accuracy here.
tbyte_F300	db 035h, 0c2h, 068h, 021h, 0a2h, 0dah, 00fh, 0c9h, 0feh, 03fh
tbyte_F30A	db 035h, 0c2h, 068h, 021h, 0a2h, 0dah, 00fh, 0c9h, 0ffh, 03fh
flt_F314	dd -5.1110893e38
flt_F318	dd -5.1117124e38
		db 0, 4Ah, 0C0h, 0FFh
flt_F320	dd 0.5
tbyte_F324	db 085h, 064h, 0deh, 0f9h, 033h, 0f3h, 004h, 0b5h, 0ffh, 03fh
flt_F32E	dd 3.4028237e38

; =============== S U B	R O U T	I N E =======================================


sub_F332	proc near
		mov	cl, 0
		jmp	short loc_F33C
; ---------------------------------------------------------------------------
		mov	cl, 2
		jmp	short loc_F33C
; ---------------------------------------------------------------------------
		mov	cl, 4

loc_F33C:
		wait
		fxam
		push	bp
		mov	bp, sp
		lea	sp, [bp-2]
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		jb	short loc_F35F
		jnz	short loc_F380
		cmp	cl, 2
		jnz	short loc_F35D
		wait
		fstp	st
		wait
		fld1

loc_F35D:
		jmp	short loc_F37D
; ---------------------------------------------------------------------------

loc_F35F:
		jz	short loc_F36F
		jnp	short loc_F36F
		wait
		fstp	st
		wait
		fld	cs:flt_F314
		wait
		ftst

loc_F36F:
		jmp	short loc_F37D
; ---------------------------------------------------------------------------

loc_F371:
		wait
		fcompp
		wait
		fld	cs:flt_F314
		wait
		ftst

loc_F37D:
		jmp	loc_F427
; ---------------------------------------------------------------------------

loc_F380:
		wait
		fabs
		wait
		fld	tbyte ptr cs:tbyte_F300
		wait
		fxch	st(1)
		wait
		fprem
		mov	ch, 2
		and	ch, ah
		shr	ch, 1
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		jp	short loc_F371
		mov	al, 3
		and	al, ah
		shl	ah, 1
		shl	ah, 1
		rcl	al, 1
		add	al, 0FCh
		rcl	al, 1
		cmp	cl, 2
		jnz	short loc_F3B7
		add	al, cl
		mov	ch, 0

loc_F3B7:
		and	al, 7
		test	al, 1
		jz	short loc_F3C2
		wait
		fsubp	st(1), st
		jmp	short loc_F3C5
; ---------------------------------------------------------------------------

loc_F3C2:
		wait
		fstp	st(1)

loc_F3C5:
		wait
		fptan
		cmp	cl, 4
		jz	short loc_F3F6
		test	al, 3
		jp	short loc_F3D4
		wait
		fxch	st(1)

loc_F3D4:
		wait
		fld	st(1)
		wait
		fmul	st, st
		wait
		fxch	st(1)
		wait
		fmul	st, st
		wait
		faddp	st(1), st
		wait
		fsqrt
		shr	al, 1
		shr	al, 1
		xor	al, ch
		jz	short loc_F3F1
		wait
		fchs

loc_F3F1:
		wait
		fdivp	st(1), st
		jmp	short loc_F427
; ---------------------------------------------------------------------------

loc_F3F6:
		mov	ah, al
		shr	ah, 1
		and	ah, 1
		xor	ah, ch
		jz	short loc_F404
		wait
		fchs

loc_F404:
		test	al, 3
		jp	short loc_F424
		wait
		fxch	st(1)
		wait
		ftst
		fstsw	word ptr [bp-2]
		wait
		test	byte ptr [bp-1], 40h
		jz	short loc_F424
		wait
		fcompp
		wait
		fld	cs:flt_F32E
		jmp	short loc_F427
; ---------------------------------------------------------------------------

loc_F424:
		wait
		fdivp	st(1), st

loc_F427:
		mov	sp, bp
		pop	bp
		retn
sub_F332	endp


; =============== S U B	R O U T	I N E =======================================


sub_F42B	proc near
		wait
		fxam
		push	bp
		mov	bp, sp
		lea	sp, [bp-2]
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		xchg	ax, cx
		jb	short loc_F444
		jnz	short loc_F45E
		jmp	short loc_F490
; ---------------------------------------------------------------------------

loc_F444:
		jz	short loc_F490
		jnp	short loc_F490
		wait
		fstp	st
		wait
		fld	tbyte ptr cs:tbyte_F30A
		jmp	short loc_F488
; ---------------------------------------------------------------------------

loc_F453:
		wait
		fcompp
		wait
		fld	tbyte ptr cs:tbyte_F300
		jmp	short loc_F488
; ---------------------------------------------------------------------------

loc_F45E:
		wait
		fabs
		wait
		fld1
		wait
		fcom	st(1)
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		jz	short loc_F453
		jnb	short loc_F477
		wait
		fxch	st(1)

loc_F477:
		wait
		fpatan
		jnb	short loc_F488
		wait
		fld	tbyte ptr cs:tbyte_F30A
		wait
		fsubp	st(1), st
		xor	ch, 2

loc_F488:
		test	ch, 2
		jz	short loc_F490
		wait
		fchs

loc_F490:
		mov	sp, bp
		pop	bp
		retn
sub_F42B	endp


; =============== S U B	R O U T	I N E =======================================


sub_F494	proc near
		wait
		fld1
		jmp	short loc_F4A1
; ---------------------------------------------------------------------------
		wait
		fldlg2
		jmp	short loc_F4A1
; ---------------------------------------------------------------------------
		wait
		fldln2

loc_F4A1:
		wait
		fxch	st(1)
		push	bp
		mov	bp, sp
		wait
		fxam
		lea	sp, [bp-0Ah]
		fstsw	word ptr [bp-0Ah]
		wait
		mov	ah, [bp-9]
		sahf
		jb	short loc_F4C4
		jz	short loc_F4BF
		test	ah, 2
		jz	short loc_F4E1

loc_F4BF:
		wait
		fstp	st
		jmp	short loc_F4D3
; ---------------------------------------------------------------------------

loc_F4C4:
		jz	short loc_F4DC
		wait
		fstp	st(1)
		jnp	short loc_F4DC
		wait
		fstp	st(1)
		test	ah, 2
		jz	short loc_F505

loc_F4D3:
		wait
		fstp	st
		wait
		fld	cs:flt_F318

loc_F4DC:
		wait
		ftst
		jmp	short loc_F505
; ---------------------------------------------------------------------------

loc_F4E1:
		wait
		fld	st
		wait
		fstp	tbyte ptr [bp-0Ah]
		wait
		cmp	word ptr [bp-2], 3FFFh
		jnz	short loc_F502
		cmp	word ptr [bp-4], 8000h
		jnz	short loc_F502
		wait
		fld1
		wait
		fsubp	st(1), st
		wait
		fyl2xp1
		jmp	short loc_F505
; ---------------------------------------------------------------------------

loc_F502:
		wait
		fyl2x

loc_F505:
		mov	sp, bp
		pop	bp
		retn
sub_F494	endp


; =============== S U B	R O U T	I N E =======================================


sub_F509	proc near
		sub	cx, cx
		jmp	short loc_F51F
; ---------------------------------------------------------------------------
		wait
		fldl2t
		mov	cl, 1
		wait
		fxch	st(1)
		jmp	short loc_F51F
; ---------------------------------------------------------------------------
		wait
		fldl2e
		mov	cl, 1
		wait
		fxch	st(1)

loc_F51F:
		wait
		fxam
		push	bp
		mov	bp, sp
		lea	sp, [bp-4]
		fstsw	word ptr [bp-4]
		jcxz	short loc_F531
		wait
		fxch	st(1)

loc_F531:
		wait
		mov	ah, [bp-3]
		sahf
		jb	short loc_F548
		jnz	short loc_F563
		wait
		fstp	st
		jcxz	short loc_F542
		wait
		fstp	st

loc_F542:
		wait
		fld1
		jmp	loc_F5EC
; ---------------------------------------------------------------------------

loc_F548:
		jcxz	short loc_F54D
		wait
		fstp	st

loc_F54D:
		jz	short loc_F55D
		jnp	short loc_F55D
		wait
		fstp	st
		wait
		fld	cs:flt_F32E
		jmp	loc_F5E1
; ---------------------------------------------------------------------------

loc_F55D:
		wait
		ftst
		jmp	loc_F5EC
; ---------------------------------------------------------------------------

loc_F563:
		jcxz	short loc_F568
		wait
		fmulp	st(1), st

loc_F568:
		wait
		fabs
		wait
		fcom	cs:flt_F320
		fstsw	word ptr [bp-4]
		wait
		test	byte ptr [bp-3], 41h
		jz	short loc_F587
		wait
		f2xm1
		wait
		fld1
		wait
		faddp	st(1), st
		jmp	short loc_F5E1
; ---------------------------------------------------------------------------

loc_F587:
		wait
		fld1
		wait
		fld	st(1)
		fstcw	word ptr [bp-4]
		wait
		fscale
		or	byte ptr [bp-3], 0Fh
		wait
		fldcw	word ptr [bp-4]
		wait
		frndint
		and	byte ptr [bp-3], 0F3h
		wait
		fldcw	word ptr [bp-4]
		wait
		fist	word ptr [bp-2]
		wait
		fxch	st(1)
		wait
		fchs
		wait
		fxch	st(1)
		wait
		fscale
		wait
		fstp	st(1)
		wait
		fsubp	st(1), st
		wait
		f2xm1
		wait
		fld1
		wait
		faddp	st(1), st
		shr	word ptr [bp-2], 1
		jnb	short loc_F5D4
		wait
		fld	tbyte ptr cs:tbyte_F324
		wait
		fmulp	st(1), st

loc_F5D4:
		wait
		fild	word ptr [bp-2]
		wait
		fxch	st(1)
		wait
		fscale
		wait
		fstp	st(1)

loc_F5E1:
		test	ah, 2
		jz	short loc_F5EC
		wait
		fld1
		wait
		fdivrp	st(1), st

loc_F5EC:
		mov	sp, bp
		pop	bp
		retn
sub_F509	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

e087_Entry	proc far

var_2		= word ptr -2
arg_1		= byte ptr  7

		push	bp
		mov	bp, sp
		push	ax
		push	si
		push	ds
		test	[bp+arg_1], 2
		jz	short loc_F5FD
		sti

loc_F5FD:
		lds	si, [bp+2]
		mov	ax, ds
		xor	ax, ss:27h
		mov	ds, ax
		mov	ax, [si-1]
		sub	al, 34h	; '4'
		cmp	al, 8
		jnb	short loc_F667
		cmp	ax, 0E303h
		jz	short loc_F63C
		cmp	ax, 0E007h
		jnz	short loc_F62D
		cmp	byte ptr ss:26h, 2
		jge	short loc_F62D
		fstsw	[bp+var_2]
		inc	word ptr [bp+2]
		jmp	short loc_F68A
; ---------------------------------------------------------------------------

loc_F62D:
		sub	si, 2
		mov	byte ptr [si], 9Bh
		add	byte ptr [si+1], 0A4h ;	'¤'

loc_F637:
		mov	[bp+2],	si
		jmp	short loc_F68A
; ---------------------------------------------------------------------------

loc_F63C:
		fninit
		inc	word ptr [bp+2]
		mov	word ptr ss:20h, 4100h
		mov	word ptr ss:22h, 3Fh ; '?'
		mov	word ptr ss:45h, 0
		mov	ax, ss:31h
		mov	ss:2Dh,	ax
		mov	word ptr ss:24h, 0
		jmp	short loc_F68A
; ---------------------------------------------------------------------------

loc_F667:
		ja	short loc_F68F
		test	ah, 20h
		jnz	short loc_F69C
		sub	si, 2
		mov	[bp+2],	si
		mov	byte ptr [si], 9Bh
		inc	si
		mov	al, ah
		and	ax, 7C0h
		shr	al, 1
		shr	al, 1
		shr	al, 1
		xor	al, 18h
		add	ax, 0D826h
		mov	[si], ax

loc_F68A:
		pop	ds
		pop	si
		pop	ax
		pop	bp
		iret
; ---------------------------------------------------------------------------

loc_F68F:
		cmp	al, 9
		ja	short loc_F69C
		sub	si, 2
		mov	word ptr [si], 9B90h
		jmp	short loc_F637
; ---------------------------------------------------------------------------

loc_F69C:
		int	3		; Trap to Debugger
		jmp	short loc_F68A
e087_Entry	endp

; ---------------------------------------------------------------------------
		db  22h	; "
		db    2
		db  26h	; &
		db    2
		db  2Ah	; *
		db    2
		db  1Bh
		db    3
		db  8Eh
		db    3
		db  84h
		db    3
		db  89h
		db    3
		db    7
		db    4
		db 0F9h
		db    3
		db 0FDh
		db    3
; ---------------------------------------------------------------------------

e087_Shortcut:
		sti
		push	ax
		push	si
		push	es
		push	bp
		mov	bp, sp
		les	si, [bp+8]
		lods	byte ptr es:[si]
		mov	[bp+8],	si
		cbw
		xchg	ax, si
		push	cx
		call	word ptr cs:[si+5A3h]
		pop	cx
		pop	bp
		pop	es
		pop	si
		pop	ax
		iret
seg014		ends

include libs/BorlandC/emu/emu086.asm

; Segment type:	Pure code
seg016		segment	para public 'CODE' use16
		assume cs:seg016
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

include libs/BorlandC/ctor2[textc].asm
include libs/BorlandC/ctor3[textc].asm
include libs/BorlandC/strings[textc].asm
		dd 0, 0
seg016		ends

; ===========================================================================

; Segment type:	Pure data
dseg		segment	para public 'DATA' use16
		assume cs:dseg

include libs/BorlandC/c0[data].asm

; char word_12B30[]
word_12B30	dw 86A0h
word_12B32	dw 1
; char arglist[]
arglist		dw 86A0h
word_12B36	dw 1
aReiidenconfig	db 'ReiidenConfig',0
aErrorEnd_flagI	db 'ERROR : end_flag is not ture !!',0
; char s[]
s		db 'ERROR : cfg_id is not alloc!!',0
aReiidenconfi_0	db 'ReiidenConfig',0
; char path[]
path		db 'op',0
; char arg0[3]
arg0		db 'op',0
		db    0
byte_12B99	db 0
byte_12B9A	db 0
byte_12B9B	db 0
byte_12B9C	db 0
byte_12B9D	db 0
		db    0
byte_12B9F	db 0
byte_12BA0	db 0
byte_12BA1	db 0
byte_12BA2	db 0
byte_12BA3	db 0
		dd 0
		db  49h	; I
		db  81h
		db  48h	; H
		db  81h
		db  94h
		db  81h
		db  95h
		db  81h
		db  96h
		db  81h
		db  98h
		db  81h
		db  99h
		db  81h
		db  9Fh
		db  81h
		db  87h
		db  81h
		db  88h
		db  81h
		db  89h
		db  81h
		db  8Ah
		db  81h
		db  63h	; c
		db  81h
		db  67h	; g
		db  81h
		db  68h	; h
		db  81h
		db  5Eh	; ^
		db  81h
		db  44h	; D
		db  81h
		db  45h	; E
		db  81h
off_12BCC	dd aVo
					; "O"
word_12BD0	dw 191h
seg_12BD2	dw seg dseg
word_12BD4	dw 194h
seg_12BD6	dw seg dseg
byte_12BD8	db 97h
byte_12BD9	db 1
seg_12BDA	db 0aah
unk_12BDB	db  12h
word_12BDC	dw 19Ah
seg_12BDE	dw seg dseg
word_12BE0	dw 19Dh
seg_12BE2	dw seg dseg
word_12BE4	dw 1A0h
seg_12BE6	dw seg dseg
off_12BE8	dd aVv
					; "V"
word_12BEC	dw 1A6h
		dw seg dseg
		dd aVx			; "X"
aBqbqbqbqbqbqbq	db 'QQQQQQQQ',0
aB@b@b@b@b@b@b@	db '@@@@@@@@',0
aHiscore_0	db 'HISCORE',0
off_12C1E	dd aB@gcbGwbB@
					; "@C[W[@"
		dd aB@gmbGGlb@		; "@m[}@"
		dd aB@gnbGhb@b@		; "@n[h@@"
		dd aGlgigegbgbgn	; "ieBbN"
aVo		db 'O',0
aVp		db 'P',0
aVq		db 'Q',0
aVr		db 'R',0
aVs		db 'S',0
aVt		db 'T',0
aVu		db 'U',0
aVv		db 'V',0
aVw		db 'W',0
aVx		db 'X',0
aC_0		db '³',0
aUmx_0		db 'ûèËÙ`@@',0
aHiscore_1	db 'HISCORE',0
aReyhies_dat	db 'REYHIES.DAT',0
aReyhino_dat	db 'REYHINO.DAT',0
aReyhiha_dat	db 'REYHIHA.DAT',0
; char src[]
src		db 'REYHILU.DAT',0
; char mode[]
mode		db 'wb',0
aReyhies_dat_0	db 'REYHIES.DAT',0
aReyhino_dat_0	db 'REYHINO.DAT',0
aReyhiha_dat_0	db 'REYHIHA.DAT',0
; char aReyhilu_dat_0[]
aReyhilu_dat_0	db 'REYHILU.DAT',0
; char aRb[]
aRb		db 'rb',0
aGtg@gcglvkvVVi	db 't@CªÝÂ©ñÈ¢',0
aHiscore	db 'HISCORE',0
; char format[]
format		db 't@Cªá¤I',0
; char aCC[]
aCC		db '%c%c',0
aVb		db '',0
; char aCC_0[]
aCC_0		db '%c%c',0
; char aCC_1[]
aCC_1		db '%c%c',0
; char aCC_2[]
aCC_2		db '%c%c',0
; char aSp[]
aSp		db 'SP',0
; char aBi[]
aBi		db '©',0
; char aBi_0[]
aBi_0		db '¨',0
; char aPi[]
aPi		db 'I',0
aB@cB@iB@	db '@ì@Ê@',0
aB@b@cB@b@sob@b	db '@@¼@@O@@',0
aB@b@uB@b@u_b@b	db '@@¾@@_@@',0
aGxgebGwbeglbGg	db 'Xe[WE[g',0
aB@sB@r_b@	db '@èË@_@',0
aSMRgcId	db '¾³¾¤',0
aB@uvb@rxb@	db '@V@å@',0
aB@r_b@rxb@	db '@_@å@',0
aB@tnb@rxb@	db '@n@å@',0
aB@rlb@rxb@	db '@l@å@',0
aB@rxb@pcb@	db '@å@@',0
aIab@czb@ot	db 'A@z@t',0
aSB@fB@ot	db 'èË@}@t',0
aPcb@lB@o	db 'C@Æ@Ò',0
aCvke		db 'E',0
aTnnc		db 'n',0
aB		db '|',0
; char aCC_3[]
aCC_3		db '%c%c',0
; char aSp_0[]
aSp_0		db 'SP',0
; char aBi_1[]
aBi_1		db '©',0
; char aBi_2[]
aBi_2		db '¨',0
; char aPi_0[]
aPi_0		db 'I',0
; char aCC_4[]
aCC_4		db '%c%c',0
; char aS[]
aS		db '%s',0
; char aS_0[]
aS_0		db '%s',0
aReyhies_dat_1	db 'REYHIES.DAT',0
aReyhino_dat_1	db 'REYHINO.DAT',0
aReyhiha_dat_1	db 'REYHIHA.DAT',0
; char aReyhilu_dat_1[]
aReyhilu_dat_1	db 'REYHILU.DAT',0
; char aWb_0[]
aWb_0		db 'wb',0
aB@gcbGwbB@	db '@C[W[@',0
aB@gmbGGlb@	db '@m[}@',0
aB@gnbGhb@b@	db '@n[h@@',0
aGlgigegbgbgn	db 'ieBbN',0
; char aUmx[3]
aUmx		db 'ûèËÙ`@­ÒÌL^@%s',0
		dd aB@gvguglbB@		; "@L[@"
		dd aB@cRlio		; "@Þl"
		dd aGzgvgtgsgggugx	; "zTsGX"
		dd aB@tRl		; "@´l"
		dd aB@sR_b@		; "@èË_@"
		dd aB@r_v		; "@_ð´z"
		dd aVioqclgqbGB		; "¨qlQ[}["
		dd aOcf			; "ñXRA["
		dd aGGhglgxgrgagib	; "~hXRA["
		dd aGngcgxgrgagib	; "nCXRA["
		dd aGxbGpbGqbGB		; "X[p[Q[}["
		dd aGqbGBV		; "Q[}[ð´z"
		dd aXevVVViv		; "Á½Ý©ñ"
		dd aGugbgnbGavO		; "UbN[ÌÀ"
		dd aLTfvCMc		; "ÖfÌÑç"
		dd aRvkeo		; "¢E÷Ìt"
		dd aIitsluucr_tomo	; "©éãC_Oo"
		dd aB@gagagkg		; "@A^"
off_12EC0	dd aEasy
					; " EASY "
		dd aNormal		; "NORMAL"
		dd aHard		; " HARD "
		dd aLunatic		; "LUNATIC"
aB@gvguglbB@	db '@L[@',0
aB@cRlio	db '@Þl',0
aGzgvgtgsgggugx	db 'zTsGX',0
aB@tRl		db '@´l',0
aB@sR_b@	db '@èË_@',0
aB@r_v		db '@_ð´z',0
aVioqclgqbGB	db '¨qlQ[}[',0
aOcf		db 'ñXRA[',0
aGGhglgxgrgagib	db '~hXRA[',0
aGngcgxgrgagib	db 'nCXRA[',0
aGxbGpbGqbGB	db 'X[p[Q[}[',0
aGqbGBV		db 'Q[}[ð´z',0
aXevVVViv	db 'Á½Ý©ñ',0
aGugbgnbGavO	db 'UbN[ÌÀ',0
aLTfvCMc	db 'ÖfÌÑç',0
aRvkeo		db '¢E÷Ìt',0
aIitsluucr_tomo	db '©éãC_Oo',0
aB@gagagkg	db '@A^',0
; char aIris_mdt[]
aIris_mdt	db 'iris.mdt',0
aEd1a_grp	db 'ED1A.grp',0
aEd1b_grp	db 'ED1B.grp',0
aEd1c_grp	db 'ED1C.GRP',0
aEd1d_grp	db 'ED1D.GRP',0
aEd1e_grp	db 'ED1E.GRP',0
; char aSt1_mdt[]
aSt1_mdt	db 'st1.mdt',0
aEd2a_grp	db 'ed2a.grp',0
aTryToNoContinu	db 'Try to ',27h,'No continue',27h,'!!',0
aBadEnding2	db '      Bad Ending2     ',0
aEd4a_grp	db 'ed4a.grp',0
aTryToNoConti_0	db 'Try to ',27h,'No continue',27h,'!!',0
aBadEnding1	db '      Bad Ending1     ',0
aEd3a_grp	db 'ed3a.grp',0
aEd3b_grp	db 'ed3b.grp',0
aCongratulation	db 'Congratulations!',0
aGoodEnding2	db '     Good Ending2     ',0
aEd5a_grp	db 'ed5a.grp',0
aEd5b_grp	db 'ed5b.grp',0
aEd5c_grp	db 'ed5c.grp',0
aCongratulati_0	db 'Congratulations!',0
aGoodEnding1	db '     Good Ending1     ',0
; char aSt1_mdt_0[]
aSt1_mdt_0	db 'st1.mdt',0
aEndb_a_grp	db 'endb_a.grp',0
aEndb_b_grp	db 'endb_b.grp',0
aStage5Boss	db 'STAGE 5 BOSS',0
aGatekeeperSing	db 'Gatekeeper ',27h,'SinGyoku',27h,0
aStage10Boss	db 'STAGE 10 BOSS',0
aEvileyesYuugen	db 'EvilEyes ',27h,'YuugenMagan',27h,0
aStage10Boss_0	db 'STAGE 10 BOSS',0
aRevengefulGhos	db 'Revengeful Ghost ',27h,'Mima',27h,0
aStage15Boss	db 'STAGE 15 BOSS',0
aInnocenceDevil	db 'Innocence Devil ',27h,'Elis',27h,0
aStage15Boss_0	db 'STAGE 15 BOSS',0
aHellmoonKikuri	db 'HellMoon ',27h,'Kikuri',27h,0
aStage20Boss	db 'STAGE 20 BOSS',0
aAngelOfDeathSa	db 'Angel of Death',27h,'Sariel',27h,0
aStage20Boss_0	db 'STAGE 20 BOSS',0
aAstralKnightKo	db 'Astral Knight ',27h,'Konngara',27h,0
; char aS_1[]
aS_1		db '%s',0
aEasy		db ' EASY ',0
aNormal		db 'NORMAL',0
aHard		db ' HARD ',0
aLunatic	db 'LUNATIC',0
aEndm_a_grp	db 'endm_a.grp',0
aUmx_1		db 'ûèËÙ`',0
aVer		db 'ver',0
a1_10		db '1.10',0
; char aUqiUxb[]
aUqiUxb@b@b@b@b	db 'ïÕx@@@@@@@@@@  %s',0
; char aNbi[3]
aNbi		db '¡ñÌÅ¾_@@@@@@  %7lu',0
; char aNPiuU_b[]
aNPiuU_b@b@b@b@	db 'ÅI¾_@@@@@@@@@  %7lu',0
; char aGrgugegbgjgebI[15]
aGrgugegbgjgebI	db 'ReBj[ñ',0
; char aB[]
aB@r_oB@b@b@b@b	db '@_Ð@@@@iPÊ`TÊj @ %3lu',0
aB@gqbGgb@b@b@b	db '@Q[g@@@iUÊ`POÊj  %3lu',0
; char aB[]
aB@tkb@b@b@b@b@	db '@âK@@@@@iUÊ`POÊj  %3lu',0
aGfgbgivFpBivpv	db '  BiÌpÐiPPÊ`PTÊj%3lu',0
; char aB[]
aB@ikvXekeb@b@b	db '@ÌE@@iPPÊ`PTÊj%3lu',0
aSVVVsr_uabivpv	db '  Â¿½é_aiPTÊ`QOÊj%3lu',0
; char aB[]
aB@rVivVsr_uabi	db '@Ã©Èé_aiPTÊ`QOÊj%3lu',0
aCvkeglbGgsnnzb	db '  E[g@@@@@@  %5lu',0
; char aB[]
aB@tnncglbGgsnn	db '@n[g@@@@@@@%5lu',0
aThankYouForPla	db '    Thank you for Playing !! ',0
; char aBBBVavVVPNjbBB[]
aBBBVavVVPNjbBB	db ' È½ÌÌ',0
aKo		db '®',0
aKo_0		db '®',0
		db 0
; char aC[]
aC		db '%c',0
; char aCC_5[]
aCC_5		db '%c%c',0
byte_13442	db 0
word_13443	dw 0
		db    7
		dd    0
		db    0
		db    0
		db    0
word_1344D	dw 140h
word_1344F	dw 0C8h
		dd    0
		db  7Fh
		db    2
		db  8Fh
		db    1
		db    0
		db 0C0h	; À
		db    0
		db 0E0h
		db    0
		db 0F0h
		db    0
		db 0F8h
		db    0
		db 0FCh
		db    0
		db 0FEh
		db    0
		db 0FFh
		db  80h
		db 0FFh
		db 0C0h	; À
		db 0FFh
		db 0E0h
		db 0FFh
		db    0
		db 0FEh
		db    0
		db 0EFh
		db    0
		db 0CFh	; Ï
		db  80h
		db    7
		db  80h
		db    7
		db    0
		db    3
		db    0
		db    0
		db    0
		db  40h
		db    0
		db  60h
		db    0
		db  70h	; p
		db    0
		db  78h	; x
		db    0
		db  7Ch	; |
		db    0
		db  7Eh	; ~
		db    0
		db  7Fh
		db  80h
		db  7Fh
		db    0
		db  7Ch	; |
		db    0
		db  6Ch	; l
		db    0
		db  46h	; F
		db    0
		db    6
		db    0
		db    3
		db    0
		db    3
		db    0
		db    0
		db    0
a3l		db 1Bh,'[>3l',0
a3h		db 1Bh,'[>3h',0
a1l		db 1Bh,'[>1l',0
a1h		db 1Bh,'[>1h',0
a2j		db 1Bh,'[2J',0
		db 0
byte_134B8	db 0
		db 0
unk_134BA	db    0
		dd    0
		db  0Fh
		db    0
		db  0Fh
		db    0
byte_134C3	db 0
byte_134C4	db 0Fh
byte_134C5	db 0Fh
		db  0Fh
		db    0
		db    0
		db  0Fh
		db    0
		db  0Fh
		db  0Fh
		db  0Fh
		db    0
byte_134CF	db 0Fh
byte_134D0	db 0Fh
byte_134D1	db 0Fh
		db    8
		db    8
		db    8
		db    0
		db    0
		db  0Ah
		db    0
		db  0Ah
		db    0
		db    0
		db  0Ah
		db  0Ah
		db  0Ah
		db    0
		db    0
		db  0Ah
		db    0
		db  0Ah
		db  0Ah
		db  0Ah
		db    0
		db  0Ch
		db  0Ch
		db  0Ch
byte_134EA	db 0
word_134EB	dw 80h
aPal98Grb	db 'pal98 grb',0
		db 0
word_134F8	dw 1
word_134FA	dw 1
		dd    0
		dd    0
		db    0
		db    0
		db    0
word_13507	dw 64h
byte_13509	db 0
byte_1350A	db 0
		db 0
aMdrv2system	db 'Mdrv2System',0
include libs/master.lib/version[data].asm
include libs/master.lib/grp[data].asm
include libs/master.lib/pal[data].asm
include libs/master.lib/respal_exist[data].asm
include libs/master.lib/resdata[data].asm
include libs/master.lib/fil[data].asm
include libs/master.lib/dos_ropen[data].asm
include libs/master.lib/clip[data].asm
include libs/master.lib/rand[data].asm
include libs/BorlandC/deflt87[data].asm
include libs/BorlandC/protflag[data].asm
include libs/BorlandC/flag8087[data].asm
include libs/BorlandC/fperr[data].asm
include libs/BorlandC/math/_pow10[data].asm
include libs/BorlandC/_abort[data].asm
include libs/BorlandC/atexit[data].asm
include libs/BorlandC/exit[data].asm
include libs/BorlandC/files[data].asm
include libs/BorlandC/fmode[data].asm
include libs/BorlandC/fpstklen[data].asm
include libs/BorlandC/ioerror[data].asm
include libs/BorlandC/mkname[data].asm
include libs/BorlandC/new[data].asm
include libs/BorlandC/stklen[data].asm
include libs/BorlandC/ctype[data].asm
include libs/BorlandC/cconv[data].asm
include libs/BorlandC/vprinter[data].asm
include libs/BorlandC/xxv[data].asm
include libs/BorlandC/cputype[data].asm
include libs/BorlandC/fbrk[data].asm
include libs/BorlandC/signal[data].asm
include libs/BorlandC/pathops[data].asm
include libs/BorlandC/putc[data].asm
include libs/BorlandC/srchenv[data].asm
include libs/BorlandC/srchstr[data].asm
include libs/BorlandC/setvbuf[data].asm
include libs/BorlandC/sysnerr[data].asm
include libs/BorlandC/xx[data].asm
include libs/BorlandC/cvtfak[data].asm
include libs/BorlandC/setargv[data].asm
include libs/BorlandC/setenvp[data].asm
include libs/BorlandC/strings[data].asm
include libs/BorlandC/cibmdely[data].asm
include libs/BorlandC/coniotyp[data].asm
include libs/BorlandC/mbctype[data].asm
include libs/BorlandC/loadprog[data].asm
include libs/BorlandC/math/realcvt[cvtseg].asm
include libs/BorlandC/cvtfak[cvtseg].asm
include libs/BorlandC/cvtfak[scnseg].asm

InitStart	label byte
include libs/BorlandC/emu/fpinit[initdata].asm
include libs/BorlandC/new[initdata].asm
include libs/BorlandC/setupio[initdata].asm
include libs/BorlandC/cputype[initdata].asm
include libs/BorlandC/pathops[initdata].asm
include libs/BorlandC/setargv[initdata].asm
include libs/BorlandC/setenvp[initdata].asm
include libs/BorlandC/cibmdely[initdata].asm
include libs/BorlandC/conioini[initdata].asm
InitEnd	label byte

ExitStart	label byte
include libs/BorlandC/emu/fpinit[exitdata].asm
include libs/BorlandC/new[exitdata].asm
ExitEnd	label byte

bdata@	label byte
; TODO: Missing clip[bss].asm (8 bytes) somewhere in there...
; char word_13ED8[]
word_13ED8	dw ?
word_13EDA	dw ?
; char word_13EDC[]
word_13EDC	dw ?
word_13EDE	dw ?
; char word_13EE0[]
word_13EE0	dw ?
word_13EE2	dw ?
; char word_13EE4[]
word_13EE4	dw ?
word_13EE6	dw ?
; char word_13EE8[]
word_13EE8	dw ?
word_13EEA	dw ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
byte_14020	db ?
byte_14021	db ?
byte_14022	db ?
		db ?
; void (*font)(void)
font		dd ?
; void (*off_14028)(void)
off_14028	dd ?
; void (*off_1402C)(void)
off_1402C	dd ?
; int word_14030
word_14030	dw ?
; int word_14032
word_14032	dw ?
; void (*off_14034)(void)
off_14034	dd ?
		db    ?	;
byte_14039	db ?
byte_1403A	db ?
byte_1403B	db ?
byte_1403C	db ?
byte_1403D	db ?
byte_1403E	db ?
byte_1403F	db ?
byte_14040	db ?
byte_14041	db ?
byte_14042	db ?
		db ?
word_14044	dw ?
word_14046	dw ?
; void (__interrupt far	*off_14048)()
off_14048	dw ?
word_1404A	dw ?
dword_1404C	dd ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
; void (__interrupt far	*off_14150)()
off_14150	dd ?
word_14154	dw ?
word_14156	dw ?
		db    ?	;
byte_14159	db ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
unk_141AA	db    ?	;
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		db    ?	;
		db    ?	;
		db    ?	;
; void (*off_1464A)(void)
off_1464A	dw ?
word_1464C	dw ?
dword_1464E	dd ?
dword_14652	dd ?
dword_14656	dd ?
dword_1465A	dd ?
include libs/master.lib/pal[bss].asm
include libs/master.lib/fil[bss].asm
		dd    ?
		dd    ?
		dd    ?
		dd    ?
include libs/BorlandC/atexit[bss].asm
include libs/BorlandC/mkname[bss].asm
include libs/BorlandC/sigdata[bss].asm
include libs/BorlandC/xxv[bss].asm
include libs/BorlandC/signal[bss].asm
include libs/BorlandC/getc[bss].asm
include libs/BorlandC/putc[bss].asm
include libs/BorlandC/xx[bss].asm
edata@	label byte

dseg		ends

include libs/BorlandC/stack.asm

		end startx
