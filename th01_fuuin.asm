; ---------------------------------------------------------------------------

BYTEREGS	struc ;	(sizeof=0x8, standard type)
_al		db ?
_ah		db ?
_bl		db ?
_bh		db ?
_cl		db ?
_ch		db ?
_dl		db ?
_dh		db ?
BYTEREGS	ends

; ---------------------------------------------------------------------------

WORDREGS	struc ;	(sizeof=0x10, standard type)
_ax		dw ?
_bx		dw ?
_cx		dw ?
_dx		dw ?
_si		dw ?
_di		dw ?
cflag		dw ?
flags		dw ?
WORDREGS	ends

; ---------------------------------------------------------------------------

REGS		union ;	(sizeof=0x10, standard type)
x		WORDREGS ?
h		BYTEREGS ?
REGS		ends

; ---------------------------------------------------------------------------

SREGS		struc ;	(sizeof=0x8, standard type)
_es		dw ?
_cs		dw ?
_ss		dw ?
_ds		dw ?
SREGS		ends


;
; +-------------------------------------------------------------------------+
; |   This file has been generated by The Interactive Disassembler (IDA)    |
; |        Copyright (c) 2009 by Hex-Rays, <support@hex-rays.com>           |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	2CAAD6F798E32B912A08DA327A97DDB4

; File Name   : th01/FUUIN.EXE
; Format      :	MS-DOS executable (EXE)
; Base Address:	0h Range: 0h-147E0h Loaded length: 13ED8h
; Entry	Point :	0:0
; OS type	  :  MS	DOS
; Application type:  Executable	16bit

		.386
		.model large
		locals

include libs/BorlandC/RULES.ASI

; ===========================================================================

; Segment type:	Pure code
seg000		segment	byte public 'CODE' use16
		assume cs:seg000
		assume es:nothing, ss:seg018, ds:nothing, fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

		public start
start		proc far
		mov	dx, seg	dseg
		mov	cs:DGROUP@, dx
		mov	ah, 30h
		int	21h		; DOS -	GET DOS	VERSION
					; Return: AL = major version number (00h for DOS 1.x)
		mov	bp, ds:2
		mov	bx, ds:2Ch
		mov	ds, dx
		assume ds:dseg
		mov	word_12B1C, ax
		mov	segx, es
		mov	word_12B16, bx
		mov	word_12B2E, bp
		call	sub_178
		mov	ax, word_12B16
		mov	es, ax
		xor	ax, ax
		mov	bx, ax
		mov	di, ax
		mov	cx, 7FFFh
		cld

loc_37:
		repne scasb
		jcxz	short loc_7E
		inc	bx
		cmp	es:[di], al
		jnz	short loc_37
		or	ch, 80h
		neg	cx
		mov	word_12B14, cx
		mov	cx, 2
		shl	bx, cl
		add	bx, 10h
		and	bx, 0FFF0h
		mov	word_12B18, bx
		mov	dx, ss
		sub	bp, dx
		mov	di, seg	dseg
		mov	es, di
		assume es:dseg
		mov	di, es:word_13988
		cmp	di, 200h
		jnb	short loc_75
		mov	di, 200h
		mov	es:word_13988, di

loc_75:
		mov	cl, 4
		shr	di, cl
		inc	di
		cmp	bp, di
		jnb	short loc_83

loc_7E:
		nop
		push	cs
		call	near ptr __abort
; ---------------------------------------------------------------------------

loc_83:
		mov	bx, di
		add	bx, dx
		mov	word_12B26, bx
		mov	word_12B2A, bx
		mov	ax, segx
		sub	bx, ax
		mov	es, ax
		assume es:nothing
		mov	ah, 4Ah	; 'J'
		push	di
		int	21h		; DOS -	2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
					; ES = segment address of block	to change
					; BX = new size	in paragraphs
		pop	di
		shl	di, cl
		cli
		mov	ss, dx
		assume ss:nothing
		mov	sp, di
		sti
		mov	ax, seg	dseg
		mov	es, ax
		assume es:dseg
		mov	es:word_13988, di
		xor	ax, ax
		mov	es, cs:DGROUP@
		assume es:nothing
		mov	di, 1438h
		mov	cx, 1CBAh
		sub	cx, di
		cld
		rep stosb
		cmp	word_138DA, 14h
		jbe	short loc_110
		cmp	byte ptr word_12B1C, 3
		jb	short loc_110
		ja	short loc_D7
		cmp	byte ptr word_12B1C+1, 1Eh
		jb	short loc_110

loc_D7:
		mov	ax, 5801h
		mov	bx, 2
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		jb	short loc_10B
		mov	ah, 67h	; 'g'
		mov	bx, word_138DA
		int	21h		; DOS -	3.3+ - SET HANDLE COUNT
					; BX = desired number of handles (max 255)
		jb	short loc_10B
		mov	ah, 48h	; 'H'
		mov	bx, 1
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired
		jb	short loc_10B
		inc	ax

loc_F5:
		mov	word_12B2E, ax
		dec	ax
		mov	es, ax
		assume es:nothing
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed

loc_FF:
		jb	short loc_10B
		mov	ax, 5801h
		mov	bx, 0
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		jnb	short loc_110

loc_10B:
		nop
		push	cs
		call	near ptr __abort
; ---------------------------------------------------------------------------

loc_110:
		xor	bp, bp
		push	bp
		nop
		push	cs
		call	near ptr __ExceptInit
		pop	ax
		mov	es, cs:DGROUP@
		assume es:nothing
		mov	si, 13F6h
		mov	di, 142Ch
		call	sub_1E8
		push	word_12B12
		push	envp		; envp
		push	word_12B0E
		push	argv		; argv
		push	argc		; argc
		call	_main
		push	ax		; status
		nop
		push	cs
		call	near ptr _exit
; ---------------------------------------------------------------------------

__cleanup:
		mov	es, cs:DGROUP@
		push	si
		push	di
		mov	si, 142Ch
		mov	di, 1438h
		call	sub_22C
		pop	di
		pop	si
		retf
start		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

__checknull	proc far
		retf
__checknull	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

__terminate	proc near

arg_2		= byte ptr  4

		mov	bp, sp
		mov	ah, 4Ch	; 'L'
		mov	al, [bp+arg_2]
		int	21h		; DOS -	2+ - QUIT WITH EXIT CODE (EXIT)
__terminate	endp			; AL = exit code

; ---------------------------------------------------------------------------
		mov	dx, 4Bh	; 'K'
		push	ds
		push	dx
		nop
		push	cs
		call	near ptr ___ErrorMessage
		pop	dx
		pop	ds
		mov	ax, 3
		push	ax
		nop
		push	cs
		call	near ptr __exit

; =============== S U B	R O U T	I N E =======================================


sub_178		proc near
		push	ds
		mov	ax, 3500h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr dword_12AFA, bx
		mov	word ptr dword_12AFA+2,	es
		mov	ax, 3504h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr dword_12AFE, bx
		mov	word ptr dword_12AFE+2,	es
		mov	ax, 3505h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr dword_12B02, bx
		mov	word ptr dword_12B02+2,	es
		mov	ax, 3506h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr dword_12B06, bx
		mov	word ptr dword_12B06+2,	es
		mov	ax, 2500h
		mov	dx, cs
		mov	ds, dx
		assume ds:seg000
		mov	dx, 163h
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		assume ds:dseg
		retn
sub_178		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

__restorezero	proc far
		push	ds
		mov	ax, 2500h
		lds	dx, dword_12AFA
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		push	ds
		mov	ax, 2504h
		lds	dx, dword_12AFE
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		push	ds
		mov	ax, 2505h
		lds	dx, dword_12B02
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		push	ds
		mov	ax, 2506h
		lds	dx, dword_12B06
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		retf
__restorezero	endp


; =============== S U B	R O U T	I N E =======================================


sub_1E8		proc near
		mov	ax, 100h
		mov	dx, di
		mov	bx, si

loc_1EF:
		cmp	bx, di
		jz	short loc_20C
		cmp	byte ptr es:[bx], 0FFh
		jz	short loc_207
		mov	cl, es:[bx+1]
		xor	ch, ch
		cmp	cx, ax
		jnb	short loc_207
		mov	ax, cx
		mov	dx, bx

loc_207:
		add	bx, 6
		jmp	short loc_1EF
; ---------------------------------------------------------------------------

loc_20C:
		cmp	dx, di
		jz	short locret_22B
		mov	bx, dx
		cmp	byte ptr es:[bx], 0
		mov	byte ptr es:[bx], 0FFh
		push	es
		jz	short loc_224
		call	dword ptr es:[bx+2]
		pop	es
		jmp	short sub_1E8
; ---------------------------------------------------------------------------

loc_224:
		call	word ptr es:[bx+2]
		pop	es
		jmp	short sub_1E8
; ---------------------------------------------------------------------------

locret_22B:
		retn
sub_1E8		endp


; =============== S U B	R O U T	I N E =======================================


sub_22C		proc near
		mov	ah, 0
		mov	dx, di
		mov	bx, si

loc_232:
		cmp	bx, di
		jz	short loc_24D
		cmp	byte ptr es:[bx], 0FFh
		jz	short loc_248
		cmp	es:[bx+1], ah
		jb	short loc_248
		mov	ah, es:[bx+1]
		mov	dx, bx

loc_248:
		add	bx, 6
		jmp	short loc_232
; ---------------------------------------------------------------------------

loc_24D:
		cmp	dx, di
		jz	short locret_26C
		mov	bx, dx
		cmp	byte ptr es:[bx], 0
		mov	byte ptr es:[bx], 0FFh
		push	es
		jz	short loc_265
		call	dword ptr es:[bx+2]
		pop	es
		jmp	short sub_22C
; ---------------------------------------------------------------------------

loc_265:
		call	word ptr es:[bx+2]
		pop	es
		jmp	short sub_22C
; ---------------------------------------------------------------------------

locret_26C:
		retn
sub_22C		endp

; ---------------------------------------------------------------------------
DGROUP@		dw 0
__MMODEL	db 4, 0C0h, 6 dup(0), 2	dup(7),	2 dup(0), 7, 0,	7, 0, 7
		db 2 dup(0), 4 dup(7), 0, 3 dup(7), 5 dup(0), 2	dup(0Fh)
		db 2 dup(0), 0Fh, 0, 0Fh, 0, 0Fh, 2 dup(0), 4 dup(0Fh)
		db 0, 3	dup(0Fh)
word_2A2	dw 0
word_2A4	dw 0
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	ds
		lds	dx, [bp+12h]
		mov	ax, [bp+0Eh]
		add	ax, 0Fh
		shr	ax, 4
		add	ax, [bp+10h]
		mov	es, ax
		cld
		mov	si, dx
		xor	dx, dx
		mov	di, dx
		lodsb
		xor	ch, ch
		mov	cl, al
		rep movsb
		xor	al, al
		stosb
		push	es
		pop	ds
		mov	si, [bp+0Ch]
		mov	ax, [bp+0Eh]
		and	ax, 0Fh
		sub	si, ax
		mov	bx, [bp+0Ah]
		mov	cx, [bp+8]
		mov	di, [bp+6]
		mov	ax, [bp+4]
		call	loc_3E2
		pop	ds
		pop	bp
		retn	10h
; ---------------------------------------------------------------------------
		mov	bx, sp
		push	ds
		mov	ax, cs:word_2A4
		mov	ds, ax
		mov	es, ax
		mov	al, ss:[bx+2]
		mov	byte_12BD8, al
		call	sub_BE3
		pop	ds
		retn	2
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	bx, ds
		mov	es, bx
		assume es:dseg
		mov	dx, [bp+4]
		mov	ax, [bp+6]
		add	ax, 0Fh
		shr	ax, 4
		add	ax, bx
		mov	ds, ax
		mov	si, [bp+8]
		mov	ax, [bp+6]
		and	ax, 0Fh
		sub	si, ax
		mov	bx, [bp+0Ah]
		mov	cx, [bp+0Ch]
		mov	di, [bp+0Eh]
		mov	ax, [bp+10h]
		call	loc_3E2
		pop	ds
		pop	di
		pop	si
		pop	bp
		retn
; ---------------------------------------------------------------------------
		mov	bx, sp
		push	ds
		push	si
		push	di
		mov	ax, cs:word_2A4
		mov	ds, ax
		mov	es, ax
		assume es:nothing
		mov	al, ss:[bx+2]
		mov	byte_12BD8, al
		call	sub_BE3
		pop	di
		pop	si
		pop	ds
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_35A		proc far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		les	dx, [bp+arg_0]
		mov	ax, [bp+arg_4]
		add	ax, 0Fh
		shr	ax, 4
		add	ax, [bp+arg_6]
		mov	ds, ax
		mov	si, [bp+arg_8]
		mov	ax, [bp+arg_4]
		and	ax, 0Fh
		sub	si, ax
		mov	bx, [bp+arg_A]
		mov	cx, [bp+arg_C]
		mov	di, [bp+arg_E]
		mov	ax, [bp+arg_10]
		call	loc_3E2
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf
sub_35A		endp

; ---------------------------------------------------------------------------
		mov	bx, sp
		push	ds
		push	si
		push	di
		mov	ax, cs:word_2A4
		mov	ds, ax
		mov	es, ax
		mov	al, ss:[bx+4]
		mov	byte_12BD8, al
		call	sub_BE3
		pop	di
		pop	si
		pop	ds
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		les	dx, [bp+4]
		mov	ax, [bp+8]
		add	ax, 0Fh
		shr	ax, 4
		add	ax, [bp+0Ah]
		mov	ds, ax
		mov	si, [bp+0Ch]
		mov	ax, [bp+8]

loc_3C8:
		and	ax, 0Fh
		sub	si, ax
		mov	bx, [bp+0Eh]
		mov	cx, [bp+10h]
		mov	di, [bp+12h]
		mov	ax, [bp+14h]
		call	loc_3E2
		pop	ds
		pop	di
		pop	si
		pop	bp
		retn
; ---------------------------------------------------------------------------

locret_3E1:
		retn
; ---------------------------------------------------------------------------

loc_3E2:
		cld
		mov	cs:word_2A2, sp
		mov	cs:word_2A4, ds
		mov	word_12BD0, bx
		mov	seg_12BD2, cx
		mov	word ptr byte_12BD9, ax
		mov	ax, di
		mov	byte_12BD8, al
		xor	ax, ax
		mov	byte ptr unk_12BDB, al
		mov	ax, 0FFF8h
		cmp	si, 1FA2h
		jb	short locret_3E1
		mov	ax, si
		sub	ax, 1F60h
		mov	seg_12BE6, ax
		add	ax, 1F60h
		mov	word ptr cs:loc_736+2, ax
		mov	word ptr cs:loc_746+2, ax
		mov	word ptr cs:loc_756+2, ax
		mov	word ptr cs:loc_766+2, ax
		mov	word ptr cs:loc_776+2, ax
		mov	word ptr cs:loc_7E0+2, ax
		mov	word ptr cs:loc_5DA+2, ax
		mov	word ptr cs:loc_5EA+2, ax
		mov	word ptr cs:loc_614+2, ax
		mov	word ptr cs:loc_624+2, ax
		mov	word ptr cs:loc_634+2, ax
		mov	word ptr cs:loc_644+2, ax
		mov	word ptr cs:loc_6B6+2, ax
		mov	word ptr cs:loc_716+2, ax
		mov	word ptr cs:loc_726+2, ax
		mov	word ptr cs:loc_8B3+2, ax

loc_456:
		mov	word ptr cs:loc_7F0+2, ax

loc_45A:
		mov	word ptr cs:loc_863+2, ax
		mov	word ptr cs:loc_873+2, ax
		mov	word ptr cs:loc_883+2, ax
		mov	word ptr cs:loc_893+2, ax
		mov	word ptr cs:loc_8A3+2, ax
		push	es
		pop	ds
		call	sub_8D2
		mov	bx, cs:word_2A4
		mov	ds, bx
		mov	es, bx
		jb	short locret_48F
		mov	word_12BE0, ax
		call	sub_8D8
		mov	si, bx
		lodsw
		cmp	ax, 4E5Ah
		mov	ax, 0FFE1h
		jz	short loc_490

locret_48F:
		retn
; ---------------------------------------------------------------------------

loc_490:
		test	byte_12BD9, 4
		jz	short loc_4A4

loc_497:
		lodsb
		cmp	al, 1Ah
		jz	short loc_4A4
		mov	dl, al
		mov	ah, 2
		int	21h		; DOS -	DISPLAY	OUTPUT
					; DL = character to send to standard output
		jmp	short loc_497
; ---------------------------------------------------------------------------

loc_4A4:
		lodsb
		or	al, al
		jnz	short loc_4A4
		lodsb
		mov	bl, al
		lodsw
		mov	cx, ax
		lodsb
		cmp	al, 4
		mov	ax, 0FFE0h
		jnz	short locret_48F
		test	byte_12BD9, 8
		jz	short loc_4C3
		mov	ax, cx
		call	sub_904

loc_4C3:
		add	si, 4
		lodsw
		xchg	ah, al
		xor	cx, cx
		mov	dx, cx
		mov	di, ax
		add	di, si
		and	ax, ax
		jz	short loc_50C

loc_4D5:
		cmp	si, di
		jz	short loc_50C
		lodsb
		cmp	al, 1
		jz	short loc_4E4
		cmp	al, 2
		jz	short loc_4F0
		jmp	short loc_50C
; ---------------------------------------------------------------------------

loc_4E4:
		lodsw
		xchg	ah, al
		mov	cx, ax
		lodsw
		xchg	ah, al
		mov	dx, ax
		jmp	short loc_4D5
; ---------------------------------------------------------------------------

loc_4F0:
		add	si, 3
		lodsb
		test	byte_12BD9, 40h
		jnz	short loc_4D5
		cmp	seg_12BDA, 0FFh

loc_500:
		jz	short loc_4D5
		mov	seg_12BDA, al
		or	byte_12BD9, 40h
		jmp	short loc_4D5
; ---------------------------------------------------------------------------

loc_50C:
		mov	si, di
		cmp	word_12BD0, 0
		jge	short loc_519
		mov	word_12BD0, cx

loc_519:
		cmp	seg_12BD2, 0
		jge	short loc_524
		mov	seg_12BD2, dx

loc_524:
		mov	cx, word_12BD0
		mov	ax, seg_12BD2
		shr	cx, 3
		shl	ax, 4
		add	cx, ax
		shl	ax, 2
		add	cx, ax

loc_538:
		mov	seg_12BDE, cx

loc_53C:
		lodsw
		xchg	ah, al
		mov	word_12BD4, ax
		mov	cx, ax
		neg	ax
		mov	word ptr cs:loc_667+1, ax
		inc	ax

loc_54B:
		mov	word ptr cs:loc_606+1, ax
		dec	ax
		add	ax, ax
		mov	word ptr cs:loc_5FB+1, ax
		add	cx, cx
		mov	ax, cx
		add	ax, 160h
		mov	seg_12BE2, ax
		add	cx, cx
		mov	word_12BDC, cx
		add	ax, cx
		mov	word_12BE4, ax
		mov	word ptr cs:loc_6A2+1, ax
		mov	word ptr cs:loc_6D5+2, ax
		mov	word ptr cs:loc_650+2, ax
		mov	ax, word_12BD0
		and	ax, 7
		add	ax, word_12BD4
		mov	word_12BEC, ax
		mov	cx, ax
		lodsw
		xchg	ah, al
		mov	seg_12BD6, ax
		mov	word ptr off_12BE8+2, ax
		test	bl, 80h
		jnz	short loc_5A5
		mov	cx, 30h	; '0'
		mov	di, 100h

loc_59A:
		lodsb
		shr	al, 4
		stosb
		loop	loc_59A
		mov	bx, si
		jmp	short loc_5B3
; ---------------------------------------------------------------------------

loc_5A5:
		mov	bx, si
		mov	si, 272h
		mov	di, 100h
		mov	cx, 0Ch
		rep movs word ptr es:[di], word	ptr cs:[si]

loc_5B3:
		test	byte_12BD9, 1
		jz	short loc_5BD
		call	sub_BE3

loc_5BD:
		call	sub_8BE
		mov	dh, 1
		mov	di, 160h
		xor	al, al
		call	loc_796
		mov	cx, word_12BD4
		rep stosw
		xor	bp, bp
		; Hack (jmp loc_659)
		db 0e9h
		db 084h
		db 000h
; ---------------------------------------------------------------------------

loc_5D5:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_5DA:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_5F9
		call	sub_8D8
		jmp	short loc_5F9
; ---------------------------------------------------------------------------

loc_5E5:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_5EA:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_604
		call	sub_8D8
		jmp	short loc_604
; ---------------------------------------------------------------------------

loc_5F5:
		dec	dh
		jz	short loc_5D5

loc_5F9:
		add	dl, dl

loc_5FB:
		mov	si, 0
		jnb	short loc_676
		dec	dh
		jz	short loc_5E5

loc_604:
		add	dl, dl

loc_606:
		mov	si, 0
		jnb	short loc_676
		dec	si
		dec	si
		jmp	short loc_676
; ---------------------------------------------------------------------------

loc_60F:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_614:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_65D
		call	sub_8D8
		jmp	short loc_65D
; ---------------------------------------------------------------------------

loc_61F:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_624:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_665
		call	sub_8D8
		jmp	short loc_665
; ---------------------------------------------------------------------------

loc_62F:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_634:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_682
		call	sub_8D8
		jmp	short loc_682
; ---------------------------------------------------------------------------

loc_63F:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_644:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_690
		call	sub_8D8
		jmp	short loc_690
; ---------------------------------------------------------------------------

loc_64F:
		movsw

loc_650:
		; Hack (cmp di, 0)
		db 081h
		db 0ffh
		db 000h
		db 000h
		jnz	short loc_659
		call	sub_930

loc_659:
		dec	dh
		jz	short loc_60F

loc_65D:
		add	dl, dl
		jb	short loc_5F5
		dec	dh
		jz	short loc_61F

loc_665:
		add	dl, dl

loc_667:
		mov	si, 0
		jb	short loc_676
		mov	si, 0FFFCh
		mov	ax, [di-2]
		cmp	ah, al
		jz	short loc_6C1

loc_676:
		cmp	si, bp
		mov	bp, si
		jz	short loc_6CC
		add	si, di

loc_67E:
		dec	dh
		jz	short loc_62F

loc_682:
		add	dl, dl
		jnb	short loc_64F
		mov	ax, 1
		xor	cx, cx

loc_68B:
		inc	cx
		dec	dh
		jz	short loc_63F

loc_690:
		add	dl, dl
		jb	short loc_68B

loc_694:
		dec	dh
		jz	short loc_6B1

loc_698:
		add	dl, dl
		adc	ax, ax
		loop	loc_694
		jb	short loc_6FB

loc_6A0:
		mov	cx, ax

loc_6A2:
		mov	ax, 0
		sub	ax, di
		shr	ax, 1
		cmp	cx, ax
		jnb	short loc_6ED
		rep movsw
		jmp	short loc_659
; ---------------------------------------------------------------------------

loc_6B1:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_6B6:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_698
		call	sub_8D8
		jmp	short loc_698
; ---------------------------------------------------------------------------

loc_6C1:
		cmp	si, bp
		mov	bp, si
		jz	short loc_6CC
		lea	si, [di-2]
		jmp	short loc_67E
; ---------------------------------------------------------------------------

loc_6CC:
		mov	al, [di-1]

loc_6CF:
		call	loc_796
		stosw
		mov	al, ah

loc_6D5:
		; Hack (cmp di, 0)
		db 081h
		db 0ffh
		db 000h
		db 000h
		jz	short loc_6E8

loc_6DB:
		dec	dh
		jz	short loc_711

loc_6DF:
		add	dl, dl
		jb	short loc_6CF
		xor	bp, bp
		jmp	loc_659
; ---------------------------------------------------------------------------

loc_6E8:
		call	sub_930
		jmp	short loc_6DB
; ---------------------------------------------------------------------------

loc_6ED:
		sub	cx, ax
		xchg	ax, cx
		rep movsw
		call	sub_930
		sub	si, word_12BDC
		jmp	short loc_6A0
; ---------------------------------------------------------------------------

loc_6FB:
		xor	cx, cx

loc_6FD:
		movsw
		cmp	di, word_12BE4
		loopne	loc_6FD
		jnz	short loc_6A0
		call	sub_930
		sub	si, word_12BDC
		jcxz	short loc_6A0
		jmp	short loc_6FD
; ---------------------------------------------------------------------------

loc_711:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_716:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_6DF
		call	sub_8D8
		jmp	short loc_6DF
; ---------------------------------------------------------------------------

loc_721:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_726:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_785
		call	sub_8D8
		jmp	short loc_785
; ---------------------------------------------------------------------------

loc_731:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_736:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7A0
		call	sub_8D8
		jmp	short loc_7A0
; ---------------------------------------------------------------------------

loc_741:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_746:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7A8
		call	sub_8D8
		jmp	short loc_7A8
; ---------------------------------------------------------------------------

loc_751:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_756:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7B3
		call	sub_8D8
		jmp	short loc_7B3
; ---------------------------------------------------------------------------

loc_761:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_766:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7BB
		call	sub_8D8
		jmp	short loc_7BB
; ---------------------------------------------------------------------------

loc_771:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_776:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7C3
		call	sub_8D8
		jmp	short loc_7C3
; ---------------------------------------------------------------------------

loc_781:
		dec	dh
		jz	short loc_721

loc_785:
		add	dl, dl
		jb	short loc_78C
		lodsb
		jmp	short loc_7FB
; ---------------------------------------------------------------------------

loc_78C:
		mov	ax, [si]
		xchg	ah, al
		mov	[si], ax
		xor	ah, ah
		jmp	short loc_7FB
; ---------------------------------------------------------------------------

loc_796:
		mov	bp, di
		xor	ah, ah
		mov	si, ax
		dec	dh
		jz	short loc_731

loc_7A0:
		add	dl, dl
		jb	short loc_781
		dec	dh
		jz	short loc_741

loc_7A8:
		add	dl, dl
		mov	cx, 1
		jnb	short loc_7C7
		dec	dh
		jz	short loc_751

loc_7B3:
		add	dl, dl
		jnb	short loc_7BF
		dec	dh
		jz	short loc_761

loc_7BB:
		add	dl, dl
		adc	cx, cx

loc_7BF:
		dec	dh
		jz	short loc_771

loc_7C3:
		add	dl, dl
		adc	cx, cx

loc_7C7:
		dec	dh
		jz	short loc_7DB

loc_7CB:
		add	dl, dl
		adc	cx, cx
		add	si, cx
		std
		lodsb
		lea	di, [si+1]
		rep movsb
		stosb
		jmp	short loc_7FB
; ---------------------------------------------------------------------------

loc_7DB:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_7E0:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_7CB
		call	sub_8D8
		jmp	short loc_7CB
; ---------------------------------------------------------------------------

loc_7EB:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_7F0:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_803
		call	sub_8D8
		jmp	short loc_803
; ---------------------------------------------------------------------------

loc_7FB:
		xor	ah, ah
		mov	si, ax
		dec	dh
		jz	short loc_7EB

loc_803:
		add	dl, dl
		jb	short loc_844
		dec	dh
		jz	short loc_85E

loc_80B:
		add	dl, dl
		mov	cx, 1
		jnb	short loc_82A
		dec	dh
		jz	short loc_86E

loc_816:
		add	dl, dl
		jnb	short loc_822
		dec	dh
		jz	short loc_87E

loc_81E:
		add	dl, dl
		adc	cx, cx

loc_822:
		dec	dh
		jz	short loc_88E

loc_826:
		add	dl, dl
		adc	cx, cx

loc_82A:
		dec	dh
		jz	short loc_89E

loc_82E:
		add	dl, dl
		adc	cx, cx
		add	si, cx
		std
		mov	ah, al
		lodsb
		lea	di, [si+1]
		rep movsb
		stosb
		xchg	ah, al
		mov	di, bp
		cld
		retn
; ---------------------------------------------------------------------------

loc_844:
		dec	dh
		jz	short loc_8AE

loc_848:
		add	dl, dl
		jb	short loc_852
		mov	ah, [si]
		mov	di, bp
		cld
		retn
; ---------------------------------------------------------------------------

loc_852:
		mov	cx, [si]
		xchg	ch, cl
		mov	[si], cx
		mov	ah, cl
		mov	di, bp
		cld
		retn
; ---------------------------------------------------------------------------

loc_85E:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_863:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_80B
		call	sub_8D8
		jmp	short loc_80B
; ---------------------------------------------------------------------------

loc_86E:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_873:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_816
		call	sub_8D8
		jmp	short loc_816
; ---------------------------------------------------------------------------

loc_87E:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_883:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_81E
		call	sub_8D8
		jmp	short loc_81E
; ---------------------------------------------------------------------------

loc_88E:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_893:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_826
		call	sub_8D8
		jmp	short loc_826
; ---------------------------------------------------------------------------

loc_89E:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_8A3:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_82E
		call	sub_8D8
		jmp	short loc_82E
; ---------------------------------------------------------------------------

loc_8AE:
		mov	dl, [bx]
		inc	bx
		mov	dh, 8

loc_8B3:
		; Hack (cmp bx, 0)
		db 081h
		db 0fbh
		db 000h
		db 000h
		jnz	short loc_848
		call	sub_8D8
		jmp	short loc_848

; =============== S U B	R O U T	I N E =======================================


sub_8BE		proc near
		xor	di, di
		mov	ax, 1000h

loc_8C3:
		mov	cx, 10h

loc_8C6:
		stosb
		sub	al, 10h
		loop	loc_8C6
		add	al, 10h
		dec	ah
		jnz	short loc_8C3
		retn
sub_8BE		endp


; =============== S U B	R O U T	I N E =======================================


sub_8D2		proc near
		mov	ax, 3D00h
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read
		retn
sub_8D2		endp


; =============== S U B	R O U T	I N E =======================================


sub_8D8		proc near
		push	ax
		push	cx
		push	dx
		mov	bx, word_12BE0
		mov	dx, 1F60h
		push	dx
		mov	cx, seg_12BE6
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		jb	short loc_8F2
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retn
; ---------------------------------------------------------------------------

loc_8F2:
		call	sub_8FB
		mov	sp, cs:word_2A2
		retn
sub_8D8		endp


; =============== S U B	R O U T	I N E =======================================


sub_8FB		proc near
		mov	bx, word_12BE0
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		retn
sub_8FB		endp


; =============== S U B	R O U T	I N E =======================================


sub_904		proc near
		cmp	ax, 102h
		jz	short loc_918
		mov	ch, 0C0h ; 'À'
		mov	ah, 42h	; 'B'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	ah, 40h	; '@'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	al, 1
		out	6Ah, al		; PC-98	GDC (6a):
					;
		retn
; ---------------------------------------------------------------------------

loc_918:
		mov	ch, 80h	; '€'
		mov	ah, 42h	; 'B'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	al, 8
		out	68h, al
		mov	ah, 40h	; '@'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	al, 1
		out	6Ah, al		; PC-98	GDC (6a):
					;
		or	byte ptr unk_12BDB, 4
		retn
sub_904		endp


; =============== S U B	R O U T	I N E =======================================


sub_930		proc near
		pusha
		push	es
		cmp	seg_12BDE, 7D00h
		jl	short loc_949
		sub	seg_12BDE, 7D00h
		or	byte ptr unk_12BDB, 1
		mov	al, 1
		out	0A6h, al	; Interrupt Controller #2, 8259A

loc_949:
		mov	si, word_12BE4
		mov	di, 160h
		mov	cx, word_12BD4
		sub	si, cx
		sub	si, cx
		rep movsw
		mov	si, di
		mov	cx, 4

loc_95F:
		push	cx
		mov	di, seg_12BDE
		mov	ax, word_12BD0
		and	ax, 7
		jz	short loc_9E4
		mov	cx, 8
		sub	cx, ax
		push	cx
		mov	ah, 0FFh
		shl	ah, cl
		not	al
		xor	bx, bx
		mov	dx, bx

loc_97C:
		lodsb
		add	al, al
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	al, al
		adc	dh, dh
		loop	loc_97C
		mov	cx, 0A800h
		mov	es, cx
		assume es:nothing
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	al, dh
		out	7Eh, al
		mov	al, dl
		out	7Eh, al
		mov	al, bh
		out	7Eh, al
		mov	al, bl
		out	7Eh, al
		mov	al, ah
		test	byte_12BD9, 40h
		jz	short loc_9D3
		mov	ah, seg_12BDA
		shr	ah, 1
		jnb	short loc_9BB
		not	dh

loc_9BB:
		shr	ah, 1
		jnb	short loc_9C1
		not	dl

loc_9C1:
		shr	ah, 1
		jnb	short loc_9C7
		not	bh

loc_9C7:
		shr	ah, 1
		jnb	short loc_9CD
		not	bl

loc_9CD:
		or	bx, dx
		or	bl, bh
		or	al, bl

loc_9D3:
		stosb
		xor	al, al
		out	7Ch, al
		pop	ax
		mov	cx, word_12BD4
		sub	cx, ax
		shr	cx, 3
		jmp	short loc_9EB
; ---------------------------------------------------------------------------

loc_9E4:
		mov	cx, word_12BD4
		shr	cx, 3

loc_9EB:
		lodsw
		add	al, al
		adc	bl, bl
		add	ah, ah
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	ah, ah
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	ah, ah
		adc	dl, dl
		add	al, al
		adc	dh, dh
		add	ah, ah
		adc	dh, dh
		lodsw
		add	al, al
		adc	bl, bl
		add	ah, ah
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	ah, ah
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	ah, ah
		adc	dl, dl
		add	al, al
		adc	dh, dh
		add	ah, ah
		adc	dh, dh
		lodsw
		add	al, al
		adc	bl, bl
		add	ah, ah
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	ah, ah
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	ah, ah
		adc	dl, dl
		add	al, al
		adc	dh, dh
		add	ah, ah
		adc	dh, dh
		lodsw
		add	al, al
		adc	bl, bl
		add	ah, ah
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	ah, ah
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	ah, ah
		adc	dl, dl
		add	al, al
		adc	dh, dh
		add	ah, ah
		adc	dh, dh
		mov	ax, 0A800h
		mov	es, ax
		test	byte_12BD9, 40h
		jnz	short loc_A97
		mov	es:[di], dh
		mov	es:[di-8000h], dl
		mov	ah, 0B8h ; '¸'
		mov	es, ax
		assume es:nothing
		mov	es:[di], bh
		mov	ah, 0E0h ; 'à'
		mov	es, ax
		assume es:nothing
		mov	al, bl
		stosb
		dec	cx
		jz	short loc_AD4
		jmp	loc_9EB
; ---------------------------------------------------------------------------

loc_A97:
		mov	ah, seg_12BDA
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	al, dh
		out	7Eh, al
		mov	al, dl
		out	7Eh, al
		mov	al, bh
		out	7Eh, al
		mov	al, bl
		out	7Eh, al
		shr	ah, 1
		jnb	short loc_AB5
		not	dh

loc_AB5:
		shr	ah, 1
		jnb	short loc_ABB
		not	dl

loc_ABB:
		shr	ah, 1
		jnb	short loc_AC1
		not	bh

loc_AC1:
		shr	ah, 1
		jnb	short loc_AC7
		not	bl

loc_AC7:
		mov	ax, dx
		or	ax, bx
		or	al, ah
		stosb
		dec	cx
		jz	short loc_AD4
		jmp	loc_9EB
; ---------------------------------------------------------------------------

loc_AD4:
		xor	al, al
		out	7Ch, al
		mov	cx, word_12BEC
		and	cx, 7
		jz	short loc_B4F
		mov	ah, 8
		sub	ah, cl
		xor	bx, bx
		mov	dx, bx

loc_AE9:
		lodsb
		add	al, al
		adc	bl, bl
		add	al, al
		adc	bh, bh
		add	al, al
		adc	dl, dl
		add	al, al
		adc	dh, dh
		loop	loc_AE9
		mov	cl, ah
		mov	ch, 0FFh
		shl	ch, cl
		shl	bx, cl
		shl	dx, cl
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	al, dh
		out	7Eh, al
		mov	al, dl
		out	7Eh, al
		mov	al, bh
		out	7Eh, al
		mov	al, bl
		out	7Eh, al
		mov	al, ch
		test	byte_12BD9, 40h
		jz	short loc_B4A
		mov	ah, seg_12BDA
		shr	ah, 1
		jnb	short loc_B32
		not	dh

loc_B32:
		shr	ah, 1
		jnb	short loc_B38
		not	dl

loc_B38:
		shr	ah, 1
		jnb	short loc_B3E
		not	bh

loc_B3E:
		shr	ah, 1
		jnb	short loc_B44
		not	bl

loc_B44:
		or	bx, dx
		or	bl, bh
		or	al, bl

loc_B4A:
		stosb
		xor	al, al
		out	7Ch, al

loc_B4F:
		pop	cx
		add	seg_12BDE, 50h ; 'P'
		dec	word ptr off_12BE8+2
		jz	short loc_B68
		dec	cx
		jz	short loc_B61
		jmp	loc_95F
; ---------------------------------------------------------------------------

loc_B61:
		pop	es
		assume es:nothing
		popa
		mov	di, seg_12BE2
		retn
; ---------------------------------------------------------------------------

loc_B68:
		test	byte ptr unk_12BDB, 1
		jle	short loc_B78
		mov	al, 0
		out	0A6h, al	; Interrupt Controller #2, 8259A
		and	byte ptr unk_12BDB, 0FDh

loc_B78:
		call	sub_8FB
		mov	sp, cs:word_2A2
		xor	ax, ax
		retn
sub_930		endp

; ---------------------------------------------------------------------------
		db    0
		db    0
		db  26h	; &
		db    0
		db  4Ch	; L
		db    0
		db  72h	; r
		db    0
		db  98h	; ˜
		db    0
		db 0BEh	; ¾
		db    0
		db 0E4h	; ä
		db    0
		db  0Ah
		db    1
		db  30h	; 0
		db    1
		db  56h	; V
		db    1
		db  7Ch	; |
		db    1
		db 0A2h	; ¢
		db    1
		db 0C8h	; È
		db    1
		db 0EEh	; î
		db    1
		db  14h
		db    2
		db  3Ah	; :
		db    2
		db    0
		db    0
		db  4Bh	; K
		db    0
		db  96h	; –
		db    0
		db 0E1h	; á
		db    0
		db  2Ch	; ,
		db    1
		db  77h	; w
		db    1
		db 0C2h	; Â
		db    1
		db  0Dh
		db    2
		db  58h	; X
		db    2
		db 0A3h	; £
		db    2
		db 0EEh	; î
		db    2
		db  39h	; 9
		db    3
		db  84h	; „
		db    3
		db 0CFh	; Ï
		db    3
		db  1Ah
		db    4
		db  65h	; e
		db    4
		db    0
		db    0
		db  0Fh
		db    0
		db  1Eh
		db    0
		db  2Dh	; -
		db    0
		db  3Ch	; <
		db    0
		db  4Bh	; K
		db    0
		db  5Ah	; Z
		db    0
		db  69h	; i
		db    0
		db  78h	; x
		db    0
		db  87h	; ‡
		db    0
		db  96h	; –
		db    0
		db 0A5h	; ¥
		db    0
		db 0B4h	; ´
		db    0
		db 0C3h	; Ã
		db    0
		db 0D2h	; Ò
		db    0
		db 0E1h	; á
		db    0

; =============== S U B	R O U T	I N E =======================================


sub_BE3		proc near
		push	bx
		mov	bl, byte_12BD8
		mov	bh, 64h	; 'd'
		mov	di, 150h
		xor	cx, cx

loc_BEF:
		mov	al, cl
		mul	bl
		div	bh
		stosb
		inc	cl
		cmp	cl, 10h
		jnz	short loc_BEF
		mov	si, 100h
		mov	bx, 150h
		mov	cx, 10h
		xor	ah, ah
		test	byte_12BD9, 10h
		jnz	short loc_C25

loc_C0F:
		mov	al, ah
		out	0A8h, al	; Interrupt Controller #2, 8259A
		lodsb
		xlat
		out	0ACh, al	; Interrupt Controller #2, 8259A
		lodsb
		xlat
		out	0AAh, al	; Interrupt Controller #2, 8259A
		lodsb
		xlat
		out	0AEh, al	; Interrupt Controller #2, 8259A
		inc	ah
		loop	loc_C0F
		pop	bx
		retn
; ---------------------------------------------------------------------------

loc_C25:
		mov	al, 10h
		sub	al, cl
		out	0A8h, al	; Interrupt Controller #2, 8259A
		mov	dx, 40h	; '@'
		lodsb
		add	al, al
		mov	di, ax
		add	dx, cs:[di+0B83h]
		lodsb
		add	al, al
		mov	di, ax
		add	dx, cs:[di+0BA3h]
		lodsb
		add	al, al
		mov	di, ax
		add	dx, cs:[di+0BC3h]
		mov	al, 7
		sub	al, dh
		xlat
		mov	dl, al
		shr	dl, 1
		sbb	al, al
		out	0AEh, al	; Interrupt Controller #2, 8259A
		shr	dl, 1
		sbb	al, al
		out	0ACh, al	; Interrupt Controller #2, 8259A
		shr	dl, 1
		sbb	al, al
		out	0AAh, al	; Interrupt Controller #2, 8259A
		loop	loc_C25
		pop	bx
		retn
sub_BE3		endp

; ---------------------------------------------------------------------------
		db 0

; =============== S U B	R O U T	I N E =======================================


sub_C6A		proc far
		mov	ah, 42h	; 'B'
		mov	ch, 0C0h ; 'À'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	ax, 0A800h
		mov	word_13576, ax
		mov	word_135E0, ax
		mov	word_13578, 3E80h
		xor	ax, ax
		mov	word_135D4, ax
		mov	word_135DA, ax
		mov	es, ax
		assume es:seg000
		mov	ah, byte ptr es:loc_54B+2
		and	ah, 4
		add	ah, 3Fh	; '?'
		and	ah, 40h
		mov	word_1357E, ax
		mov	ax, 27Fh
		mov	word_135D8, ax
		mov	word_135D6, ax
		mov	ax, 190h
		mov	word_1357A, ax
		dec	ax
		mov	word_135DE, ax
		mov	word_135DC, ax
		mov	word_135E2, 7CB0h
		retf
sub_C6A		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_CB8		proc far
		mov	al, 80h	; '€'
		pushf
		cli
		out	7Ch, al
		popf
		xor	ax, ax
		mov	dx, 7Eh	; '~'
		out	dx, al
		out	dx, al
		out	dx, al
		out	dx, al
		mov	bx, di
		xor	di, di
		mov	cx, word_13578
		mov	es, word_13576
		assume es:nothing
		rep stosw
		mov	di, bx
		out	7Ch, al
		retf
sub_CB8		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_CDC		proc far
		mov	ah, 40h	; '@'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		retf
sub_CDC		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_CE2		proc far
		mov	al, 41h	; 'A'
		out	6Ah, al		; PC-98	GDC (6a):
					; Set display mode to LCD
		mov	word_13582, 0
		push	cs
		call	loc_D60
		mov	al, 0
		out	0A4h, al	; Interrupt Controller #2, 8259A
		out	0A6h, al	; Interrupt Controller #2, 8259A
		push	cs
		call	near ptr sub_CDC
		push	cs
		call	near ptr sub_C6A
		push	cs
		call	near ptr sub_CB8
		push	cs
		call	near ptr sub_E6A
		retf
sub_CE2		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D08		proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		mov	dx, word_1357A
		sub	bx, dx
		sbb	ax, ax
		and	bx, ax
		add	bx, dx
		sub	dx, bx
		mov	bp, bx
		mov	cx, word_1357E
		shl	bx, cl
		shl	dx, cl
		mov	cl, 4

loc_D28:
		jmp	short $+2
		in	al, 0A0h	; PIC 2	 same as 0020 for PIC 1
		test	al, cl
		jz	short loc_D28
		mov	al, 70h	; 'p'
		out	0A2h, al	; Interrupt Controller #2, 8259A
		mov	ax, bp
		shl	ax, 1
		shl	ax, 1
		add	ax, bp
		shl	ax, 1
		shl	ax, 1
		shl	ax, 1
		call	sub_126C
		mov	ax, dx
		shl	ax, cl
		or	ah, ch
		call	sub_126C
		xor	ax, ax
		call	sub_126C
		mov	ax, bx
		shl	ax, cl
		or	ah, ch
		call	sub_126C
		pop	bp
		retf	2
sub_D08		endp

; ---------------------------------------------------------------------------

loc_D60:
		cld
		push	si
		mov	ax, word_13582
		cwd
		not	dx
		and	ax, dx
		sub	ax, 0C8h ; 'È'
		sbb	dx, dx
		and	ax, dx
		add	ax, 0C8h ; 'È'
		mov	dh, al
		xor	bx, bx
		mov	ch, bl
		cmp	dh, 64h	; 'd'
		jbe	short loc_D86
		mov	ch, 0Fh
		sub	dh, 0C8h ; 'È'
		neg	dh

loc_D86:
		mov	si, 1BBEh
		mov	dl, 64h	; 'd'
		cmp	word_135B4, bx
		jnz	short loc_DCA

loc_D91:
		mov	al, bl
		out	0A8h, al	; Interrupt Controller #2, 8259A
		lodsw
		shr	ax, 4
		mov	cl, ah
		and	al, 0Fh
		xor	al, ch
		mul	dh
		div	dl
		xor	al, ch
		out	0ACh, al	; Interrupt Controller #2, 8259A
		mov	al, cl
		xor	al, ch
		mul	dh
		div	dl
		xor	al, ch
		out	0AAh, al	; Interrupt Controller #2, 8259A
		lodsb
		shr	al, 4
		xor	al, ch
		mul	dh
		div	dl
		xor	al, ch
		out	0AEh, al	; Interrupt Controller #2, 8259A
		inc	bx
		cmp	bx, 10h
		jl	short loc_D91
		pop	si
		retf
; ---------------------------------------------------------------------------
		nop

loc_DCA:
		mov	bx, dx
		mov	dx, 871Eh
		mov	al, 0A0h ; ' '
		out	0F6h, al
		in	al, dx
		cmp	al, 0FFh
		jnz	short loc_DDF
		mov	dx, 0AE8Eh
		in	al, dx
		shr	al, 2

loc_DDF:
		shr	al, 1
		cmc
		sbb	al, al
		mov	byte ptr cs:loc_E46+2, al
		mov	dx, bx
		push	di
		mov	di, 0

loc_DEE:
		mov	ax, di
		out	0A8h, al	; Interrupt Controller #2, 8259A
		lodsw
		mov	bx, ax
		shr	bx, 4
		and	bl, ch
		lodsb
		and	al, ch
		xor	al, ch
		mul	dh
		div	dl
		xor	al, ch
		xchg	al, bh
		xor	al, ch
		mul	dh
		div	dl
		xor	al, ch
		xchg	al, bl
		xor	al, ch
		mul	dh
		div	dl
		xor	al, ch
		xchg	al, bl
		mov	ah, bh
		cmp	bh, al
		ja	short loc_E23
		mov	bh, al

loc_E23:
		cmp	bh, bl
		ja	short loc_E29
		mov	bh, bl

loc_E29:
		shl	al, 1
		add	al, bl
		shl	al, 1
		add	al, ah
		add	al, bh
		mov	cl, 3
		mul	cl
		mov	cl, 14h
		div	cl
		shr	al, 1
		adc	al, 0
		sub	al, 2
		cmc
		sbb	ah, ah
		and	ah, al

loc_E46:
		xor	ah, 0
		shr	ah, 1
		sbb	al, al
		and	al, 0Fh
		out	0AEh, al	; Interrupt Controller #2, 8259A
		shr	ah, 1
		sbb	al, al
		and	al, 0Fh
		out	0ACh, al	; Interrupt Controller #2, 8259A
		shr	ah, 1
		sbb	al, al
		and	al, 0Fh
		out	0AAh, al	; Interrupt Controller #2, 8259A
		inc	di
		cmp	di, 10h
		jl	short loc_DEE
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================


sub_E6A		proc far
		push	si
		push	di
		push	ds
		pop	es
		assume es:dseg
		mov	di, 1BBEh
		mov	si, 0AE4h
		mov	cx, 18h
		rep movsw
		pop	di
		pop	si
		mov	al, 0
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 4
		out	0AEh, al	; Interrupt Controller #2, 8259A
		mov	al, 26h	; '&'
		out	0ACh, al	; Interrupt Controller #2, 8259A
		mov	al, 15h
		out	0AAh, al	; Interrupt Controller #2, 8259A
		mov	al, 37h	; '7'
		out	0A8h, al	; Interrupt Controller #2, 8259A
		mov	al, 1
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	word_13582, 64h	; 'd'
		push	cs
		call	loc_D60
		retf
sub_E6A		endp


; =============== S U B	R O U T	I N E =======================================


sub_E9E		proc far
		push	si
		push	di
		mov	ah, 52h
		int	21h		; DOS -	2+ internal - GET LIST OF LISTS
					; Return: ES:BX	-> DOS list of lists
		cld
		mov	bx, es:[bx-2]

loc_EA9:
		mov	es, bx
		assume es:nothing
		inc	bx
		mov	ax, es:1
		or	ax, ax
		jz	short loc_EC1
		mov	di, 10h
		mov	cx, 0Ah
		mov	si, 0B1Ah
		repe cmpsb
		jz	short loc_ED2

loc_EC1:
		mov	ax, es:3
		add	bx, ax
		mov	al, es:0
		cmp	al, 4Dh	; 'M'
		jz	short loc_EA9
		mov	bx, 0

loc_ED2:
		mov	ax, bx
		mov	word_135B6, ax
		pop	di
		pop	si
		retf
sub_E9E		endp


; =============== S U B	R O U T	I N E =======================================


sub_EDA		proc far
		push	si
		push	di
		push	cs
		call	near ptr sub_E9E
		or	ax, ax
		mov	ax, 2
		jnz	short loc_F4B
		mov	ax, 5800h
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: get allocation strategy
		mov	dx, ax
		mov	ax, 5801h
		mov	bx, 1
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ah, 48h	; 'H'
		mov	bx, 4
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired
		mov	cx, 0
		jb	short loc_F42
		mov	bx, cs
		cmp	bx, ax
		jnb	short loc_F1D
		mov	es, ax
		assume es:nothing
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed
		mov	ax, 5801h
		mov	bx, 2
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ah, 48h	; 'H'
		mov	bx, 4
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired

loc_F1D:
		mov	cx, ax
		mov	word_135B6, ax
		dec	cx
		mov	es, cx
		assume es:nothing
		mov	ax, 0FFFFh
		mov	es:1, ax
		inc	cx
		mov	es, cx
		assume es:nothing
		cld
		xor	di, di
		mov	si, 0B1Ah
		mov	cx, 0Ah
		rep movsb
		xor	ax, ax
		stosw
		stosw
		stosw
		mov	cx, 1

loc_F42:
		mov	ax, 5801h
		mov	bx, dx
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ax, cx

loc_F4B:
		pop	di
		pop	si
		retf
sub_EDA		endp


; =============== S U B	R O U T	I N E =======================================


sub_F4E		proc far
		mov	ax, word_135B6
		or	ax, ax
		jnz	short loc_F5D
		push	cs
		call	near ptr sub_E9E
		or	ax, ax
		jnz	short locret_F69

loc_F5D:
		mov	es, ax
		assume es:nothing
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed
		mov	word_135B6, 0

locret_F69:
		retf
sub_F4E		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F6A		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ah, 52h
		int	21h		; DOS -	2+ internal - GET LIST OF LISTS
					; Return: ES:BX	-> DOS list of lists
		cld
		mov	bx, es:[bx-2]

loc_F79:
		mov	es, bx
		inc	bx
		mov	ax, es:1
		or	ax, ax
		jz	short loc_F9A
		mov	ax, es:3
		cmp	ax, [bp+arg_0]
		jnz	short loc_F9A
		mov	cx, [bp+arg_2]
		lds	si, [bp+arg_4]
		mov	di, 10h
		repe cmpsb
		jz	short loc_FAB

loc_F9A:
		mov	ax, es:3
		add	bx, ax
		mov	al, es:0
		cmp	al, 4Dh	; 'M'
		jz	short loc_F79
		mov	bx, 0

loc_FAB:
		mov	ax, bx
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	8
sub_F6A		endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_F6A
		or	ax, ax
		jnz	short loc_1028
		mov	ax, 5800h
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: get allocation strategy
		mov	dx, ax
		mov	ax, 5801h
		mov	bx, 1
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ah, 48h	; 'H'
		mov	bx, [bp+6]
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired
		mov	cx, 0
		jb	short loc_101F
		mov	bx, cs
		cmp	bx, ax
		jnb	short loc_1004
		mov	es, ax
		assume es:nothing
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed
		mov	ax, 5801h
		mov	bx, 2
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ah, 48h	; 'H'
		mov	bx, [bp+6]
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired

loc_1004:
		mov	cx, ax
		push	ax
		dec	cx
		mov	es, cx
		assume es:nothing
		mov	ax, 0FFFFh
		mov	es:1, ax
		inc	cx
		mov	es, cx
		assume es:nothing
		xor	di, di
		mov	cx, [bp+8]
		lds	si, [bp+0Ah]
		rep movsb
		pop	cx

loc_101F:
		mov	ax, 5801h
		mov	bx, dx
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ax, cx

loc_1028:
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	8
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1030	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_135CE, 0
		jz	short loc_10B4
		mov	bx, [bp+arg_0]
		les	di, [bp+arg_2]
		assume es:nothing

loc_1042:
		mov	ax, word_1469C
		cmp	word_1469A, ax
		jb	short loc_1078
		add	word_14696, ax
		adc	word_14698, 0
		push	bx
		push	ds
		mov	cx, word_135CE
		mov	bx, word_135D0
		lds	dx, dword_14692
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		pop	bx
		cmc
		sbb	dx, dx
		and	ax, dx
		mov	word_1469C, ax
		jz	short loc_10D3
		mov	word_1469A, 0

loc_1078:
		mov	si, word_1469C
		sub	si, word_1469A
		sub	si, bx
		sbb	ax, ax
		and	si, ax
		add	si, bx
		mov	ax, es
		or	ax, di
		jz	short loc_10A9
		or	si, si
		jz	short loc_10A9
		push	si
		push	ds
		mov	cx, si
		mov	ax, word_1469A
		lds	si, dword_14692
		add	si, ax
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		pop	si

loc_10A9:
		add	word_1469A, si
		sub	bx, si
		jnz	short loc_1042
		jmp	short loc_10D9
; ---------------------------------------------------------------------------
		nop

loc_10B4:
		push	ds
		mov	cx, [bp+arg_0]
		mov	bx, word_135D0
		lds	dx, [bp+arg_2]
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		add	word_14696, ax
		adc	word_14698, 0
		mov	bx, cx
		sub	bx, ax
		jz	short loc_10D9

loc_10D3:
		mov	word_1469E, 1

loc_10D9:
		mov	ax, [bp+arg_0]
		sub	ax, bx
		pop	di
		pop	si
		pop	bp
		retf	6
sub_1030	endp


; =============== S U B	R O U T	I N E =======================================


sub_10E4	proc far
		mov	bx, word_135D0
		cmp	bx, 0FFFFh
		jz	short locret_114E
		mov	ax, word_1469A
		cmp	word_1469C, ax
		jnb	short loc_1122
		push	ds
		mov	cx, word_1469A
		lds	dx, dword_14692
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jb	short loc_1115
		add	word_14696, ax
		adc	word_14698, 0
		cmp	word_1469A, ax
		jz	short loc_111B

loc_1115:
		mov	word_146A0, 1

loc_111B:
		mov	word_1469A, 0
		retf
; ---------------------------------------------------------------------------

loc_1122:
		cmp	word_1469C, 0
		jz	short locret_114E
		mov	dx, ax
		mov	cx, 0
		add	dx, word_14696
		mov	word_1469C, cx
		mov	word_1469A, cx
		adc	cx, word_14698
		mov	ax, 4200h
		mov	bx, word_135D0
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from beginning of	file
		mov	word_14696, ax
		mov	word_14698, dx

locret_114E:
		retf
sub_10E4	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_1150	proc far
		push	cs
		call	near ptr sub_10E4
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		mov	word_135D0, 0FFFFh
		retf
sub_1150	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1160	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	bx, word_135D0
		cmp	bx, 0FFFFh
		jnz	short loc_1197
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr sub_11F0
		sbb	bx, bx
		or	ax, bx
		mov	word_135D0, ax
		xor	ax, ax
		mov	word_1469C, ax
		mov	word_14696, ax
		mov	word_14698, ax
		mov	word_1469A, ax
		mov	word_1469E, ax
		mov	word_146A0, ax
		lea	ax, [bx+1]

loc_1197:
		pop	bp
		retf	4
sub_1160	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_119C	proc far
		push	cs
		call	near ptr sub_10E4
		cmp	bx, 0FFFFh
		jz	short locret_11CD
		push	bp
		mov	bp, sp
		mov	al, [bp+6]
		mov	ah, 42h	; 'B'
		mov	dx, [bp+8]
		mov	cx, [bp+0Ah]
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method:
					; 0-from beginnig,1-from current,2-from	end
		pop	bp
		mov	ax, 4201h
		mov	dx, 0
		mov	cx, dx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from present location
		mov	word_1469E, 0
		mov	word_14696, ax
		mov	word_14698, dx

locret_11CD:
		retf	6
sub_119C	endp

; ---------------------------------------------------------------------------
		mov	ax, word_1469A
		xor	dx, dx
		add	ax, word_14696
		adc	dx, word_14698
		retf

; =============== S U B	R O U T	I N E =======================================


sub_11DE	proc far
		mov	bx, sp
		mov	ax, ss:[bx+4]
		mov	ah, 4
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	al, ah
		mov	ah, 0
		retf	2
sub_11DE	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_11F0	proc far
		mov	bx, sp
		mov	ah, 3Dh	; '='
		mov	al, byte_135D2
		push	ds
		lds	dx, ss:[bx+4]
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read
		pop	ds
		jb	short loc_1204
		retf	4
; ---------------------------------------------------------------------------

loc_1204:
		mov	ax, 0FFFEh
		retf	4
sub_11F0	endp


; =============== S U B	R O U T	I N E =======================================


sub_120A	proc far
		mov	al, 0
		out	7Ch, al
		mov	al, 7
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 5
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 80h	; '€'
		out	7Ch, al
		mov	al, 6
		out	6Ah, al		; PC-98	GDC (6a):
					;
		retf
sub_120A	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_1220	proc far
		mov	ax, 0FFF0h
		mov	dx, 4A0h
		out	dx, ax
		mov	ax, 0FFFFh
		mov	dx, 4A8h
		out	dx, ax
		mov	al, 7
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 4
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 0
		out	7Ch, al
		mov	al, 6
		out	6Ah, al		; PC-98	GDC (6a):
					;
		retf
sub_1220	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_1240	proc far
		push	cs
		call	near ptr sub_120A
		mov	dx, 4A0h
		mov	ax, 0FFF0h
		out	dx, ax
		mov	dx, 4A2h
		mov	ax, 0FFh
		out	dx, ax
		mov	dx, 4A8h
		mov	ax, 0FFFFh
		out	dx, ax
		mov	dx, 4ACh
		xor	ax, ax
		out	dx, ax
		mov	dx, 4AEh
		mov	ax, 0Fh
		out	dx, ax
		push	cs
		call	near ptr sub_1220
		retf
sub_1240	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_126C	proc near
		out	0A0h, al	; PIC 2	 same as 0020 for PIC 1
		mov	al, ah
		jmp	short $+2
		jmp	short $+2
		out	0A0h, al	; PIC 2	 same as 0020 for PIC 1
		retn
sub_126C	endp

; ---------------------------------------------------------------------------
		db    0

; =============== S U B	R O U T	I N E =======================================


sub_1278	proc far
		mov	ax, 4E35h
		mul	word_135E6
		mov	cx, ax
		mov	ax, 15Ah
		mul	word_135E4
		add	cx, ax
		mov	ax, 4E35h
		mul	word_135E4
		add	ax, 1
		adc	dx, cx
		mov	word_135E4, ax
		mov	ax, dx
		mov	word_135E6, ax
		and	ah, 7Fh
		retf
sub_1278	endp

; ---------------------------------------------------------------------------
		db 34h dup(0)
byte_12D6	db 0
word_12D7	dw 0FFFFh
byte_12D9	db 0
byte_12DA	db 0
byte_12DB	db 2 dup(0), 80h, 7Fh, 50h, 32h, 0C0h, 0E6h, 0F0h, 0B0h
		db 20h,	0E6h, 0A0h, 0E6h, 20h, 58h, 0CDh, 2, 0CFh, 50h
		db 0B0h, 20h, 0E6h, 8, 0EBh, 0,	0B0h, 0Bh, 0E6h, 8, 0EBh
		db 0, 0E4h, 8, 0Ah, 0C0h, 75h, 4, 0B0h,	20h, 0E6h, 0, 58h
		db 0EBh, 0
off_1308	dd 1476B850h
; ---------------------------------------------------------------------------
		call	sub_F150
		jb	short loc_1319
		pop	ax
		; Hack (jmp start)
		db 0eah
		db 000h
		db 000h
		db 000h
		db 000h
; ---------------------------------------------------------------------------

loc_1319:
		xchg	ax, bx
		mov	ax, seg	dseg
		mov	ds, ax
		call	sub_19E0
		pop	ax

locret_1323:
		iret
; ---------------------------------------------------------------------------
		push	ds
		push	si
		push	di
		mov	ax, seg	dseg
		mov	ds, ax
		mov	ax, 65h	; 'e'
		mov	ss:2Fh,	ax
		add	ax, 0C0h ; 'À'
		mov	ss:31h,	ax
		mov	ax, word ptr dword_135EE+2
		mov	ss:27h,	ax
		push	ds
		push	cs
		pop	ds
		assume ds:seg000
		mov	ax, ds
		xor	ax, ss:27h
		mov	ds, ax
		assume ds:dseg
		mov	ax, 3534h
		mov	cx, 0Bh
		mov	di, 12A2h

loc_1356:
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	[di], bx
		mov	word ptr [di+2], es
		add	di, 4
		inc	ax
		loop	loc_1356
		push	ds
		push	di
		mov	cl, 0
		mov	ax, seg	dseg
		mov	ds, ax
		cmp	word_13600, 0
		jz	short loc_1387
		mov	ah, 4
		xor	cx, cx
		int	1Ah		; CLOCK	- READ DATE FROM REAL TIME CLOCK (AT,XT286,CONV,PS)
					; Return: DL = day in BCD
					; DH = month in	BCD
					; CL = year in BCD
					; CH = century (19h or 20h)
		mov	cl, 2
		cmp	ch, 19h
		jz	short loc_1387
		cmp	ch, 20h	; ' '
		jz	short loc_1387
		mov	cl, 1

loc_1387:
		pop	di
		pop	ds
		mov	byte_13D76, cl
		cmp	cl, 2
		jnz	short loc_13A4
		mov	ax, 3575h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	[di], bx
		mov	word ptr [di+2], es
		add	di, 4
		mov	ax, 3502h
		jmp	short loc_13BB
; ---------------------------------------------------------------------------

loc_13A4:
		cmp	cl, 1
		jnz	short loc_13D2
		push	sp
		pop	ax
		cmp	ax, sp
		mov	ax, 3510h
		jz	short loc_13BB
		in	al, 0Ah		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		and	al, 40h
		mov	byte_13D79, al
		mov	al, 16h

loc_13BB:
		mov	bl, al
		mov	bh, 25h	; '%'
		mov	word_13D77, bx
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	[di], bx
		mov	word ptr [di+2], es
		mov	word_13DB5, bx
		mov	word_13DB7, es

loc_13D2:
		pop	ds
		mov	bx, 0FFFFh
		mov	es, segx
		mov	es, word ptr es:2Ch
		sub	di, di
		mov	cx, 7FFFh
		mov	al, 0
		cld

loc_13E7:
		repne scasb
		jcxz	short loc_140A
		cmp	al, es:[di]
		jz	short loc_140A
		cmp	word ptr es:[di], 3738h
		jnz	short loc_13E7
		mov	dx, es:[di+2]
		cmp	dl, 3Dh	; '='
		jnz	short loc_13E7
		inc	bx
		and	dh, 0DFh
		cmp	dh, 59h	; 'Y'
		jnz	short loc_140A
		inc	bx

loc_140A:
		pop	di
		pop	si
		xor	ax, ax
		or	bx, bx
		jz	short loc_146F
		jg	short loc_1450
		mov	cx, word_13600
		jcxz	short loc_1472
		fninit
		mov	word_13600, 0
		fnstcw	word_13600
		mov	cx, 14h

loc_1429:
		loop	loc_1429
		mov	cx, word_13600
		and	cx, 0F3Fh
		cmp	cx, 33Fh
		jnz	short loc_146E
		mov	word_13600, 0FFFFh
		fnstsw	word_13600
		mov	cx, 14h

loc_1446:
		loop	loc_1446
		test	word_13600, 0B8BFh
		jnz	short loc_146E

loc_1450:
		inc	ax
		push	sp
		pop	cx
		cmp	cx, sp
		jnz	short loc_146E
		fninit
		fld	dword ptr cs:byte_12DB
		fchs
		fcomp	dword ptr cs:byte_12DB
		fstsw	ax
		sahf
		mov	al, 2
		jz	short loc_146E
		inc	ax

loc_146E:
		cbw

loc_146F:
		mov	word_13600, ax

loc_1472:
		mov	ss:26h,	al
		pop	ds
		push	ds
		push	bp
		mov	bp, sp
		sub	sp, 8
		mov	bx, seg	dseg
		mov	ds, bx
		cmp	word_13600, 0
		mov	word ptr [bp-8], offset	e087_Entry
		mov	word ptr [bp-6], seg seg014
		mov	word ptr [bp-4], offset	e087_Shortcut
		mov	word ptr [bp-2], seg seg014
		jnz	short loc_14B2
		mov	word ptr [bp-8], offset	loc_11817
		mov	word ptr [bp-6], seg seg015
		mov	word ptr [bp-4], offset	loc_11DA5
		mov	word ptr [bp-2], seg seg015

loc_14B2:
		mov	ax, 2534h
		mov	cx, 0Ah
		lds	dx, [bp-8]

loc_14BB:
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		inc	ax
		loop	loc_14BB
		mov	ax, 253Eh
		lds	dx, [bp-4]
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		mov	ds, bx
		cmp	word_13600, 0
		jnz	short loc_14FA
		mov	word ptr ss:61h, offset	off_1308
		mov	word ptr ss:63h, cs
		push	cs
		pop	ds
		assume ds:seg000
		mov	ax, ds
		xor	ax, ss:27h
		mov	ds, ax
		assume ds:dseg
		mov	word_13DB5, offset locret_1323
		mov	word_13DB7, cs
		mov	word_13D77, 0FFFFh
		jmp	short loc_154B
; ---------------------------------------------------------------------------

loc_14FA:
		push	cs
		pop	ds
		assume ds:seg000
		cmp	byte_12D6, 2
		jnz	short loc_1528
		mov	ax, word_12D7
		mov	dx, 1308h
		int	21h		; DOS -	DOS v??? - OEM FUNCTION
		mov	ds, bx
		assume ds:dseg
		cmp	word_13600, 0
		jz	short loc_154B
		mov	ax, word_12B1C
		xchg	ah, al
		cmp	ax, 1403h
		jnz	short loc_154B
		mov	ax, 2575h
		push	cs
		pop	ds
		assume ds:seg000
		mov	dx, 12DFh
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt

loc_1528:
		cmp	byte_12D6, 1
		jnz	short loc_154B
		mov	ax, word_12D7
		mov	dx, 1308h
		cmp	al, 16h
		jnz	short loc_153C
		mov	dx, 12EEh

loc_153C:
		int	21h		; DOS -	DOS v??? - OEM FUNCTION
		cmp	al, 16h
		jnz	short loc_154B
		pushf
		cli
		in	al, 0Ah		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		and	al, 0BFh
		out	0Ah, al		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		popf

loc_154B:
		mov	ds, bx
		assume ds:dseg
		mov	cs:byte_12DA, 1
		; Hack (fninit)
		db 0cdh
		db 037h
		db 0e3h
		mov	word ptr ss:41h, 0
		mov	word ptr ss:43h, 0
		mov	ax, word_135E8
		mov	[bp-8],	ax
		cmp	word_13600, 3
		jl	short loc_1575
		or	word ptr [bp-8], 2

loc_1575:
		push	si
		; Hack (fldcw word ptr [bp-8])
		db 0cdh
		db 035h
		db 06eh
		db 0f8h
		pop	si
		mov	ax, [bp-8]
		and	ss:22h,	ax
		xor	ax, ax
		cwd
		mov	sp, bp
		pop	bp
		pop	ds
		retn
; ---------------------------------------------------------------------------
		push	ds
		mov	ax, seg	dseg
		mov	ds, ax
		cmp	cs:byte_12DA, 0
		jz	short loc_15EF
		push	ds
		; Hack (fninit)
		db 0cdh
		db 037h
		db 0e3h
		mov	ax, 2534h
		mov	bx, 12A2h
		mov	cx, 0Bh

loc_15A6:
		lds	dx, cs:[bx]
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		add	bx, 4
		inc	ax
		loop	loc_15A6
		pop	ds
		cmp	word_13600, 0
		jz	short loc_15EF
		cmp	cs:byte_12D6, 2
		jnz	short loc_15CC
		mov	ax, 2575h
		lds	dx, cs:[bx]
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		add	bx, 4

loc_15CC:
		mov	ax, cs:word_12D7
		cmp	cs:byte_12D6, 1
		jnz	short loc_15EA
		cmp	al, 16h
		jnz	short loc_15EA
		xchg	ax, dx
		pushf
		cli
		in	al, 0Ah		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		or	al, cs:byte_12D9
		out	0Ah, al		; DMA controller, 8237A-5.
					; single mask bit register
					; 0-1: select channel (00=0; 01=1; 10=2; 11=3)
					; 2: 1=set mask	for channel; 0=clear mask (enable)
		popf
		xchg	ax, dx

loc_15EA:
		lds	dx, cs:[bx]
		int	21h		; DOS -

loc_15EF:
		mov	cs:byte_12DA, 0
		pop	ds
		retn

; =============== S U B	R O U T	I N E =======================================


sub_15F7	proc far
		mov	ax, cs:word_12D7
		retf
sub_15F7	endp


; =============== S U B	R O U T	I N E =======================================

; BCC v4.x/5.x DOS runtime
; Attributes: library function bp-based	frame

unknown_libname_1 proc near
		push	bp
		mov	bp, sp
		mov	al, 5Fh	; '_'
		and	al, dl
		cmp	al, 47h	; 'G'
		jnz	short loc_1615

loc_1607:
		cmp	byte ptr es:[bx-1], 30h	; '0'
		jnz	short loc_1615
		dec	bx
		cmp	bx, cx
		ja	short loc_1607
		jmp	short loc_161C
; ---------------------------------------------------------------------------

loc_1615:
		cmp	es:[bx-1], ah
		jnz	short loc_161C
		dec	bx

loc_161C:
		pop	bp
		retn
unknown_libname_1 endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_161E	proc near

var_32		= byte ptr -32h
var_5		= byte ptr -5
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= byte ptr  6
arg_4		= byte ptr  8
arg_6		= dword	ptr  0Ah
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 32h
		push	si
		push	di
		les	bx, off_13A8C
		mov	al, es:[bx]
		mov	[bp+var_5], al
		push	es
		mov	ax, [bp+arg_A]
		cmp	ax, 28h	; '('
		jbe	short loc_163F
		mov	ax, 28h	; '('
		mov	[bp+arg_A], ax

loc_163F:
		mov	[bp+var_4], ax
		mov	dl, [bp+arg_4]
		and	dl, 0DFh
		cmp	dl, 46h	; 'F'
		jnz	short loc_1658
		neg	ax
		jle	short loc_1661
		sub	ax, ax
		mov	[bp+arg_A], ax
		jmp	short loc_1661
; ---------------------------------------------------------------------------

loc_1658:
		or	ax, ax
		jg	short loc_1661
		mov	ax, 1
		jmp	short loc_166A
; ---------------------------------------------------------------------------

loc_1661:
		cmp	dl, 45h	; 'E'
		jnz	short loc_166A
		inc	ax
		inc	[bp+arg_A]

loc_166A:
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	ax
		push	ss
		lea	bx, [bp+var_2]
		push	bx
		push	ss
		lea	si, [bp+var_32]
		push	si
		mov	ax, [bp+arg_0]
		push	ax
		call	sub_17CC
		xchg	ax, bx
		les	di, [bp+arg_6]
		cld
		cmp	bx, 7FFFh
		jz	short loc_1695
		cmp	bx, 7FFEh
		jz	short loc_16A8
		jmp	short loc_16BA
; ---------------------------------------------------------------------------

loc_1695:
		mov	ax, 492Bh
		cmp	[bp+var_2], 0
		jz	short loc_16A0
		inc	ax
		inc	ax

loc_16A0:
		stosw
		mov	ax, 464Eh
		stosw
		jmp	loc_17BB
; ---------------------------------------------------------------------------

loc_16A8:
		mov	ax, 4E2Bh
		cmp	[bp+var_2], 0
		jz	short loc_16B3
		inc	ax
		inc	ax

loc_16B3:
		stosw
		mov	al, 41h	; 'A'
		stosw
		jmp	loc_17BB
; ---------------------------------------------------------------------------

loc_16BA:
		cmp	byte ptr [bp+var_2], 0
		jz	short loc_16C3
		mov	al, 2Dh	; '-'
		stosb

loc_16C3:
		mov	dl, [bp+arg_4]
		and	dl, 5Fh
		cmp	dl, 46h	; 'F'
		jz	short loc_16E4
		cmp	dl, 45h	; 'E'
		jz	short loc_174C
		cmp	bx, 0FFFDh
		jl	short loc_174C
		mov	ax, [bp+arg_A]
		or	ax, ax
		jnz	short loc_16E0
		inc	ax

loc_16E0:
		cmp	bx, ax
		jg	short loc_174C

loc_16E4:
		cmp	bx, 28h	; '('
		jg	short loc_174C
		or	bx, bx
		jg	short loc_16FE
		mov	ah, [bp+var_5]
		mov	al, 30h	; '0'
		stosw
		mov	cx, 1
		jz	short loc_1701
		mov	al, 30h	; '0'

loc_16FA:
		stosb
		inc	bx
		jnz	short loc_16FA

loc_16FE:
		mov	cx, 0

loc_1701:
		lods	byte ptr ss:[si]
		or	al, al
		jz	short loc_1712
		stosb
		dec	bx
		jnz	short loc_1701
		mov	al, [bp+var_5]
		stosb
		inc	cx
		jmp	short loc_1701
; ---------------------------------------------------------------------------

loc_1712:
		mov	ax, [bp+arg_A]
		add	cx, [bp+var_4]
		cmp	ax, cx
		jbe	short loc_1729
		sub	ax, cx
		mov	cx, ax
		add	bx, ax
		mov	al, 30h	; '0'
		rep stosb
		dec	bx
		jz	short loc_1742

loc_1729:
		dec	bx
		jz	short loc_1742
		cmp	[bp+arg_2], 0
		jnz	short loc_1742
		mov	dl, [bp+arg_4]
		mov	cx, word ptr [bp+arg_6]
		xchg	bx, di
		mov	ah, [bp+var_5]
		call	unknown_libname_1 ; BCC	v4.x/5.x DOS runtime
		xchg	di, bx

loc_1742:
		cmp	di, word ptr [bp+arg_6]
		jnz	short loc_174A
		mov	al, 30h	; '0'
		stosb

loc_174A:
		jmp	short loc_17BB
; ---------------------------------------------------------------------------

loc_174C:
		lods	word ptr ss:[si]
		stosb
		mov	al, [bp+var_5]
		or	ah, ah
		jnz	short loc_175F
		cmp	[bp+arg_2], 0
		jz	short loc_177F
		stosb
		jmp	short loc_177F
; ---------------------------------------------------------------------------

loc_175F:
		stosb
		mov	al, ah

loc_1762:
		stosb
		lods	byte ptr ss:[si]
		or	al, al
		jnz	short loc_1762
		cmp	[bp+arg_2], 0
		jnz	short loc_177F
		mov	dl, [bp+arg_4]
		mov	cx, word ptr [bp+arg_6]
		xchg	bx, di
		mov	ah, [bp+var_5]
		call	unknown_libname_1 ; BCC	v4.x/5.x DOS runtime
		xchg	di, bx

loc_177F:
		mov	al, 20h	; ' '
		and	al, [bp+arg_4]
		or	al, 45h
		stosb
		mov	ax, 2D2Bh
		dec	bx
		jge	short loc_1791
		xchg	al, ah
		neg	bx

loc_1791:
		stosb
		xchg	ax, bx
		mov	cx, 3030h
		cmp	ax, 63h	; 'c'
		jbe	short loc_17B4
		cmp	ax, 3E7h
		jbe	short loc_17AA
		cwd
		mov	bx, 3E8h
		div	bx
		add	al, cl
		stosb
		xchg	ax, dx

loc_17AA:
		mov	bl, 64h	; 'd'
		div	bl
		add	al, cl
		stosb
		xchg	al, ah
		cbw

loc_17B4:
		mov	bl, 0Ah
		div	bl
		add	ax, cx
		stosw

loc_17BB:
		xor	al, al
		stosb
		pop	es
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	10h
sub_161E	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		pop	bp
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_17CC	proc near

var_10		= tbyte	ptr -10h
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= dword	ptr  6
arg_6		= dword	ptr  0Ah
arg_A		= word ptr  0Eh
arg_C		= dword	ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 10h
		push	si
		push	di
		mov	[bp+var_2], 8000h
		mov	[bp+var_4], 0Ah
		push	es
		les	di, [bp+arg_C]
		mov	ax, 7FFFh
		mov	bx, [bp+arg_0]
		mov	cx, es:[bx+di]
		and	[bp+var_2], cx
		and	es:[bx+di], ax
		shr	bx, 1
		shr	bx, 1
		shl	bx, 1
		jmp	cs:off_17FC[bx]
; ---------------------------------------------------------------------------
off_17FC	dw offset loc_1802
		dw offset loc_1808
		dw offset loc_180E
; ---------------------------------------------------------------------------

loc_1802:
		; Hack (fld dword ptr es:[di])
		db 0cdh
		db 03ch
		db 0d9h
		db 005h
		jmp	short loc_181F
; ---------------------------------------------------------------------------

loc_1808:
		; Hack (fld qword ptr es:[di])
		db 0cdh
		db 03ch
		db 0ddh
		db 005h
		jmp	short loc_181F
; ---------------------------------------------------------------------------

loc_180E:
		and	ax, es:[di+8]
		cmp	ax, 7FFFh
		jz	short loc_181B
		and	byte ptr es:[di], 0F0h

loc_181B:
		; Hack (fld tbyte ptr es:[di])
		db 0cdh
		db 03ch
		db 0dbh
		db 02dh

loc_181F:
		xor	bx, bx
		shl	cx, 1
		rcl	bx, 1
		les	di, [bp+arg_6]
		mov	es:[di], bx
		; Hack (fxam)
		db 0cdh
		db 035h
		db 0e5h
		; Hack (fnstsw [bp+var_6])
		db 0cdh
		db 039h
		db 07eh
		db 0fah
		; Hack (wait)
		db 0cdh
		db 03dh
		mov	ax, [bp+var_6]
		and	ah, 47h
		cmp	ah, 40h	; '@'
		jz	short loc_1855
		cmp	ah, 5
		jz	short loc_1850
		cmp	ah, 1
		jz	short loc_184B
		jmp	short loc_1883
; ---------------------------------------------------------------------------

loc_184B:
		mov	dx, 7FFEh
		jmp	short loc_187D
; ---------------------------------------------------------------------------

loc_1850:
		mov	dx, 7FFFh
		jmp	short loc_187D
; ---------------------------------------------------------------------------

loc_1855:
		mov	dx, 1
		mov	al, 30h	; '0'
		les	di, [bp+arg_6]
		mov	word ptr es:[di], 0
		mov	cx, [bp+arg_A]
		or	cx, cx
		jg	short loc_186C
		neg	cx
		inc	cx

loc_186C:
		cmp	cx, 28h	; '('
		jbe	short loc_1874
		mov	cx, 28h	; '('

loc_1874:
		cld
		les	di, [bp+arg_2]
		rep stosb
		xor	al, al
		stosb

loc_187D:
		; Hack (fstp st)
		db 0cdh
		db 039h
		db 0d8h
		jmp	loc_19C8
; ---------------------------------------------------------------------------

loc_1883:
		; Hack (fstp st)
		db 0cdh
		db 035h
		db 0c0h
		; Hack (fstp [bp+var_10])
		db 0cdh
		db 037h
		db 07eh
		db 0f0h
		; Hack (wait)
		db 0cdh
		db 03dh
		mov	ax, word ptr [bp+var_10+8]
		sub	ax, 3FFFh
		mov	dx, 4D10h
		imul	dx
		xchg	ax, bx
		mov	ah, 4Dh	; 'M'
		mov	al, byte ptr [bp+var_10+7]
		shl	al, 1
		mul	ah
		add	ax, bx
		adc	dx, 0
		neg	ax
		adc	dx, 0
		mov	ax, [bp+arg_A]
		or	ax, ax
		jg	short loc_18B8
		neg	ax
		add	ax, dx
		jl	short loc_1855

loc_18B8:
		cmp	ax, 12h
		jle	short loc_18C0
		mov	ax, 12h

loc_18C0:
		mov	bx, ax
		sub	ax, dx

loc_18C4:
		jz	short loc_18EE
		mov	si, ax
		jge	short loc_18CC
		neg	ax

loc_18CC:
		cmp	ax, 1344h
		jle	short loc_18D4
		mov	ax, 1344h

loc_18D4:
		push	ax		; p
		nop
		push	cs
		call	near ptr _pow10
		pop	ax
		or	si, si
		jg	short loc_18E6
		; Hack (fdivp st(1), st)
		db 0cdh
		db 03ah
		db 0f9h
		add	ax, si
		jmp	short loc_18C4
; ---------------------------------------------------------------------------

loc_18E6:
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		xchg	ax, si
		sub	ax, si
		jmp	short loc_18C4
; ---------------------------------------------------------------------------

loc_18EE:
		push	bx		; p
		nop
		push	cs
		call	near ptr _pow10
		pop	ax
		; Hack (fcomp st(1))
		db 0cdh
		db 034h
		db 0d9h
		; Hack (fnstsw [bp+var_6])
		db 0cdh
		db 039h
		db 07eh
		db 0fah
		; Hack (wait)
		db 0cdh
		db 03dh
		test	byte ptr [bp+var_6+1], 45h
		jz	short loc_1918
		inc	dx
		inc	bx
		cmp	bx, 12h
		ja	short loc_1911
		cmp	[bp+arg_A], 0
		jle	short loc_193E

loc_1911:
		; Hack (fidiv [bp+var_4])
		db 0cdh
		db 03ah
		db 076h
		db 0fch
		dec	bx
		jmp	short loc_193E
; ---------------------------------------------------------------------------

loc_1918:
		mov	ax, bx
		dec	ax
		push	ax		; p
		nop
		push	cs
		call	near ptr _pow10
		pop	ax
		; Hack (fcomp st(1))
		db 0cdh
		db 034h
		db 0d9h
		; Hack (fnstsw [bp+var_6])
		db 0cdh
		db 039h
		db 07eh
		db 0fah
		; Hack (wait)
		db 0cdh
		db 03dh
		test	byte ptr [bp+var_6+1], 41h
		jnz	short loc_193E
		dec	dx
		dec	bx
		cmp	[bp+arg_A], 0
		jle	short loc_193E
		; Hack (fimul [bp+var_4])
		db 0cdh
		db 03ah
		db 04eh
		db 0fch
		inc	bx

loc_193E:
		or	bx, bx
		jl	short loc_1967
		; Hack (frndint)
		db 0cdh
		db 035h
		db 0fch
		; Hack (fbstp [bp+var_10])
		db 0cdh
		db 03bh
		db 076h
		db 0f0h
		les	di, [bp+arg_2]
		add	di, bx
		push	di
		xor	al, al
		std
		stosb
		lea	si, [bp+var_10]
		mov	cx, 4
		; Hack (wait)
		db 0cdh
		db 03dh
		or	bx, bx
		jnz	short loc_196E
		mov	ch, ss:[si]
		xor	ch, 1
		jz	short loc_1989

loc_1967:
		; Hack (fldz)
		db 0cdh
		db 035h
		db 0eeh
		pop	di
		jmp	loc_1855
; ---------------------------------------------------------------------------

loc_196E:
		mov	al, ss:[si]
		inc	si
		mov	ah, al
		shr	ah, cl
		and	al, 0Fh
		add	ax, 3030h
		stosb
		or	ch, al
		dec	bx
		jz	short loc_1989
		mov	al, ah
		stosb
		or	ch, al
		dec	bx
		jnz	short loc_196E

loc_1989:
		pop	bx
		and	ch, 0Fh
		jnz	short loc_19A0
		inc	dx
		cmp	[bp+arg_A], 0
		jg	short loc_199A
		mov	byte ptr es:[bx], 30h ;	'0'

loc_199A:
		inc	bx
		mov	byte ptr es:[di+1], 31h	; '1'

loc_19A0:
		mov	cx, [bp+arg_A]
		or	cx, cx
		jg	short loc_19AB
		neg	cx
		add	cx, dx

loc_19AB:
		cmp	cx, 28h	; '('
		jbe	short loc_19B3
		mov	cx, 28h	; '('

loc_19B3:
		mov	byte ptr es:[bx], 0
		mov	ax, bx
		sub	ax, word ptr [bp+arg_2]
		sub	cx, ax
		jbe	short loc_19C8

loc_19C0:
		mov	word ptr es:[bx], 30h ;	'0'
		inc	bx
		loop	loc_19C0

loc_19C8:
		cld
		les	di, [bp+arg_C]
		mov	bx, [bp+arg_0]
		mov	cx, [bp+var_2]
		or	es:[bx+di], cx
		pop	es
		mov	ax, dx
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	10h
sub_17CC	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_19E0	proc near

var_8		= dword	ptr -8
var_4		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 8
		mov	word ptr [bp+var_4+2], ss
		mov	word ptr [bp+var_4], bx
		mov	ax, word ptr dword_14740
		or	ax, word ptr dword_14740+2
		jz	short loc_1A54
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 8
		push	ax
		call	dword_14740
		add	sp, 6
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		push	dx
		push	ax
		mov	ax, 8
		push	ax
		call	dword_14740
		add	sp, 6
		cmp	word ptr [bp+var_8+2], 0
		jnz	short loc_1A23
		cmp	word ptr [bp+var_8], 1
		jz	short loc_1A83

loc_1A23:
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jz	short loc_1A54
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 8
		push	ax
		call	dword_14740
		les	bx, [bp+var_4]
		mov	ax, 6
		imul	word ptr es:[bx]
		mov	bx, ax
		push	word ptr [bx+0B5Ch]
		mov	ax, 8
		push	ax
		call	[bp+var_8]
		add	sp, 0Ah
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_1A54:
		les	bx, [bp+var_4]
		mov	ax, 6
		imul	word ptr es:[bx]
		mov	dx, 0B5Ch
		add	dx, 2
		add	ax, dx
		mov	bx, ax
		push	word ptr [bx+2]
		push	word ptr [bx]
		push	ds
		mov	ax, 0BE1h
		push	ax		; format
		push	ds
		mov	ax, 0CD2h
		push	ax		; stream
		nop
		push	cs
		call	near ptr _fprintf
		add	sp, 0Ch
		nop
		push	cs
		call	near ptr _abort
; ---------------------------------------------------------------------------

loc_1A83:
		mov	sp, bp
		pop	bp
		retn
sub_19E0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1A87	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	ax, [bp+arg_0]
		cmp	ax, 0ECBCh
		jge	short loc_1A99
		; Hack (fldz)
		db 0cdh
		db 035h
		db 0eeh
		jmp	loc_1B4B
; ---------------------------------------------------------------------------

loc_1A99:
		cmp	ax, 1344h
		jle	short loc_1AA6
		; Hack (fld flt_13718)
		db 0cdh
		db 035h
		db 006h
		db 078h
		db 00ch
		jmp	loc_1B4B
; ---------------------------------------------------------------------------

loc_1AA6:
		or	ax, ax
		jnz	short loc_1AB0
		; Hack (fld1)
		db 0cdh
		db 035h
		db 0e8h
		jmp	loc_1B4B
; ---------------------------------------------------------------------------

loc_1AB0:
		or	ax, ax
		jge	short loc_1AB6
		neg	ax

loc_1AB6:
		mov	si, 7
		and	si, ax
		shl	si, 1
		shl	si, 1
		; Hack (fld	dword ptr [si+0BFCh])
		db 0cdh
		db 035h
		db 084h
		db 0fch
		db 00bh
		shr	ax, 1
		shr	ax, 1
		shr	ax, 1
		shr	ax, 1
		jnb	short loc_1AD3
		; Hack (fmul flt_136BC)
		db 0cdh
		db 034h
		db 00eh
		db 01ch
		db 00ch

loc_1AD3:
		jnz	short loc_1AD7
		jmp	short loc_1B40
; ---------------------------------------------------------------------------

loc_1AD7:
		shr	ax, 1
		jnb	short loc_1AE0
		; Hack (fmul dbl_136C0)
		db 0cdh
		db 038h
		db 00eh
		db 020h
		db 00ch

loc_1AE0:
		shr	ax, 1
		jnb	short loc_1AEC
		; Hack (fld tbyte_136C8)
		db 0cdh
		db 037h
		db 02eh
		db 028h
		db 00ch
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h

loc_1AEC:
		shr	ax, 1
		jnb	short loc_1AF8
		; Hack (fld tbyte_136D2)
		db 0cdh
		db 037h
		db 02eh
		db 032h
		db 00ch
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h

loc_1AF8:
		shr	ax, 1
		jnb	short loc_1B04
		; Hack (fld tbyte_136DC)
		db 0cdh
		db 037h
		db 02eh
		db 03ch
		db 00ch
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h

loc_1B04:
		shr	ax, 1
		jnb	short loc_1B10
		; Hack (fld tbyte_136E6)
		db 0cdh
		db 037h
		db 02eh
		db 046h
		db 00ch
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h

loc_1B10:
		shr	ax, 1
		jnb	short loc_1B1C
		; Hack (fld tbyte_136F0)
		db 0cdh
		db 037h
		db 02eh
		db 050h
		db 00ch
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h

loc_1B1C:
		shr	ax, 1
		jnb	short loc_1B28
		; Hack (fld tbyte_136FA)
		db 0cdh
		db 037h
		db 02eh
		db 05ah
		db 00ch
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h

loc_1B28:
		shr	ax, 1
		jnb	short loc_1B34
		; Hack (fld tbyte_13704)
		db 0cdh
		db 037h
		db 02eh
		db 064h
		db 00ch
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h

loc_1B34:
		shr	ax, 1
		jnb	short loc_1B40
		; Hack (fld tbyte_1370E)
		db 0cdh
		db 037h
		db 02eh
		db 06eh
		db 00ch
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h

loc_1B40:
		test	byte ptr [bp+arg_0+1], 80h
		jz	short loc_1B4B
		; Hack (fdivr flt_1369C)
		db 0cdh
		db 034h
		db 03eh
		db 0fch
		db 00bh

loc_1B4B:
		pop	si
		pop	bp
		retn	2
sub_1A87	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; double __cdecl pow10(int p)
_pow10		proc far

p		= word ptr  6

		push	bp
		mov	bp, sp
		push	[bp+p]
		call	sub_1A87
		pop	bp
		retf
_pow10		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1B5B	proc far

var_A		= qword	ptr -0Ah
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		; Hack (fnstcw [bp+var_2])
		db 0cdh
		db 035h
		db 07eh
		db 0feh
		; Hack (wait)
		db 0cdh
		db 03dh
		mov	al, byte ptr [bp+var_2+1]
		or	byte ptr [bp+var_2+1], 0Ch
		; Hack (fldcw [bp+var_2])
		db 0cdh
		db 035h
		db 06eh
		db 0feh
		; Hack (fistp [bp+var_A])
		db 0cdh
		db 03bh
		db 07eh
		db 0f6h
		mov	byte ptr [bp+var_2+1], al
		; Hack (fldcw [bp+var_2])
		db 0cdh
		db 035h
		db 06eh
		db 0feh
		mov	ax, word ptr [bp+var_A]
		mov	dx, word ptr [bp+var_A+2]
		mov	sp, bp
		pop	bp
		retf
sub_1B5B	endp

include libs/BorlandC/__abort.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; char *__cdecl	stpcpy(char *dest, const char *src)
_stpcpy		proc far

var_2		= word ptr -2
dest		= dword	ptr  6
_s		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	[bp+var_2], ax
		inc	ax
		push	ax		; n
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]	; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		add	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_stpcpy		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; void abort(void)
_abort		proc far
		push	si
		push	di
		mov	ax, 16h
		push	ax
		nop
		push	cs
		call	near ptr sub_3999
		pop	cx
		nop
		push	cs
		call	near ptr __abort
_abort		endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl atexit(void (*func)(void))
_atexit		proc far

func		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_1373C, 20h	; ' '
		jnz	short loc_1C04
		mov	ax, 1
		jmp	short loc_1C20
; ---------------------------------------------------------------------------

loc_1C04:
		mov	bx, word_1373C
		mov	cl, 2
		shl	bx, cl
		mov	dx, word ptr [bp+func+2]
		mov	ax, word ptr [bp+func]
		mov	[bx+1C14h], dx
		mov	[bx+1C12h], ax
		inc	word_1373C
		xor	ax, ax

loc_1C20:
		pop	di
		pop	si
		pop	bp
		retf
_atexit		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl registerbgidriver(void (*driver)(void))
_registerbgidriver proc	far

driver		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_2]
		push	[bp+driver]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
_registerbgidriver endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl registerbgifont(void (*font)(void))
_registerbgifont proc far

driver		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
_registerbgifont endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __stdcall	_DOSENV(__int32, char *src, int, int)
__DOSENV	proc near

dest		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
_src		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		mov	[bp+var_6], 1
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jz	short loc_1CA2
		mov	[bp+var_6], 0
		jmp	short loc_1C8D
; ---------------------------------------------------------------------------

loc_1C74:
		les	bx, [bp+var_4]
		add	word ptr [bp+var_4], 4
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		inc	ax
		add	[bp+var_6], ax

loc_1C8D:
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jz	short loc_1CA2
		les	bx, es:[bx]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1C74

loc_1CA2:
		inc	[bp+var_6]
		mov	ax, word ptr [bp+_src]
		or	ax, word ptr [bp+_src+2]
		jz	short loc_1CC0
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, 3
		add	[bp+var_6], ax

loc_1CC0:
		cmp	[bp+var_6], 8000h
		jb	short loc_1CCA
		jmp	loc_1DB1
; ---------------------------------------------------------------------------

loc_1CCA:
		mov	ax, [bp+var_6]
		add	ax, 0Fh
		push	ax
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		or	ax, dx
		jnz	short loc_1CE4
		jmp	loc_1DB1
; ---------------------------------------------------------------------------

loc_1CE4:
		les	bx, [bp+arg_0]
		mov	ax, word ptr [bp+dest]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		add	word ptr [bp+dest], 0Fh
		and	word ptr [bp+dest], 0FFF0h
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jz	short loc_1D5A
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jz	short loc_1D5A
		jmp	short loc_1D43
; ---------------------------------------------------------------------------

loc_1D17:
		les	bx, [bp+var_4]
		add	word ptr [bp+var_4], 4
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+dest]

loc_1D43:
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jz	short loc_1D64
		les	bx, es:[bx]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_1D17
		jmp	short loc_1D64
; ---------------------------------------------------------------------------

loc_1D5A:
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+dest]

loc_1D64:
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+dest]
		mov	ax, word ptr [bp+_src]
		or	ax, word ptr [bp+_src+2]
		jz	short loc_1DA6
		les	bx, [bp+dest]
		mov	word ptr es:[bx], 1
		add	word ptr [bp+dest], 2
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		inc	word ptr [bp+dest]

loc_1DA6:
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		sub	ax, [bp+var_6]
		jmp	short loc_1DB5
; ---------------------------------------------------------------------------

loc_1DB1:
		xor	dx, dx
		xor	ax, ax

loc_1DB5:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Ch
__DOSENV	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; unsigned int __cdecl _dos_getfileattr(const char *filename, unsigned int *attrib)
__dos_getfileattr proc far

filename	= dword	ptr  6
attrib		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ah, 43h	; 'C'
		xor	al, al
		lds	dx, [bp+filename]
		int	21h		; DOS -	2+ - GET FILE ATTRIBUTES
					; DS:DX	-> ASCIZ file name or directory
					; name without trailing	slash
		pop	ds
		jb	short loc_1DD9
		les	bx, [bp+attrib]
		mov	es:[bx], cx
		xor	ax, ax
		jmp	short loc_1DDD
; ---------------------------------------------------------------------------

loc_1DD9:
		push	ax
		call	__DOSERROR

loc_1DDD:
		pop	di
		pop	si
		pop	bp
		retf
__dos_getfileattr endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; unsigned int __cdecl _dos_setfileattr(const char *filename, unsigned int attrib)
__dos_setfileattr proc far

filename	= dword	ptr  6
attrib		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ah, 43h	; 'C'
		mov	al, 1
		lds	dx, [bp+filename]
		mov	cx, [bp+attrib]
		int	21h		; DOS -	2+ - SET FILE ATTRIBUTES
					; DS:DX	-> ASCIZ file name
					; CX = file attribute bits
		pop	ds
		jb	short loc_1DFA
		xor	ax, ax
		jmp	short loc_1DFE
; ---------------------------------------------------------------------------

loc_1DFA:
		push	ax
		call	__DOSERROR

loc_1DFE:
		pop	di
		pop	si
		pop	bp
		retf
__dos_setfileattr endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl _dos_getdrive(unsigned int *drive)
__dos_getdrive	proc far

drive		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ah, 19h
		int	21h		; DOS -	GET DEFAULT DISK NUMBER
		mov	ah, 0
		inc	ax
		les	bx, [bp+drive]
		mov	es:[bx], ax
		pop	di
		pop	si
		pop	bp
		retf
__dos_getdrive	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl _dos_setdrive(unsigned int drive, unsigned int *ndrives)
__dos_setdrive	proc far

drive		= word ptr  6
ndrives		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dl, byte ptr [bp+drive]
		dec	dl
		mov	ah, 0Eh
		int	21h		; DOS -	SELECT DISK
					; DL = new default drive number	(0 = A,	1 = B, etc.)
					; Return: AL = number of logical drives
		mov	ah, 0
		les	bx, [bp+ndrives]
		mov	es:[bx], ax
		pop	di
		pop	si
		pop	bp
		retf
__dos_setdrive	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far __ErrorMessage(char	*buf)
___ErrorMessage	proc far

buf		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		push	ax		; len
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; buf
		mov	al, byte_13776
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr __rtl_write
		add	sp, 8
		pop	di
		pop	si
		pop	bp
		retf
___ErrorMessage	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_1E5C	proc far
		push	si
		push	di
		pop	di
		pop	si
		retf
sub_1E5C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_1E61	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	[bp+arg_4], 0
		jnz	short loc_1E8E
		jmp	short loc_1E7E
; ---------------------------------------------------------------------------

loc_1E6E:
		dec	word_1373C
		mov	bx, word_1373C
		mov	cl, 2
		shl	bx, cl
		call	dword ptr [bx+1C12h]

loc_1E7E:
		cmp	word_1373C, 0
		jnz	short loc_1E6E
		nop
		push	cs
		call	__cleanup
		call	off_1373E

loc_1E8E:
		nop
		push	cs
		call	near ptr __restorezero
		nop
		push	cs
		call	near ptr __checknull
		cmp	[bp+arg_2], 0
		jnz	short loc_1EB5
		cmp	[bp+arg_4], 0
		jnz	short loc_1EAC
		call	off_13742
		call	off_13746

loc_1EAC:
		push	[bp+arg_0]
		nop
		push	cs
		call	__terminate
; ---------------------------------------------------------------------------
		pop	cx

loc_1EB5:
		pop	di
		pop	si
		pop	bp
		retn	6
sub_1E61	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

; void __cdecl exit(int	status)
_exit		proc far

status		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+status]
		call	sub_1E61
		pop	di
		pop	si
		pop	bp
		retf
_exit		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

; void __cdecl _exit(int status)
__exit		proc far

status		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, 1
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+status]
		call	sub_1E61
		pop	di
		pop	si
		pop	bp
		retf
__exit		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void _cexit(void)
__cexit		proc far
		push	si
		push	di
		xor	ax, ax
		push	ax
		mov	ax, 1
		push	ax
		xor	ax, ax
		push	ax
		call	sub_1E61
		pop	di
		pop	si
		retf
__cexit		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; void _c_exit(void)
__c_exit	proc far
		push	si
		push	di
		mov	ax, 1
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		call	sub_1E61
		pop	di
		pop	si
		retf
__c_exit	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

LXMUL@		proc far
		push	si
		xchg	ax, si
		xchg	ax, dx
		test	ax, ax
		jz	short loc_1F0F
		mul	bx

loc_1F0F:
		jcxz	short loc_1F16
		xchg	ax, cx
		mul	si
		add	ax, cx

loc_1F16:
		xchg	ax, si
		mul	bx
		add	dx, si
		pop	si
		retf
LXMUL@		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

SCOPY@		proc far

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		lds	si, [bp+arg_0]
		les	di, [bp+arg_4]
		cld
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	8
SCOPY@		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void (__cdecl	__interrupt far	*__cdecl getvect(int interruptno))()
_getvect	proc far

interruptno	= byte ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ah, 35h	; '5'
		mov	al, [bp+interruptno]
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		xchg	ax, bx
		mov	dx, es
		pop	di
		pop	si
		pop	bp
		retf
_getvect	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl setvect(int interruptno,	void (__interrupt far *isr)())
_setvect	proc far

interruptno	= byte ptr  6
_isr		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ah, 25h	; '%'
		mov	al, [bp+interruptno]
		push	ds
		lds	dx, [bp+_isr]
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf
_setvect	endp

; ---------------------------------------------------------------------------

N_LDIV@:
		pop	cx
		push	cs
		push	cx

LDIV@:
		xor	cx, cx
		jmp	short loc_1F7E

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

N_LUDIV@	proc near
		pop	cx
		push	cs
		push	cx
N_LUDIV@	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

F_LUDIV@	proc far
		mov	cx, 1
		jmp	short loc_1F7E
F_LUDIV@	endp

; ---------------------------------------------------------------------------

N_LMOD@:
		pop	cx
		push	cs
		push	cx

F_LMOD@:
		mov	cx, 2
		jmp	short loc_1F7E
; ---------------------------------------------------------------------------

N_LUMOD@:
		pop	cx
		push	cs
		push	cx

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

LUMOD@		proc far

arg_0		= word ptr  0Ah
arg_2		= word ptr  0Ch
arg_4		= word ptr  0Eh
arg_6		= word ptr  10h

		mov	cx, 3

loc_1F7E:
		push	bp
		push	si
		push	di
		mov	bp, sp
		mov	di, cx
		mov	ax, [bp+arg_0]
		mov	dx, [bp+arg_2]
		mov	bx, [bp+arg_4]
		mov	cx, [bp+arg_6]
		or	cx, cx
		jnz	short loc_1F9D
		or	dx, dx
		jz	short loc_2002
		or	bx, bx
		jz	short loc_2002

loc_1F9D:
		test	di, 1
		jnz	short loc_1FBF
		or	dx, dx
		jns	short loc_1FB1
		neg	dx
		neg	ax
		sbb	dx, 0
		or	di, 0Ch

loc_1FB1:
		or	cx, cx
		jns	short loc_1FBF
		neg	cx
		neg	bx
		sbb	cx, 0
		xor	di, 4

loc_1FBF:
		mov	bp, cx
		mov	cx, 20h	; ' '
		push	di
		xor	di, di
		xor	si, si

loc_1FC9:
		shl	ax, 1
		rcl	dx, 1
		rcl	si, 1
		rcl	di, 1
		cmp	di, bp
		jb	short loc_1FE0
		ja	short loc_1FDB
		cmp	si, bx
		jb	short loc_1FE0

loc_1FDB:
		sub	si, bx
		sbb	di, bp
		inc	ax

loc_1FE0:
		loop	loc_1FC9
		pop	bx
		test	bx, 2
		jz	short loc_1FEF
		mov	ax, si
		mov	dx, di
		shr	bx, 1

loc_1FEF:
		test	bx, 4
		jz	short loc_1FFC
		neg	dx
		neg	ax
		sbb	dx, 0

loc_1FFC:
		pop	di
		pop	si
		pop	bp
		retf	8
; ---------------------------------------------------------------------------

loc_2002:
		div	bx
		test	di, 2
		jz	short loc_200B
		xchg	ax, dx

loc_200B:
		xor	dx, dx
		jmp	short loc_1FFC
LUMOD@		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

N_LXLSH@	proc near
		pop	bx
		push	cs
		push	bx
N_LXLSH@	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

LXLSH@		proc far
		cmp	cl, 10h
		jnb	short loc_2027
		mov	bx, ax
		shl	ax, cl
		shl	dx, cl
		neg	cl
		add	cl, 10h
		shr	bx, cl
		or	dx, bx
		retf
; ---------------------------------------------------------------------------

loc_2027:
		sub	cl, 10h
		xchg	ax, dx
		xor	ax, ax
		shl	dx, cl
		retf
LXLSH@		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

N_PADD@		proc far
		pop	es
		push	cs
		push	es

F_PADD@:
		or	cx, cx
		jge	short loc_2043
		not	bx
		not	cx
		add	bx, 1
		adc	cx, 0
		jmp	short loc_2072
; ---------------------------------------------------------------------------

loc_2043:
		add	ax, bx
		jnb	short loc_204B
		add	dx, 1000h

loc_204B:
		mov	ch, cl
		mov	cl, 4
		shl	ch, cl
		add	dh, ch
		mov	ch, al
		shr	ax, cl
		add	dx, ax
		mov	al, ch
		and	ax, 0Fh
		retf
; ---------------------------------------------------------------------------

N_PSUB@:
		pop	es
		push	cs
		push	es

F_PSUB@:
		or	cx, cx
		jge	short loc_2072
		not	bx
		not	cx
		add	bx, 1
		adc	cx, 0
		jmp	short loc_2043
; ---------------------------------------------------------------------------

loc_2072:
		sub	ax, bx
		jnb	short loc_207A
		sub	dx, 1000h

loc_207A:
		mov	bh, cl
		mov	cl, 4
		shl	bh, cl
		xor	bl, bl
		sub	dx, bx
		mov	ch, al
		shr	ax, cl
		add	dx, ax
		mov	al, ch
		and	ax, 0Fh
		retf
N_PADD@		endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__IOERROR	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_0]
		or	dx, dx
		jl	short loc_20B3
		cmp	dx, 58h	; 'X'
		jle	short loc_20A4

loc_20A1:
		mov	dx, 57h	; 'W'

loc_20A4:
		mov	word_1390A, dx
		mov	bx, dx
		mov	al, [bx+0E6Ch]
		cbw
		mov	dx, ax
		jmp	short loc_20C1
; ---------------------------------------------------------------------------

loc_20B3:
		neg	dx
		cmp	dx, word_13C9C
		jg	short loc_20A1
		mov	word_1390A, 0FFFFh

loc_20C1:
		mov	word_12B1E, dx
		mov	ax, 0FFFFh
		pop	di
		pop	si
		pop	bp
		retn	2
__IOERROR	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__DOSERROR	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_0]
		call	__IOERROR
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retn	2
__DOSERROR	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl isatty(int handle)
_isatty		proc far

handle		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, 4400h
		mov	bx, [bp+handle]
		int	21h		; DOS -	2+ - IOCTL - GET DEVICE	INFORMATION
					; BX = file or device handle
		xchg	ax, dx
		and	ax, 80h
		pop	di
		pop	si
		pop	bp
		retf
_isatty		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__LONGTOA	proc near

var_22		= byte ptr -22h
arg_0		= byte ptr  4
arg_2		= byte ptr  6
arg_4		= word ptr  8
arg_6		= dword	ptr  0Ah
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		push	es
		les	di, [bp+arg_6]
		mov	bx, [bp+arg_4]
		cmp	bx, 24h	; '$'
		ja	short loc_2167
		cmp	bl, 2
		jb	short loc_2167
		mov	ax, [bp+arg_A]
		mov	cx, [bp+arg_C]
		or	cx, cx
		jge	short loc_212C
		cmp	[bp+arg_2], 0
		jz	short loc_212C
		mov	byte ptr es:[di], 2Dh ;	'-'
		inc	di
		neg	cx
		neg	ax
		sbb	cx, 0

loc_212C:
		lea	si, [bp+var_22]
		jcxz	short loc_2141

loc_2131:
		xchg	ax, cx
		sub	dx, dx
		div	bx
		xchg	ax, cx
		div	bx
		mov	ss:[si], dl
		inc	si
		jcxz	short loc_2149
		jmp	short loc_2131
; ---------------------------------------------------------------------------

loc_2141:
		sub	dx, dx
		div	bx
		mov	ss:[si], dl
		inc	si

loc_2149:
		or	ax, ax
		jnz	short loc_2141
		lea	cx, [bp+var_22]
		neg	cx
		add	cx, si
		cld

loc_2155:
		dec	si
		mov	al, ss:[si]
		sub	al, 0Ah
		jnb	short loc_2161
		add	al, 3Ah	; ':'
		jmp	short loc_2164
; ---------------------------------------------------------------------------

loc_2161:
		add	al, [bp+arg_0]

loc_2164:
		stosb
		loop	loc_2155

loc_2167:
		mov	al, 0
		stosb
		pop	es
		mov	dx, word ptr [bp+arg_6+2]
		mov	ax, word ptr [bp+arg_6]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Eh
__LONGTOA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__UTOA		proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		mov	ax, 0Ah
		push	ax
		mov	al, 0
		push	ax
		mov	al, 61h	; 'a'
		push	ax
		call	__LONGTOA
		pop	di
		pop	si
		pop	bp
		retn	6
__UTOA		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; unsigned __int32 __cdecl _lrotl(unsigned __int32 val,	int count)
__lrotl		proc far

val		= word ptr  6
arg_2		= word ptr  8
count		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+val]
		mov	dx, [bp+arg_2]
		mov	cx, [bp+count]
		and	cx, 1Fh
		jz	short loc_21B9

loc_21B0:
		rcl	ax, 1
		rcl	dx, 1
		adc	ax, 0
		loop	loc_21B0

loc_21B9:
		pop	di
		pop	si
		pop	bp
		retf
__lrotl		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; unsigned __int32 __cdecl _lrotr(unsigned __int32 val,	int count)
__lrotr		proc far

val		= word ptr  6
arg_2		= word ptr  8
count		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+val]
		mov	dx, [bp+arg_2]
		mov	cx, [bp+count]
		and	cx, 1Fh
		jz	short loc_21DA

loc_21D0:
		mov	bx, dx
		shr	bx, 1
		rcr	ax, 1
		rcr	dx, 1
		loop	loc_21D0

loc_21DA:
		pop	di
		pop	si
		pop	bp
		retf
__lrotr		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __int32 __cdecl lseek(int handle, __int32 offset, int	fromwhere)
_lseek		proc far

handle		= word ptr  6
_offset		= word ptr  8
arg_4		= word ptr  0Ah
fromwhere	= byte ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	bx, [bp+handle]
		add	bx, bx
		and	word ptr [bx+0E3Ch], 0FDFFh
		mov	ah, 42h	; 'B'
		mov	al, [bp+fromwhere]
		mov	bx, [bp+handle]
		mov	cx, [bp+arg_4]
		mov	dx, [bp+_offset]
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method:
					; 0-from beginnig,1-from current,2-from	end
		jb	short loc_2202
		jmp	short loc_2207
; ---------------------------------------------------------------------------

loc_2202:
		push	ax
		call	__IOERROR
		cwd

loc_2207:
		pop	di
		pop	si
		pop	bp
		retf
_lseek		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __stdcall	_MKNAME(int, int, int, char *dest)
__MKNAME	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
dest		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+dest]
		or	ax, word ptr [bp+dest+2]
		jnz	short loc_2220
		mov	word ptr [bp+dest+2], ds
		mov	word ptr [bp+dest], 1C92h

loc_2220:
		push	[bp+arg_0]
		mov	ax, [bp+arg_2]
		or	ax, [bp+arg_4]
		jnz	short loc_2232
		mov	dx, ds
		mov	ax, 0EC6h
		jmp	short loc_2238
; ---------------------------------------------------------------------------

loc_2232:
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_2]

loc_2238:
		push	dx
		push	ax		; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _stpcpy
		add	sp, 8
		push	dx
		push	ax
		call	__UTOA
		push	ds
		mov	ax, 0ECAh
		push	ax		; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		pop	bp
		retn	0Ah
__MKNAME	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __stdcall	_TMPNAM(__int32, char *dest)
__TMPNAM	proc near

attrib		= word ptr -2
arg_0		= dword	ptr  4
dest		= dword	ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di

loc_2274:
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0FFFFh
		jnz	short loc_228C
		mov	ax, 2
		jmp	short loc_228F
; ---------------------------------------------------------------------------

loc_228C:
		mov	ax, 1

loc_228F:
		les	bx, [bp+arg_0]
		add	es:[bx], ax
		mov	ax, es:[bx]
		push	ax		; int
		call	__MKNAME
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		push	ss
		lea	ax, [bp+attrib]
		push	ax		; attrib
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; filename
		nop
		push	cs
		call	near ptr __dos_getfileattr
		add	sp, 8
		or	ax, ax
		jz	short loc_2274
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	8
__TMPNAM	endp

; ---------------------------------------------------------------------------
		dd unk_24F2
		db 4, 0, 0FAh, 0FFh, 0Ah dup(0), 0DCh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	0C7h, 22h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 24h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 22D5h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax
		push	ax
		push	ax
		push	ax
		mov	ax, 5
		push	ax
		mov	ax, seg	seg000
		push	ax
		mov	ax, 23CDh
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	ds
		mov	ax, 0ED0h
		push	ax
		push	ss
		lea	ax, [bp-6]
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		mov	ax, word_13974
		mov	[bp-2],	ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp-6]
		push	ss
		push	ax
		push	cs
		mov	ax, 24F2h
		push	ax
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_new_handler(void (*)(void))
@set_new_handler$qnqv$v	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	dx, seg_13978
		mov	ax, word_13976
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	seg_13978, dx
		mov	word_13976, ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_new_handler$qnqv$v	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; operator new(unsigned	int)
@$bnew$qui	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		cmp	[bp+arg_0], 0
		jz	short loc_2399
		mov	ax, [bp+arg_0]
		jmp	short loc_239C
; ---------------------------------------------------------------------------

loc_2399:
		mov	ax, 1

loc_239C:
		mov	[bp+arg_0], ax
		jmp	short loc_23A5
; ---------------------------------------------------------------------------

loc_23A1:
		call	dword ptr word_13976

loc_23A5:
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jnz	short loc_23C1
		mov	ax, word_13976
		or	ax, seg_13978
		jnz	short loc_23A1

loc_23C1:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@$bnew$qui	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+0Ah]
		mov	ax, es:[bx+4]
		les	bx, [bp+6]
		mov	es:[bx+4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		dd unk_24F2
		db 2 dup(0), 0D0h, 0Eh
		dw seg dseg
		dd unk_24B8
		db 4, 0, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	10h, 24h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::contains(char	const *)const
@string@contains$xqnxc proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
driver		= byte ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 2428h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_16], 6
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 0EDAh
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		call	@string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ds
		mov	ax, 0ED0h
		push	ax
		nop
		push	cs
		call	near ptr @xalloc@$bctr$qmx6stringui ; xalloc::xalloc(string &,uint)
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 10h
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@contains$xqnxc endp

; ---------------------------------------------------------------------------

loc_2491:
		push	si
		push	di
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 0ED0h
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
unk_24B8	db    4
		db    0
		db    3
		db    0
		db  26h	; &
		db    0
		db 0FFh
		db 0FFh
		db    3
		db    0
		db  2Eh	; .
		db    0
		db  32h	; 2
		dd    0
		dd    0
		dd    0
		db    0
		db    1
		db    0
		db    1
		db    0
		db    5
		db    3
		dw seg seg016
		db    5
		db    0
		db  36h	; 6
		db    0
aString_0	db 'string',0
		dd    0
		dd    0
		dd    0
		db    0
unk_24F2	db    6
		db    0
		db    3
		db    0
		db  26h	; &
		db    0
		db 0FFh
		db 0FFh
		db    7
		db    0
		db  2Eh	; .
		db    0
		db  3Ah	; :
		dd    0
		dd    0
		dd    0
		db    0
		db    2
		db    0
		db    2
		db    0
		db  34h	; 4
		db  25h	; %
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 81h,	25h
		dw seg seg000
		db 2 dup(0), 3,	0Dh dup(0)
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_257B
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_2579
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_257D
; ---------------------------------------------------------------------------

loc_2579:
		jmp	short loc_257D
; ---------------------------------------------------------------------------

loc_257B:
		xor	ax, ax

loc_257D:
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 0A3h, 5Bh
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_25B9	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
sub_25B9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

N_LXMUL@	proc near
		push	si
		xchg	ax, si
		xchg	ax, dx
		test	ax, ax
		jz	short loc_25D4
		mul	bx

loc_25D4:
		jcxz	short loc_25DB
		xchg	ax, cx
		mul	si
		add	ax, cx

loc_25DB:
		xchg	ax, si
		mul	bx
		add	dx, si
		pop	si
		retn
N_LXMUL@	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

N_PCMP@		proc near
		push	cx
		mov	ch, al
		mov	cl, 4
		shr	ax, cl
		add	dx, ax
		mov	al, ch
		mov	ah, bl
		shr	bx, cl
		pop	cx
		add	cx, bx
		mov	bl, ah
		and	ax, 0Fh
		and	bx, 0Fh
		cmp	dx, cx
		jnz	short locret_2602
		cmp	ax, bx

locret_2602:
		retn
N_PCMP@		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl _rtl_read(int handle, void *buf, unsigned	int len)
__rtl_read	proc far

handle		= word ptr  6
buf		= dword	ptr  8
len		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	bx, [bp+handle]
		add	bx, bx
		test	byte ptr [bx+0E3Ch], 2
		jz	short loc_261A
		mov	ax, 5
		push	ax
		jmp	short loc_262E
; ---------------------------------------------------------------------------

loc_261A:
		push	ds
		mov	ah, 3Fh	; '?'
		mov	bx, [bp+handle]
		mov	cx, [bp+len]
		lds	dx, [bp+buf]
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		jb	short loc_262D
		jmp	short loc_2631
; ---------------------------------------------------------------------------

loc_262D:
		push	ax

loc_262E:
		call	__IOERROR

loc_2631:
		pop	di
		pop	si
		pop	bp
		retf
__rtl_read	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl _read(int	handle,	void *buf, unsigned int	len)
__read		proc far

handle		= word ptr  6
buf		= dword	ptr  8
len		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+len]	; len
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; buf
		push	[bp+handle]	; handle
		push	cs
		call	near ptr __rtl_read
		add	sp, 8
		pop	di
		pop	si
		pop	bp
		retf
__read		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl segread(struct SREGS *segp)
_segread	proc far

segp		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	bx, es
		les	si, [bp+segp]
		mov	es:[si], bx
		mov	ax, [bp+4]
		mov	es:[si+2], ax
		mov	word ptr es:[si+4], ss
		mov	word ptr es:[si+6], ds
		mov	es, bx
		pop	di
		pop	si
		pop	bp
		retf
_segread	endp

; ---------------------------------------------------------------------------

__setupio:
		push	si
		push	di
		mov	cx, 5
		jmp	short loc_269C
; ---------------------------------------------------------------------------

loc_267A:
		mov	bx, cx
		add	bx, bx
		mov	word ptr [bx+0E3Ch], 0
		mov	ax, 14h
		imul	cx
		mov	dx, ax
		mov	bx, ax
		mov	byte ptr [bx+0CAEh], 0FFh
		add	ax, 0CAAh
		mov	bx, dx
		mov	[bx+0CBCh], ax
		inc	cx

loc_269C:
		cmp	cx, word_138DA
		jb	short loc_267A
		mov	al, byte_1374E
		cbw
		push	ax
		nop
		push	cs
		call	near ptr _isatty
		pop	cx
		or	ax, ax
		jnz	short loc_26B7
		and	word_1374C, 0FDFFh

loc_26B7:
		mov	ax, 200h
		push	ax
		test	byte ptr word_1374C+1, 2
		jz	short loc_26C7
		mov	ax, 1
		jmp	short loc_26C9
; ---------------------------------------------------------------------------

loc_26C7:
		xor	ax, ax

loc_26C9:
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	ds
		mov	ax, 0CAAh
		push	ax
		nop
		push	cs
		call	near ptr _setvbuf
		add	sp, 0Ch
		mov	al, byte_13762
		cbw
		push	ax
		nop
		push	cs
		call	near ptr _isatty
		pop	cx
		or	ax, ax
		jnz	short loc_26F0
		and	word_13760, 0FDFFh

loc_26F0:
		mov	ax, 200h
		push	ax
		test	byte ptr word_13760+1, 2
		jz	short loc_2700
		mov	ax, 2
		jmp	short loc_2702
; ---------------------------------------------------------------------------

loc_2700:
		xor	ax, ax

loc_2702:
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	ds
		mov	ax, 0CBEh
		push	ax
		nop
		push	cs
		call	near ptr _setvbuf
		add	sp, 0Ch
		pop	di
		pop	si
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; struct lconv *localeconv(void)
_localeconv	proc far
		push	si
		push	di
		mov	dx, ds
		mov	ax, 0FECh
		pop	di
		pop	si
		retf
_localeconv	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl toupper(int ch)
_toupper	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_0]
		cmp	dx, 0FFFFh
		jnz	short loc_2733
		mov	ax, 0FFFFh
		jmp	short loc_274D
; ---------------------------------------------------------------------------

loc_2733:
		mov	al, dl
		mov	ah, 0
		mov	bx, ax
		test	(__ctype+1)[bx], 8
		jz	short loc_2749
		mov	al, dl
		mov	ah, 0
		add	ax, 0FFE0h
		jmp	short loc_274D
; ---------------------------------------------------------------------------

loc_2749:
		mov	al, dl
		mov	ah, 0

loc_274D:
		pop	di
		pop	si
		pop	bp
		retf
_toupper	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl unlink(const char	*path)
_unlink		proc far

_path		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ah, 41h	; 'A'
		lds	dx, [bp+_path]
		int	21h		; DOS -	2+ - DELETE A FILE (UNLINK)
					; DS:DX	-> ASCIZ pathname of file to delete (no	wildcards allowed)
		pop	ds
		jb	short loc_2765
		xor	ax, ax
		jmp	short loc_2769
; ---------------------------------------------------------------------------

loc_2765:
		push	ax
		call	__IOERROR

loc_2769:
		pop	di
		pop	si
		pop	bp
		retf
_unlink		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_276D	proc near
		mov	al, dh
		call	sub_2774
		mov	al, dl
sub_276D	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_2774	proc near
		aam	10h
		xchg	ah, al
		call	sub_277D
		xchg	ah, al
sub_2774	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_277D	proc near
		add	al, 90h	; ''
		daa
		adc	al, 40h	; '@'
		daa
		stosb
		retn
sub_277D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__VPRINTER	proc near

var_96		= byte ptr -96h
var_46		= byte ptr -46h
var_45		= byte ptr -45h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_B		= byte ptr -0Bh
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= byte ptr -6
var_5		= byte ptr -5
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= dword	ptr  6

; FUNCTION CHUNK AT 27E9 SIZE 0000042F BYTES

		push	bp
		mov	bp, sp
		sub	sp, 96h
		push	si
		push	di
		mov	[bp+var_12], 0
		mov	[bp+var_14], 50h ; 'P'
		mov	[bp+var_16], 0
		jmp	short loc_27E9
__VPRINTER	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_279F	proc near
		push	di
		mov	cx, 0FFFFh
		xor	al, al
		repne scasb
		not	cx
		dec	cx
		pop	di
		retn
sub_279F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_27AC	proc near
		mov	ss:[di], al
		inc	di
		dec	byte ptr [bp-14h]
		jnz	short locret_27E8
sub_27AC	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_27B5	proc near
		push	bx
		push	cx
		push	dx
		push	es
		lea	ax, [bp-96h]
		sub	di, ax
		push	ss
		lea	ax, [bp-96h]
		push	ax
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		call	word ptr [bp+0Eh]
		or	ax, ax
		jnz	short loc_27D8
		mov	word ptr [bp-16h], 1

loc_27D8:
		mov	word ptr [bp-14h], 50h ; 'P'
		add	[bp-12h], di
		lea	di, [bp-96h]
		pop	es
		pop	dx
		pop	cx
		pop	bx

locret_27E8:
		retn
sub_27B5	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR __VPRINTER

loc_27E9:
		push	es
		cld
		lea	di, [bp+var_96]
		mov	[bp+var_4], di

loc_27F2:
		mov	di, [bp+var_4]

loc_27F5:
		les	si, [bp+arg_2]

loc_27F8:
		lods	byte ptr es:[si]
		or	al, al
		jz	short loc_2810
		cmp	al, 25h	; '%'
		jz	short loc_2813

loc_2802:
		mov	ss:[di], al
		inc	di
		dec	byte ptr [bp+var_14]
		jg	short loc_27F8
		call	sub_27B5
		jmp	short loc_27F8
; ---------------------------------------------------------------------------

loc_2810:
		jmp	loc_2BF8
; ---------------------------------------------------------------------------

loc_2813:
		mov	[bp+var_10], si
		lods	byte ptr es:[si]
		cmp	al, 25h	; '%'
		jz	short loc_2802
		mov	[bp+var_4], di
		xor	cx, cx
		mov	[bp+var_E], cx
		mov	[bp+var_2], 20h	; ' '
		mov	[bp+var_B], cl
		mov	[bp+var_8], 0FFFFh
		mov	[bp+var_A], 0FFFFh
		jmp	short loc_283A
; ---------------------------------------------------------------------------

loc_2838:
		lods	byte ptr es:[si]

loc_283A:
		xor	ah, ah
		mov	dx, ax
		mov	bx, ax
		sub	bl, 20h	; ' '
		cmp	bl, 60h	; '`'
		jnb	short loc_285B
		mov	bl, [bx+102Fh]
		cmp	bx, 17h
		jbe	short loc_2854
		jmp	loc_2BE4
; ---------------------------------------------------------------------------

loc_2854:
		add	bx, bx
		jmp	cs:off_2C18[bx]
; ---------------------------------------------------------------------------

loc_285B:
		jmp	loc_2BE4
; ---------------------------------------------------------------------------

loc_285E:
		cmp	ch, 0
		ja	short loc_285B
		or	[bp+var_2], 1
		jmp	short loc_2838
; ---------------------------------------------------------------------------

loc_2869:
		cmp	ch, 0
		ja	short loc_285B
		or	[bp+var_2], 2
		jmp	short loc_2838
; ---------------------------------------------------------------------------

loc_2874:
		cmp	ch, 0
		ja	short loc_285B
		cmp	[bp+var_B], 2Bh	; '+'
		jz	short loc_2882
		mov	[bp+var_B], dl

loc_2882:
		jmp	short loc_2838
; ---------------------------------------------------------------------------

loc_2884:
		and	[bp+var_2], 0FFDFh
		jmp	short loc_288E
; ---------------------------------------------------------------------------

loc_288A:
		or	[bp+var_2], 20h

loc_288E:
		mov	ch, 5
		jmp	short loc_2838
; ---------------------------------------------------------------------------

loc_2892:
		cmp	ch, 0
		ja	short loc_28E4
		test	[bp+var_2], 2
		jnz	short loc_28C7
		or	[bp+var_2], 8
		mov	ch, 1
		jmp	short loc_2838
; ---------------------------------------------------------------------------

loc_28A6:
		jmp	loc_2BE4
; ---------------------------------------------------------------------------

loc_28A9:
		mov	di, [bp+arg_0]
		mov	ax, ss:[di]
		add	[bp+arg_0], 2
		cmp	ch, 2
		jnb	short loc_28CA
		or	ax, ax
		jns	short loc_28C2
		neg	ax
		or	[bp+var_2], 2

loc_28C2:
		mov	[bp+var_8], ax
		mov	ch, 3

loc_28C7:
		jmp	loc_2838
; ---------------------------------------------------------------------------

loc_28CA:
		cmp	ch, 4
		jnz	short loc_28A6
		mov	[bp+var_A], ax
		inc	ch
		jmp	loc_2838
; ---------------------------------------------------------------------------

loc_28D7:
		cmp	ch, 4
		jnb	short loc_28A6
		mov	ch, 4
		inc	[bp+var_A]
		jmp	loc_2838
; ---------------------------------------------------------------------------

loc_28E4:
		xchg	ax, dx
		sub	al, 30h	; '0'
		cbw
		cmp	ch, 2
		ja	short loc_2906
		mov	ch, 2
		xchg	ax, [bp+var_8]
		or	ax, ax
		jl	short loc_28C7
		shl	ax, 1
		mov	dx, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, dx
		add	[bp+var_8], ax
		jmp	loc_2838
; ---------------------------------------------------------------------------

loc_2906:
		cmp	ch, 4
		jnz	short loc_28A6
		xchg	ax, [bp+var_A]
		or	ax, ax
		jz	short loc_28C7
		shl	ax, 1
		mov	dx, ax
		shl	ax, 1
		shl	ax, 1
		add	ax, dx
		add	[bp+var_A], ax
		jmp	loc_2838
; ---------------------------------------------------------------------------

loc_2922:
		or	[bp+var_2], 10h
		jmp	loc_288E
; ---------------------------------------------------------------------------

loc_2929:
		or	[bp+var_2], 100h

loc_292E:
		and	[bp+var_2], 0FFEFh
		jmp	loc_288E
; ---------------------------------------------------------------------------

loc_2935:
		mov	bh, 8
		jmp	short loc_2943
; ---------------------------------------------------------------------------

loc_2939:
		mov	bh, 0Ah
		jmp	short loc_2943
; ---------------------------------------------------------------------------

loc_293D:
		mov	bh, 10h
		mov	bl, 0E9h ; 'é'
		add	bl, dl

loc_2943:
		mov	[bp+var_B], 0
		mov	[bp+var_5], dl
		xor	dx, dx
		mov	[bp+var_6], dl
		mov	di, [bp+arg_0]
		mov	ax, ss:[di]
		jmp	short loc_2967
; ---------------------------------------------------------------------------

loc_2957:
		mov	bh, 0Ah
		mov	[bp+var_6], 1
		mov	[bp+var_5], dl
		mov	di, [bp+arg_0]
		mov	ax, ss:[di]
		cwd

loc_2967:
		inc	di
		inc	di
		mov	word ptr [bp+arg_2], si
		test	[bp+var_2], 10h
		jz	short loc_2978
		mov	dx, ss:[di]
		inc	di
		inc	di

loc_2978:
		mov	[bp+arg_0], di
		lea	di, [bp+var_45]
		or	ax, ax
		jnz	short loc_2994
		or	dx, dx
		jnz	short loc_2994
		cmp	[bp+var_A], 0
		jnz	short loc_2998
		mov	byte ptr ss:[di], 0
		mov	ax, di
		jmp	short loc_29A8
; ---------------------------------------------------------------------------

loc_2994:
		or	[bp+var_2], 4

loc_2998:
		push	dx
		push	ax
		push	ss
		push	di
		mov	al, bh
		cbw
		push	ax
		mov	al, [bp+var_6]
		push	ax
		push	bx
		call	__LONGTOA

loc_29A8:
		push	ss
		pop	es
		mov	dx, [bp+var_A]
		or	dx, dx
		jge	short loc_29B4
		jmp	loc_2AA8
; ---------------------------------------------------------------------------

loc_29B4:
		jmp	loc_2AB6
; ---------------------------------------------------------------------------

loc_29B7:
		mov	[bp+var_5], dl
		mov	word ptr [bp+arg_2], si
		lea	di, [bp+var_46]
		mov	bx, [bp+arg_0]
		push	word ptr ss:[bx]
		inc	bx
		inc	bx
		mov	[bp+arg_0], bx
		test	[bp+var_2], 20h
		jz	short loc_29E2
		mov	dx, ss:[bx]
		inc	bx
		inc	bx
		mov	[bp+arg_0], bx
		push	ss
		pop	es
		call	sub_276D
		mov	al, 3Ah	; ':'
		stosb

loc_29E2:
		push	ss
		pop	es
		pop	dx
		call	sub_276D
		mov	byte ptr ss:[di], 0
		mov	[bp+var_6], 0
		and	[bp+var_2], 0FFFBh
		lea	cx, [bp+var_46]
		sub	di, cx
		xchg	cx, di
		mov	dx, [bp+var_A]
		cmp	dx, cx
		jg	short loc_2A04
		mov	dx, cx

loc_2A04:
		jmp	loc_2AA8
; ---------------------------------------------------------------------------

loc_2A07:
		mov	word ptr [bp+arg_2], si
		mov	[bp+var_5], dl
		mov	di, [bp+arg_0]
		mov	ax, ss:[di]
		add	[bp+arg_0], 2
		push	ss
		pop	es
		lea	di, [bp+var_45]
		xor	ah, ah
		mov	ss:[di], ax
		mov	cx, 1
		jmp	loc_2AEB
; ---------------------------------------------------------------------------

loc_2A27:
		mov	word ptr [bp+arg_2], si
		mov	[bp+var_5], dl
		mov	di, [bp+arg_0]
		test	[bp+var_2], 20h
		jnz	short loc_2A44
		mov	di, ss:[di]
		add	[bp+arg_0], 2
		push	ds
		pop	es
		assume es:dseg
		or	di, di
		jmp	short loc_2A4F
; ---------------------------------------------------------------------------

loc_2A44:
		les	di, ss:[di]
		assume es:nothing
		add	[bp+arg_0], 4
		mov	ax, es
		or	ax, di

loc_2A4F:
		jnz	short loc_2A56
		push	ds
		pop	es
		assume es:dseg
		mov	di, 1028h

loc_2A56:
		call	sub_279F
		cmp	cx, [bp+var_A]
		jbe	short loc_2A61
		mov	cx, [bp+var_A]

loc_2A61:
		jmp	loc_2AEB
; ---------------------------------------------------------------------------

loc_2A64:
		mov	word ptr [bp+arg_2], si
		mov	[bp+var_5], dl
		mov	di, [bp+arg_0]
		mov	cx, [bp+var_A]
		or	cx, cx
		jge	short loc_2A77
		mov	cx, 6

loc_2A77:
		push	ss
		push	di
		push	cx
		push	ss
		lea	bx, [bp+var_45]
		push	bx
		push	dx
		mov	ax, 1
		and	ax, [bp+var_2]
		push	ax
		mov	ax, [bp+var_2]
		test	ax, 100h
		jz	short loc_2A98
		mov	ax, 8
		add	[bp+arg_0], 0Ah
		jmp	short loc_2A9F
; ---------------------------------------------------------------------------

loc_2A98:
		add	[bp+arg_0], 8
		mov	ax, 6

loc_2A9F:
		push	ax
		call	sub_9430
		push	ss
		pop	es
		assume es:nothing
		lea	di, [bp+var_45]

loc_2AA8:
		test	[bp+var_2], 8
		jz	short loc_2AC7
		mov	dx, [bp+var_8]
		or	dx, dx
		jle	short loc_2AC7

loc_2AB6:
		call	sub_279F
		cmp	byte ptr es:[di], 2Dh ;	'-'
		jnz	short loc_2AC0
		dec	cx

loc_2AC0:
		sub	dx, cx
		jle	short loc_2AC7
		mov	[bp+var_E], dx

loc_2AC7:
		cmp	byte ptr es:[di], 2Dh ;	'-'
		jz	short loc_2AD8
		mov	al, [bp+var_B]
		or	al, al
		jz	short loc_2AE8
		dec	di
		mov	es:[di], al

loc_2AD8:
		cmp	[bp+var_E], 0
		jle	short loc_2AE8
		mov	cx, [bp+var_A]
		or	cx, cx
		jge	short loc_2AE8
		dec	[bp+var_E]

loc_2AE8:
		call	sub_279F

loc_2AEB:
		mov	si, di
		mov	di, [bp+var_4]
		mov	bx, [bp+var_8]
		mov	ax, 5
		and	ax, [bp+var_2]
		cmp	ax, 5
		jnz	short loc_2B11
		mov	ah, [bp+var_5]
		cmp	ah, 6Fh	; 'o'
		jnz	short loc_2B13
		cmp	[bp+var_E], 0
		jg	short loc_2B11
		mov	[bp+var_E], 1

loc_2B11:
		jmp	short loc_2B2E
; ---------------------------------------------------------------------------

loc_2B13:
		cmp	ah, 78h	; 'x'
		jz	short loc_2B1D
		cmp	ah, 58h	; 'X'
		jnz	short loc_2B2E

loc_2B1D:
		or	[bp+var_2], 40h
		dec	bx
		dec	bx
		sub	[bp+var_E], 2
		jge	short loc_2B2E
		mov	[bp+var_E], 0

loc_2B2E:
		add	cx, [bp+var_E]
		test	[bp+var_2], 2
		jnz	short loc_2B44
		jmp	short loc_2B40
; ---------------------------------------------------------------------------

loc_2B3A:
		mov	al, 20h	; ' '
		call	sub_27AC
		dec	bx

loc_2B40:
		cmp	bx, cx
		jg	short loc_2B3A

loc_2B44:
		test	[bp+var_2], 40h
		jz	short loc_2B56
		mov	al, 30h	; '0'
		call	sub_27AC
		mov	al, [bp+var_5]
		call	sub_27AC

loc_2B56:
		mov	dx, [bp+var_E]
		or	dx, dx
		jle	short loc_2B84
		sub	cx, dx
		sub	bx, dx
		mov	al, es:[si]
		cmp	al, 2Dh	; '-'
		jz	short loc_2B70
		cmp	al, 20h	; ' '
		jz	short loc_2B70
		cmp	al, 2Bh	; '+'
		jnz	short loc_2B77

loc_2B70:
		lods	byte ptr es:[si]
		call	sub_27AC
		dec	cx
		dec	bx

loc_2B77:
		xchg	cx, dx
		jcxz	short loc_2B82

loc_2B7B:
		mov	al, 30h	; '0'
		call	sub_27AC
		loop	loc_2B7B

loc_2B82:
		xchg	cx, dx

loc_2B84:
		jcxz	short loc_2B98
		sub	bx, cx

loc_2B88:
		lods	byte ptr es:[si]
		mov	ss:[di], al
		inc	di
		dec	byte ptr [bp+var_14]
		jg	short loc_2B96
		call	sub_27B5

loc_2B96:
		loop	loc_2B88

loc_2B98:
		or	bx, bx
		jle	short loc_2BA5
		mov	cx, bx

loc_2B9E:
		mov	al, 20h	; ' '
		call	sub_27AC
		loop	loc_2B9E

loc_2BA5:
		jmp	loc_27F5
; ---------------------------------------------------------------------------

loc_2BA8:
		mov	word ptr [bp+arg_2], si
		mov	di, [bp+arg_0]
		test	[bp+var_2], 20h
		jnz	short loc_2BC0
		mov	di, ss:[di]
		add	[bp+arg_0], 2
		push	ds
		pop	es
		assume es:dseg
		jmp	short loc_2BC7
; ---------------------------------------------------------------------------

loc_2BC0:
		les	di, ss:[di]
		assume es:nothing
		add	[bp+arg_0], 4

loc_2BC7:
		mov	ax, 50h	; 'P'
		sub	al, byte ptr [bp+var_14]
		add	ax, [bp+var_12]
		mov	es:[di], ax
		test	[bp+var_2], 10h
		jz	short loc_2BE1
		inc	di
		inc	di
		mov	word ptr es:[di], 0

loc_2BE1:
		jmp	loc_27F2
; ---------------------------------------------------------------------------

loc_2BE4:
		mov	si, [bp+var_10]
		mov	es, word ptr [bp+arg_2+2]
		mov	di, [bp+var_4]
		mov	al, 25h	; '%'

loc_2BEF:
		call	sub_27AC
		lods	byte ptr es:[si]
		or	al, al
		jnz	short loc_2BEF

loc_2BF8:
		cmp	byte ptr [bp+var_14], 50h ; 'P'
		jge	short loc_2C01
		call	sub_27B5

loc_2C01:
		pop	es
		cmp	[bp+var_16], 0
		jz	short loc_2C0D
		mov	ax, 0FFFFh
		jmp	short loc_2C10
; ---------------------------------------------------------------------------

loc_2C0D:
		mov	ax, [bp+var_12]

loc_2C10:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Ch
; END OF FUNCTION CHUNK	FOR __VPRINTER
; ---------------------------------------------------------------------------
off_2C18	dw offset loc_2874
		dw offset loc_285E
		dw offset loc_28A9
		dw offset loc_2869
		dw offset loc_28D7
		dw offset loc_28E4
		dw offset loc_2922
		dw offset loc_2929
		dw offset loc_292E
		dw offset loc_2892
		dw offset loc_2957
		dw offset loc_2935
		dw offset loc_2939
		dw offset loc_293D
		dw offset loc_29B7
		dw offset loc_2A64
		dw offset loc_2A07
		dw offset loc_2A27
		dw offset loc_2BA8
		dw offset loc_2BE4
		dw offset loc_2BE4
		dw offset loc_2BE4
		dw offset loc_2884
		dw offset loc_288A

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__xclose	proc far

handle		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	[bp+handle], 2
		jmp	short loc_2C63
; ---------------------------------------------------------------------------

loc_2C57:
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr _close
		pop	cx
		inc	[bp+handle]

loc_2C63:
		mov	ax, [bp+handle]
		cmp	ax, word_138DA
		jb	short loc_2C57
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__xclose	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __RefDestructorCount(void)
@__RefDestructorCount$qv proc far
		mov	dx, ss
		mov	ax, 10h
		retf
@__RefDestructorCount$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __RefExceptionList(void)
@__RefExceptionList$qv proc far
		mov	dx, ss
		mov	ax, 14h
		retf
@__RefExceptionList$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

___InitExceptBlocks proc far
		mov	es, ax
		mov	dx, bx
		mov	cx, bp
		mov	bx, es:[bx+4]
		add	bx, cx
		mov	ss:[bx+6], dx
		mov	ss:[bx+8], ax
		mov	ax, sp
		add	ax, 4
		mov	ss:[bx+0Ah], ax
		mov	ax, seg	dseg
		mov	ss:[bx+0Eh], ax
		mov	ss:[bx+10h], si
		mov	word ptr ss:[bx+2], offset __ExceptionHandler
		mov	word ptr ss:[bx+4], seg	seg000
		mov	word ptr ss:[bx+0Ch], 0
		mov	word ptr ss:[bx+12h], 0
		push	bx
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		pop	bx
		xchg	ax, bx
		mov	es, dx
		mov	cx, es:[bx]
		mov	dx, es:[bx+2]
		mov	bx, ax
		mov	ss:[bx+1Ah], cx
		mov	ss:[bx+1Ch], dx
		push	bx
		push	cs
		call	near ptr @__RefExceptionList$qv	; __RefExceptionList(void)
		pop	bx
		xchg	ax, bx
		mov	es, dx
		mov	cx, es:[bx]
		mov	es:[bx], ax
		mov	bx, ax
		mov	ss:[bx], cx
		retf
___InitExceptBlocks endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

___ExitExceptBlocks proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	cs
		call	near ptr @__RefExceptionList$qv	; __RefExceptionList(void)
		mov	bx, [bp+arg_0]
		xchg	ax, bx
		mov	es, dx
		mov	es:[bx], ax
		pop	bp
		retf	2
___ExitExceptBlocks endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; terminate(void)
@terminate$qv	proc near
		push	si
		push	di
		nop
		push	cs
		call	near ptr _abort
@terminate$qv	endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_terminate(void (*)(void))
@set_terminate$qnqv$v proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_2D41
		les	bx, ss:16h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+0Ch], dx
		mov	es:[bx+0Ah], ax

loc_2D41:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_terminate$qnqv$v endp

; ---------------------------------------------------------------------------
		db 4 dup(0), 0DBh, 2Dh
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 4Dh,	2Dh
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

___call_terminate proc far

var_26		= dword	ptr -26h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_12		= word ptr -12h

		push	bp
		mov	bp, sp
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 2D65h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_22], ds
		nop
		push	cs
		call	near ptr _flushall
		les	bx, ss:16h
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax
		mov	[bp+var_12], 6
		les	bx, ss:16h
		cmp	word ptr es:[bx+12h], 0
		jnz	short loc_2DBF
		les	bx, ss:16h
		mov	word ptr es:[bx+12h], ds

loc_2DBF:
		les	bx, ss:16h
		mov	ax, es:[bx+12h]
		mov	[bp+var_20], ax
		mov	ds, [bp+var_20]
		call	[bp+var_26]
		mov	ds, [bp+var_22]
		mov	[bp+var_12], 0
		jmp	short loc_2DE3
; ---------------------------------------------------------------------------
		mov	ds, [bp+var_22]
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_2DE3:
		nop
		push	cs
		call	near ptr _abort
___call_terminate endp

; ---------------------------------------------------------------------------
		push	word ptr [bp-1Eh]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; unexpected(void)
@unexpected$qv	proc near
		push	si
		push	di
		push	cs
		call	near ptr ___call_terminate
@unexpected$qv	endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_unexpected(void (*)(void))
@set_unexpected$qnqv$v proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_2E35
		les	bx, ss:16h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+10h], dx
		mov	es:[bx+0Eh], ax

loc_2E35:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_unexpected$qnqv$v endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

___call_unexpected proc	far

var_6		= dword	ptr -6
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		les	bx, ss:16h
		cmp	word ptr es:[bx+14h], 0
		jnz	short loc_2E71
		les	bx, ss:16h
		mov	word ptr es:[bx+14h], ds

loc_2E71:
		les	bx, ss:16h
		mov	ax, es:[bx+14h]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		call	[bp+var_6]
		pop	ds
		nop
		push	cs
		call	near ptr _abort
___call_unexpected endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __GetPolymorphicDTC(void *, unsigned int)
@__GetPolymorphicDTC$qnvui proc	far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_2EA4
		xor	ax, ax
		jmp	short loc_2EDE
; ---------------------------------------------------------------------------

loc_2EA4:
		les	bx, [bp+arg_0]
		add	bx, [bp+arg_4]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx+1Ah]

loc_2EDE:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetPolymorphicDTC$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __GetPolymorphicDTCfar(void *, unsigned int)
@__GetPolymorphicDTCfar$qnvui proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_2EF8
		xor	ax, ax
		jmp	short loc_2F36
; ---------------------------------------------------------------------------

loc_2EF8:
		les	bx, [bp+arg_0]
		add	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx+1Ah]

loc_2F36:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetPolymorphicDTCfar$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

__ExceptInit	proc far
		push	si
		push	di
		mov	word ptr ss:12h, 0
		mov	word ptr ss:10h, 0
		mov	word ptr ss:18h, ds
		mov	word ptr ss:16h, 1090h
		mov	word ptr ss:1Ah, 0FEEDh
		mov	ax, ds
		mov	word_13B44, ax
		mov	word_13B42, ax
		mov	dx, ss:18h
		mov	ax, ss:16h
		add	ax, 0A8h ; '¨'
		les	bx, ss:16h
		mov	es:[bx+22h], dx
		mov	es:[bx+20h], ax
		mov	word ptr ss:14h, 0FFFFh
		pop	di
		pop	si
		retf
__ExceptInit	endp

; ---------------------------------------------------------------------------

unknown_libname_2:			; BCC v4.x/5.x DOS runtime
		pushf
		pop	bx
		mov	ax, 0FFFh
		and	ax, bx
		push	ax
		popf
		pushf
		pop	ax
		and	ax, 0F000h
		cmp	ax, 0F000h
		mov	word_13C58, 0
		jz	short locret_2FE5
		or	bx, 0F000h
		push	bx
		popf
		pushf
		pop	ax
		and	ax, 0F000h
		mov	word_13C58, 2
		jz	short locret_2FE5
		mov	edx, esp
		and	sp, 0FFFCh
		pushfd
		pop	eax
		mov	ecx, eax
		xor	eax, 40000h
		push	eax
		popfd
		pushfd
		pop	eax
		xor	eax, ecx
		mov	word_13C58, 3
		mov	esp, edx
		jz	short locret_2FE5
		mov	word_13C58, 4

locret_2FE5:
		retn
; ---------------------------------------------------------------------------

include libs/BorlandC/FARHEAP.ASM

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_3441	proc near

newsize		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, [bp+arg_2]
		inc	ax
		mov	[bp+newsize], ax
		mov	ax, segx
		sub	[bp+newsize], ax
		mov	ax, [bp+newsize]
		add	ax, 3Fh	; '?'
		mov	cl, 6
		shr	ax, cl
		mov	[bp+newsize], ax
		cmp	ax, word_13C5A
		jz	short loc_34A5
		mov	cl, 6
		shl	[bp+newsize], cl
		mov	dx, word_12B2E
		mov	ax, [bp+newsize]
		add	ax, segx
		cmp	ax, dx
		jbe	short loc_3486
		mov	ax, dx
		sub	ax, segx
		mov	[bp+newsize], ax

loc_3486:
		push	[bp+newsize]	; newsize
		push	segx		; segx
		nop
		push	cs
		call	near ptr _setblock
		pop	cx
		pop	cx
		mov	dx, ax
		cmp	dx, 0FFFFh
		jnz	short loc_34B7
		mov	ax, [bp+newsize]
		mov	cl, 6
		shr	ax, cl
		mov	word_13C5A, ax

loc_34A5:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word_12B2A, dx
		mov	word_12B28, ax
		mov	ax, 1
		jmp	short loc_34C7
; ---------------------------------------------------------------------------

loc_34B7:
		mov	ax, segx
		add	ax, dx
		mov	word_12B2E, ax
		mov	word_12B2C, 0
		xor	ax, ax

loc_34C7:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	4
sub_3441	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__brk		proc near

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	cx, word_12B26
		mov	bx, word_12B24
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		call	N_PCMP@
		jb	short loc_3507
		mov	cx, word_12B2E
		mov	bx, word_12B2C
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		call	N_PCMP@
		ja	short loc_3507
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_3441
		or	ax, ax
		jnz	short loc_350C

loc_3507:
		mov	ax, 0FFFFh
		jmp	short loc_350E
; ---------------------------------------------------------------------------

loc_350C:
		xor	ax, ax

loc_350E:
		pop	di
		pop	si
		pop	bp
		retn
__brk		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__sbrk		proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word_12B2A
		xor	dx, dx
		mov	cl, 4
		call	N_LXLSH@
		add	ax, word_12B28
		adc	dx, 0
		add	ax, [bp+arg_0]
		adc	dx, [bp+arg_2]
		cmp	dx, 0Fh
		jl	short loc_353D
		jg	short loc_358D
		cmp	ax, 0FFFFh
		ja	short loc_358D

loc_353D:
		mov	dx, word_12B2A
		mov	ax, word_12B28
		mov	cx, [bp+arg_2]
		mov	bx, [bp+arg_0]
		call	near ptr N_PADD@
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	cx, word_12B26
		mov	bx, word_12B24
		call	N_PCMP@
		jb	short loc_358D
		mov	cx, word_12B2E
		mov	bx, word_12B2C
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		call	N_PCMP@
		ja	short loc_358D
		mov	dx, word_12B2A
		mov	ax, word_12B28
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_3441
		or	ax, ax
		jnz	short loc_3595

loc_358D:
		mov	dx, 0FFFFh
		mov	ax, 0FFFFh
		jmp	short loc_359B
; ---------------------------------------------------------------------------

loc_3595:
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]

loc_359B:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
__sbrk		endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl int86(int	intno, union REGS *inregs, union REGS *outregs)
_int86		proc far

segp		= SREGS	ptr -8
intno		= word ptr  6
inregs		= dword	ptr  8
outregs		= dword	ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segp
		nop
		push	cs
		call	near ptr _segread
		pop	cx
		pop	cx
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segregs
		push	word ptr [bp+outregs+2]
		push	word ptr [bp+outregs] ;	outregs
		push	word ptr [bp+inregs+2]
		push	word ptr [bp+inregs] ; inregs
		push	[bp+intno]	; intno
		push	cs
		call	near ptr _int86x
		add	sp, 0Eh
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_int86		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl int86x(int intno,	union REGS *inregs, union REGS *outregs, struct	SREGS *segregs)
_int86x		proc far

var_E		= byte ptr -0Eh
var_D		= byte ptr -0Dh
var_C		= byte ptr -0Ch
var_B		= word ptr -0Bh
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
intno		= word ptr  6
inregs		= dword	ptr  8
outregs		= dword	ptr  0Ch
segregs		= dword	ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 0Eh
		push	si
		push	di
		push	ds
		lea	cx, [bp+var_E]
		mov	word ptr [bp+var_4], cx
		mov	word ptr [bp+var_4+2], ss
		mov	[bp+var_E], 55h	; 'U'
		mov	[bp+var_D], 0CDh ; 'Í'
		mov	ax, [bp+intno]
		mov	[bp+var_C], al
		mov	[bp+var_B], 0CB5Dh
		cmp	al, 25h	; '%'
		jb	short loc_3614
		cmp	al, 26h	; '&'
		ja	short loc_3614
		mov	byte ptr [bp+var_B], 36h ; '6'
		mov	[bp+var_B+1], 68Fh
		mov	[bp+var_8], cx
		mov	[bp+var_6], 0CB5Dh

loc_3614:
		lds	si, [bp+segregs]
		push	word ptr [si]
		push	word ptr [si+6]
		lds	si, [bp+inregs]
		mov	ax, [si]
		mov	bx, [si+2]
		mov	cx, [si+4]
		mov	dx, [si+6]
		mov	di, [si+0Ah]
		mov	si, [si+8]
		pop	ds
		pop	es
		clc
		call	[bp+var_4]
		pushf
		pushf
		push	si
		push	ds
		push	es
		lds	si, [bp+segregs]
		pop	word ptr [si]
		pop	word ptr [si+6]
		lds	si, [bp+outregs]
		pop	word ptr [si+8]
		pop	word ptr [si+0Eh]
		pop	word ptr [si+0Ch]
		and	word ptr [si+0Ch], 1
		mov	[si+0Ah], di
		mov	[si+6],	dx
		mov	[si+4],	cx
		mov	[si+2],	bx
		mov	[si], ax
		pop	ds
		jz	short loc_366A
		push	ax
		push	ax
		call	__IOERROR
		pop	ax

loc_366A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_int86x		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl intdos(union REGS	*inregs, union REGS *outregs)
_intdos		proc far

segp		= SREGS	ptr -8
inregs		= dword	ptr  6
outregs		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segp
		nop
		push	cs
		call	near ptr _segread
		pop	cx
		pop	cx
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segregs
		push	word ptr [bp+outregs+2]
		push	word ptr [bp+outregs] ;	outregs
		push	word ptr [bp+inregs+2]
		push	word ptr [bp+inregs] ; inregs
		push	cs
		call	near ptr _intdosx
		add	sp, 0Ch
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_intdos		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl intdosx(union REGS *inregs, union	REGS *outregs, struct SREGS *segregs)
_intdosx	proc far

inregs		= dword	ptr  6
outregs		= dword	ptr  0Ah
segregs		= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		lds	si, [bp+segregs]
		push	word ptr [si]
		push	word ptr [si+6]
		lds	si, [bp+inregs]
		mov	ax, [si]
		mov	bx, [si+2]
		mov	cx, [si+4]
		mov	dx, [si+6]
		mov	di, [si+0Ah]
		mov	si, [si+8]
		pop	ds
		pop	es
		push	bp
		int	21h		; DOS -
		pop	bp
		pushf
		pushf
		push	si
		push	ds
		push	es
		lds	si, [bp+segregs]
		pop	word ptr [si]
		pop	word ptr [si+6]
		lds	si, [bp+outregs]
		pop	word ptr [si+8]
		pop	word ptr [si+0Eh]
		pop	word ptr [si+0Ch]
		and	word ptr [si+0Ch], 1
		mov	[si+0Ah], di
		mov	[si+6],	dx
		mov	[si+4],	cx
		mov	[si+2],	bx
		mov	[si], ax
		pop	ds
		jz	short loc_36FE
		push	ax
		push	ax
		call	__IOERROR
		pop	ax

loc_36FE:
		pop	di
		pop	si
		pop	bp
		retf
_intdosx	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int ioctl(int	handle,	int func, ...)
_ioctl		proc far

handle		= word ptr  6
func		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		lds	dx, [bp+arg_4]
		mov	ah, 44h	; 'D'
		mov	al, byte ptr [bp+func]
		mov	bx, [bp+handle]
		mov	cx, [bp+arg_8]
		int	21h		; DOS -	2+ - IOCTL -
		pop	ds
		jb	short loc_3727
		cmp	[bp+func], 0
		jnz	short loc_3725
		mov	ax, dx
		jmp	short loc_372B
; ---------------------------------------------------------------------------

loc_3725:
		jmp	short loc_372B
; ---------------------------------------------------------------------------

loc_3727:
		push	ax
		call	__IOERROR

loc_372B:
		pop	di
		pop	si
		pop	bp
		retf
_ioctl		endp

; ---------------------------------------------------------------------------
		push	ax
		push	bx
		push	cx
		push	dx
		push	es
		push	ds
		push	si
		push	di
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		sub	sp, 4
		mov	dx, word_13C68
		mov	ax, word_13C66
		mov	[bp-2],	dx
		mov	[bp-4],	ax
		or	dx, dx
		jnz	short loc_3758
		cmp	ax, 1
		jz	short loc_3795

loc_3758:
		mov	ax, [bp-4]
		or	ax, [bp-2]
		jz	short loc_376C
		cmp	word ptr [bp-2], 0FFFFh
		jnz	short loc_3776
		cmp	word ptr [bp-4], 0FFFFh
		jnz	short loc_3776

loc_376C:
		mov	ax, 1
		push	ax
		nop
		push	cs
		call	near ptr __exit
; ---------------------------------------------------------------------------
		pop	cx

loc_3776:
		mov	word_13C68, 0
		mov	word_13C66, 0
		push	ss
		lea	ax, [bp+0]
		push	ax
		mov	ax, 7Fh	; ''
		push	ax
		mov	ax, 8
		push	ax
		call	dword ptr [bp-4]
		add	sp, 8

loc_3795:
		mov	sp, bp
		pop	bp
		pop	di
		pop	si
		pop	ds
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		iret
; ---------------------------------------------------------------------------
		push	ax
		push	bx
		push	cx
		push	dx
		push	es
		push	ds
		push	si
		push	di
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		sub	sp, 4
		mov	dx, word_13C68
		mov	ax, word_13C66
		mov	[bp-2],	dx
		mov	[bp-4],	ax
		or	dx, dx
		jnz	short loc_37CA
		cmp	ax, 1
		jz	short loc_3807

loc_37CA:
		mov	ax, [bp-4]
		or	ax, [bp-2]
		jz	short loc_37DE
		cmp	word ptr [bp-2], 0FFFFh
		jnz	short loc_37E8
		cmp	word ptr [bp-4], 0FFFFh
		jnz	short loc_37E8

loc_37DE:
		mov	ax, 1
		push	ax
		nop
		push	cs
		call	near ptr __exit
; ---------------------------------------------------------------------------
		pop	cx

loc_37E8:
		mov	word_13C68, 0
		mov	word_13C66, 0
		push	ss
		lea	ax, [bp+0]
		push	ax
		mov	ax, 7Eh	; '~'
		push	ax
		mov	ax, 8
		push	ax
		call	dword ptr [bp-4]
		add	sp, 8

loc_3807:
		mov	sp, bp
		pop	bp
		pop	di
		pop	si
		pop	ds
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		iret
; ---------------------------------------------------------------------------
		push	ax
		push	cx
		push	dx
		push	bx
		push	sp
		push	bp
		push	si
		push	di
		push	ds
		push	es
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		sub	sp, 4
		pushf
		mov	dx, word_13C60
		mov	ax, word_13C5E
		mov	[bp-2],	dx
		mov	[bp-4],	ax
		or	dx, dx
		jnz	short loc_383E
		cmp	ax, 1
		jz	short loc_3883

loc_383E:
		mov	ax, [bp-4]
		or	ax, [bp-2]
		jz	short loc_3852
		cmp	word ptr [bp-2], 0FFFFh
		jnz	short loc_385C
		cmp	word ptr [bp-4], 0FFFFh
		jnz	short loc_385C

loc_3852:
		mov	ax, 1
		push	ax
		nop
		push	cs
		call	near ptr __exit
; ---------------------------------------------------------------------------
		pop	cx

loc_385C:
		mov	word_13C60, 0
		mov	word_13C5E, 0
		push	word_1474A
		push	word_14748
		mov	ax, 23h	; '#'
		push	ax
		nop
		push	cs
		call	near ptr _setvect
		mov	ax, 2
		push	ax
		call	dword ptr [bp-4]
		add	sp, 8

loc_3883:
		popf
		clc
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3892	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	dx, dx

loc_3899:
		mov	bx, dx
		mov	al, [bx+11D6h]
		mov	ah, 0
		cmp	ax, [bp+arg_0]
		jnz	short loc_38AA
		mov	ax, dx
		jmp	short loc_38B3
; ---------------------------------------------------------------------------

loc_38AA:
		inc	dx
		cmp	dx, 6
		jl	short loc_3899
		mov	ax, 0FFFFh

loc_38B3:
		pop	di
		pop	si
		pop	bp
		retf
sub_3892	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		cmp	byte_13C5D, 0
		jnz	short loc_38D7
		mov	word ptr dword_14740+2,	seg seg000
		mov	word ptr dword_14740, 38B7h
		mov	byte_13C5D, 1

loc_38D7:
		push	word ptr [bp+6]
		push	cs
		call	near ptr sub_3892
		pop	cx
		mov	[bp-2],	ax
		cmp	ax, 0FFFFh
		jnz	short loc_38F6
		mov	word_12B1E, 13h
		mov	dx, 0FFFFh
		mov	ax, 0FFFFh
		jmp	loc_3993
; ---------------------------------------------------------------------------

loc_38F6:
		mov	bx, [bp-2]
		mov	cl, 2
		shl	bx, cl
		mov	dx, [bx+11C0h]
		mov	ax, [bx+11BEh]
		mov	[bp-4],	dx
		mov	[bp-6],	ax
		mov	bx, [bp-2]
		shl	bx, cl
		mov	dx, [bp+0Ah]
		mov	ax, [bp+8]
		mov	[bx+11C0h], dx
		mov	[bx+11BEh], ax
		cmp	word ptr [bp+6], 2
		jnz	short loc_3960
		cmp	byte_13C5C, 0
		jnz	short loc_3941
		mov	ax, 23h	; '#'
		push	ax
		nop
		push	cs
		call	near ptr _getvect
		pop	cx
		mov	word_1474A, dx
		mov	word_14748, ax
		mov	byte_13C5C, 1

loc_3941:
		mov	ax, [bp+8]
		or	ax, [bp+0Ah]
		jnz	short loc_3953
		push	word_1474A
		push	word_14748
		jmp	short loc_395B
; ---------------------------------------------------------------------------

loc_3953:
		mov	ax, seg	seg000
		push	ax
		mov	ax, 3813h
		push	ax

loc_395B:
		mov	ax, 23h	; '#'
		jmp	short loc_3984
; ---------------------------------------------------------------------------

loc_3960:
		cmp	word ptr [bp+6], 8
		jnz	short loc_398D
		mov	ax, seg	seg000
		push	ax
		mov	ax, 372Fh
		push	ax
		xor	ax, ax
		push	ax
		nop
		push	cs
		call	near ptr _setvect
		add	sp, 6
		mov	ax, seg	seg000
		push	ax
		mov	ax, 37A1h
		push	ax
		mov	ax, 4

loc_3984:
		push	ax
		nop
		push	cs
		call	near ptr _setvect
		add	sp, 6

loc_398D:
		mov	dx, [bp-4]
		mov	ax, [bp-6]

loc_3993:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3999	proc far

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_3892
		pop	cx
		mov	[bp+var_2], ax
		cmp	ax, 0FFFFh
		jnz	short loc_39B6
		mov	ax, 1
		jmp	short loc_3A2A
; ---------------------------------------------------------------------------

loc_39B6:
		mov	bx, [bp+var_2]
		mov	cl, 2
		shl	bx, cl
		mov	dx, [bx+11C0h]
		mov	ax, [bx+11BEh]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		or	dx, dx
		jnz	short loc_39D4
		cmp	ax, 1
		jz	short loc_3A28

loc_39D4:
		mov	ax, word ptr [bp+var_6]
		or	ax, word ptr [bp+var_6+2]
		jnz	short loc_3A03
		mov	ax, [bp+arg_0]
		cmp	ax, 2
		jz	short loc_39EE
		cmp	ax, 16h
		jnz	short loc_39F7
		nop
		push	cs
		call	near ptr __abort
; ---------------------------------------------------------------------------

loc_39EE:
		xor	ax, ax
		int	23h		; DOS -	CONTROL	"C" EXIT ADDRESS
					; Return: return via RETF 2 with CF set
					; DOS will abort program with errorlevel 0
					; else
					; interrupted DOS call continues
		mov	ax, 4C03h
		int	21h		; DOS -	2+ - QUIT WITH EXIT CODE (EXIT)
					; AL = exit code
; ---------------------------------------------------------------------------

loc_39F7:
		mov	ax, 1
		push	ax		; status
		nop
		push	cs
		call	near ptr __exit
; ---------------------------------------------------------------------------
		pop	cx
		jmp	short loc_3A28
; ---------------------------------------------------------------------------

loc_3A03:
		mov	bx, [bp+var_2]
		mov	cl, 2
		shl	bx, cl
		mov	word ptr [bx+11C0h], 0
		mov	word ptr [bx+11BEh], 0
		mov	bx, [bp+var_2]
		mov	al, [bx+11DCh]
		mov	ah, 0
		push	ax
		push	[bp+arg_0]
		call	[bp+var_6]
		pop	cx
		pop	cx

loc_3A28:
		xor	ax, ax

loc_3A2A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_3999	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far _access(char *pathname, char)
__access	proc far

pathname	= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax		; func
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		push	cs
		call	near ptr __chmod
		add	sp, 6
		mov	dx, ax
		cmp	dx, 0FFFFh
		jnz	short loc_3A4F
		jmp	short loc_3A67
; ---------------------------------------------------------------------------

loc_3A4F:
		test	[bp+arg_4], 2
		jz	short loc_3A5A
		test	dl, 1
		jnz	short loc_3A5E

loc_3A5A:
		xor	ax, ax
		jmp	short loc_3A67
; ---------------------------------------------------------------------------

loc_3A5E:
		mov	word_12B1E, 5
		mov	ax, 0FFFFh

loc_3A67:
		pop	di
		pop	si
		pop	bp
		retf
__access	endp

; ---------------------------------------------------------------------------
		push	ax
		push	cx
		push	dx
		push	bx
		push	sp
		push	bp
		push	si
		push	di
		push	ds
		push	es
		mov	bp, sp
		mov	ax, word ptr dword_13C82
		or	ax, word ptr dword_13C82+2
		jnz	short loc_3AA7
		mov	si, 0FFFFh
		push	ds
		mov	ax, 6300h
		clc
		int	21h		; DOS -	3.2+ only - GET	DOUBLE BYTE CHARACTER SET LEAD TABLE
		mov	ax, ds
		pop	ds
		jb	short loc_3A9A
		mov	dx, ds
		cmp	ax, dx
		jz	short loc_3A9A
		cmp	si, 0FFFFh
		jnz	short loc_3AA0

loc_3A9A:
		mov	si, 11E6h
		mov	ax, seg	dseg

loc_3AA0:
		mov	word ptr dword_13C82, si
		mov	word ptr dword_13C82+2,	ax

loc_3AA7:
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3AB4	proc far

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	al, [bp+arg_0]
		xor	cx, cx
		les	bx, dword_13C82

loc_3AC2:
		mov	dx, es:[bx]
		or	dx, dx
		jz	short loc_3AD4
		cmp	al, dl
		jb	short loc_3AD4
		inc	bx
		inc	bx
		cmp	al, dh
		ja	short loc_3AC2
		inc	cx

loc_3AD4:
		xchg	ax, cx
		pop	di
		pop	si
		pop	bp
		retf
sub_3AB4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3AD9	proc far

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		xor	cx, cx
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_3AEF:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_3AFC
		xor	cx, cx
		jmp	short loc_3B2A
; ---------------------------------------------------------------------------

loc_3AFC:
		cmp	cx, 1
		jnz	short loc_3B06
		mov	cx, 2
		jmp	short loc_3B1D
; ---------------------------------------------------------------------------

loc_3B06:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr sub_3AB4
		pop	cx
		or	ax, ax
		jz	short loc_3B1B
		mov	cx, 1
		jmp	short loc_3B1D
; ---------------------------------------------------------------------------

loc_3B1B:
		xor	cx, cx

loc_3B1D:
		mov	ax, word ptr [bp+var_4]
		cmp	ax, [bp+arg_4]
		jnb	short loc_3B2A
		inc	word ptr [bp+var_4]
		jmp	short loc_3AEF
; ---------------------------------------------------------------------------

loc_3B2A:
		or	cx, cx
		jnz	short loc_3B33
		mov	ax, 1
		jmp	short loc_3B35
; ---------------------------------------------------------------------------

loc_3B33:
		xor	ax, ax

loc_3B35:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_3AD9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl access(const char	*path, int amode)
_access		proc far

pathname	= dword	ptr  6
amode		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+amode] ; char
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		pop	di
		pop	si
		pop	bp
		retf
_access		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int _chmod(const char	*pathname, int func, ...)
__chmod		proc far

pathname	= dword	ptr  6
func		= byte ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	cx, [bp+arg_6]
		mov	ah, 43h	; 'C'
		mov	al, [bp+func]
		lds	dx, [bp+pathname]
		int	21h		; DOS -
		pop	ds
		jb	short loc_3B6E
		xchg	ax, cx
		jmp	short loc_3B72
; ---------------------------------------------------------------------------

loc_3B6E:
		push	ax
		call	__IOERROR

loc_3B72:
		pop	di
		pop	si
		pop	bp
		retf
__chmod		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl close(int	handle)
_close		proc far

handle		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+handle]
		cmp	dx, word_138DA
		jb	short loc_3B8D
		mov	ax, 6
		push	ax
		call	__IOERROR
		jmp	short loc_3B9E
; ---------------------------------------------------------------------------

loc_3B8D:
		mov	bx, dx
		add	bx, bx
		mov	word ptr [bx+0E3Ch], 0
		push	dx		; handle
		nop
		push	cs
		call	near ptr __rtl_close
		pop	cx

loc_3B9E:
		pop	di
		pop	si
		pop	bp
		retf
_close		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl _rtl_close(int handle)
__rtl_close	proc far

handle		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ah, 3Eh	; '>'
		mov	bx, [bp+handle]
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		jb	short loc_3BBC
		add	bx, bx
		mov	word ptr [bx+0E3Ch], 0
		xor	ax, ax
		jmp	short loc_3BC0
; ---------------------------------------------------------------------------

loc_3BBC:
		push	ax
		call	__IOERROR

loc_3BC0:
		pop	di
		pop	si
		pop	bp
		retf
__rtl_close	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl _close(int handle)
__close		proc far

handle		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+handle]	; handle
		push	cs
		call	near ptr __rtl_close
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
__close		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl eof(int handle)
_eof		proc far

var_4		= word ptr -4
var_2		= word ptr -2
handle		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, [bp+handle]
		cmp	ax, word_138DA
		jb	short loc_3BEC
		mov	ax, 6
		push	ax
		jmp	short loc_3C49
; ---------------------------------------------------------------------------

loc_3BEC:
		mov	bx, [bp+handle]
		add	bx, bx
		test	byte ptr [bx+0E3Dh], 2
		jz	short loc_3BFD
		mov	ax, 1
		jmp	short loc_3C4C
; ---------------------------------------------------------------------------

loc_3BFD:
		mov	ax, 4400h
		mov	bx, [bp+handle]
		int	21h		; DOS -	2+ - IOCTL - GET DEVICE	INFORMATION
					; BX = file or device handle
		jb	short loc_3C48
		test	dl, 80h
		jnz	short loc_3C44
		mov	ax, 4201h
		xor	cx, cx
		mov	dx, cx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from present location
		jb	short loc_3C48
		push	dx
		push	ax
		mov	ax, 4202h
		xor	cx, cx
		mov	dx, cx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from end of file
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		pop	dx
		pop	cx
		jb	short loc_3C48
		mov	ax, 4200h
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from beginning of	file
		jb	short loc_3C48
		cmp	dx, [bp+var_2]
		jb	short loc_3C44
		ja	short loc_3C3F
		cmp	ax, [bp+var_4]
		jb	short loc_3C44

loc_3C3F:
		mov	ax, 1
		jmp	short loc_3C4C
; ---------------------------------------------------------------------------

loc_3C44:
		xor	ax, ax
		jmp	short loc_3C4C
; ---------------------------------------------------------------------------

loc_3C48:
		push	ax

loc_3C49:
		call	__IOERROR

loc_3C4C:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_eof		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl fclose(FILE *stream)
_fclose		proc far

var_2		= word ptr -2
stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	[bp+var_2], 0FFFFh
		mov	ax, word ptr [bp+stream]
		or	ax, word ptr [bp+stream+2]
		jnz	short loc_3C6A
		jmp	loc_3D09
; ---------------------------------------------------------------------------

loc_3C6A:
		les	bx, [bp+stream]
		mov	ax, es:[bx+12h]
		cmp	ax, word ptr [bp+stream]
		jz	short loc_3C79
		jmp	loc_3D09
; ---------------------------------------------------------------------------

loc_3C79:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx+6], 0
		jz	short loc_3CB1
		cmp	word ptr es:[bx], 0
		jge	short loc_3C98
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fflush
		pop	cx
		pop	cx
		or	ax, ax
		jnz	short loc_3D09

loc_3C98:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 4
		jz	short loc_3CB1
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_3CB1:
		les	bx, [bp+stream]
		cmp	byte ptr es:[bx+4], 0
		jl	short loc_3CCA
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _close
		pop	cx
		mov	[bp+var_2], ax

loc_3CCA:
		les	bx, [bp+stream]
		mov	word ptr es:[bx+2], 0
		mov	word ptr es:[bx+6], 0
		mov	word ptr es:[bx], 0
		mov	byte ptr es:[bx+4], 0FFh
		cmp	word ptr es:[bx+10h], 0
		jz	short loc_3D09
		xor	ax, ax
		push	ax
		push	ax		; dest
		push	ax		; int
		push	ax		; int
		push	word ptr es:[bx+10h] ; int
		call	__MKNAME
		push	dx
		push	ax		; path
		nop
		push	cs
		call	near ptr _unlink
		pop	cx
		pop	cx
		les	bx, [bp+stream]
		mov	word ptr es:[bx+10h], 0

loc_3D09:
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_fclose		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl fflush(FILE *stream)
_fflush		proc far

var_2		= word ptr -2
stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, word ptr [bp+stream]
		or	ax, word ptr [bp+stream+2]
		jnz	short loc_3D2A
		nop
		push	cs
		call	near ptr _flushall
		jmp	loc_3DDB
; ---------------------------------------------------------------------------

loc_3D2A:
		les	bx, [bp+stream]
		mov	ax, es:[bx+12h]
		cmp	ax, word ptr [bp+stream]
		jz	short loc_3D39
		jmp	loc_3DD6
; ---------------------------------------------------------------------------

loc_3D39:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jl	short loc_3D90
		test	byte ptr es:[bx+2], 8
		jnz	short loc_3D61
		mov	dx, es:[bx+0Eh]
		mov	ax, word ptr [bp+stream]
		add	ax, 5
		cmp	dx, word ptr [bp+stream+2]
		jz	short loc_3D5B
		jmp	loc_3DDB
; ---------------------------------------------------------------------------

loc_3D5B:
		cmp	es:[bx+0Ch], ax
		jnz	short loc_3DDB

loc_3D61:
		les	bx, [bp+stream]
		mov	word ptr es:[bx], 0
		mov	dx, es:[bx+0Eh]
		mov	ax, word ptr [bp+stream]
		add	ax, 5
		cmp	dx, word ptr [bp+stream+2]
		jnz	short loc_3DDB
		cmp	es:[bx+0Ch], ax
		jnz	short loc_3DDB
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		jmp	short loc_3DDB
; ---------------------------------------------------------------------------

loc_3D90:
		les	bx, [bp+stream]
		mov	ax, es:[bx+6]
		add	ax, es:[bx]
		inc	ax
		mov	[bp+var_2], ax
		sub	es:[bx], ax
		push	ax		; len
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		push	dx
		push	ax		; buf
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr ___write
		add	sp, 8
		cmp	ax, [bp+var_2]
		jz	short loc_3DDB
		les	bx, [bp+stream]
		test	byte ptr es:[bx+3], 2
		jnz	short loc_3DDB
		or	word ptr es:[bx+2], 10h

loc_3DD6:
		mov	ax, 0FFFFh
		jmp	short loc_3DDD
; ---------------------------------------------------------------------------

loc_3DDB:
		xor	ax, ax

loc_3DDD:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_fflush		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __int32 __cdecl filelength(int handle)
_filelength	proc far

var_4		= word ptr -4
var_2		= word ptr -2
handle		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, 4201h
		mov	bx, [bp+handle]
		xor	cx, cx
		xor	dx, dx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from present location
		jb	short loc_3E1D
		push	dx
		push	ax
		mov	ax, 4202h
		xor	cx, cx
		xor	dx, dx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from end of file
		mov	[bp+var_4], ax
		mov	[bp+var_2], dx
		pop	dx
		pop	cx
		jb	short loc_3E1D
		mov	ax, 4200h
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from beginning of	file
		jb	short loc_3E1D
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		jmp	short loc_3E22
; ---------------------------------------------------------------------------

loc_3E1D:
		push	ax
		call	__IOERROR
		cwd

loc_3E22:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_filelength	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int flushall(void)
_flushall	proc far

var_8		= word ptr -8
var_6		= word ptr -6
stream		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	[bp+var_8], 0
		mov	ax, word_138DA
		mov	[bp+var_6], ax
		mov	word ptr [bp+stream+2],	ds
		mov	word ptr [bp+stream], 0CAAh
		jmp	short loc_3E61
; ---------------------------------------------------------------------------

loc_3E45:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 3
		jz	short loc_3E5D
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fflush
		pop	cx
		pop	cx
		inc	[bp+var_8]

loc_3E5D:
		add	word ptr [bp+stream], 14h

loc_3E61:
		mov	ax, [bp+var_6]
		dec	[bp+var_6]
		or	ax, ax
		jnz	short loc_3E45
		mov	ax, [bp+var_8]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_flushall	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_3E74	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= dword	ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	[bp+var_2], 0
		les	bx, [bp+arg_8]
		inc	word ptr [bp+arg_8]
		mov	cl, es:[bx]
		mov	al, cl
		cmp	al, 72h	; 'r'
		jnz	short loc_3E9A
		mov	dx, 1
		mov	[bp+var_4], 1
		jmp	short loc_3EBD
; ---------------------------------------------------------------------------

loc_3E9A:
		cmp	cl, 77h	; 'w'
		jnz	short loc_3EA4
		mov	dx, 302h
		jmp	short loc_3EAC
; ---------------------------------------------------------------------------

loc_3EA4:
		cmp	cl, 61h	; 'a'
		jnz	short loc_3EB8
		mov	dx, 902h

loc_3EAC:
		mov	[bp+var_2], 80h	; '€'
		mov	[bp+var_4], 2
		jmp	short loc_3EBD
; ---------------------------------------------------------------------------

loc_3EB8:
		xor	ax, ax
		jmp	loc_3F40
; ---------------------------------------------------------------------------

loc_3EBD:
		les	bx, [bp+arg_8]
		mov	cl, es:[bx]
		inc	word ptr [bp+arg_8]
		cmp	cl, 2Bh	; '+'
		jz	short loc_3EDE
		les	bx, [bp+arg_8]
		cmp	byte ptr es:[bx], 2Bh ;	'+'
		jnz	short loc_3EF9
		cmp	cl, 74h	; 't'
		jz	short loc_3EDE
		cmp	cl, 62h	; 'b'
		jnz	short loc_3EF9

loc_3EDE:
		cmp	cl, 2Bh	; '+'
		jnz	short loc_3EE9
		les	bx, [bp+arg_8]
		mov	cl, es:[bx]

loc_3EE9:
		and	dx, 0FFFCh
		or	dx, 4
		mov	[bp+var_2], 180h
		mov	[bp+var_4], 3

loc_3EF9:
		cmp	cl, 74h	; 't'
		jnz	short loc_3F04
		or	dx, 4000h
		jmp	short loc_3F22
; ---------------------------------------------------------------------------

loc_3F04:
		cmp	cl, 62h	; 'b'
		jnz	short loc_3F0F
		or	dx, 8000h
		jmp	short loc_3F1E
; ---------------------------------------------------------------------------

loc_3F0F:
		mov	ax, word_13904
		and	ax, 0C000h
		or	dx, ax
		mov	ax, dx
		test	ah, 80h
		jz	short loc_3F22

loc_3F1E:
		or	[bp+var_4], 40h

loc_3F22:
		mov	word ptr off_13742+2, seg seg000
		mov	word ptr off_13742, 5787h
		les	bx, [bp+arg_4]
		mov	es:[bx], dx
		les	bx, [bp+arg_0]
		mov	ax, [bp+var_2]
		mov	es:[bx], ax
		mov	ax, [bp+var_4]

loc_3F40:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Ch
sub_3E74	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __stdcall	_OPENFP(int, int, int, char *path, FILE	*stream)
__OPENFP	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
_path		= dword	ptr  0Ah
stream		= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		push	ss
		lea	ax, [bp+var_4]
		push	ax
		call	sub_3E74
		les	bx, [bp+stream]
		mov	es:[bx+2], ax
		or	ax, ax
		jz	short loc_3F98
		cmp	byte ptr es:[bx+4], 0
		jge	short loc_3FA8
		push	[bp+var_4]
		mov	ax, [bp+var_2]
		or	ax, [bp+arg_0]
		push	ax		; access
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path] ; path
		nop
		push	cs
		call	near ptr _open
		add	sp, 8
		les	bx, [bp+stream]
		mov	es:[bx+4], al
		or	al, al
		jge	short loc_3FA8

loc_3F98:
		les	bx, [bp+stream]
		mov	byte ptr es:[bx+4], 0FFh
		mov	word ptr es:[bx+2], 0
		jmp	short loc_3FFD
; ---------------------------------------------------------------------------

loc_3FA8:
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _isatty
		pop	cx
		or	ax, ax
		jz	short loc_3FC4
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 200h

loc_3FC4:
		mov	ax, 200h
		push	ax		; size
		les	bx, [bp+stream]
		test	byte ptr es:[bx+3], 2
		jz	short loc_3FD7
		mov	ax, 1
		jmp	short loc_3FD9
; ---------------------------------------------------------------------------

loc_3FD7:
		xor	ax, ax

loc_3FD9:
		push	ax		; type
		xor	ax, ax
		push	ax
		push	ax		; buf
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		nop
		push	cs
		call	near ptr _setvbuf
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_4003
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		nop
		push	cs
		call	near ptr _fclose
		pop	cx
		pop	cx

loc_3FFD:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_4012
; ---------------------------------------------------------------------------

loc_4003:
		les	bx, [bp+stream]
		mov	word ptr es:[bx+10h], 0
		mov	dx, word ptr [bp+stream+2]
		mov	ax, word ptr [bp+stream]

loc_4012:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Eh
__OPENFP	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__GETFP		proc near

var_4		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 0CAAh

loc_402A:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+4], 0
		jl	short loc_404B
		mov	ax, word ptr [bp+var_4]
		add	word ptr [bp+var_4], 14h
		push	ax
		mov	ax, 14h
		imul	word_138DA
		add	ax, 0CAAh
		pop	dx
		cmp	dx, ax
		jb	short loc_402A

loc_404B:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+4], 0
		jl	short loc_405B
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_4061
; ---------------------------------------------------------------------------

loc_405B:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]

loc_4061:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
__GETFP		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; FILE *__cdecl	fopen(const char *path,	const char *mode)
_fopen		proc far

stream		= dword	ptr -4
_path		= dword	ptr  6
_mode		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		call	__GETFP
		mov	word ptr [bp+stream+2],	dx
		mov	word ptr [bp+stream], ax
		or	ax, dx
		jnz	short loc_4082
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_409A
; ---------------------------------------------------------------------------

loc_4082:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path] ; path
		push	[bp+arg_6]	; int
		push	[bp+_mode]	; int
		xor	ax, ax
		push	ax		; int
		call	__OPENFP

loc_409A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_fopen		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int fprintf(FILE *stream, const char *format,	...)
_fprintf	proc far

stream		= word ptr  6
arg_2		= word ptr  8
_format		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= byte ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, 4E04h
		push	ax
		push	[bp+arg_2]
		push	[bp+stream]
		push	[bp+arg_6]
		push	[bp+_format]
		lea	ax, [bp+arg_8]
		push	ax
		call	__VPRINTER
		pop	di
		pop	si
		pop	bp
		retf
_fprintf	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_40C0	proc near

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jge	short loc_40DD
		mov	cx, es:[bx+6]
		add	cx, es:[bx]
		inc	cx
		mov	ax, cx
		jmp	short loc_40EA
; ---------------------------------------------------------------------------

loc_40DD:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax

loc_40EA:
		mov	[bp+var_2], ax
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+2], 40h
		jnz	short loc_413E
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Eh]
		mov	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		cmp	word ptr es:[bx], 0
		jge	short loc_4137
		jmp	short loc_411F
; ---------------------------------------------------------------------------

loc_4110:
		dec	word ptr [bp+var_6]
		les	bx, [bp+var_6]
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_411F
		inc	[bp+var_2]

loc_411F:
		mov	ax, cx
		dec	cx
		or	ax, ax
		jnz	short loc_4110
		jmp	short loc_413E
; ---------------------------------------------------------------------------

loc_4128:
		les	bx, [bp+var_6]
		inc	word ptr [bp+var_6]
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_4137
		inc	[bp+var_2]

loc_4137:
		mov	ax, cx
		dec	cx
		or	ax, ax
		jnz	short loc_4128

loc_413E:
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	4
sub_40C0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl fseek(FILE *stream, __int32 offset, int whence)
_fseek		proc far

stream		= dword	ptr  6
_offset		= dword	ptr  0Ah
whence		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		nop
		push	cs
		call	near ptr _fflush
		pop	cx
		pop	cx
		or	ax, ax
		jz	short loc_4164
		mov	ax, 0FFFFh
		jmp	short loc_41C7
; ---------------------------------------------------------------------------

loc_4164:
		cmp	[bp+whence], 1
		jnz	short loc_4181
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jle	short loc_4181
		push	word ptr [bp+stream+2]
		push	bx
		call	sub_40C0
		cwd
		sub	word ptr [bp+_offset], ax
		sbb	word ptr [bp+_offset+2],	dx

loc_4181:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FE5Fh
		mov	word ptr es:[bx], 0
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		push	[bp+whence]	; fromwhere
		push	word ptr [bp+_offset+2]
		push	word ptr [bp+_offset] ; offset
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		cmp	dx, 0FFFFh
		jnz	short loc_41C5
		cmp	ax, 0FFFFh
		jnz	short loc_41C5
		mov	ax, 0FFFFh
		jmp	short loc_41C7
; ---------------------------------------------------------------------------

loc_41C5:
		xor	ax, ax

loc_41C7:
		pop	di
		pop	si
		pop	bp
		retf
_fseek		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __int32 __cdecl ftell(FILE *stream)
_ftell		proc far

var_8		= word ptr -8
var_6		= word ptr -6
_offset		= dword	ptr -4
stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, 1
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	word ptr [bp+_offset+2],	dx
		mov	word ptr [bp+_offset], ax
		cmp	dx, 0FFFFh
		jnz	short loc_41FF
		cmp	ax, 0FFFFh
		jnz	short loc_41FF
		jmp	loc_42A0
; ---------------------------------------------------------------------------

loc_41FF:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jl	short loc_420B
		jmp	loc_4290
; ---------------------------------------------------------------------------

loc_420B:
		mov	al, es:[bx+4]
		cbw
		add	ax, ax
		mov	bx, ax
		test	byte ptr [bx+0E3Dh], 8
		jz	short loc_427E
		mov	ax, 2
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		mov	bx, word ptr [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		cmp	dx, 0FFFFh
		jnz	short loc_4246
		cmp	ax, 0FFFFh
		jnz	short loc_4246
		jmp	short loc_42A6
; ---------------------------------------------------------------------------

loc_4246:
		xor	ax, ax
		push	ax		; fromwhere
		push	word ptr [bp+_offset+2]
		push	word ptr [bp+_offset] ; offset
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		cmp	dx, 0FFFFh
		jnz	short loc_4272
		cmp	ax, 0FFFFh
		jnz	short loc_4272
		mov	dx, 0FFFFh
		mov	ax, 0FFFFh
		jmp	short loc_42A6
; ---------------------------------------------------------------------------

loc_4272:
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr [bp+_offset+2],	dx
		mov	word ptr [bp+_offset], ax

loc_427E:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream]
		call	sub_40C0
		cwd
		add	word ptr [bp+_offset], ax
		adc	word ptr [bp+_offset+2],	dx
		jmp	short loc_42A0
; ---------------------------------------------------------------------------

loc_4290:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream]
		call	sub_40C0
		cwd
		sub	word ptr [bp+_offset], ax
		sbb	word ptr [bp+_offset+2],	dx

loc_42A0:
		mov	dx, word ptr [bp+_offset+2]
		mov	ax, word ptr [bp+_offset]

loc_42A6:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_ftell		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_42AC	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		cmp	ax, 5Ch	; '\'
		jz	short loc_42BE
		cmp	ax, 2Fh	; '/'
		jnz	short loc_42C3

loc_42BE:
		mov	ax, 1
		jmp	short loc_42C5
; ---------------------------------------------------------------------------

loc_42C3:
		xor	ax, ax

loc_42C5:
		pop	di
		pop	si
		pop	bp
		retn	2
sub_42AC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_42CB	proc near

arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		mov	ah, 0
		push	ax
		call	sub_42AC
		or	ax, ax
		jz	short loc_42FD
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		nop
		push	cs
		call	near ptr sub_3AD9
		add	sp, 8
		or	ax, ax
		jz	short loc_42FD
		mov	ax, 1
		jmp	short loc_42FF
; ---------------------------------------------------------------------------

loc_42FD:
		xor	ax, ax

loc_42FF:
		pop	di
		pop	si
		pop	bp
		retn	8
sub_42CB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4305	proc far

drive		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
_src		= dword	ptr -0Ch
dest		= dword	ptr -8
_s		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 12h
		push	si
		push	di
		mov	ax, 0A1h ; '¡'
		push	ax
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+_s+2], dx
		mov	word ptr [bp+_s], ax
		or	ax, dx
		jnz	short loc_4324
		jmp	loc_4567
; ---------------------------------------------------------------------------

loc_4324:
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+_src+2], dx
		mov	word ptr [bp+_src], ax
		les	bx, [bp+_src]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+0EEBh], 0Ch
		jz	short loc_4364
		mov	bx, word ptr [bp+_src]
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jnz	short loc_4364
		mov	al, es:[bx]
		cbw
		mov	[bp+var_10], ax
		push	ax		; ch
		nop
		push	cs
		call	near ptr _toupper
		pop	cx
		add	ax, 0FFC0h
		mov	[bp+drive], ax
		add	word ptr [bp+_src], 2
		jmp	short loc_437A
; ---------------------------------------------------------------------------

loc_4364:
		push	ss
		lea	ax, [bp+drive]
		push	ax		; drive
		nop
		push	cs
		call	near ptr __dos_getdrive
		pop	cx
		pop	cx
		mov	ax, [bp+drive]
		add	ax, 41h	; 'A'
		dec	ax
		mov	[bp+var_10], ax

loc_437A:
		les	bx, [bp+_src]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_42AC
		or	ax, ax
		jnz	short loc_43E2
		mov	ax, 0A1h ; '¡'
		push	ax		; len
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]	; buf
		push	[bp+drive]	; drive
		nop
		push	cs
		call	near ptr __getdcwd
		add	sp, 8
		or	ax, dx
		jnz	short loc_43B2
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	loc_4567
; ---------------------------------------------------------------------------

loc_43B2:
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	dx, word ptr [bp+_s+2]
		add	ax, word ptr [bp+_s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		push	dx
		push	word ptr [bp+_s]
		dec	ax
		push	dx
		push	ax
		call	sub_42CB
		or	ax, ax
		jnz	short loc_4404
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		jmp	short loc_4401
; ---------------------------------------------------------------------------

loc_43E2:
		mov	dx, word ptr [bp+_s+2]
		mov	ax, word ptr [bp+_s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_10]
		mov	es:[bx], al
		inc	word ptr [bp+dest]
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 3Ah ;	':'

loc_4401:
		inc	word ptr [bp+dest]

loc_4404:
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	dx, word ptr [bp+_s+2]
		mov	ax, word ptr [bp+_s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		mov	word ptr [bp+_src+2], dx
		mov	word ptr [bp+_src], ax

loc_442A:
		les	bx, [bp+_src]
		inc	word ptr [bp+_src]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_E], ax
		or	ax, ax
		jz	short loc_4446
		push	ax
		call	sub_42AC
		or	ax, ax
		jnz	short loc_4446
		jmp	loc_4578
; ---------------------------------------------------------------------------

loc_4446:
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_446D
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		mov	ax, word ptr [bp+dest]
		add	ax, 0FFFEh
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_42CB
		or	ax, ax
		jz	short loc_446D
		sub	word ptr [bp+dest], 2
		jmp	short loc_44E4
; ---------------------------------------------------------------------------

loc_446D:
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_44E4
		cmp	byte ptr es:[bx-2], 2Eh	; '.'
		jnz	short loc_44E4
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		mov	ax, word ptr [bp+dest]
		add	ax, 0FFFDh
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_42CB
		or	ax, ax
		jz	short loc_44E4
		sub	word ptr [bp+dest], 3
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_44CD
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		nop
		push	cs
		call	near ptr sub_3AD9
		add	sp, 8
		or	ax, ax
		jz	short loc_44CD
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	loc_4567
; ---------------------------------------------------------------------------

loc_44CD:
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		dec	word ptr [bp+dest]
		mov	ax, word ptr [bp+dest]
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_42CB
		or	ax, ax
		jz	short loc_44CD

loc_44E4:
		cmp	[bp+var_E], 0
		jz	short loc_44ED
		jmp	loc_456D
; ---------------------------------------------------------------------------

loc_44ED:
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_42CB
		or	ax, ax
		jz	short loc_4505
		dec	word ptr [bp+dest]

loc_4505:
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_4533
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		nop
		push	cs
		call	near ptr sub_3AD9
		add	sp, 8
		or	ax, ax
		jz	short loc_4533
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		inc	word ptr [bp+dest]

loc_4533:
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		inc	ax
		mov	dx, ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_4555
		jmp	loc_45D9
; ---------------------------------------------------------------------------

loc_4555:
		cmp	dx, [bp+arg_8]
		jbe	short loc_45B2
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_4567:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_45E8
; ---------------------------------------------------------------------------

loc_456D:
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		jmp	short loc_45AC
; ---------------------------------------------------------------------------

loc_4578:
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+dest]
		push	[bp+var_E]
		nop
		push	cs
		call	near ptr sub_3AB4
		pop	cx
		or	ax, ax
		jnz	short loc_4594
		jmp	loc_442A
; ---------------------------------------------------------------------------

loc_4594:
		les	bx, [bp+_src]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_45A0
		jmp	loc_442A
; ---------------------------------------------------------------------------

loc_45A0:
		mov	al, es:[bx]
		les	bx, [bp+dest]
		mov	es:[bx], al
		inc	word ptr [bp+_src]

loc_45AC:
		inc	word ptr [bp+dest]
		jmp	loc_442A
; ---------------------------------------------------------------------------

loc_45B2:
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]	; src
		push	[bp+arg_2]
		push	[bp+arg_0]	; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 0Ch
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		jmp	short loc_45E8
; ---------------------------------------------------------------------------

loc_45D9:
		push	dx
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		nop
		push	cs
		call	near ptr _realloc
		add	sp, 6

loc_45E8:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_4305	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_45EE	proc near

var_6		= word ptr -6
stream		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_6], 14h
		mov	word ptr [bp+stream+2],	ds
		mov	word ptr [bp+stream], 0CAAh
		jmp	short loc_4623
; ---------------------------------------------------------------------------

loc_4605:
		les	bx, [bp+stream]
		mov	ax, es:[bx+2]
		and	ax, 300h
		cmp	ax, 300h
		jnz	short loc_461F
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fflush
		pop	cx
		pop	cx

loc_461F:
		add	word ptr [bp+stream], 14h

loc_4623:
		mov	ax, [bp+var_6]
		dec	[bp+var_6]
		or	ax, ax
		jnz	short loc_4605
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_45EE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_4633	proc near

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+3], 2
		jz	short loc_4645
		call	sub_45EE

loc_4645:
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6] ; len
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		push	dx
		push	ax		; buf
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr ___read
		add	sp, 8
		les	bx, [bp+arg_0]
		mov	es:[bx], ax
		or	ax, ax
		jle	short loc_467F
		and	word ptr es:[bx+2], 0FFDFh
		xor	ax, ax
		jmp	short loc_46A8
; ---------------------------------------------------------------------------

loc_467F:
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jnz	short loc_4698
		mov	ax, es:[bx+2]
		and	ax, 0FE7Fh
		or	ax, 20h
		mov	es:[bx+2], ax
		jmp	short loc_46A5
; ---------------------------------------------------------------------------

loc_4698:
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 0
		or	word ptr es:[bx+2], 10h

loc_46A5:
		mov	ax, 0FFFFh

loc_46A8:
		pop	di
		pop	si
		pop	bp
		retn	4
sub_4633	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl _fgetc(FILE *stream)
__fgetc		proc far

stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+stream]
		inc	word ptr es:[bx]
		push	word ptr [bp+stream+2]
		push	bx		; stream
		push	cs
		call	near ptr _fgetc
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
__fgetc		endp

; ---------------------------------------------------------------------------

__Nfgetc:
		pop	ax
		push	cs
		push	ax

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl fgetc(FILE *stream)
_fgetc		proc far

stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+stream]
		or	ax, word ptr [bp+stream+2]
		jnz	short loc_46DA
		jmp	loc_479C
; ---------------------------------------------------------------------------

loc_46DA:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jle	short loc_46E8
		dec	word ptr es:[bx]
		jmp	short loc_472C
; ---------------------------------------------------------------------------

loc_46E8:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jl	short loc_4700
		test	word ptr es:[bx+2], 110h
		jnz	short loc_4700
		test	byte ptr es:[bx+2], 1
		jnz	short loc_470B

loc_4700:
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 10h
		jmp	loc_479C
; ---------------------------------------------------------------------------

loc_470B:
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 80h
		cmp	word ptr es:[bx+6], 0
		jz	short loc_4742
		push	word ptr [bp+stream+2]
		push	bx
		call	sub_4633
		or	ax, ax
		jnz	short loc_479C
		les	bx, [bp+stream]
		dec	word ptr es:[bx]

loc_472C:
		les	bx, [bp+stream]
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	es, dx
		mov	al, es:[si]
		jmp	short loc_47BD
; ---------------------------------------------------------------------------

loc_4742:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+3], 2
		jz	short loc_474F
		call	sub_45EE

loc_474F:
		mov	ax, 1
		push	ax		; len
		push	ds
		mov	ax, 1CACh
		push	ax		; buf
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr ___read
		add	sp, 8
		or	ax, ax
		jnz	short loc_47A1
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _eof
		pop	cx
		cmp	ax, 1
		jz	short loc_478B
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 10h
		jmp	short loc_479C
; ---------------------------------------------------------------------------

loc_478B:
		les	bx, [bp+stream]
		mov	ax, es:[bx+2]
		and	ax, 0FE7Fh
		or	ax, 20h
		mov	es:[bx+2], ax

loc_479C:
		mov	ax, 0FFFFh
		jmp	short loc_47BF
; ---------------------------------------------------------------------------

loc_47A1:
		cmp	byte_1474C, 0Dh
		jnz	short loc_47B2
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 40h
		jz	short loc_4742

loc_47B2:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FFDFh
		mov	al, byte_1474C

loc_47BD:
		mov	ah, 0

loc_47BF:
		pop	di
		pop	si
		pop	bp
		retf
_fgetc		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; int fgetchar(void)
_fgetchar	proc far
		push	si
		push	di
		push	ds
		mov	ax, 0CAAh
		push	ax		; stream
		push	cs
		call	near ptr _fgetc
		pop	cx
		pop	cx
		pop	di
		pop	si
		retf
_fgetchar	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; char *__cdecl	_getdcwd(int drive, char *buf, int len)
__getdcwd	proc far

_s		= byte ptr -48h
var_47		= byte ptr -47h
var_46		= byte ptr -46h
var_45		= byte ptr -45h
var_2		= word ptr -2
drive		= word ptr  6
dest		= dword	ptr  8
len		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 48h
		push	si
		push	di
		mov	ax, [bp+drive]
		mov	[bp+var_2], ax
		or	ax, ax
		jnz	short loc_47EF
		mov	ah, 19h
		int	21h		; DOS -	GET DEFAULT DISK NUMBER
		mov	ah, 0
		inc	ax
		mov	[bp+var_2], ax

loc_47EF:
		mov	al, byte ptr [bp+var_2]
		add	al, 40h	; '@'
		mov	[bp+_s],	al
		mov	[bp+var_47], 3Ah ; ':'
		mov	[bp+var_46], 5Ch ; '\'
		push	ds
		mov	ax, ss
		mov	ds, ax
		lea	si, [bp+var_45]
		mov	ah, 47h	; 'G'
		mov	dl, byte ptr [bp+var_2]
		int	21h		; DOS -	2+ - GET CURRENT DIRECTORY
					; DL = drive (0=default, 1=A, etc.)
					; DS:SI	points to 64-byte buffer area
		pop	ds
		jb	short loc_484B
		push	ss
		lea	ax, [bp+_s]
		push	ax		; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		cmp	ax, [bp+len]
		jb	short loc_482A
		mov	word_12B1E, 22h	; '"'
		jmp	short loc_484B
; ---------------------------------------------------------------------------

loc_482A:
		mov	ax, word ptr [bp+dest]
		or	ax, word ptr [bp+dest+2]
		jnz	short loc_4851
		push	[bp+len]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		or	ax, dx
		jnz	short loc_4851
		mov	word_12B1E, 8

loc_484B:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_486A
; ---------------------------------------------------------------------------

loc_4851:
		push	ss
		lea	ax, [bp+_s]
		push	ax		; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]

loc_486A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__getdcwd	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; char *__cdecl	getenv(const char *name)
_getenv		proc far

var_4		= dword	ptr -4
_name		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	di, [bp+_name]
		mov	ax, es
		or	ax, di
		jz	short loc_48A1
		mov	al, 0
		mov	ah, es:[di]
		mov	cx, 0FFFFh
		cld
		repne scasb
		not	cx
		dec	cx
		jz	short loc_48A1
		les	di, dword_13CF2
		mov	word ptr [bp+var_4+2], es
		mov	bx, es
		or	bx, di
		mov	word ptr [bp+var_4], di
		jnz	short loc_48AE

loc_48A1:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_48DA
; ---------------------------------------------------------------------------

loc_48A7:
		add	word ptr [bp+var_4], 4
		les	di, [bp+var_4]

loc_48AE:
		les	di, es:[di]
		mov	bx, es
		or	bx, di
		jz	short loc_48A1
		mov	al, es:[di]
		or	al, al
		jz	short loc_48A1
		cmp	ah, al
		jnz	short loc_48A7
		mov	bx, cx
		cmp	byte ptr es:[bx+di], 3Dh ; '='
		jnz	short loc_48A7
		push	ds
		lds	si, [bp+_name]
		repe cmpsb
		pop	ds
		xchg	cx, bx
		jnz	short loc_48A7
		inc	di
		mov	ax, di
		mov	dx, es

loc_48DA:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_getenv		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl memcmp(const void	*s1, const void	*s2, size_t n)
_memcmp		proc far

s1		= dword	ptr  6
s2		= dword	ptr  0Ah
n		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ax, [bp+n]
		mov	cx, ax
		jcxz	short loc_4901
		lds	si, [bp+s1]
		les	di, [bp+s2]
		cld
		repe cmpsb
		mov	al, [si-1]
		xor	ah, ah
		mov	cl, es:[di-1]
		xor	ch, ch

loc_4901:
		pop	ds
		sub	ax, cx
		pop	di
		pop	si
		pop	bp
		retf
_memcmp		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void *__cdecl	memcpy(void *dest, const void *src, size_t n)
_memcpy		proc far

dest		= dword	ptr  6
_src		= dword	ptr  0Ah
n		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, ds
		les	di, [bp+dest]
		lds	si, [bp+_src]
		mov	cx, [bp+n]
		shr	cx, 1
		cld
		rep movsw
		jnb	short loc_4920
		movsb

loc_4920:
		mov	ds, dx
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		pop	bp
		retf
_memcpy		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl setmem(void *dest, unsigned int length, char value)
_setmem		proc far

dest		= dword	ptr  6
_length		= word ptr  0Ah
value		= byte ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	di, [bp+dest]
		mov	cx, [bp+_length]
		mov	al, [bp+value]
		mov	ah, al
		cld
		test	di, 1
		jz	short loc_4947
		jcxz	short loc_494E
		stosb
		dec	cx

loc_4947:
		shr	cx, 1
		rep stosw
		jnb	short loc_494E
		stosb

loc_494E:
		pop	di
		pop	si
		pop	bp
		retf
_setmem		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void *__cdecl	memset(void *s,	int c, size_t n)
_memset		proc far

dest		= dword	ptr  6
value		= byte ptr  0Ah
_length		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+value] ; value
		push	[bp+_length]	; length
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		push	cs
		call	near ptr _setmem
		add	sp, 8
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		pop	bp
		retf
_memset		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl movmem(const void *src, void *dest, unsigned int	length)
_movmem		proc far

_src		= dword	ptr  6
dest		= dword	ptr  0Ah
_length		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	cx, word ptr [bp+dest+2]
		mov	bx, word ptr [bp+dest]
		mov	dx, word ptr [bp+_src+2]
		mov	ax, word ptr [bp+_src]
		call	N_PCMP@
		jnb	short loc_4991
		std
		mov	ax, 1
		jmp	short loc_4994
; ---------------------------------------------------------------------------

loc_4991:
		cld
		xor	ax, ax

loc_4994:
		lds	si, [bp+_src]
		les	di, [bp+dest]
		mov	cx, [bp+_length]
		or	ax, ax
		jz	short loc_49A7
		add	si, cx
		dec	si
		add	di, cx
		dec	di

loc_49A7:
		test	di, 1
		jz	short loc_49B1
		jcxz	short loc_49C0
		movsb
		dec	cx

loc_49B1:
		sub	si, ax
		sub	di, ax
		shr	cx, 1
		rep movsw
		jnb	short loc_49C0
		add	si, ax
		add	di, ax
		movsb

loc_49C0:
		cld
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf
_movmem		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void *__cdecl	memmove(void *dest, const void *src, size_t n)
_memmove	proc far

dest		= dword	ptr  6
_src		= dword	ptr  0Ah
_length		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+_length]	; length
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		push	cs
		call	near ptr _movmem
		add	sp, 0Ah
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		pop	bp
		retf
_memmove	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_49EB	proc near

arg_0		= word ptr  4
arg_2		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	cx, [bp+arg_0]
		mov	ah, 3Ch	; '<'
		lds	dx, [bp+arg_2]
		int	21h		; DOS -	2+ - CREATE A FILE WITH	HANDLE (CREAT)
					; CX = attributes for file
					; DS:DX	-> ASCIZ filename (may include drive and path)
		pop	ds
		jb	short loc_4A00
		jmp	short loc_4A04
; ---------------------------------------------------------------------------

loc_4A00:
		push	ax
		call	__IOERROR

loc_4A04:
		pop	di
		pop	si
		pop	bp
		retn	6
sub_49EB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_4A0A	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	bx, [bp+arg_0]
		sub	cx, cx
		sub	dx, dx
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	di
		pop	si
		pop	bp
		retn	2
sub_4A0A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int open(const char *path, int access, ...)
_open		proc far

handle		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
_path		= dword	ptr  6
access		= word ptr  0Ah
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		test	byte ptr [bp+access+1],	0C0h
		jnz	short loc_4A37
		mov	ax, word_13904
		and	ax, 0C000h
		or	[bp+0Ah], ax

loc_4A37:
		mov	ax, word_12B1E
		mov	[bp+var_6], ax
		xor	ax, ax
		push	ax		; func
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path] ; pathname
		nop
		push	cs
		call	near ptr __chmod
		add	sp, 6
		mov	[bp+var_2], ax
		mov	ax, [bp+var_6]
		mov	word_12B1E, ax
		test	byte ptr [bp+access+1],	1
		jnz	short loc_4A60
		jmp	loc_4AE8
; ---------------------------------------------------------------------------

loc_4A60:
		mov	ax, word_13906
		and	[bp+arg_8], ax
		mov	ax, [bp+arg_8]
		test	ax, 180h
		jnz	short loc_4A75
		mov	ax, 1
		push	ax
		call	__IOERROR

loc_4A75:
		cmp	[bp+var_2], 0FFFFh
		jnz	short loc_4AB4
		cmp	word_1390A, 2
		jz	short loc_4A88
		push	word_1390A
		jmp	short loc_4ABE
; ---------------------------------------------------------------------------

loc_4A88:
		test	byte ptr [bp+arg_8], 80h
		jz	short loc_4A92
		xor	ax, ax
		jmp	short loc_4A95
; ---------------------------------------------------------------------------

loc_4A92:
		mov	ax, 1

loc_4A95:
		mov	[bp+var_2], ax
		test	byte ptr [bp+access], 0F0h
		jz	short loc_4ACF
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path]
		xor	ax, ax
		push	ax
		call	sub_49EB
		mov	[bp+handle], ax
		or	ax, ax
		jge	short loc_4AC4
		jmp	loc_4BAD
; ---------------------------------------------------------------------------

loc_4AB4:
		test	byte ptr [bp+access+1],	4
		jz	short loc_4AE8
		mov	ax, 50h	; 'P'
		push	ax

loc_4ABE:
		call	__IOERROR
		jmp	loc_4BB0
; ---------------------------------------------------------------------------

loc_4AC4:
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr __rtl_close
		pop	cx
		jmp	short loc_4AE8
; ---------------------------------------------------------------------------

loc_4ACF:
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path]
		push	[bp+var_2]
		call	sub_49EB
		mov	[bp+handle], ax
		or	ax, ax
		jl	short loc_4AE5
		jmp	loc_4B6B
; ---------------------------------------------------------------------------

loc_4AE5:
		jmp	loc_4BAD
; ---------------------------------------------------------------------------

loc_4AE8:
		push	[bp+access]
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path]
		nop
		push	cs
		call	near ptr sub_4BB6
		add	sp, 6
		mov	[bp+handle], ax
		or	ax, ax
		jl	short loc_4B6B
		xor	ax, ax
		push	ax		; func
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr _ioctl
		pop	cx
		pop	cx
		mov	[bp+var_4], ax
		test	al, 80h
		jz	short loc_4B3A
		or	[bp+access], 2000h
		test	byte ptr [bp+access+1],	80h
		jz	short loc_4B46
		and	ax, 0FFh
		or	ax, 20h
		xor	dx, dx
		push	dx
		push	ax
		mov	ax, 1
		push	ax		; func
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr _ioctl
		add	sp, 8
		jmp	short loc_4B46
; ---------------------------------------------------------------------------

loc_4B3A:
		test	byte ptr [bp+access+1],	2
		jz	short loc_4B46
		push	[bp+handle]
_open		endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_4B43	proc far
		call	sub_4A0A

loc_4B46:
		test	byte ptr [bp-2], 1
		jz	short loc_4B6B
		test	byte ptr [bp+0Bh], 1
		jz	short loc_4B6B
		test	byte ptr [bp+0Ah], 0F0h
		jz	short loc_4B6B
		mov	ax, 1
		push	ax
		push	ax		; func
		push	word ptr [bp+8]
		push	word ptr [bp+6]	; pathname
		nop
		push	cs
		call	near ptr __chmod
		add	sp, 8

loc_4B6B:
		cmp	word ptr [bp-8], 0
		jl	short loc_4BAD
		mov	word ptr off_13746+2, seg seg000
		mov	word ptr off_13746, 2C48h
		test	byte ptr [bp+0Bh], 3
		jz	short loc_4B88
		mov	ax, 1000h
		jmp	short loc_4B8A
; ---------------------------------------------------------------------------

loc_4B88:
		xor	ax, ax

loc_4B8A:
		mov	dx, [bp+0Ah]
		and	dx, 0F8FFh
		or	ax, dx
		push	ax
		test	byte ptr [bp-2], 1
		jz	short loc_4B9E
		xor	ax, ax
		jmp	short loc_4BA1
; ---------------------------------------------------------------------------

loc_4B9E:
		mov	ax, 100h

loc_4BA1:
		pop	dx
		or	dx, ax
		mov	bx, [bp-8]
		add	bx, bx
		mov	[bx+0E3Ch], dx

loc_4BAD:
		mov	ax, [bp-8]

loc_4BB0:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_4B43	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_4BB6	proc far

var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	al, 1
		mov	cx, [bp+arg_4]
		test	cx, 2
		jnz	short loc_4BD3
		mov	al, 2
		test	cx, 4
		jnz	short loc_4BD3
		mov	al, 0

loc_4BD3:
		push	ds
		lds	dx, [bp+arg_0]
		mov	cl, 0F0h ; 'ð'
		and	cl, byte ptr [bp+arg_4]
		or	al, cl
		mov	ah, 3Dh
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read, 1 -	write, 2 - read	& write
		pop	ds
		jb	short loc_4BFF
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_4]
		and	ax, 0B8FFh
		or	ax, 8000h
		mov	bx, [bp+var_2]
		add	bx, bx
		mov	[bx+0E3Ch], ax
		mov	ax, [bp+var_2]
		jmp	short loc_4C03
; ---------------------------------------------------------------------------

loc_4BFF:
		push	ax
		call	__IOERROR

loc_4C03:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_4BB6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4C09	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_4BB6
		add	sp, 6
		pop	di
		pop	si
		pop	bp
		retf
sub_4C09	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int printf(const char	*format, ...)
_printf		proc far

_format		= word ptr  6
arg_2		= word ptr  8
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, 4E04h
		push	ax
		push	ds
		mov	ax, 0CBEh
		push	ax
		push	[bp+arg_2]
		push	[bp+_format]
		lea	ax, [bp+arg_4]
		push	ax
		call	__VPRINTER
		pop	di
		pop	si
		pop	bp
		retf
_printf		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl _fputc(char c, FILE *stream)
__fputc		proc far

c		= byte ptr  6
stream		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+stream]
		dec	word ptr es:[bx]
		push	word ptr [bp+stream+2]
		push	bx		; stream
		mov	al, [bp+c]
		cbw
		push	ax		; c
		nop
		push	cs
		call	near ptr _fputc
		add	sp, 6
		pop	di
		pop	si
		pop	bp
		retf
__fputc		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl fputc(int	c, FILE	*stream)
_fputc		proc far

c		= byte ptr  6
stream		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	al, [bp+c]
		mov	byte_1474E, al
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0FFFFh
		jge	short loc_4CBE
		inc	word ptr es:[bx]
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	es, dx
		mov	es:[si], al
		mov	es, word ptr [bp+stream+2]
		test	byte ptr es:[bx+2], 8
		jnz	short loc_4C96
		jmp	loc_4DE3
; ---------------------------------------------------------------------------

loc_4C96:
		cmp	byte_1474E, 0Ah
		jz	short loc_4CA7
		cmp	byte_1474E, 0Dh
		jz	short loc_4CA7
		jmp	loc_4DE3
; ---------------------------------------------------------------------------

loc_4CA7:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		nop
		push	cs
		call	near ptr _fflush
		pop	cx
		pop	cx
		or	ax, ax
		jnz	short loc_4CBB
		jmp	loc_4DE3
; ---------------------------------------------------------------------------

loc_4CBB:
		jmp	loc_4DDE
; ---------------------------------------------------------------------------

loc_4CBE:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 90h
		jnz	short loc_4CCF
		test	byte ptr es:[bx+2], 2
		jnz	short loc_4CDA

loc_4CCF:
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 10h
		jmp	loc_4DDE
; ---------------------------------------------------------------------------

loc_4CDA:
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 100h
		cmp	word ptr es:[bx+6], 0
		jz	short loc_4D57
		cmp	word ptr es:[bx], 0
		jz	short loc_4D02
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fflush
		pop	cx
		pop	cx
		or	ax, ax
		jz	short loc_4D02
		jmp	loc_4DDE
; ---------------------------------------------------------------------------

loc_4D02:
		les	bx, [bp+stream]
		mov	ax, es:[bx+6]
		neg	ax
		mov	es:[bx], ax
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	al, byte_1474E
		mov	es, dx
		mov	es:[si], al
		mov	es, word ptr [bp+stream+2]
		test	byte ptr es:[bx+2], 8
		jnz	short loc_4D2F
		jmp	loc_4DE3
; ---------------------------------------------------------------------------

loc_4D2F:
		cmp	byte_1474E, 0Ah
		jz	short loc_4D40
		cmp	byte_1474E, 0Dh
		jz	short loc_4D40
		jmp	loc_4DE3
; ---------------------------------------------------------------------------

loc_4D40:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		nop
		push	cs
		call	near ptr _fflush
		pop	cx
		pop	cx
		or	ax, ax
		jnz	short loc_4D54
		jmp	loc_4DE3
; ---------------------------------------------------------------------------

loc_4D54:
		jmp	loc_4DDE
; ---------------------------------------------------------------------------

loc_4D57:
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		add	ax, ax
		mov	bx, ax
		test	byte ptr [bx+0E3Dh], 8
		jz	short loc_4D83
		mov	ax, 2
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		mov	bx, word ptr [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8

loc_4D83:
		cmp	byte_1474E, 0Ah
		jnz	short loc_4DB0
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 40h
		jnz	short loc_4DB0
		mov	ax, 1
		push	ax		; len
		push	ds
		mov	ax, 11F2h
		push	ax		; buf
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr __rtl_write
		add	sp, 8
		cmp	ax, 1
		jnz	short loc_4DCF

loc_4DB0:
		mov	ax, 1
		push	ax		; len
		push	ds
		mov	ax, 1CAEh
		push	ax		; buf
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr __rtl_write
		add	sp, 8
		cmp	ax, 1
		jz	short loc_4DE3

loc_4DCF:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+3], 2
		jnz	short loc_4DE3
		or	word ptr es:[bx+2], 10h

loc_4DDE:
		mov	ax, 0FFFFh
		jmp	short loc_4DE8
; ---------------------------------------------------------------------------

loc_4DE3:
		mov	al, byte_1474E
		mov	ah, 0

loc_4DE8:
		pop	di
		pop	si
		pop	bp
		retf
_fputc		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl fputchar(int c)
_fputchar	proc far

c		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ax, 0CBEh
		push	ax		; stream
		push	[bp+c]		; c
		push	cs
		call	near ptr _fputc
		add	sp, 6
		pop	di
		pop	si
		pop	bp
		retf
_fputchar	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __stdcall	_FPUTN(FILE *stream, size_t len, void *buf)
__FPUTN		proc near

var_2		= word ptr -2
stream		= dword	ptr  4
len		= word ptr  8
buf		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, [bp+len]
		mov	[bp+var_2], ax
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 8
		jz	short loc_4E4B
		jmp	short loc_4E3E
; ---------------------------------------------------------------------------

loc_4E1E:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		les	bx, [bp+buf]
		inc	word ptr [bp+buf]
		mov	al, es:[bx]
		cbw
		push	ax		; c
		push	cs
		call	near ptr _fputc
		add	sp, 6
		cmp	ax, 0FFFFh
		jnz	short loc_4E3E
		jmp	loc_5000
; ---------------------------------------------------------------------------

loc_4E3E:
		mov	ax, [bp+len]
		dec	[bp+len]
		or	ax, ax
		jnz	short loc_4E1E
		jmp	loc_5004
; ---------------------------------------------------------------------------

loc_4E4B:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 40h
		jnz	short loc_4E58
		jmp	loc_4F87
; ---------------------------------------------------------------------------

loc_4E58:
		cmp	word ptr es:[bx+6], 0
		jnz	short loc_4E62
		jmp	loc_4F37
; ---------------------------------------------------------------------------

loc_4E62:
		mov	ax, es:[bx+6]
		cmp	ax, [bp+len]
		jnb	short loc_4ED4
		cmp	word ptr es:[bx], 0
		jz	short loc_4E83
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fflush
		pop	cx
		pop	cx
		or	ax, ax
		jz	short loc_4E83
		jmp	loc_5000
; ---------------------------------------------------------------------------

loc_4E83:
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		add	ax, ax
		mov	bx, ax
		test	byte ptr [bx+0E3Dh], 8
		jz	short loc_4EAF
		mov	ax, 2
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		mov	bx, word ptr [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8

loc_4EAF:
		push	[bp+len]	; len
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; buf
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr __rtl_write
		add	sp, 8
		cmp	ax, [bp+len]
		jnz	short loc_4ED1
		jmp	loc_5004
; ---------------------------------------------------------------------------

loc_4ED1:
		jmp	loc_5000
; ---------------------------------------------------------------------------

loc_4ED4:
		les	bx, [bp+stream]
		mov	ax, es:[bx]
		add	ax, [bp+len]
		jl	short loc_4F05
		cmp	word ptr es:[bx], 0
		jnz	short loc_4EF1
		mov	ax, 0FFFFh
		sub	ax, es:[bx+6]
		mov	es:[bx], ax
		jmp	short loc_4F05
; ---------------------------------------------------------------------------

loc_4EF1:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		nop
		push	cs
		call	near ptr _fflush
		pop	cx
		pop	cx
		or	ax, ax
		jz	short loc_4F05
		jmp	loc_5000
; ---------------------------------------------------------------------------

loc_4F05:
		push	[bp+len]	; n
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; src
		les	bx, [bp+stream]
		push	word ptr es:[bx+0Eh]
		push	word ptr es:[bx+0Ch] ; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		les	bx, [bp+stream]
		mov	ax, es:[bx]
		add	ax, [bp+len]
		mov	es:[bx], ax
		mov	ax, [bp+len]
		add	es:[bx+0Ch], ax
		jmp	loc_5004
; ---------------------------------------------------------------------------

loc_4F37:
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		add	ax, ax
		mov	bx, ax
		test	byte ptr [bx+0E3Dh], 8
		jz	short loc_4F63
		mov	ax, 2
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		mov	bx, word ptr [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8

loc_4F63:
		push	[bp+len]	; len
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; buf
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr __rtl_write
		add	sp, 8
		cmp	ax, [bp+len]
		jnz	short loc_4F85
		jmp	loc_5004
; ---------------------------------------------------------------------------

loc_4F85:
		jmp	short loc_5000
; ---------------------------------------------------------------------------

loc_4F87:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx+6], 0
		jz	short loc_4FE1
		jmp	short loc_4FD5
; ---------------------------------------------------------------------------

loc_4F93:
		les	bx, [bp+stream]
		inc	word ptr es:[bx]
		jge	short loc_4FB9
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		les	bx, [bp+buf]
		inc	word ptr [bp+buf]
		mov	al, es:[bx]
		mov	es, dx
		mov	es:[si], al
		mov	ah, 0
		jmp	short loc_4FD0
; ---------------------------------------------------------------------------

loc_4FB9:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		les	bx, [bp+buf]
		inc	word ptr [bp+buf]
		mov	al, es:[bx]
		push	ax		; c
		push	cs
		call	near ptr __fputc
		add	sp, 6

loc_4FD0:
		cmp	ax, 0FFFFh
		jz	short loc_5000

loc_4FD5:
		mov	ax, [bp+len]
		dec	[bp+len]
		or	ax, ax
		jnz	short loc_4F93
		jmp	short loc_5004
; ---------------------------------------------------------------------------

loc_4FE1:
		push	[bp+len]	; len
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; buf
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr ___write
		add	sp, 8
		cmp	ax, [bp+len]
		jz	short loc_5004

loc_5000:
		xor	ax, ax
		jmp	short loc_5007
; ---------------------------------------------------------------------------

loc_5004:
		mov	ax, [bp+var_2]

loc_5007:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Ah
__FPUTN		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl puts(const char *s)
_puts		proc far

var_2		= word ptr -2
buf		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, word ptr [bp+buf]
		or	ax, word ptr [bp+buf+2]
		jnz	short loc_5023
		xor	ax, ax
		jmp	short loc_506A
; ---------------------------------------------------------------------------

loc_5023:
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	[bp+var_2], ax
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; buf
		push	ax		; len
		push	ds
		mov	ax, 0CBEh
		push	ax		; stream
		call	__FPUTN
		cmp	ax, [bp+var_2]
		jz	short loc_504C
		mov	ax, 0FFFFh
		jmp	short loc_506A
; ---------------------------------------------------------------------------

loc_504C:
		push	ds
		mov	ax, 0CBEh
		push	ax		; stream
		mov	ax, 0Ah
		push	ax		; c
		nop
		push	cs
		call	near ptr _fputc
		add	sp, 6
		cmp	ax, 0Ah
		jz	short loc_5067
		mov	ax, 0FFFFh
		jmp	short loc_506A
; ---------------------------------------------------------------------------

loc_5067:
		mov	ax, 0Ah

loc_506A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_puts		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far __read(int handle, void *buf, unsigned int len)
___read		proc far

var_3		= byte ptr -3
var_2		= word ptr -2
handle		= word ptr  6
buf		= dword	ptr  8
len		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, [bp+handle]
		cmp	ax, word_138DA
		jb	short loc_508B
		mov	ax, 6
		push	ax
		call	__IOERROR
		jmp	loc_5139
; ---------------------------------------------------------------------------

loc_508B:
		mov	ax, [bp+len]
		inc	ax
		cmp	ax, 2
		jb	short loc_50A0
		mov	bx, [bp+handle]
		add	bx, bx
		test	byte ptr [bx+0E3Dh], 2
		jz	short loc_50A5

loc_50A0:
		xor	ax, ax
		jmp	loc_5139
; ---------------------------------------------------------------------------

loc_50A5:
		push	[bp+len]	; len
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; buf
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr __rtl_read
		add	sp, 8
		mov	[bp+var_2], ax
		inc	ax
		cmp	ax, 2
		jb	short loc_50CE
		mov	bx, [bp+handle]
		add	bx, bx
		test	byte ptr [bx+0E3Dh], 40h
		jnz	short loc_50D3

loc_50CE:
		mov	ax, [bp+var_2]
		jmp	short loc_5139
; ---------------------------------------------------------------------------

loc_50D3:
		mov	cx, [bp+var_2]
		les	si, [bp+buf]
		mov	di, si
		mov	bx, si
		cld

loc_50DE:
		lods	byte ptr es:[si]
		cmp	al, 1Ah
		jz	short loc_5114
		cmp	al, 0Dh
		jz	short loc_50ED
		stosb
		loop	loc_50DE
		jmp	short loc_510C
; ---------------------------------------------------------------------------

loc_50ED:
		loop	loc_50DE
		push	es
		push	bx
		mov	ax, 1
		push	ax		; len
		lea	ax, [bp+var_3]
		push	ss
		push	ax		; buf
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr __read
		add	sp, 8
		pop	bx
		pop	es
		cld
		mov	al, [bp+var_3]
		stosb

loc_510C:
		cmp	di, bx
		jnz	short loc_5112
		jmp	short loc_50A5
; ---------------------------------------------------------------------------

loc_5112:
		jmp	short loc_5136
; ---------------------------------------------------------------------------

loc_5114:
		push	bx
		mov	ax, 1
		push	ax		; fromwhere
		neg	cx
		sbb	ax, ax
		push	ax
		push	cx		; offset
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	bx, [bp+handle]
		add	bx, bx
		or	word ptr [bx+0E3Ch], 200h
		pop	bx

loc_5136:
		sub	di, bx
		xchg	ax, di

loc_5139:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
___read		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame thunk

j____read	proc far
		jmp	near ptr ___read
j____read	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl _searchenv(const	char *file, const char *varname, char *pathname)
__searchenv	proc far

var_4		= dword	ptr -4
_src		= dword	ptr  6
varname		= dword	ptr  0Ah
pathname	= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	word ptr [bp+varname+2]
		push	word ptr [bp+varname] ;	name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jnz	short loc_5169
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 11F4h

loc_5169:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		nop
		push	cs
		call	near ptr sub_5189
		add	sp, 0Ch
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__searchenv	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_5189(char *src,	__int32, char *pathname)
sub_5189	proc far

var_4		= word ptr -4
var_2		= word ptr -2
_src		= dword	ptr  6
arg_4		= dword	ptr  0Ah
pathname	= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, 50h	; 'P'
		push	ax		; len
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; buf
		xor	ax, ax
		push	ax		; drive
		nop
		push	cs
		call	near ptr __getdcwd
		add	sp, 8
		or	ax, dx
		jnz	short loc_51AE
		xor	dx, dx
		jmp	short loc_51BD
; ---------------------------------------------------------------------------

loc_51AE:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	dx, ax

loc_51BD:
		les	bx, [bp+pathname]
		add	bx, dx
		mov	byte ptr es:[bx], 0
		or	dx, dx
		jz	short loc_5212
		mov	bx, dx
		add	bx, word ptr [bp+pathname]
		mov	bl, es:[bx-1]
		mov	al, bl
		cmp	al, 5Ch	; '\'
		jz	short loc_51E3
		cmp	bl, 2Fh	; '/'
		jz	short loc_51E3
		cmp	bl, 3Ah	; ':'
		jnz	short loc_51FF

loc_51E3:
		mov	ax, word ptr [bp+pathname]
		add	ax, dx
		dec	ax
		push	word ptr [bp+pathname+2]
		push	ax
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname]
		nop
		push	cs
		call	near ptr sub_3AD9
		add	sp, 8
		or	ax, ax
		jnz	short loc_5212

loc_51FF:
		push	ds
		mov	ax, 11F6h
		push	ax		; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8

loc_5212:
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8
		xor	ax, ax
		push	ax		; char
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		or	ax, ax
		jz	short loc_5286
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_524D
		les	bx, [bp+pathname]
		mov	byte ptr es:[bx], 0
		jmp	short loc_52C5
; ---------------------------------------------------------------------------

loc_524D:
		xor	dx, dx
		jmp	short loc_5265
; ---------------------------------------------------------------------------

loc_5251:
		les	bx, [bp+pathname]
		add	bx, dx
		push	es
		les	si, [bp+arg_4]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+arg_4]
		inc	dx

loc_5265:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 3Bh ;	';'
		jz	short loc_5274
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5251

loc_5274:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5280
		jmp	loc_51BD
; ---------------------------------------------------------------------------

loc_5280:
		inc	word ptr [bp+arg_4]
		jmp	loc_51BD
; ---------------------------------------------------------------------------

loc_5286:
		mov	ax, 50h	; 'P'
		push	ax
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname]
		xor	ax, ax
		push	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_4305
		add	sp, 0Ah
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_52C5
		push	[bp+var_2]
		push	[bp+var_4]	; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	[bp+var_2]
		push	[bp+var_4]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 0Ch

loc_52C5:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_5189	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl setvbuf(FILE *stream, char *buf, int type, size_t	size)
_setvbuf	proc far

stream		= dword	ptr  6
buf		= word ptr  0Ah
arg_6		= word ptr  0Ch
_type		= word ptr  0Eh
_size		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+stream]
		mov	ax, es:[bx+12h]
		cmp	ax, word ptr [bp+stream]
		jz	short loc_52DF
		jmp	loc_53B6
; ---------------------------------------------------------------------------

loc_52DF:
		cmp	[bp+_type], 2
		jle	short loc_52E8
		jmp	loc_53B6
; ---------------------------------------------------------------------------

loc_52E8:
		cmp	[bp+_size], 7FFFh
		jbe	short loc_52F2
		jmp	loc_53B6
; ---------------------------------------------------------------------------

loc_52F2:
		cmp	word_13C9A, 0
		jnz	short loc_5308
		cmp	word ptr [bp+stream], 0CBEh
		jnz	short loc_5308
		mov	word_13C9A, 1
		jmp	short loc_531C
; ---------------------------------------------------------------------------

loc_5308:
		cmp	word_13C98, 0
		jnz	short loc_531C
		cmp	word ptr [bp+stream], 0CAAh
		jnz	short loc_531C
		mov	word_13C98, 1

loc_531C:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jz	short loc_5339
		mov	ax, 1
		push	ax		; whence
		xor	ax, ax
		push	ax
		push	ax		; offset
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fseek
		add	sp, 0Ah

loc_5339:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 4
		jz	short loc_5352
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_5352:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FFF3h
		mov	word ptr es:[bx+6], 0
		mov	dx, word ptr [bp+stream+2]
		mov	ax, word ptr [bp+stream]
		add	ax, 5
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		cmp	[bp+_type], 2
		jz	short loc_53E6
		cmp	[bp+_size], 0
		jbe	short loc_53E6
		mov	word ptr off_1373E+2, seg seg000
		mov	word ptr off_1373E, 57C9h
		mov	ax, [bp+buf]
		or	ax, [bp+arg_6]
		jnz	short loc_53BB
		push	[bp+_size]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+arg_6], dx
		mov	[bp+buf], ax
		or	ax, dx
		jz	short loc_53B6
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 4
		jmp	short loc_53BB
; ---------------------------------------------------------------------------

loc_53B6:
		mov	ax, 0FFFFh
		jmp	short loc_53E8
; ---------------------------------------------------------------------------

loc_53BB:
		les	bx, [bp+stream]
		mov	dx, [bp+arg_6]
		mov	ax, [bp+buf]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	ax, [bp+_size]
		mov	es:[bx+6], ax
		cmp	[bp+_type], 1
		jnz	short loc_53E6
		or	word ptr es:[bx+2], 8

loc_53E6:
		xor	ax, ax

loc_53E8:
		pop	di
		pop	si
		pop	bp
		retf
_setvbuf	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_53EC	proc near

arg_0		= dword	ptr  4
n		= word ptr  8
_src		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+n]		; n
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		mov	ax, [bp+n]
		les	bx, [bp+arg_0]
		add	es:[bx], ax
		push	bx
		push	es
		mov	es, word ptr es:[bx+2]
		mov	ax, es
		pop	es
		pop	bx
		mov	bx, es:[bx]
		mov	es, ax
		mov	byte ptr es:[bx], 0
		mov	ax, [bp+n]
		pop	di
		pop	si
		pop	bp
		retn	0Ah
sub_53EC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int sprintf(char *buffer, const char *format,	...)
_sprintf	proc far

buffer		= dword	ptr  6
_format		= dword	ptr  0Ah
arg_8		= byte ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+buffer]
		mov	byte ptr es:[bx], 0
		mov	ax, 53ECh
		push	ax
		push	ss
		lea	ax, [bp+buffer]
		push	ax
		push	word ptr [bp+_format+2]
		push	word ptr [bp+_format]
		lea	ax, [bp+arg_8]
		push	ax
		call	__VPRINTER
		pop	di
		pop	si
		pop	bp
		retf
_sprintf	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl vsprintf(char *buffer, const char	*format, void *arglist)
_vsprintf	proc far

buffer		= dword	ptr  6
_format		= word ptr  0Ah
arg_6		= word ptr  0Ch
_arglist		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+buffer]
		mov	byte ptr es:[bx], 0
		mov	ax, 53ECh
		push	ax
		push	ss
		lea	ax, [bp+buffer]
		push	ax
		push	[bp+arg_6]
		push	[bp+_format]
		push	[bp+_arglist]
		call	__VPRINTER
		pop	di
		pop	si
		pop	bp
		retf
_vsprintf	endp

include libs/BorlandC/_strcat.asm
include libs/BorlandC/_strcmp.asm
include libs/BorlandC/_strcpy.asm
include libs/BorlandC/_stricmp.asm
include libs/BorlandC/_strlen.asm
include libs/BorlandC/strrchr.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far __write(int	handle,	void *buf, unsigned int	len)
___write	proc far

var_90		= byte ptr -90h
var_E		= dword	ptr -0Eh
var_9		= byte ptr -9
var_8		= word ptr -8
var_6		= dword	ptr -6
var_2		= word ptr -2
handle		= word ptr  6
buf		= dword	ptr  8
len		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 90h
		push	si
		push	di
		mov	ax, [bp+handle]
		cmp	ax, word_138DA
		jb	short loc_55DF
		mov	ax, 6
		push	ax
		call	__IOERROR
		jmp	loc_5723
; ---------------------------------------------------------------------------

loc_55DF:
		mov	ax, [bp+len]
		inc	ax
		cmp	ax, 2
		jnb	short loc_55ED
		xor	ax, ax
		jmp	loc_5723
; ---------------------------------------------------------------------------

loc_55ED:
		mov	bx, [bp+handle]
		add	bx, bx
		test	byte ptr [bx+0E3Dh], 8
		jz	short loc_560C
		mov	ax, 2
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8

loc_560C:
		mov	bx, [bp+handle]
		add	bx, bx
		test	byte ptr [bx+0E3Dh], 40h
		jnz	short loc_562F
		push	[bp+len]	; len
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; buf
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr __rtl_write
		add	sp, 8
		jmp	loc_5723
; ---------------------------------------------------------------------------

loc_562F:
		mov	bx, [bp+handle]
		add	bx, bx
		and	word ptr [bx+0E3Ch], 0FDFFh
		mov	dx, word ptr [bp+buf+2]
		mov	ax, word ptr [bp+buf]
		mov	word ptr [bp+var_E+2], dx
		mov	word ptr [bp+var_E], ax
		mov	ax, [bp+len]
		mov	[bp+var_8], ax
		jmp	short loc_56C9
; ---------------------------------------------------------------------------

loc_564E:
		dec	[bp+var_8]
		les	bx, [bp+var_E]
		inc	word ptr [bp+var_E]
		mov	al, es:[bx]
		mov	[bp+var_9], al
		cmp	al, 0Ah
		jnz	short loc_566B
		les	bx, [bp+var_6]
		mov	byte ptr es:[bx], 0Dh
		inc	word ptr [bp+var_6]

loc_566B:
		les	bx, [bp+var_6]
		mov	al, [bp+var_9]
		mov	es:[bx], al
		inc	word ptr [bp+var_6]
		lea	ax, [bp+var_90]
		mov	dx, word ptr [bp+var_6]
		xor	bx, bx
		sub	dx, ax
		sbb	bx, 0
		or	bx, bx
		jl	short loc_56D3
		jnz	short loc_5691
		cmp	dx, 80h	; '€'
		jb	short loc_56D3

loc_5691:
		lea	ax, [bp+var_90]
		mov	dx, word ptr [bp+var_6]
		xor	bx, bx
		sub	dx, ax
		sbb	bx, 0
		mov	[bp+var_2], dx
		push	dx		; len
		push	ss
		push	ax		; buf
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr __rtl_write
		add	sp, 8
		mov	dx, ax
		cmp	ax, [bp+var_2]
		jz	short loc_56C9
		cmp	dx, 0FFFFh
		jnz	short loc_56C1
		mov	ax, 0FFFFh
		jmp	short loc_571E
; ---------------------------------------------------------------------------

loc_56C1:
		mov	ax, [bp+len]
		sub	ax, [bp+var_8]
		jmp	short loc_5719
; ---------------------------------------------------------------------------

loc_56C9:
		lea	ax, [bp+var_90]
		mov	word ptr [bp+var_6+2], ss
		mov	word ptr [bp+var_6], ax

loc_56D3:
		cmp	[bp+var_8], 0
		jz	short loc_56DC
		jmp	loc_564E
; ---------------------------------------------------------------------------

loc_56DC:
		lea	ax, [bp+var_90]
		mov	dx, word ptr [bp+var_6]
		xor	bx, bx
		sub	dx, ax
		sbb	bx, 0
		mov	[bp+var_2], dx
		mov	ax, dx
		or	ax, ax
		jbe	short loc_5720
		push	dx		; len
		push	ss
		lea	ax, [bp+var_90]
		push	ax		; buf
		push	[bp+handle]	; handle
		nop
		push	cs
		call	near ptr __rtl_write
		add	sp, 8
		mov	dx, ax
		cmp	ax, [bp+var_2]
		jz	short loc_5720
		cmp	dx, 0FFFFh
		jnz	short loc_5716
		mov	ax, 0FFFFh
		jmp	short loc_571E
; ---------------------------------------------------------------------------

loc_5716:
		mov	ax, [bp+len]

loc_5719:
		add	ax, dx
		sub	ax, [bp+var_2]

loc_571E:
		jmp	short loc_5723
; ---------------------------------------------------------------------------

loc_5720:
		mov	ax, [bp+len]

loc_5723:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
___write	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl _rtl_write(int handle, const void	*buf, unsigned int len)
__rtl_write	proc far

handle		= word ptr  6
buf		= dword	ptr  8
len		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	bx, [bp+handle]
		add	bx, bx
		test	byte ptr [bx+0E3Ch], 1
		jz	short loc_5740
		mov	ax, 5
		push	ax
		jmp	short loc_5761
; ---------------------------------------------------------------------------

loc_5740:
		push	ds
		mov	ah, 40h	; '@'
		mov	bx, [bp+handle]
		mov	cx, [bp+len]
		lds	dx, [bp+buf]
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jb	short loc_5760
		push	ax
		mov	bx, [bp+handle]
		add	bx, bx
		or	word ptr [bx+0E3Ch], 1000h
		pop	ax
		jmp	short loc_5764
; ---------------------------------------------------------------------------

loc_5760:
		push	ax

loc_5761:
		call	__IOERROR

loc_5764:
		pop	di
		pop	si
		pop	bp
		retf
__rtl_write	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl _write(int handle, const void *buf, unsigned int len)
__write		proc far

handle		= word ptr  6
buf		= dword	ptr  8
len		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+len]	; len
		push	word ptr [bp+buf+2]
		push	word ptr [bp+buf] ; buf
		push	[bp+handle]	; handle
		push	cs
		call	near ptr __rtl_write
		add	sp, 8
		pop	di
		pop	si
		pop	bp
		retf
__write		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame thunk

j____write	proc far
		jmp	near ptr ___write
j____write	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__xfclose	proc far

var_6		= word ptr -6
stream		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_6], 0
		mov	word ptr [bp+stream+2],	ds
		mov	word ptr [bp+stream], 0CAAh
		jmp	short loc_57BA
; ---------------------------------------------------------------------------

loc_579E:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 3
		jz	short loc_57B3
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fclose
		pop	cx
		pop	cx

loc_57B3:
		add	word ptr [bp+stream], 14h
		inc	[bp+var_6]

loc_57BA:
		mov	ax, [bp+var_6]
		cmp	ax, word_138DA
		jb	short loc_579E
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__xfclose	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__xfflush	proc far

var_6		= word ptr -6
stream		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_6], 4
		mov	word ptr [bp+stream+2],	ds
		mov	word ptr [bp+stream], 0CAAh
		jmp	short loc_57FC
; ---------------------------------------------------------------------------

loc_57E0:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 3
		jz	short loc_57F5
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fflush
		pop	cx
		pop	cx

loc_57F5:
		dec	[bp+var_6]
		add	word ptr [bp+stream], 14h

loc_57FC:
		cmp	[bp+var_6], 0
		jnz	short loc_57E0
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__xfflush	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xalloc::xalloc(string	const &, unsigned int)
@xalloc@$bctr$qmx6stringui proc	far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_5829
		mov	ax, 6
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_5847

loc_5829:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx6string	; xmsg::xmsg(string &)
		add	sp, 8
		les	bx, [bp+arg_0]
		mov	ax, [bp+arg_8]
		mov	es:[bx+4], ax

loc_5847:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@xalloc@$bctr$qmx6stringui endp

; ---------------------------------------------------------------------------
		dd byte_5942
		db 4 dup(0), 42h, 59h
		dw seg seg000
		db 4, 0, 0FAh, 0FFh, 6 dup(0), 63h, 58h
		dw seg seg000
		db 0DCh, 0FFh, 2 dup(0), 5, 3 dup(0), 6Bh, 58h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xalloc::raise(void)
@xalloc@raise$qv proc far

var_28		= dword	ptr -28h
_src		= byte ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 5879h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 58FFh
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_28+2],	dx
		mov	word ptr [bp+var_28], ax
		push	dx
		push	ax
		push	ss
		lea	ax, [bp+_src]
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+var_28]
		mov	ax, es:[bx+4]
		mov	[bp+var_2], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+_src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 5942h
		push	ax		; int
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xalloc@raise$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_58FF	proc far

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+4]
		les	bx, [bp+arg_0]
		mov	es:[bx+4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
sub_58FF	endp

; ---------------------------------------------------------------------------
byte_5942	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah ;	...
		db 0Dh dup(0), 2, 0, 2,	0, 84h,	59h
		dw seg seg000
		db    5
		db    0
		db  3Eh	; >
		db    0
aXalloc		db 'xalloc',0
		db    0
		db 0D1h	; Ñ
		db  59h	; Y
		dw seg seg000
		db 2 dup(0), 3,	0Dh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5984	proc far

driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_59CB
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax		; char
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	[bp+arg_4], 1
		jz	short loc_59C9
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_59CD
; ---------------------------------------------------------------------------

loc_59C9:
		jmp	short loc_59CD
; ---------------------------------------------------------------------------

loc_59CB:
		xor	ax, ax

loc_59CD:
		pop	di
		pop	si
		pop	bp
		retf
sub_5984	endp

; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 0A3h, 5Bh
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 77h, 5Dh
		dw seg seg000
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	9, 5Ah

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::xmsg(string const &)
@xmsg@$bctr$qmx6string proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 5A17h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_5A5C
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_5AAE

loc_5A5C:
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_5A9E
		mov	[bp+var_16], 0Eh
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_5A9E:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_5AAE:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$bctr$qmx6string endp

; ---------------------------------------------------------------------------
		dd byte_5D77
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	0D4h, 5Ah

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::xmsg(xmsg const	&)
@xmsg@$bctr$qmx4xmsg proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 5AE2h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_5B27
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_5B7D

loc_5B27:
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_5B6D
		mov	[bp+var_16], 0Eh
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_5B6D:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_5B7D:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$bctr$qmx4xmsg endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far xmsg___xmsg(void (*driver)(void), char)
@xmsg@$bdtr$qv	proc far

driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_5BFD
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+driver]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		test	[bp+arg_4], 1
		jz	short loc_5BFD
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx

loc_5BFD:
		pop	di
		pop	si
		pop	bp
		retf
@xmsg@$bdtr$qv	endp

; ---------------------------------------------------------------------------
		dd byte_5D3F
		db 4 dup(0), 1,	5Ch
		dw seg seg000
		db 0E2h, 0FFh

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::raise(void)
@xmsg@raise$qv	proc far

_src		= byte ptr -22h
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 5C09h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 5AF8h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	ss
		lea	ax, [bp+_src]
		push	ax
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		lea	ax, [bp+_src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 5D3Fh
		push	ax		; int
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@raise$qv	endp

; ---------------------------------------------------------------------------
		dd byte_5D77
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	62h, 5Ch

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::operator=(xmsg const &)
@xmsg@$basg$qmx4xmsg proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 5C70h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_5CA9
		cmp	ax, word ptr [bp+arg_4]
		jz	short loc_5D27

loc_5CA9:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_5D17
		mov	[bp+var_16], 0Eh
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_5D17:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_5D27:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		push	dx
		push	ax
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	ax
		pop	dx
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$basg$qmx4xmsg endp

; ---------------------------------------------------------------------------
byte_5D3F	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h ;	...
		db 0Dh dup(0), 1, 0, 1,	0, 0A3h, 5Bh
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)
byte_5D77	db 4, 0, 10h, 20h, 0Ah,	0, 8Ah,	5Dh
		dw seg seg000
aString		db 'string *',0
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
		db 0Dh dup(0), 1, 0, 1,	0, 5, 3
		dw seg seg016
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

___JumpToCatch__ proc far
		push	si
		push	di
		mov	sp, bx
		mov	bp, cx
		push	dx
		push	ax
		retf
___JumpToCatch__ endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_5DD0	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_5DE4
		mov	dx, ds
		mov	ax, 11FEh
		jmp	short loc_5DF1
; ---------------------------------------------------------------------------

loc_5DE4:
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+4]

loc_5DF1:
		pop	di
		pop	si
		pop	bp
		retf
sub_5DD0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_5DF5	proc far

var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_5E0D
		cmp	ax, word ptr [bp+arg_4]
		jz	short loc_5E89

loc_5E0D:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		les	bx, [bp+arg_4]
		cmp	ax, es:[bx+2]
		jnz	short loc_5E81
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		les	bx, [bp+arg_4]
		cmp	ax, es:[bx]
		jnz	short loc_5E81
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		les	bx, [bp+arg_4]
		or	ax, es:[bx+2]
		test	al, 80h
		jnz	short loc_5E81
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax

loc_5E63:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_A], ax
		inc	word ptr [bp+var_8]
		cmp	dx, [bp+var_A]
		jz	short loc_5E85

loc_5E81:
		xor	ax, ax
		jmp	short loc_5E8C
; ---------------------------------------------------------------------------

loc_5E85:
		or	dx, dx
		jnz	short loc_5E63

loc_5E89:
		mov	ax, 1

loc_5E8C:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_5DF5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_5E92	proc near

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_5EAD:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		mov	ax, word ptr [bp+var_A]
		or	ax, word ptr [bp+var_A+2]
		jz	short loc_5F41
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 8
		jnz	short loc_5F3A
		cmp	[bp+arg_C], 0
		jz	short loc_5EE9
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_5EE9
		mov	ax, 1
		jmp	short loc_5EEB
; ---------------------------------------------------------------------------

loc_5EE9:
		xor	ax, ax

loc_5EEB:
		mov	[bp+var_6], ax
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		or	ax, ax
		jz	short loc_5F0E
		cmp	[bp+var_6], 0
		jz	short loc_5F0E
		jmp	loc_5FD1
; ---------------------------------------------------------------------------

loc_5F0E:
		les	bx, [bp+var_A]
		test	byte ptr es:[bx+8], 4
		jz	short loc_5F3A
		push	[bp+var_6]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		call	sub_5E92
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_5F3A
		jmp	loc_5FD1
; ---------------------------------------------------------------------------

loc_5F3A:
		add	word ptr [bp+var_4], 8
		jmp	loc_5EAD
; ---------------------------------------------------------------------------

loc_5F41:
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_5F54:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		mov	ax, word ptr [bp+var_A]
		or	ax, word ptr [bp+var_A+2]
		jz	short loc_5FDD
		cmp	[bp+arg_C], 0
		jz	short loc_5F86
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_5F86
		mov	ax, 1
		jmp	short loc_5F88
; ---------------------------------------------------------------------------

loc_5F86:
		xor	ax, ax

loc_5F88:
		mov	[bp+var_6], ax
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		or	ax, ax
		jz	short loc_5FA8
		cmp	[bp+var_6], 0
		jnz	short loc_5FD1

loc_5FA8:
		les	bx, [bp+var_A]
		test	byte ptr es:[bx+8], 4
		jz	short loc_5FD6
		push	[bp+var_6]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		call	sub_5E92
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_5FD6

loc_5FD1:
		mov	ax, 1
		jmp	short loc_5FDF
; ---------------------------------------------------------------------------

loc_5FD6:
		add	word ptr [bp+var_4], 8
		jmp	loc_5F54
; ---------------------------------------------------------------------------

loc_5FDD:
		xor	ax, ax

loc_5FDF:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_5E92	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_5FE5	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	cx, [bp+arg_8]

loc_5FF0:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_6003
		cmp	ax, word ptr [bp+arg_4]
		jnz	short loc_6003
		jmp	loc_6118
; ---------------------------------------------------------------------------

loc_6003:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		mov	[bp+var_2], ax
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		mov	ax, [bp+var_2]
		and	ax, [bp+var_4]
		test	al, 10h
		jz	short loc_6093
		and	[bp+var_2], 3300h
		and	[bp+var_4], 3300h
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_6036
		jmp	loc_60D9
; ---------------------------------------------------------------------------

loc_6036:
		or	cx, cx
		jz	short loc_603D
		jmp	loc_6151
; ---------------------------------------------------------------------------

loc_603D:
		mov	ax, [bp+var_2]
		and	ax, 300h
		mov	dx, [bp+var_4]
		and	dx, 300h
		cmp	ax, dx
		jz	short loc_6073
		mov	ax, [bp+var_4]
		and	ax, 300h
		not	ax
		and	ax, [bp+var_2]
		test	ah, 3
		jz	short loc_6061
		jmp	loc_6151
; ---------------------------------------------------------------------------

loc_6061:
		or	[bp+var_2], 300h
		or	[bp+var_4], 300h
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jz	short loc_60D9

loc_6073:
		mov	ax, [bp+var_2]
		or	ax, 3000h
		mov	dx, [bp+var_4]
		or	dx, 3000h
		cmp	ax, dx
		jz	short loc_6087
		jmp	loc_6151
; ---------------------------------------------------------------------------

loc_6087:
		test	byte ptr [bp+var_2+1], 10h
		jnz	short loc_6090
		jmp	loc_6151
; ---------------------------------------------------------------------------

loc_6090:
		jmp	loc_6118
; ---------------------------------------------------------------------------

loc_6093:
		mov	ax, [bp+var_2]
		and	ax, [bp+var_4]
		test	ah, 4
		jz	short loc_6101
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_4]
		cmp	dx, es:[bx+0Ch]
		jnz	short loc_60B8
		cmp	ax, es:[bx+0Ah]
		jz	short loc_60D9

loc_60B8:
		or	cx, cx
		jz	short loc_60BF
		jmp	loc_6151
; ---------------------------------------------------------------------------

loc_60BF:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_4]
		or	ax, es:[bx+0Ah]
		or	dx, es:[bx+0Ch]
		or	ax, dx
		jnz	short loc_6151

loc_60D9:
		mov	cx, 1
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_4+2], dx
		mov	word ptr [bp+arg_4], ax
		jmp	loc_5FF0
; ---------------------------------------------------------------------------

loc_6101:
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		or	ax, ax
		jz	short loc_611D

loc_6118:
		mov	ax, 1
		jmp	short loc_6153
; ---------------------------------------------------------------------------

loc_611D:
		test	byte ptr [bp+var_2], 2
		jz	short loc_6151
		test	byte ptr [bp+var_4], 1
		jz	short loc_6151
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+8], 4
		jz	short loc_6151
		mov	ax, 1
		push	ax
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_5E92
		add	sp, 0Eh
		jmp	short loc_6153
; ---------------------------------------------------------------------------

loc_6151:
		xor	ax, ax

loc_6153:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_5FE5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6159	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_61A9
		cmp	[bp+arg_0], 80h	; '€'
		ja	short loc_618B
		les	bx, ss:16h
		test	byte ptr es:[bx+4], 1
		jz	short loc_6190

loc_618B:
		nop
		push	cs
		call	near ptr _abort
; ---------------------------------------------------------------------------

loc_6190:
		les	bx, ss:16h
		or	word ptr es:[bx+4], 1
		les	bx, ss:16h
		mov	dx, es:[bx+22h]
		mov	ax, es:[bx+20h]
		jmp	short loc_61AF
; ---------------------------------------------------------------------------

loc_61A9:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]

loc_61AF:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_6159	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_61B5	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+22h]
		mov	ax, es:[bx+20h]
		cmp	dx, [bp+arg_2]
		jnz	short loc_61DD
		cmp	ax, [bp+arg_0]
		jnz	short loc_61DD
		les	bx, ss:16h
		and	word ptr es:[bx+4], 0FFFEh
		jmp	short loc_61EA
; ---------------------------------------------------------------------------

loc_61DD:
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_61EA:
		pop	di
		pop	si
		pop	bp
		retf
sub_61B5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_61EE	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= dword	ptr  0Ch
arg_C		= byte ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_5FE5
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_6218
		jmp	loc_62B4
; ---------------------------------------------------------------------------

loc_6218:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		mov	[bp+var_2], ax
		les	bx, [bp+arg_8]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		test	byte ptr [bp+var_4], 20h
		jz	short loc_62A8
		push	[bp+arg_6]
		push	[bp+arg_4]
		mov	ax, 1
		push	ax
		les	bx, [bp+arg_8]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_5FE5
		add	sp, 0Eh
		or	ax, ax
		jnz	short loc_62B4
		les	bx, [bp+arg_8]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_8+2], dx
		mov	word ptr [bp+arg_8], ax
		les	bx, [bp+arg_8]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		test	byte ptr [bp+var_4], 10h
		jz	short loc_62EB
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_5FE5
		add	sp, 0Eh
		or	ax, ax
		jnz	short loc_62B4
		mov	ax, [bp+var_2]
		and	ax, 3000h
		mov	dx, [bp+var_4]
		and	dx, 3000h
		cmp	ax, dx
		jnz	short loc_62EB

loc_62A8:
		test	byte ptr [bp+var_4], 10h
		jz	short loc_62EB
		test	[bp+arg_C], 1
		jz	short loc_62B9

loc_62B4:
		mov	ax, 1
		jmp	short loc_62ED
; ---------------------------------------------------------------------------

loc_62B9:
		test	byte ptr [bp+var_2], 10h
		jz	short loc_62EB
		test	byte ptr [bp+var_2+1], 20h
		jz	short loc_62CB
		test	byte ptr [bp+var_4+1], 20h
		jz	short loc_62EB

loc_62CB:
		test	byte ptr [bp+var_4], 40h
		jz	short loc_62EB
		mov	ax, [bp+var_2]
		and	ax, 300h
		mov	dx, [bp+var_4]
		and	dx, 300h
		cmp	ax, dx
		jnz	short loc_62E7
		mov	ax, 1
		jmp	short loc_62E9
; ---------------------------------------------------------------------------

loc_62E7:
		xor	ax, ax

loc_62E9:
		jmp	short loc_62ED
; ---------------------------------------------------------------------------

loc_62EB:
		xor	ax, ax

loc_62ED:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_61EE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_62F3	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= dword	ptr  0Ch
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		mov	ax, [bp+arg_C]
		and	ax, 1
		mov	[bp+var_4], ax
		test	byte ptr [bp+arg_C], 4
		jz	short loc_631E
		or	[bp+var_4], 2

loc_631E:
		test	byte ptr [bp+arg_C], 2
		jz	short loc_6332
		or	[bp+var_4], 4
		test	byte ptr [bp+arg_C+1], 1
		jnz	short loc_6332
		or	[bp+var_4], 20h

loc_6332:
		test	byte ptr [bp+arg_C], 20h
		jz	short loc_633C
		or	[bp+var_4], 8

loc_633C:
		test	byte ptr [bp+arg_C], 80h
		jz	short loc_6346
		or	[bp+var_4], 10h

loc_6346:
		test	byte ptr [bp+arg_C+1], 10h
		jnz	short loc_634F
		jmp	loc_64D4
; ---------------------------------------------------------------------------

loc_634F:
		mov	bx, [bp+var_4]
		cmp	bx, 17h
		jbe	short loc_635A
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_635A:
		add	bx, bx
		jmp	cs:off_6611[bx]

loc_6361:
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		add	sp, 6
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_6373:
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]
		add	sp, 6
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_6385:
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_63AB
; ---------------------------------------------------------------------------

loc_6399:
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_63AB:
		add	sp, 0Ah
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_63B1:
		xor	ax, ax
		push	ax
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_63C0:
		xor	ax, ax
		push	ax
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_63CF:
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_63F5
; ---------------------------------------------------------------------------

loc_63E3:
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_63F5:
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_63F8:
		mov	dx, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		xor	ax, ax
		push	bx
		pop	bx
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_6408:
		mov	dx, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		xor	ax, ax

loc_6410:
		push	bx
		pop	bx
		call	[bp+arg_8]
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_6418:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		xor	ax, ax

loc_6426:
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_643C
; ---------------------------------------------------------------------------

loc_642B:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		xor	ax, ax

loc_6439:
		call	[bp+arg_8]

loc_643C:
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_643F:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_6459
; ---------------------------------------------------------------------------

loc_644D:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax

loc_6456:
		call	[bp+arg_8]

loc_6459:
		pop	cx
		pop	cx
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_645E:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		; Hack
		db 0ffh
		db 056h
		db 00ch
		add	sp, 6
		pop	ds
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_6475:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		call	[bp+arg_8]
		add	sp, 6
		pop	ds
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_648C:
		mov	si, word ptr [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_4]

loc_6495:
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_64A6
; ---------------------------------------------------------------------------

loc_649A:
		mov	si, word ptr [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_4]

loc_64A3:
		call	[bp+arg_8]

loc_64A6:
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_64A9:
		push	ds
		lds	si, [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	ds
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_64BD:
		push	ds
		lds	si, [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	ds
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_64D1:
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_64D4:
		mov	bx, [bp+var_4]
		cmp	bx, 17h
		jbe	short loc_64DF
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_64DF:
		add	bx, bx
		jmp	cs:off_65E1[bx]

loc_64E6:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_6459
; ---------------------------------------------------------------------------

loc_64F2:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_6456
; ---------------------------------------------------------------------------

loc_64FB:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_651B
; ---------------------------------------------------------------------------

loc_650C:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_651B:
		add	sp, 8
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_6521:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_6495
; ---------------------------------------------------------------------------

loc_652A:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_64A3
; ---------------------------------------------------------------------------

loc_6533:
		mov	ax, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		push	bx
		pop	bx
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_65DA
; ---------------------------------------------------------------------------

loc_6541:
		mov	ax, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		jmp	loc_6410
; ---------------------------------------------------------------------------

loc_654A:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		jmp	loc_6426
; ---------------------------------------------------------------------------

loc_6559:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		jmp	loc_6439
; ---------------------------------------------------------------------------

loc_6568:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	cx
		jmp	short loc_65DA
; ---------------------------------------------------------------------------

loc_6574:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	cx
		jmp	short loc_65DA
; ---------------------------------------------------------------------------

loc_6580:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_65DA
; ---------------------------------------------------------------------------

loc_6592:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_65DA
; ---------------------------------------------------------------------------

loc_65A4:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_65DA
; ---------------------------------------------------------------------------

loc_65AF:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		call	[bp+arg_8]
		jmp	short loc_65DA
; ---------------------------------------------------------------------------

loc_65BA:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	ds
		jmp	short loc_65DA
; ---------------------------------------------------------------------------

loc_65CA:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	ds
		jmp	short $+2

loc_65DA:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_62F3	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
off_65E1	dw offset loc_64E6
		dw offset loc_64F2
		dw offset loc_64FB
		dw offset loc_650C
		dw offset loc_6521
		dw offset loc_652A
		dw offset loc_654A
		dw offset loc_6559
		dw offset loc_6533
		dw offset loc_6541
		dw offset loc_654A
		dw offset loc_6559
		dw offset loc_65DA
		dw offset loc_65DA
		dw offset loc_65DA
		dw offset loc_65DA
		dw offset loc_6568
		dw offset loc_6574
		dw offset loc_6580
		dw offset loc_6592
		dw offset loc_65A4
		dw offset loc_65AF
		dw offset loc_65BA
		dw offset loc_65CA
off_6611	dw offset loc_6361
		dw offset loc_6373
		dw offset loc_6385
		dw offset loc_6399
		dw offset loc_63B1
		dw offset loc_63C0
		dw offset loc_63CF
		dw offset loc_63E3
		dw offset loc_63F8
		dw offset loc_6408
		dw offset loc_6418
		dw offset loc_642B
		dw offset loc_64D1
		dw offset loc_64D1
		dw offset loc_64D1
		dw offset loc_64D1
		dw offset loc_643F
		dw offset loc_644D
		dw offset loc_645E
		dw offset loc_6475
		dw offset loc_648C
		dw offset loc_649A
		dw offset loc_64A9
		dw offset loc_64BD

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6641	proc near

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		cmp	[bp+arg_A], 0
		jz	short loc_6654
		mov	ax, 2
		jmp	short loc_6656
; ---------------------------------------------------------------------------

loc_6654:
		xor	ax, ax

loc_6656:
		mov	[bp+var_2], ax
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_4], ax
		push	ds
		mov	ds, [bp+var_4]
		mov	ax, [bp+arg_8]
		and	ax, 1
		mov	[bp+var_6], ax
		test	byte ptr [bp+arg_8], 4
		jz	short loc_667C
		or	[bp+var_6], 2

loc_667C:
		test	byte ptr [bp+arg_8], 2
		jz	short loc_6690
		or	[bp+var_6], 4
		test	byte ptr [bp+arg_8+1], 1
		jnz	short loc_6690
		or	[bp+var_6], 20h

loc_6690:
		test	byte ptr [bp+arg_8], 20h
		jz	short loc_669A
		or	[bp+var_6], 8

loc_669A:
		test	byte ptr [bp+arg_8], 80h
		jz	short loc_66A4
		or	[bp+var_6], 10h

loc_66A4:
		mov	bx, [bp+var_6]
		cmp	bx, 17h
		jbe	short loc_66AF
		jmp	loc_67C2
; ---------------------------------------------------------------------------

loc_66AF:
		add	bx, bx
		jmp	cs:off_67C9[bx]

loc_66B6:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		pop	cx
		pop	cx
		jmp	loc_67C2
; ---------------------------------------------------------------------------

loc_66C4:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]
		pop	cx
		pop	cx
		jmp	loc_67C2
; ---------------------------------------------------------------------------

loc_66D2:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		add	sp, 6
		jmp	loc_67C2
; ---------------------------------------------------------------------------

loc_66E4:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]
		add	sp, 6
		jmp	loc_67C2
; ---------------------------------------------------------------------------

loc_66F6:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_675C
; ---------------------------------------------------------------------------

loc_6701:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		jmp	short loc_6759
; ---------------------------------------------------------------------------

loc_6709:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_6723
; ---------------------------------------------------------------------------

loc_6717:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]

loc_6723:
		jmp	loc_67C2
; ---------------------------------------------------------------------------

loc_6726:
		mov	bx, word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		push	bx
		pop	bx
		call	word ptr [bp+arg_4]
		jmp	loc_67C2
; ---------------------------------------------------------------------------

loc_6734:
		mov	bx, word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		push	bx
		pop	bx
		call	[bp+arg_4]
		jmp	loc_67C2
; ---------------------------------------------------------------------------

loc_6742:
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		call	word ptr [bp+arg_4]
		jmp	short loc_675C
; ---------------------------------------------------------------------------

loc_6750:
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		mov	ax, [bp+var_2]

loc_6759:
		call	[bp+arg_4]

loc_675C:
		jmp	short loc_67C2
; ---------------------------------------------------------------------------

loc_675E:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		pop	cx
		jmp	short loc_67C2
; ---------------------------------------------------------------------------

loc_676A:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	cx
		jmp	short loc_67C2
; ---------------------------------------------------------------------------

loc_6776:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		pop	cx
		pop	ds
		jmp	short loc_67C2
; ---------------------------------------------------------------------------

loc_6784:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	cx
		pop	ds
		jmp	short loc_67C2
; ---------------------------------------------------------------------------

loc_6792:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		jmp	short loc_67C2
; ---------------------------------------------------------------------------

loc_679D:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		jmp	short loc_67C2
; ---------------------------------------------------------------------------

loc_67A8:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		pop	ds
		jmp	short loc_67C2
; ---------------------------------------------------------------------------

loc_67B5:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	ds
		jmp	short $+2

loc_67C2:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6641	endp

; ---------------------------------------------------------------------------
off_67C9	dw offset loc_66B6
		dw offset loc_66C4
		dw offset loc_66D2
		dw offset loc_66E4
		dw offset loc_66F6
		dw offset loc_6701
		dw offset loc_6709
		dw offset loc_6717
		dw offset loc_6726
		dw offset loc_6734
		dw offset loc_6742
		dw offset loc_6750
		dw offset loc_67C2
		dw offset loc_67C2
		dw offset loc_67C2
		dw offset loc_67C2
		dw offset loc_675E
		dw offset loc_676A
		dw offset loc_6776
		dw offset loc_6784
		dw offset loc_6792
		dw offset loc_679D
		dw offset loc_67A8
		dw offset loc_67B5

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_67F9	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		mov	ax, [bp+arg_8]
		and	ax, 1
		mov	[bp+var_4], ax
		test	byte ptr [bp+arg_8], 4
		jz	short loc_6824
		or	[bp+var_4], 2

loc_6824:
		test	byte ptr [bp+arg_8], 2
		jz	short loc_682E
		or	[bp+var_4], 4

loc_682E:
		test	byte ptr [bp+arg_8], 20h
		jz	short loc_6838
		or	[bp+var_4], 8

loc_6838:
		mov	bx, [bp+var_4]
		cmp	bx, 0Bh
		ja	short loc_68AB
		add	bx, bx
		jmp	cs:off_68B2[bx]

loc_6847:
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		pop	cx
		jmp	short loc_68AB
; ---------------------------------------------------------------------------

loc_6850:
		push	[bp+arg_0]
		call	[bp+arg_4]
		pop	cx
		jmp	short loc_68AB
; ---------------------------------------------------------------------------

loc_6859:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_686D
; ---------------------------------------------------------------------------

loc_6864:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_686D:
		pop	cx
		pop	cx
		jmp	short loc_68AB
; ---------------------------------------------------------------------------

loc_6871:
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_687F
; ---------------------------------------------------------------------------

loc_6879:
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_687F:
		jmp	short loc_68AB
; ---------------------------------------------------------------------------

loc_6881:
		mov	bx, [bp+arg_0]
		push	bx
		pop	bx
		call	word ptr [bp+arg_4]
		jmp	short loc_68AB
; ---------------------------------------------------------------------------

loc_688B:
		mov	bx, [bp+arg_0]
		push	bx
		pop	bx
		call	[bp+arg_4]
		jmp	short loc_68AB
; ---------------------------------------------------------------------------

loc_6895:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_68A9
; ---------------------------------------------------------------------------

loc_68A0:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_68A9:
		jmp	short $+2

loc_68AB:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_67F9	endp

; ---------------------------------------------------------------------------
off_68B2	dw offset loc_6847
		dw offset loc_6850
		dw offset loc_6859
		dw offset loc_6864
		dw offset loc_6871
		dw offset loc_6879
		dw offset loc_6895
		dw offset loc_68A0
		dw offset loc_6881
		dw offset loc_688B
		dw offset loc_6895
		dw offset loc_68A0
		db 4 dup(0), 88h, 6Bh
		dw seg seg000
		db 14h dup(0), 0E1h, 6Bh
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 0CAh, 68h
		dw seg seg000
		db 2 dup(0), 4,	3 dup(0), 3, 0,	0E2h, 68h
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far sub_6918(int, int, void *src, int, int, int, int, int, int,	int, int, int, int, int, int)
sub_6918	proc far

var_48		= word ptr -48h
var_46		= word ptr -46h
var_44		= word ptr -44h
var_42		= word ptr -42h
var_40		= word ptr -40h
var_3E		= word ptr -3Eh
var_3C		= word ptr -3Ch
var_3A		= word ptr -3Ah
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
n		= word ptr -28h
var_26		= dword	ptr -26h
var_22		= dword	ptr -22h
var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  6
arg_2		= word ptr  8
_src		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah
arg_16		= word ptr  1Ch
arg_18		= word ptr  1Eh
arg_1A		= word ptr  20h
arg_1C		= word ptr  22h
arg_1E		= word ptr  24h

		push	bp
		mov	bp, sp
		sub	sp, 48h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 68FAh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax
		les	bx, ss:16h
		mov	word ptr es:[bx+6], ds
		mov	dx, ss:18h
		mov	ax, ss:16h
		add	ax, 28h	; '('
		les	bx, ss:16h
		mov	es:[bx+1Eh], dx
		mov	es:[bx+1Ch], ax
		les	bx, [bp+var_22]
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_34+2],	dx
		mov	word ptr [bp+var_34], ax
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		mov	word ptr [bp+var_38+2],	dx
		mov	word ptr [bp+var_38], ax
		jmp	short loc_69A4
; ---------------------------------------------------------------------------

loc_6981:
		les	bx, ss:16h
		mov	ax, es:[bx+1Ch]
		add	ax, 7Fh	; ''
		cmp	ax, word ptr [bp+var_38]
		jbe	short loc_69A1
		les	bx, [bp+var_34]
		mov	al, es:[bx]
		les	bx, [bp+var_38]
		mov	es:[bx], al
		inc	word ptr [bp+var_38]

loc_69A1:
		inc	word ptr [bp+var_34]

loc_69A4:
		les	bx, [bp+var_34]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_6981
		les	bx, [bp+var_38]
		mov	byte ptr es:[bx], 0
		les	bx, ss:16h
		mov	ax, [bp+arg_14]
		mov	es:[bx+1Ah], ax
		les	bx, ss:16h
		mov	dx, [bp+arg_18]
		mov	ax, [bp+arg_16]
		mov	es:[bx+18h], dx
		mov	es:[bx+16h], ax
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax
		les	bx, [bp+var_22]
		mov	ax, es:[bx]
		mov	[bp+n],	ax
		les	bx, [bp+var_22]
		mov	ax, es:[bx+2]
		mov	[bp+var_2A], ax
		test	byte ptr [bp+var_2A], 2
		jz	short loc_6A01
		les	bx, [bp+var_22]
		mov	ax, es:[bx+8]
		jmp	short loc_6A03
; ---------------------------------------------------------------------------

loc_6A01:
		xor	ax, ax

loc_6A03:
		mov	[bp+var_2C], ax
		test	byte ptr [bp+var_2A], 30h
		jz	short loc_6A1D
		les	bx, [bp+var_26]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax

loc_6A1D:
		mov	ax, [bp+n]
		add	ax, 3Ah	; ':'
		push	ax
		push	cs
		call	near ptr sub_6159
		pop	cx
		mov	word ptr [bp+var_30+2],	dx
		mov	word ptr [bp+var_30], ax
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+var_30]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, ss:16h
		mov	dx, word ptr [bp+var_30+2]
		mov	ax, word ptr [bp+var_30]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, [bp+var_30]
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_12]
		mov	es:[bx+0Ch], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+n]
		mov	es:[bx+0Eh], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+var_2A]
		mov	es:[bx+14h], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+var_2C]
		mov	es:[bx+16h], ax
		les	bx, [bp+var_30]
		mov	dx, word ptr [bp+var_26+2]
		mov	ax, word ptr [bp+var_26]
		mov	es:[bx+12h], dx
		mov	es:[bx+10h], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+24h], 0
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+28h], 0
		mov	word ptr es:[bx+26h], 0
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+18h], ds
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+1Ch], seg seg000
		mov	word ptr es:[bx+1Ah], 61B5h
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_14]
		mov	es:[bx+2Ch], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_18]
		mov	ax, [bp+arg_16]
		mov	es:[bx+30h], dx
		mov	es:[bx+2Eh], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	es:[bx+20h], dx
		mov	es:[bx+1Eh], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_10]
		mov	es:[bx+22h], ax
		les	bx, [bp+var_30]
		mov	byte ptr es:[bx+39h], 0
		les	bx, [bp+var_30]
		mov	byte ptr es:[bx+38h], 1
		push	[bp+n]		; n
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		mov	ax, word ptr [bp+var_30]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+var_30+2]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		test	byte ptr [bp+var_2C], 1
		jz	short loc_6BA7
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_3A], dx
		mov	[bp+var_3C], ax
		mov	[bp+var_12], 6
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src]
		mov	ax, word ptr [bp+var_30]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+var_30+2]
		push	ax
		call	sub_62F3
		add	sp, 0Eh
		mov	[bp+var_12], 0
		jmp	short loc_6B92
; ---------------------------------------------------------------------------
		db 90h
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_6B92:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, [bp+var_3A]
		mov	cx, [bp+var_3C]
		mov	es, dx
		xchg	ax, bx
		mov	es:[bx+2], ax
		mov	es:[bx], cx

loc_6BA7:
		cmp	[bp+arg_1E], 0
		jnz	short loc_6BEB
		test	byte ptr [bp+var_2C], 2
		jz	short loc_6BEB
		mov	[bp+var_12], 12h
		mov	ax, 1
		push	ax
		les	bx, [bp+var_22]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_22]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src]
		call	sub_6641
		add	sp, 0Ch
		mov	[bp+var_12], 0
		jmp	short loc_6BEB
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		db 90h
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_6BEB:
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		mov	[bp+var_46], dx
		mov	[bp+var_48], ax
		mov	dx, [bp+arg_1C]
		mov	ax, [bp+arg_1A]
		mov	[bp+var_42], dx
		mov	[bp+var_44], ax
		mov	dx, word ptr [bp+var_30+2]
		mov	ax, word ptr [bp+var_30]
		mov	[bp+var_3E], dx
		mov	[bp+var_40], ax
		push	ss
		lea	ax, [bp+var_48]
		push	ax
		xor	ax, ax
		mov	dx, 3
		push	ax
		push	dx
		xor	ax, ax
		mov	dx, 1
		push	ax
		push	dx
		mov	ax, 0EEFh
		mov	dx, 0FACEh
		push	ax
		push	dx
		nop
		push	cs
		call	near ptr _RaiseException
		add	sp, 10h
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_6918	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far _ThrowException(int, int, void *src, int, int, int,	int, int, int, int, int, int)
@_ThrowException$qnvt1t1t1uiuiuinuc proc far

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
_src		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah
arg_16		= word ptr  1Ch
arg_18		= word ptr  1Eh

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_6], bp
		mov	bx, [bp+var_6]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		xor	ax, ax
		push	ax		; int
		push	[bp+var_2]	; int
		push	[bp+var_4]	; int
		push	[bp+arg_18]	; int
		push	[bp+arg_16]	; int
		push	[bp+arg_14]	; int
		push	[bp+arg_12]	; int
		push	[bp+arg_10]	; int
		push	[bp+arg_E]	; int
		push	[bp+arg_C]	; int
		push	[bp+arg_A]	; int
		push	[bp+arg_8]	; int
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		push	[bp+arg_2]	; int
		push	[bp+arg_0]	; int
		push	cs
		call	near ptr sub_6918
		add	sp, 20h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_ThrowException$qnvt1t1t1uiuiuinuc endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; _ReThrowException(unsigned int, unsigned char	*)
@_ReThrowException$quinuc proc far

var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		mov	[bp+var_A], bp
		mov	bx, [bp+var_A]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jnz	short loc_6CDB
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------

loc_6CDB:
		mov	ax, 1
		push	ax		; int
		push	[bp+var_2]	; int
		push	[bp+var_4]	; int
		push	[bp+arg_4]	; int
		push	[bp+arg_2]	; int
		push	[bp+arg_0]	; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+0Ch] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h] ; int
		push	word ptr es:[bx+1Eh] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+0Ah] ; int
		push	word ptr es:[bx+8] ; int
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx+38h], 0
		jz	short loc_6D27
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		add	ax, 3Ah	; ':'
		jmp	short loc_6D30
; ---------------------------------------------------------------------------

loc_6D27:
		les	bx, [bp+var_8]
		mov	ax, es:[bx+36h]
		mov	dx, ss

loc_6D30:
		push	dx
		push	ax		; src
		les	bx, [bp+var_8]
		push	word ptr es:[bx+6] ; int
		push	word ptr es:[bx+4] ; int
		push	cs
		call	near ptr sub_6918
		add	sp, 20h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_ReThrowException$quinuc endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_6D4A	proc far
		push	si
		push	di
		pop	di
		pop	si
		retf
sub_6D4A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6D4F	proc far

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_4], 0
		mov	bx, [bp+arg_0]
		test	byte ptr ss:[bx+4], 6
		jz	short loc_6D69
		inc	[bp+var_4]

loc_6D69:
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		push	cs
		call	near ptr sub_6D4A
		jmp	short loc_6DB7
; ---------------------------------------------------------------------------

loc_6D76:
		mov	ax, [bp+var_2]
		mov	[bp+var_6], ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	ss
		push	[bp+arg_0]
		mov	bx, [bp+var_6]
		call	dword ptr ss:[bx+2]
		add	sp, 0Eh
		mov	dx, ax
		or	dx, dx
		jnz	short loc_6DA1
		mov	ax, dx
		jmp	short loc_6DD5
; ---------------------------------------------------------------------------

loc_6DA1:
		cmp	[bp+var_4], 0
		jz	short loc_6DAE
		mov	ax, [bp+var_2]
		mov	ss:14h,	ax

loc_6DAE:
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx]
		mov	[bp+var_2], ax

loc_6DB7:
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_6DC5
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_6]
		jnz	short loc_6D76

loc_6DC5:
		cmp	[bp+var_4], 0
		jz	short loc_6DD2
		mov	ax, [bp+var_2]
		mov	ss:14h,	ax

loc_6DD2:
		mov	ax, 1

loc_6DD5:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_6D4F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Global_unwind	proc far

var_4C		= word ptr -4Ch
var_4A		= word ptr -4Ah
var_48		= word ptr -48h
var_46		= word ptr -46h
var_3E		= word ptr -3Eh
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4Ch
		push	si
		push	di
		mov	dx, [bp+arg_2]
		or	dx, dx
		jnz	short loc_6E06
		mov	[bp+var_4A], 0
		mov	[bp+var_4C], 26h ; '&'
		mov	[bp+var_46], 0
		mov	[bp+var_48], 2
		mov	[bp+var_3E], 0
		lea	dx, [bp+var_4C]

loc_6E06:
		mov	bx, dx
		or	word ptr ss:[bx+4], 2
		push	[bp+arg_0]
		xor	ax, ax
		push	ax
		push	ax
		push	dx
		push	cs
		call	near ptr sub_6D4F
		add	sp, 8
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Global_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_6E22	proc far
		push	si
		push	di
		pop	di
		pop	si
		retf
sub_6E22	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

_RaiseException	proc far

dest		= word ptr -186h
var_184		= word ptr -184h
var_182		= word ptr -182h
var_180		= word ptr -180h
var_17E		= word ptr -17Eh
var_17C		= word ptr -17Ch
var_176		= word ptr -176h
var_174		= word ptr -174h
var_172		= word ptr -172h
var_170		= word ptr -170h
var_16E		= word ptr -16Eh
var_16C		= word ptr -16Ch
var_16A		= word ptr -16Ah
var_168		= word ptr -168h
var_166		= word ptr -166h
var_164		= word ptr -164h
var_162		= word ptr -162h
var_160		= word ptr -160h
var_15E		= word ptr -15Eh
var_15A		= word ptr -15Ah
var_158		= word ptr -158h
var_156		= word ptr -156h
var_154		= word ptr -154h
var_152		= byte ptr -152h
var_C6		= word ptr -0C6h
var_C4		= word ptr -0C4h
var_C2		= word ptr -0C2h
var_C0		= word ptr -0C0h
var_BE		= word ptr -0BEh
var_BC		= word ptr -0BCh
var_BA		= word ptr -0BAh
var_B8		= word ptr -0B8h
var_B6		= word ptr -0B6h
var_B4		= word ptr -0B4h
var_B2		= word ptr -0B2h
var_B0		= word ptr -0B0h
var_AE		= word ptr -0AEh
var_AC		= word ptr -0ACh
var_AA		= word ptr -0AAh
var_A8		= word ptr -0A8h
var_A6		= word ptr -0A6h
var_A4		= word ptr -0A4h
var_A2		= word ptr -0A2h
var_A0		= word ptr -0A0h
var_9E		= word ptr -9Eh
var_9C		= word ptr -9Ch
var_9A		= word ptr -9Ah
var_98		= word ptr -98h
var_96		= word ptr -96h
var_94		= word ptr -94h
var_92		= word ptr -92h
var_90		= word ptr -90h
var_8E		= word ptr -8Eh
var_8C		= word ptr -8Ch
var_8A		= word ptr -8Ah
var_88		= word ptr -88h
var_86		= byte ptr -86h
var_56		= word ptr -56h
var_54		= word ptr -54h
var_52		= word ptr -52h
var_50		= word ptr -50h
var_4E		= word ptr -4Eh
var_4C		= word ptr -4Ch
var_4A		= word ptr -4Ah
var_48		= word ptr -48h
var_46		= byte ptr -46h
_src		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  18h
arg_2		= word ptr  1Ah
arg_4		= word ptr  1Ch
arg_6		= word ptr  1Eh
arg_8		= word ptr  20h
arg_A		= word ptr  22h
arg_C		= dword	ptr  24h

; FUNCTION CHUNK AT 7299 SIZE 0000000D BYTES

		push	ax
		push	cx
		push	dx
		push	bx
		push	sp
		push	bp
		push	si
		push	di
		push	ds
		push	es
		mov	bp, sp
		sub	sp, 186h
		lea	ax, [bp+var_86]
		push	ax
		push	cs
		call	near ptr sub_6E22
		pop	cx
		pushf
		pop	ax
		mov	word ptr [bp+_src+2], ax
		cmp	byte ptr word_13C58, 3
		jnb	short loc_6E50
		jmp	loc_6F06
; ---------------------------------------------------------------------------

loc_6E50:
		pushad
		mov	word ptr [bp+_src], sp
		mov	ax, 20h	; ' '
		push	ax		; n
		push	ss
		push	word ptr [bp+_src] ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		popad
		mov	dx, [bp+var_184]
		mov	ax, [bp+dest]
		mov	[bp+var_B4], dx
		mov	[bp+var_B6], ax
		mov	dx, [bp+var_180]
		mov	ax, [bp+var_182]
		mov	[bp+var_B0], dx
		mov	[bp+var_B2], ax
		mov	dx, [bp+var_174]
		mov	ax, [bp+var_176]
		mov	[bp+var_AC], dx
		mov	[bp+var_AE], ax
		mov	dx, [bp+var_170]
		mov	ax, [bp+var_172]
		mov	[bp+var_A8], dx
		mov	[bp+var_AA], ax
		mov	dx, [bp+var_16C]
		mov	ax, [bp+var_16E]
		mov	[bp+var_A4], dx
		mov	[bp+var_A6], ax
		mov	dx, [bp+var_168]
		mov	ax, [bp+var_16A]
		mov	[bp+var_A0], dx
		mov	[bp+var_A2], ax
		mov	dx, [bp+var_17C]
		mov	ax, [bp+var_17E]
		mov	[bp+var_9C], dx
		mov	[bp+var_9E], ax
		pushfd
		pop	eax
		shr	eax, 10h
		mov	[bp+var_90], ax
		mov	ax, word ptr [bp+_src+2]
		mov	[bp+var_92], ax
		mov	[bp+var_C0], 0
		mov	[bp+var_C2], fs
		mov	[bp+var_C4], 0
		mov	[bp+var_C6], gs
		jmp	short loc_6F4F
; ---------------------------------------------------------------------------

loc_6F06:
		xor	ax, ax
		xor	dx, dx
		mov	[bp+var_9C], ax
		mov	[bp+var_9E], dx
		mov	[bp+var_A0], ax
		mov	[bp+var_A2], dx
		mov	[bp+var_A4], ax
		mov	[bp+var_A6], dx
		mov	[bp+var_A8], ax
		mov	[bp+var_AA], dx
		mov	[bp+var_AC], ax
		mov	[bp+var_AE], dx
		mov	[bp+var_B0], ax
		mov	[bp+var_B2], dx
		mov	[bp+var_B4], ax
		mov	[bp+var_B6], dx
		mov	ax, word ptr [bp+_src+2]
		mov	[bp+var_90], 0
		mov	[bp+var_92], ax

loc_6F4F:
		mov	dx, [bp+var_9C]
		mov	ax, [bp+var_9E]
		add	ax, 18h
		adc	dx, 0
		mov	[bp+var_8C], dx
		mov	[bp+var_8E], ax
		cmp	[bp+arg_2], 0EEFh
		jnz	short loc_6F80
		cmp	[bp+arg_0], 0FACEh
		jnz	short loc_6F80
		les	bx, [bp+arg_C]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		jmp	short loc_6F8E
; ---------------------------------------------------------------------------

loc_6F80:
		mov	word ptr [bp+_src], bp
		mov	bx, word ptr [bp+_src]
		mov	dx, ss:[bx+16h]
		mov	ax, ss:[bx+14h]

loc_6F8E:
		mov	[bp+var_4], dx
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_98], 0
		mov	[bp+var_9A], ax
		mov	ax, [bp+var_4]
		mov	[bp+var_94], 0
		mov	[bp+var_96], ax
		mov	ax, 14h
		push	ax		; n
		push	ss
		push	bp		; src
		push	ss
		lea	ax, [bp+var_166]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		mov	ax, [bp+var_164]
		mov	[bp+var_B8], 0
		mov	[bp+var_BA], ax
		mov	ax, [bp+var_166]
		mov	[bp+var_BC], 0
		mov	[bp+var_BE], ax
		mov	[bp+var_88], 0
		mov	[bp+var_8A], ss
		mov	ax, [bp+var_154]
		mov	[bp+var_A2], ax
		mov	ax, [bp+var_15A]
		mov	[bp+var_AE], ax
		mov	ax, [bp+var_156]
		mov	[bp+var_A6], ax
		mov	ax, [bp+var_158]
		mov	[bp+var_AA], ax
		mov	ax, [bp+var_160]
		mov	[bp+var_B2], ax
		mov	ax, [bp+var_162]
		mov	[bp+var_B6], ax
		mov	ax, [bp+var_15E]
		mov	[bp+var_9E], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		and	dx, 0EFFFh
		mov	[bp+var_54], dx
		mov	[bp+var_56], ax
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	[bp+var_50], dx
		mov	[bp+var_52], ax
		mov	dx, [bp+var_4]
		mov	ax, [bp+var_6]
		mov	[bp+var_4A], dx
		mov	[bp+var_4C], ax
		mov	[bp+var_4E], 0
		mov	ax, word ptr [bp+arg_C]
		or	ax, word ptr [bp+arg_C+2]
		jnz	short loc_705F
		mov	[bp+arg_A], 0
		mov	[bp+arg_8], 0

loc_705F:
		cmp	[bp+arg_A], 0
		jb	short loc_7077
		ja	short loc_706D
		cmp	[bp+arg_8], 0Fh
		jbe	short loc_7077

loc_706D:
		mov	[bp+arg_A], 0
		mov	[bp+arg_8], 0Fh

loc_7077:
		mov	ax, [bp+arg_8]
		mov	[bp+var_48], ax
		mov	[bp+var_2], 0
		jmp	short loc_70AD
; ---------------------------------------------------------------------------

loc_7084:
		mov	bx, [bp+var_2]
		mov	cl, 2
		shl	bx, cl
		lea	ax, [bp+var_46]
		add	bx, ax
		mov	ax, [bp+var_2]
		mov	cl, 2
		shl	ax, cl
		les	si, [bp+arg_C]
		add	si, ax
		mov	dx, es:[si+2]
		mov	ax, es:[si]
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		inc	[bp+var_2]

loc_70AD:
		mov	ax, [bp+var_2]
		xor	dx, dx
		cmp	dx, [bp+arg_A]
		jb	short loc_7084
		jnz	short loc_70BE
		cmp	ax, [bp+arg_8]
		jb	short loc_7084

loc_70BE:
		mov	ax, 0FFFFh
		push	ax
		push	ss
		lea	ax, [bp+var_152]
		push	ax
		lea	ax, [bp+var_56]
		push	ax
		push	cs
		call	near ptr sub_6D4F
		add	sp, 8
		or	ax, ax
		jnz	short loc_7109
		test	byte ptr [bp+arg_4], 1
		jz	short loc_7129
		mov	[bp+var_54], 0C000h
		mov	[bp+var_56], 25h ; '%'
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	[bp+var_50], dx
		mov	[bp+var_52], ax
		mov	[bp+var_4A], 0
		mov	[bp+var_4C], 0
		mov	[bp+var_4E], 0
		mov	[bp+var_48], 0
		jmp	short loc_70BE
; ---------------------------------------------------------------------------

loc_7109:
		or	[bp+var_52], 2
		mov	ax, 0FFFFh
		push	ax
		push	ss
		lea	ax, [bp+var_152]
		push	ax
		lea	ax, [bp+var_56]
		push	ax
		push	cs
		call	near ptr sub_6D4F
		add	sp, 8
		or	ax, ax
		jz	short loc_7129
		jmp	loc_7294
; ---------------------------------------------------------------------------

loc_7129:
		cmp	byte ptr word_13C58, 3
		jnb	short loc_7133
		jmp	loc_7213
; ---------------------------------------------------------------------------

loc_7133:
		mov	cx, [bp+var_8E]
		sub	cx, 30h	; '0'
		mov	es, [bp+var_8A]
		mov	bx, cx
		mov	ax, [bp+var_C6]
		mov	es:[bx], ax
		mov	ax, [bp+var_C2]
		mov	es:[bx+2], ax
		mov	ax, [bp+var_BE]
		mov	es:[bx+4], ax
		mov	ax, [bp+var_BA]
		mov	es:[bx+6], ax
		mov	dx, [bp+var_B4]
		mov	ax, [bp+var_B6]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	dx, [bp+var_B0]
		mov	ax, [bp+var_B2]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	dx, [bp+var_9C]
		mov	ax, [bp+var_9E]
		mov	es:[bx+12h], dx
		mov	es:[bx+10h], ax
		mov	dx, [bp+var_8C]
		mov	ax, [bp+var_8E]
		mov	es:[bx+16h], dx
		mov	es:[bx+14h], ax
		mov	dx, [bp+var_AC]
		mov	ax, [bp+var_AE]
		mov	es:[bx+1Ah], dx
		mov	es:[bx+18h], ax
		mov	dx, [bp+var_A8]
		mov	ax, [bp+var_AA]
		mov	es:[bx+1Eh], dx
		mov	es:[bx+1Ch], ax
		mov	dx, [bp+var_A4]
		mov	ax, [bp+var_A6]
		mov	es:[bx+22h], dx
		mov	es:[bx+20h], ax
		mov	dx, [bp+var_A0]
		mov	ax, [bp+var_A2]
		mov	es:[bx+26h], dx
		mov	es:[bx+24h], ax
		mov	dx, [bp+var_90]
		mov	ax, [bp+var_92]
		mov	es:[bx+2Ah], dx
		mov	es:[bx+28h], ax
		mov	ax, [bp+var_9A]
		mov	es:[bx+2Ch], ax
		mov	ax, [bp+var_96]
		mov	es:[bx+2Eh], ax
		mov	ss, [bp+var_8A]
		mov	sp, bx
		pop	gs
		pop	fs
		pop	es
		pop	ds
		popad
		popfd
		retf
; ---------------------------------------------------------------------------
		jmp	loc_7299
; ---------------------------------------------------------------------------

loc_7213:
		mov	cx, [bp+var_8E]
		sub	cx, 1Ah
		mov	es, [bp+var_8A]
		mov	bx, cx
		mov	ax, [bp+var_BE]
		mov	es:[bx], ax
		mov	ax, [bp+var_BA]
		mov	es:[bx+2], ax
		mov	ax, [bp+var_B6]
		mov	es:[bx+4], ax
		mov	ax, [bp+var_B2]
		mov	es:[bx+6], ax
		mov	ax, [bp+var_9E]
		mov	es:[bx+8], ax
		mov	ax, [bp+var_8E]
		mov	es:[bx+0Ah], ax
		mov	ax, [bp+var_AE]
		mov	es:[bx+0Ch], ax
		mov	ax, [bp+var_AA]
		mov	es:[bx+0Eh], ax
		mov	ax, [bp+var_A6]
		mov	es:[bx+10h], ax
		mov	ax, [bp+var_A2]
		mov	es:[bx+12h], ax
		mov	ax, [bp+var_92]
		mov	es:[bx+14h], ax
		mov	ax, [bp+var_9A]
		mov	es:[bx+16h], ax
		mov	ax, [bp+var_96]
		mov	es:[bx+18h], ax
		mov	ss, [bp+var_8A]
		mov	sp, bx
		pop	es
		pop	ds
		popa
		popf
		retf
; ---------------------------------------------------------------------------
		jmp	short loc_7299
; ---------------------------------------------------------------------------

loc_7294:
		nop
		push	cs
		call	near ptr ___call_terminate
_RaiseException	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR _RaiseException

loc_7299:
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retf
; END OF FUNCTION CHUNK	FOR _RaiseException
; ---------------------------------------------------------------------------
		db 4 dup(0), 8,	73h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 0A6h, 72h
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_72D0	proc near

var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 72BEh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_12], 6
		mov	ax, 1
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_6641
		add	sp, 0Ch
		mov	[bp+var_12], 0
		jmp	short loc_7312
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_7312:
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_72D0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7320	proc near

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx+38h], 0
		jz	short loc_739B
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+16h], 2
		jz	short loc_7393
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx+4]
		mov	word ptr [bp+var_4+2], es
		mov	word ptr [bp+var_4], bx
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_4]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		mov	ax, word ptr [bp+arg_0]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+arg_0+2]
		push	ax
		call	sub_72D0
		add	sp, 0Ah
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, word ptr [bp+var_8+2]
		mov	cx, word ptr [bp+var_8]
		mov	es, dx
		xchg	ax, bx
		mov	es:[bx+2], ax
		mov	es:[bx], cx

loc_7393:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+38h], 0

loc_739B:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx+39h], 0
		jz	short loc_73F2
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+34h]
		mov	ax, es:[bx+32h]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+2], 2
		jz	short loc_73EA
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_73EA
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	ss
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+36h]
		call	sub_72D0
		add	sp, 0Ah

loc_73EA:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+39h], 0

loc_73F2:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7320	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; _CatchCleanup(void)
@_CatchCleanup$qv proc far

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, ss:16h
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+24h]
		mov	[bp+var_6], ax
		mov	bx, [bp+var_6]
		les	ax, ss:[bx+arg_0]
		mov	bx, [bp+var_6]
		add	ax, ss:[bx+arg_6]
		mov	bx, ax
		mov	ax, es:[bx]
		mov	bx, [bp+var_6]
		mov	ss:[bx+arg_6], ax
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_7320
		pop	cx
		pop	cx
		push	ds
		les	bx, [bp+var_4]
		mov	ds, word ptr es:[bx+18h]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		call	dword ptr es:[bx+1Ah]
		pop	cx
		pop	cx
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_CatchCleanup$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7475	proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Ch
		push	si
		push	di

loc_747D:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_749A
		xor	ax, ax
		jmp	loc_753B
; ---------------------------------------------------------------------------

loc_749A:
		mov	bx, [bp+arg_A]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		cmp	[bp+arg_4], 0
		jz	short loc_74C6
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_8+2]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax

loc_74C6:
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		or	ax, ax
		jnz	short loc_751F
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+2], 2
		jz	short loc_7534
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		add	ax, es:[bx+0Ah]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_C]
		or	ax, [bp+var_A]
		jz	short loc_7534
		lea	ax, [bp+var_8]
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		xor	ax, ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		call	sub_7475
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_7534

loc_751F:
		mov	bx, [bp+arg_A]
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		mov	ax, 1
		jmp	short loc_753B
; ---------------------------------------------------------------------------

loc_7534:
		add	word ptr [bp+arg_0], 8
		jmp	loc_747D
; ---------------------------------------------------------------------------

loc_753B:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7475	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7541	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_75B2
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		lea	ax, [bp+arg_0]
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_7475
		add	sp, 0Ch
		or	ax, ax
		jnz	short loc_75B2
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		lea	ax, [bp+arg_0]
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		mov	ax, 1
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_7475
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_75BA

loc_75B2:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		jmp	short loc_75BE
; ---------------------------------------------------------------------------

loc_75BA:
		xor	dx, dx
		xor	ax, ax

loc_75BE:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_7541	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_75C4	proc near

var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
_src		= dword	ptr -0Eh
n		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_6		= dword	ptr  0Ah
arg_A		= dword	ptr  0Eh
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 18h
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+arg_6]
		mov	es:[bx+34h], dx
		mov	es:[bx+32h], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_75F3
		jmp	loc_7864
; ---------------------------------------------------------------------------

loc_75F3:
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+8], 80h
		jz	short loc_7600
		jmp	loc_7864
; ---------------------------------------------------------------------------

loc_7600:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		and	ax, 1
		neg	ax
		sbb	ax, ax
		inc	ax
		mov	[bp+var_14], ax
		mov	dx, word ptr [bp+arg_6+2]
		mov	ax, word ptr [bp+arg_6]
		add	ax, 3Ah	; ':'
		mov	word ptr [bp+_src+2], dx
		mov	word ptr [bp+_src], ax
		les	bx, [bp+arg_6]
		mov	byte ptr es:[bx+39h], 1
		les	bx, [bp+arg_A]
		mov	ax, es:[bx]
		add	ax, [bp+arg_E]
		les	bx, [bp+arg_6]
		mov	es:[bx+36h], ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	[bp+n],	ax
		les	bx, [bp+var_8]
		mov	cx, es:[bx+2]
		mov	dx, cx
		test	cl, 30h
		jz	short loc_7674
		les	bx, [bp+var_8]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]

loc_7674:
		test	cl, 10h
		jz	short loc_769C
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+0Ch], 1
		jz	short loc_769C
		push	[bp+n]		; n
		xor	ax, ax
		push	ax		; c
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; s
		nop
		push	cs
		call	near ptr _memset
		add	sp, 8
		jmp	loc_77C7
; ---------------------------------------------------------------------------

loc_769C:
		test	dl, 1
		jnz	short loc_76A4
		jmp	loc_7748
; ---------------------------------------------------------------------------

loc_76A4:
		test	cl, 30h
		jnz	short loc_76AC
		jmp	loc_7748
; ---------------------------------------------------------------------------

loc_76AC:
		test	cl, 20h
		jz	short loc_76B3
		jmp	short loc_76D6
; ---------------------------------------------------------------------------

loc_76B3:
		les	bx, [bp+_src]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+_src+2], dx
		mov	word ptr [bp+_src], ax
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+15h], 10h
		jz	short loc_76DD
		mov	ax, word ptr [bp+_src]
		mov	word ptr [bp+_src+2], ds
		mov	word ptr [bp+_src], ax

loc_76D6:
		mov	[bp+var_14], 1
		jmp	short $+2

loc_76DD:
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		or	ax, ax
		jnz	short loc_773E
		mov	dx, word ptr [bp+_src+2]
		mov	ax, word ptr [bp+_src]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src]
		push	cs
		call	near ptr sub_7541
		add	sp, 0Ch
		mov	word ptr [bp+_src+2], dx
		mov	word ptr [bp+_src], ax
		mov	dx, word ptr [bp+_src+2]
		mov	ax, word ptr [bp+_src]
		cmp	dx, [bp+var_16]
		jnz	short loc_7739
		cmp	ax, [bp+var_18]
		jz	short loc_773E

loc_7739:
		mov	[bp+var_14], 1

loc_773E:
		push	[bp+n]
		push	ss
		lea	ax, [bp+_src]
		jmp	loc_7812
; ---------------------------------------------------------------------------

loc_7748:
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+14h], 1
		jz	short loc_77CE
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		or	ax, ax
		jnz	short loc_7797
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src]
		push	cs
		call	near ptr sub_7541
		add	sp, 0Ch
		mov	word ptr [bp+_src+2], dx
		mov	word ptr [bp+_src], ax
		mov	[bp+var_14], 1

loc_7797:
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 1
		jz	short loc_7815
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Eh]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ch]
		push	word ptr es:[bx+0Ah]
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src]
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h]
		call	sub_62F3
		add	sp, 0Eh

loc_77C7:
		mov	[bp+var_14], 1
		jmp	short loc_782E
; ---------------------------------------------------------------------------

loc_77CE:
		test	cl, 20h
		jz	short loc_77ED
		push	[bp+n]		; n
		push	ss
		lea	ax, [bp+_src]
		push	ax		; src
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		jmp	short loc_77C7
; ---------------------------------------------------------------------------

loc_77ED:
		test	cl, 10h
		jz	short loc_7815
		les	bx, [bp+arg_6]
		mov	ax, es:[bx+0Eh]
		cmp	ax, [bp+n]
		jz	short loc_7815
		les	bx, [bp+_src]
		mov	ax, es:[bx]
		mov	[bp+var_10], ds
		mov	[bp+var_12], ax
		mov	ax, 4
		push	ax
		push	ss
		lea	ax, [bp+var_12]

loc_7812:
		push	ax
		jmp	short loc_781E
; ---------------------------------------------------------------------------

loc_7815:
		push	[bp+n]		; n
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src

loc_781E:
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah

loc_782E:
		cmp	[bp+var_14], 0
		jnz	short loc_7864
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_785C
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src]
		call	sub_72D0
		add	sp, 0Ah

loc_785C:
		les	bx, [bp+arg_6]
		mov	byte ptr es:[bx+38h], 0

loc_7864:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_75C4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_786A	proc near

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= dword	ptr -1Ah
var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_E], 0
		les	bx, ss:16h
		mov	si, [bp+arg_0]
		mov	ax, ss:[si+arg_A]
		mov	es:[bx+6], ax
		mov	[bp+var_C], ax
		les	bx, ss:16h
		mov	si, [bp+arg_0]
		mov	ax, ss:[si+arg_C]
		mov	es:[bx+8], ax
		mov	bx, [bp+arg_0]
		mov	dx, ss:[bx+arg_4]
		mov	ax, ss:[bx+arg_2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx+4]
		mov	[bp+var_A], ax
		mov	bx, [bp+arg_0]
		mov	ax, ss:[bx+arg_8]
		jmp	loc_7A0F
; ---------------------------------------------------------------------------

loc_78C2:
		mov	ax, [bp+var_6]
		mov	[bp+var_12], ax
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_8], ax
		add	[bp+var_12], 2
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_10], ax
		add	[bp+var_12], 2
		mov	bx, [bp+arg_0]
		mov	ax, [bp+var_8]
		mov	ss:[bx+arg_8], ax
		mov	bx, [bp+var_10]
		cmp	bx, 5
		jbe	short loc_78FD
		jmp	loc_7A0C
; ---------------------------------------------------------------------------

loc_78FD:
		add	bx, bx
		jmp	cs:off_7A29[bx]

loc_7904:
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	word ptr dword_14750+2,	dx
		mov	word ptr dword_14750, ax
		mov	bx, [bp+arg_0]
		mov	ss:[bx+arg_E], 1
		push	ds
		pop	es
		assume es:dseg
		push	ds
		mov	ds, [bp+var_C]
		push	bp
		mov	bp, [bp+var_A]
		call	es:dword_14750
		pop	bp
		pop	ds
		mov	bx, [bp+arg_0]
		mov	ss:[bx+arg_E], 0
		jmp	loc_7A0C
; ---------------------------------------------------------------------------

loc_793F:
		add	[bp+var_12], 4
		mov	dx, ss:18h
		mov	ax, ss:16h
		jmp	short loc_796E
; ---------------------------------------------------------------------------

loc_794E:
		les	bx, [bp+var_16]
		assume es:nothing
		mov	ax, es:[bx+24h]
		cmp	ax, [bp+arg_0]
		jnz	short loc_7968
		les	bx, [bp+var_16]
		mov	ax, es:[bx+2Ah]
		cmp	ax, [bp+var_6]
		jnz	short loc_7968
		jmp	short loc_7988
; ---------------------------------------------------------------------------

loc_7968:
		mov	dx, word ptr [bp+var_16+2]
		mov	ax, word ptr [bp+var_16]

loc_796E:
		mov	word ptr [bp+var_1A+2],	dx
		mov	word ptr [bp+var_1A], ax
		les	bx, [bp+var_1A]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		or	ax, dx
		jnz	short loc_794E

loc_7988:
		les	bx, [bp+var_16]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+var_1A]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		push	word ptr [bp+var_16+2]
		push	word ptr [bp+var_16]
		call	sub_7320
		pop	cx
		pop	cx
		push	ds
		les	bx, [bp+var_16]
		mov	ds, word ptr es:[bx+18h]
		push	word ptr [bp+var_16+2]
		push	word ptr [bp+var_16]
		les	bx, [bp+var_16]
		call	dword ptr es:[bx+1Ah]
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_7A0C
; ---------------------------------------------------------------------------

loc_79C1:
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_1C], ax
		add	[bp+var_12], 2
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_1E], ds
		mov	[bp+var_20], ax
		mov	ax, word ptr [bp+var_4+2]
		mov	dx, [bp+var_20]
		mov	[bp+var_1E], ax
		mov	[bp+var_20], dx
		push	[bp+var_A]
		push	[bp+arg_0]
		mov	ax, [bp+var_1C]
		add	ax, [bp+var_E]
		cwd
		push	dx
		push	ax
		push	[bp+var_1E]
		push	[bp+var_20]
		call	sub_8440
		add	sp, 0Ch
		mov	[bp+var_E], ax
		jmp	short $+2

loc_7A0C:
		mov	ax, [bp+var_8]

loc_7A0F:
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0
		jz	short loc_7A23
		mov	ax, [bp+var_6]
		cmp	ax, [bp+arg_2]
		jz	short loc_7A23
		jmp	loc_78C2
; ---------------------------------------------------------------------------

loc_7A23:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_786A	endp

; ---------------------------------------------------------------------------
off_7A29	dw offset loc_7904
		dw offset loc_7A0C
		dw offset loc_7A0C
		dw offset loc_7A0C
		dw offset loc_793F
		dw offset loc_79C1

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Local_unwind	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		push	[bp+arg_0]
		push	[bp+var_2]
		call	sub_786A
		pop	cx
		pop	cx
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Local_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Return_unwind	proc far

var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		call	sub_786A
		pop	cx
		pop	cx
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx]
		mov	ss:14h,	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Return_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7A7F	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, 4
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_7AED
; ---------------------------------------------------------------------------

loc_7A98:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jz	short loc_7AE1
		xor	ax, ax
		push	ax
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+0Ch]
		push	[bp+var_6]
		push	[bp+var_8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		call	sub_61EE
		add	sp, 10h
		or	ax, ax
		jz	short loc_7AE9

loc_7AE1:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_7AFD
; ---------------------------------------------------------------------------

loc_7AE9:
		add	word ptr [bp+var_4], 10h

loc_7AED:
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_7A98
		xor	dx, dx
		xor	ax, ax

loc_7AFD:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7A7F	endp

; ---------------------------------------------------------------------------
		db 2 dup(2Ah), 42h, 2 dup(43h),	78h, 68h, 31h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__ExceptionHandler proc	far

var_38		= word ptr -38h
var_36		= word ptr -36h
var_34		= word ptr -34h
var_32		= word ptr -32h
var_30		= word ptr -30h
var_2E		= word ptr -2Eh
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah

		push	bp
		mov	bp, sp
		sub	sp, 38h
		push	si
		push	di
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_4]
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_8]
		mov	ax, [bp+arg_6]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+arg_14]
		mov	ax, ss:[bx+arg_12]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		mov	bx, [bp+var_4]
		mov	dx, ss:[bx+arg_2]
		mov	ax, ss:[bx+arg_0]
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		les	bx, [bp+var_10]
		mov	ax, [bp+var_4]
		sub	ax, es:[bx+4]
		mov	[bp+var_16], ax
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx+arg_4]
		mov	[bp+var_18], ax
		les	bx, ss:16h
		mov	si, [bp+var_4]
		mov	ax, ss:[si+arg_8]
		mov	es:[bx+6], ax
		mov	[bp+var_1A], ax
		les	bx, ss:16h
		mov	si, [bp+var_4]
		mov	ax, ss:[si+arg_A]
		mov	es:[bx+8], ax
		mov	[bp+var_1C], ax
		mov	bx, [bp+var_2]
		test	byte ptr ss:[bx+4], 6
		jnz	short loc_7B97
		jmp	loc_7C3F
; ---------------------------------------------------------------------------

loc_7B97:
		xor	ax, ax
		push	ax
		push	[bp+var_4]
		call	sub_786A
		pop	cx
		pop	cx
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jz	short loc_7BB0
		jmp	loc_7E72
; ---------------------------------------------------------------------------

loc_7BB0:
		cmp	word ptr ss:[bx], 0FACEh
		jz	short loc_7BBA
		jmp	loc_7E72
; ---------------------------------------------------------------------------

loc_7BBA:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_20+2],	dx
		mov	word ptr [bp+var_20], ax
		mov	ax, word ptr [bp+var_20]
		or	ax, word ptr [bp+var_20+2]
		jnz	short loc_7BD5
		jmp	loc_7E72
; ---------------------------------------------------------------------------

loc_7BD5:
		jmp	short loc_7C13
; ---------------------------------------------------------------------------

loc_7BD7:
		mov	ax, 1
		push	ax
		les	bx, [bp+var_C]
		push	word ptr es:[bx+0Ch]
		les	bx, [bp+var_20]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		les	bx, [bp+var_C]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		les	bx, [bp+var_C]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		call	sub_61EE
		add	sp, 10h
		or	ax, ax
		jz	short loc_7C0F
		jmp	loc_7E72
; ---------------------------------------------------------------------------

loc_7C0F:
		add	word ptr [bp+var_20], 4

loc_7C13:
		les	bx, [bp+var_20]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_7BD7
		mov	ax, ss:14h
		mov	word ptr [bp+var_24+2],	ax
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx]
		mov	ss:14h,	ax
		nop
		push	cs
		call	near ptr ___call_unexpected
; ---------------------------------------------------------------------------
		mov	ax, word ptr [bp+var_24+2]
		mov	ss:14h,	ax
		jmp	loc_7E72
; ---------------------------------------------------------------------------

loc_7C3F:
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx+arg_6]
		jmp	loc_7E66
; ---------------------------------------------------------------------------

loc_7C49:
		mov	ax, [bp+var_12]
		mov	word ptr [bp+var_20], ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	[bp+var_14], ax
		add	word ptr [bp+var_20], 2
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_20+2],	ax
		add	word ptr [bp+var_20], 2
		mov	bx, word ptr [bp+var_20+2]
		cmp	bx, 5
		jbe	short loc_7C7A
		jmp	loc_7E63
; ---------------------------------------------------------------------------

loc_7C7A:
		add	bx, bx
		jmp	cs:off_7E7B[bx]

loc_7C81:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jz	short loc_7C8F
		jmp	loc_7E63
; ---------------------------------------------------------------------------

loc_7C8F:
		cmp	word ptr ss:[bx], 0FACEh
		jz	short loc_7C99
		jmp	loc_7E63
; ---------------------------------------------------------------------------

loc_7C99:
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_26], dx
		mov	[bp+var_28], ax
		add	word ptr [bp+var_20], 4
		push	word ptr [bp+var_C+2]
		push	word ptr [bp+var_C]
		push	[bp+var_26]
		push	[bp+var_28]
		call	sub_7A7F
		add	sp, 8
		mov	word ptr [bp+var_24+2],	dx
		mov	word ptr [bp+var_24], ax
		mov	ax, word ptr [bp+var_24]
		or	ax, word ptr [bp+var_24+2]
		jnz	short loc_7CD3
		jmp	loc_7E63
; ---------------------------------------------------------------------------

loc_7CD3:
		les	bx, [bp+var_C]
		mov	ax, [bp+var_4]
		mov	es:[bx+24h], ax
		les	bx, [bp+var_C]
		mov	dx, word ptr [bp+var_24+2]
		mov	ax, word ptr [bp+var_24]
		mov	es:[bx+28h], dx
		mov	es:[bx+26h], ax
		les	bx, [bp+var_C]
		mov	ax, word ptr [bp+var_20]
		mov	es:[bx+2Ah], ax
		mov	ax, [bp+var_12]
		mov	[bp+var_30], ax
		mov	ax, word ptr [bp+var_20]
		mov	[bp+var_2E], ax
		les	bx, [bp+var_24]

loc_7D07:
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_2A], dx
		mov	[bp+var_2C], ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	cs
		call	near ptr __Global_unwind
		pop	cx
		pop	cx
		push	[bp+var_30]
		push	[bp+var_4]
		call	sub_786A
		pop	cx
		pop	cx
		mov	bx, [bp+var_4]
		mov	ax, [bp+var_2E]
		mov	ss:[bx+arg_6], ax
		cmp	word ptr [bp+var_20+2],	3
		jnz	short loc_7D59
		push	[bp+var_16]
		push	[bp+var_26]
		push	[bp+var_28]
		push	word ptr [bp+var_C+2]
		push	word ptr [bp+var_C]
		push	[bp+var_4]
		push	word ptr [bp+var_24+2]
		push	word ptr [bp+var_24]
		call	sub_75C4
		add	sp, 10h

loc_7D59:
		mov	dx, [bp+var_2A]
		mov	ax, [bp+var_2C]
		mov	si, [bp+var_1C]
		mov	ds, [bp+var_1A]
		mov	bx, [bp+var_18]
		mov	cx, [bp+var_16]
		push	cs
		call	near ptr ___JumpToCatch__
		jmp	loc_7E63
; ---------------------------------------------------------------------------

loc_7D72:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jnz	short loc_7D87
		cmp	word ptr ss:[bx], 0FACEh
		jnz	short loc_7D87
		jmp	loc_7E63
; ---------------------------------------------------------------------------

loc_7D87:
		mov	ax, [bp+var_2]
		mov	[bp+var_36], ax
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	[bp+var_32], dx
		mov	[bp+var_34], ax
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_10],	dx
		mov	ss:[bx+arg_E], ax
		lea	ax, [bp+var_36]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_12],	ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr dword_14754+2,	dx
		mov	word ptr dword_14754, ax
		mov	ax, ds
		mov	es, ax
		assume es:dseg
		push	si
		mov	si, [bp+var_1C]
		push	ds
		mov	ds, [bp+var_1A]
		push	bp
		mov	bp, [bp+var_16]
		call	es:dword_14754
		pop	bp
		pop	ds
		pop	si
		mov	[bp+var_38], ax
		jmp	short loc_7E1E
; ---------------------------------------------------------------------------

loc_7DE9:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jnz	short loc_7DFD
		cmp	word ptr ss:[bx], 0FACEh
		jnz	short loc_7DFD
		jmp	short loc_7E63
; ---------------------------------------------------------------------------

loc_7DFD:
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_10],	dx
		mov	ss:[bx+arg_E], ax
		les	bx, [bp+var_10]
		assume es:nothing
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	[bp+var_38], ax

loc_7E1E:
		cmp	[bp+var_38], 0
		jge	short loc_7E3C
		mov	bx, [bp+var_2]
		test	byte ptr ss:[bx+4], 1
		jz	short loc_7E38
		mov	bx, [bp+var_4]
		mov	ax, [bp+var_14]
		mov	ss:[bx+arg_6], ax

loc_7E38:
		xor	ax, ax
		jmp	short loc_7E75
; ---------------------------------------------------------------------------

loc_7E3C:
		cmp	[bp+var_38], 0
		jnz	short loc_7E44
		jmp	short loc_7E63
; ---------------------------------------------------------------------------

loc_7E44:
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_12],	0
		add	word ptr [bp+var_20], 4
		mov	ax, [bp+var_14]
		mov	[bp+var_2E], ax
		mov	[bp+var_30], ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		jmp	loc_7D07
; ---------------------------------------------------------------------------

loc_7E63:
		mov	ax, [bp+var_14]

loc_7E66:
		mov	[bp+var_12], ax
		cmp	[bp+var_12], 0
		jz	short loc_7E72
		jmp	loc_7C49
; ---------------------------------------------------------------------------

loc_7E72:
		mov	ax, 1

loc_7E75:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__ExceptionHandler endp

; ---------------------------------------------------------------------------
off_7E7B	dw offset loc_7E63
		dw offset loc_7D72
		dw offset loc_7DE9
		dw offset loc_7C81
		dw offset loc_7E63
		dw offset loc_7E63
		db 4 dup(0), 1Ah, 7Fh
		dw seg seg000
		db 14h dup(0), 2Ah, 7Fh
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 9Fh,	7Eh
		dw seg seg000
		db 2 dup(0), 4,	0, 6, 0, 3, 0, 87h, 7Eh
		dw seg seg000
		db 6, 0, 4, 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7ED5	proc far

var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 7EB7h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_12], 6
		mov	[bp+var_12], 12h
		push	[bp+arg_8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+22h]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_6641
		add	sp, 0Ch
		mov	[bp+var_12], 6
		jmp	short loc_7F23
; ---------------------------------------------------------------------------
		db 90h
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_7F23:
		mov	[bp+var_12], 0
		jmp	short loc_7F33
; ---------------------------------------------------------------------------
		db 90h
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_7F33:
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_7ED5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7F41	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	cx, [bp+arg_C]
		jmp	short loc_7FB0
; ---------------------------------------------------------------------------

loc_7F4E:
		les	bx, [bp+arg_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		cmp	[bp+arg_E], 0
		jz	short loc_7F76
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_4+2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_7F76:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_7FB0
		push	[bp+arg_10]
		xor	ax, ax
		push	ax
		xor	ax, ax
		push	ax
		push	cx
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		nop
		push	cs
		call	near ptr sub_7FC2
		add	sp, 10h
		xor	cx, cx

loc_7FB0:
		sub	word ptr [bp+arg_4], 8
		mov	ax, word ptr [bp+arg_4]
		cmp	ax, [bp+arg_8]
		jnb	short loc_7F4E
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_7F41	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7FC2	proc far

var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= dword	ptr -22h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		sub	sp, 2Ah
		push	si
		push	di
		cmp	[bp+arg_C], 0
		jz	short loc_7FD9
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+1Ah]
		jmp	short loc_7FE0
; ---------------------------------------------------------------------------

loc_7FD9:
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+1Ch]

loc_7FE0:
		mov	[bp+var_1A], 0
		mov	[bp+var_1C], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_8002
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		cmp	dx, [bp+var_1A]
		jb	short loc_801B
		jnz	short loc_8002
		cmp	ax, [bp+var_1C]
		jb	short loc_801B

loc_8002:
		push	[bp+arg_C]
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_7ED5
		add	sp, 0Ah
		jmp	loc_8287
; ---------------------------------------------------------------------------

loc_801B:
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	[bp+var_1A], dx
		mov	[bp+var_1C], ax
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		cmp	[bp+arg_C], 0
		jz	short loc_80B4

loc_8046:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_1E], dx
		mov	word ptr [bp+var_22+2],	ax
		mov	ax, word ptr [bp+var_22+2]
		or	ax, [bp+var_1E]
		jz	short loc_80B4
		les	bx, [bp+var_22+2]
		test	byte ptr es:[bx+8], 2
		jz	short loc_80AE
		les	bx, [bp+var_22+2]
		mov	bx, es:[bx+1Ch]
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		jb	short loc_80A7
		jnz	short loc_807D
		cmp	bx, [bp+var_1C]
		jb	short loc_80A7

loc_807D:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		push	[bp+var_1C]
		push	[bp+var_A]
		push	[bp+var_C]
		mov	ax, word ptr [bp+var_10]
		add	ax, 8
		push	word ptr [bp+var_10+2]
		push	ax

loc_8097:
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_7F41
		add	sp, 12h
		jmp	loc_8287
; ---------------------------------------------------------------------------

loc_80A7:
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0

loc_80AE:
		add	word ptr [bp+var_10], 8
		jmp	short loc_8046
; ---------------------------------------------------------------------------

loc_80B4:
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax

loc_80CD:
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_1E], dx
		mov	word ptr [bp+var_22+2],	ax
		mov	ax, word ptr [bp+var_22+2]
		or	ax, [bp+var_1E]
		jz	short loc_8143
		les	bx, [bp+var_22+2]
		test	byte ptr es:[bx+8], 2
		jz	short loc_813D
		les	bx, [bp+var_22+2]
		mov	bx, es:[bx+1Ch]
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		jb	short loc_8136
		jnz	short loc_8104
		cmp	bx, [bp+var_1C]
		jb	short loc_8136

loc_8104:
		push	[bp+arg_E]
		xor	ax, ax
		push	ax
		push	[bp+var_1C]
		push	[bp+var_2]
		push	[bp+var_4]
		mov	ax, word ptr [bp+var_8]
		add	ax, 8
		push	word ptr [bp+var_8+2]
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_7F41
		add	sp, 12h
		cmp	[bp+arg_C], 0
		jnz	short loc_8133
		jmp	loc_8287
; ---------------------------------------------------------------------------

loc_8133:
		jmp	loc_8267
; ---------------------------------------------------------------------------

loc_8136:
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0

loc_813D:
		add	word ptr [bp+var_8], 8
		jmp	short loc_80CD
; ---------------------------------------------------------------------------

loc_8143:
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+24h]
		mov	word ptr [bp+var_18+2],	dx
		mov	word ptr [bp+var_18], ax
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax

loc_815C:
		les	bx, [bp+var_18]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax
		mov	[bp+var_1E], 1
		les	bx, [bp+var_22]
		test	byte ptr es:[bx+3], 4
		jz	short loc_8196
		les	bx, [bp+var_22]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_1E], ax
		les	bx, [bp+var_22]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax

loc_8196:
		les	bx, [bp+var_22]
		mov	ax, es:[bx+1Ah]
		imul	[bp+var_1E]
		mov	bx, ax
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		ja	short loc_81BA
		jb	short loc_81B0
		cmp	bx, [bp+var_1C]
		jnb	short loc_81BA

loc_81B0:
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0
		jmp	loc_8280
; ---------------------------------------------------------------------------

loc_81BA:
		les	bx, [bp+var_18]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	[bp+var_24], dx
		mov	[bp+var_26], ax
		les	bx, [bp+var_18]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_28], dx
		mov	[bp+var_2A], ax
		cmp	[bp+var_1E], 1
		jbe	short loc_8206
		push	[bp+arg_E]
		push	[bp+var_1A]
		push	[bp+var_1C]
		les	bx, [bp+var_18]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	[bp+var_24]
		push	[bp+var_26]
		nop
		push	cs
		call	near ptr sub_828D
		add	sp, 0Eh
		jmp	short loc_8226
; ---------------------------------------------------------------------------

loc_8206:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		push	[bp+var_1A]
		push	[bp+var_1C]
		push	[bp+var_28]
		push	[bp+var_2A]
		push	[bp+var_24]
		push	[bp+var_26]
		push	cs
		call	near ptr sub_7FC2
		add	sp, 10h

loc_8226:
		mov	[bp+var_1A], 0
		mov	[bp+var_1C], 0
		sub	word ptr [bp+var_18], 6
		mov	ax, word ptr [bp+var_18]
		cmp	ax, [bp+var_14]
		jb	short loc_823F
		jmp	loc_81BA
; ---------------------------------------------------------------------------

loc_823F:
		push	[bp+arg_E]
		xor	ax, ax
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_7F41
		add	sp, 12h
		cmp	[bp+arg_C], 0
		jz	short loc_8287

loc_8267:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	word ptr [bp+var_10+2]
		push	word ptr [bp+var_10]
		jmp	loc_8097
; ---------------------------------------------------------------------------

loc_8280:
		add	word ptr [bp+var_18], 6
		jmp	loc_815C
; ---------------------------------------------------------------------------

loc_8287:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_7FC2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_828D	proc far

var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 0Eh
		push	si
		push	di
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_6], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+1Ah]
		mov	[bp+var_8], 0
		mov	[bp+var_A], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jnz	short loc_82E7
		mov	bx, [bp+var_6]
		xor	cx, cx
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		call	N_LXMUL@
		mov	[bp+arg_A], dx
		mov	[bp+arg_8], ax

loc_82E7:
		push	[bp+var_8]
		push	[bp+var_A]
		push	[bp+arg_A]
		push	[bp+arg_8]
		call	N_LUDIV@
		mov	[bp+var_C], dx
		mov	[bp+var_E], ax
		mov	cx, [bp+var_C]
		mov	bx, [bp+var_E]
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		call	N_LXMUL@
		sub	[bp+arg_8], ax
		sbb	[bp+arg_A], dx
		les	bx, [bp+var_4]
		mov	bx, es:[bx]
		xor	cx, cx
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		call	N_LXMUL@
		mov	dx, [bp+arg_2]
		add	ax, [bp+arg_0]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_8377
		push	[bp+arg_C]
		mov	ax, 1
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		jmp	short loc_8364
; ---------------------------------------------------------------------------

loc_8345:
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		push	[bp+arg_C]
		mov	ax, 1
		push	ax
		push	[bp+var_8]
		push	[bp+var_A]

loc_8364:
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_7FC2
		add	sp, 10h

loc_8377:
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_E]
		sub	[bp+var_E], 1
		sbb	[bp+var_C], 0
		or	dx, ax
		jnz	short loc_8345
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_828D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_838F	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	cx, [bp+arg_4]
		mov	bx, cx
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+8]
		and	ax, 50h
		cmp	ax, 50h	; 'P'
		jnz	short loc_8434
		les	bx, [bp+var_4]
		cmp	word ptr es:[bx+6], 0FFFFh
		jz	short loc_8434
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+9], 10h
		jz	short loc_83EE
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		jmp	short loc_83F7
; ---------------------------------------------------------------------------

loc_83EE:
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], ds

loc_83F7:
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx-4]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		les	bx, [bp+var_8]
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	bx, cx
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax

loc_8434:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_838F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8440	proc near

driver		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= dword	ptr -16h
var_12		= dword	ptr -12h
var_E		= word ptr -0Eh
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_16		= word ptr  1Ah
arg_18		= word ptr  1Ch

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_E], 0
		cmp	word ptr [bp+arg_0], 0FFFFh
		jnz	short loc_8456
		jmp	loc_8843
; ---------------------------------------------------------------------------

loc_8456:
		mov	bx, [bp+arg_8]
		mov	dx, ss:[bx+arg_18]
		mov	ax, ss:[bx+arg_16]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		sub	ax, [bp+var_4]
		sbb	dx, [bp+var_2]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		sub	[bp+var_8], ax
		sbb	[bp+var_6], dx
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+4], 20h
		jz	short loc_84AF
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		les	bx, es:[bx+6]
		mov	ax, es:[bx+1Ah]
		mov	[bp+var_6], 0
		mov	[bp+var_8], ax

loc_84AF:
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+5], 1
		jz	short loc_84C6
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+1Ch]
		jmp	loc_8845
; ---------------------------------------------------------------------------

loc_84C6:
		cmp	[bp+var_6], 0
		jg	short loc_84F8
		jnz	short loc_84D4
		cmp	[bp+var_8], 0
		ja	short loc_84F8

loc_84D4:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		and	ax, 3
		cmp	ax, 3
		jz	short loc_84E6
		jmp	loc_8843
; ---------------------------------------------------------------------------

loc_84E6:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		inc	[bp+var_E]
		jmp	loc_865D
; ---------------------------------------------------------------------------

loc_84F8:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax

loc_8504:
		les	bx, [bp+var_C]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_8517
		sub	word ptr [bp+var_C], 0Ah
		jmp	loc_865D
; ---------------------------------------------------------------------------

loc_8517:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		mov	[bp+var_18], 1
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 10h
		jnz	short loc_853F
		jmp	loc_8609
; ---------------------------------------------------------------------------

loc_853F:
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 2
		jnz	short loc_8563
		jmp	loc_8609
; ---------------------------------------------------------------------------

loc_8563:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+8], 20h
		jnz	short loc_8570
		jmp	loc_8609
; ---------------------------------------------------------------------------

loc_8570:
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 8
		jnz	short loc_857D
		jmp	loc_8609
; ---------------------------------------------------------------------------

loc_857D:
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 4
		jz	short loc_8596
		les	bx, [bp+var_C]
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_A]
		mov	word ptr [bp+var_1C+2],	ss
		jmp	short loc_85A4
; ---------------------------------------------------------------------------

loc_8596:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_1C+2],	dx

loc_85A4:
		mov	word ptr [bp+var_1C], ax
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	word ptr [bp+driver+2],	dx
		mov	word ptr [bp+driver], ax
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 80h
		jz	short loc_85CC
		les	bx, [bp+driver]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	dx
		jmp	short loc_85D5
; ---------------------------------------------------------------------------

loc_85CC:
		les	bx, [bp+driver]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	ds

loc_85D5:
		mov	word ptr [bp+var_1C], ax
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 40h
		jz	short loc_85E6
		add	word ptr [bp+var_1C], 4

loc_85E6:
		lea	ax, [bp+var_12]
		push	ax
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	cs
		call	near ptr sub_838F
		add	sp, 6
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		mov	dx, word ptr [bp+var_12+2]
		mov	ax, word ptr [bp+var_12]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax

loc_8609:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_862E
		les	bx, [bp+var_16]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_18], ax
		les	bx, [bp+var_16]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax

loc_862E:
		les	bx, [bp+var_16]
		mov	ax, es:[bx+1Ah]
		imul	[bp+var_18]
		mov	[bp+var_18], ax
		mov	ax, [bp+var_18]
		xor	dx, dx
		cmp	dx, [bp+var_6]
		jb	short loc_864C
		jnz	short loc_865D
		cmp	ax, [bp+var_8]
		jnb	short loc_865D

loc_864C:
		mov	ax, [bp+var_18]
		sub	[bp+var_8], ax
		sbb	[bp+var_6], 0
		add	word ptr [bp+var_C], 0Ah
		jmp	loc_8504
; ---------------------------------------------------------------------------

loc_865D:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_C]
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_16+2],	ax
		test	byte ptr [bp+var_16+2],	4
		jz	short loc_868C
		les	bx, [bp+var_C]
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_A]
		mov	word ptr [bp+var_16], ss
		jmp	short loc_869A
; ---------------------------------------------------------------------------

loc_868C:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16], dx

loc_869A:
		mov	[bp+var_18], ax
		test	byte ptr [bp+var_16+2],	11h
		jnz	short loc_86A6
		jmp	loc_8730
; ---------------------------------------------------------------------------

loc_86A6:
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		mov	dx, word ptr [bp+var_16]
		mov	ax, [bp+var_18]
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_86D8
		les	bx, [bp+var_1C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16], dx
		jmp	short loc_86E1
; ---------------------------------------------------------------------------

loc_86D8:
		les	bx, [bp+var_1C]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16], ds

loc_86E1:
		mov	[bp+var_18], ax
		mov	dx, word ptr [bp+var_16]
		mov	ax, [bp+var_18]
		mov	word ptr [bp+driver+2],	dx
		mov	word ptr [bp+driver], ax
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 48h
		cmp	ax, 40h	; '@'
		jnz	short loc_86FF
		add	[bp+var_18], 4

loc_86FF:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 2
		jz	short loc_8730
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+8], 20h
		jz	short loc_8730
		test	byte ptr [bp+var_16+2],	8
		jz	short loc_8730
		lea	ax, [bp+var_12]
		push	ax
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_838F
		add	sp, 6
		mov	word ptr [bp+var_16], dx
		mov	[bp+var_18], ax

loc_8730:
		cmp	[bp+var_E], 0
		jnz	short loc_877E
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_875E
		push	[bp+arg_A]
		push	[bp+var_6]
		push	[bp+var_8]
		push	word ptr [bp+var_12+2]
		push	word ptr [bp+var_12]
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_828D
		add	sp, 0Eh
		jmp	short loc_877E
; ---------------------------------------------------------------------------

loc_875E:
		push	[bp+arg_A]
		mov	ax, 1
		push	ax
		push	[bp+var_6]
		push	[bp+var_8]
		push	word ptr [bp+var_12+2]
		push	word ptr [bp+var_12]
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_7FC2
		add	sp, 10h

loc_877E:
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 3
		cmp	ax, 3
		jz	short loc_878C
		jmp	loc_882A
; ---------------------------------------------------------------------------

loc_878C:
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 48h
		cmp	ax, 48h	; 'H'
		jnz	short loc_879B
		sub	word ptr [bp+driver], 4

loc_879B:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_87EA
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_12]
		mov	ax, es:[bx+16h]
		or	ax, es:[bx+18h]
		jz	short loc_87D7
		les	bx, [bp+var_12]
		push	word ptr es:[bx+14h]
		les	bx, [bp+var_12]
		push	word ptr es:[bx+18h]
		push	word ptr es:[bx+16h]
		jmp	short loc_8809
; ---------------------------------------------------------------------------

loc_87D7:
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_882A
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; font
		nop
		push	cs
		call	near ptr _registerbgifont
		jmp	short loc_8828
; ---------------------------------------------------------------------------

loc_87EA:
		les	bx, [bp+var_12]
		mov	ax, es:[bx+0Eh]
		or	ax, es:[bx+10h]
		jz	short loc_8817
		les	bx, [bp+var_12]
		push	word ptr es:[bx+12h]
		les	bx, [bp+var_12]
		push	word ptr es:[bx+10h]
		push	word ptr es:[bx+0Eh]

loc_8809:
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver]
		call	sub_67F9
		add	sp, 0Ah
		jmp	short loc_882A
; ---------------------------------------------------------------------------

loc_8817:
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_882A
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver

loc_8828:
		pop	cx
		pop	cx

loc_882A:
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		mov	ax, word ptr [bp+var_C]
		sub	word ptr [bp+var_C], 0Ah
		cmp	ax, word ptr [bp+arg_0]
		jbe	short loc_8843
		jmp	loc_865D
; ---------------------------------------------------------------------------

loc_8843:
		xor	ax, ax

loc_8845:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_8440	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__CurrExcContext proc far

s1		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_888E
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		add	ax, 0FFF8h
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		mov	ax, 8
		push	ax		; n
		push	ds
		mov	ax, 1207h
		push	ax		; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		nop
		push	cs
		call	near ptr _memcmp
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_8893

loc_888E:
		mov	ax, 0FFFFh
		jmp	short loc_889A
; ---------------------------------------------------------------------------

loc_8893:
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx+arg_6]

loc_889A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__CurrExcContext endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowFileName(void)
@__ThrowFileName$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+18h]
		mov	ax, es:[bx+16h]
		pop	di
		pop	si
		retf
@__ThrowFileName$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowLineNumber(void)
@__ThrowLineNumber$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+1Ah]
		pop	di
		pop	si
		retf
@__ThrowLineNumber$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowExceptionName(void)
@__ThrowExceptionName$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		pop	di
		pop	si
		retf
@__ThrowExceptionName$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far typeinfo__typeinfo(int, int, int, __int32)
@typeinfo@0$bctr$qmx8typeinfo proc far

_src		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_88F6
		mov	ax, 8
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_8934

loc_88F6:
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+2], seg	seg000
		mov	word ptr es:[bx], 8ED2h
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_2], 0
		mov	[bp+_src], 0
		lea	ax, [bp+_src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 8EB4h
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_8934:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@typeinfo@0$bctr$qmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator=(typeinfo const &)
@typeinfo@0$basg$qmx8typeinfo proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$basg$qmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far typeinfo___typeinfo(void (*driver)(void), int)
@typeinfo@0$bdtr$qv proc far

driver		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_4]
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_897F
		les	bx, [bp+driver]
		mov	word ptr es:[bx+2], seg	seg000
		mov	word ptr es:[bx], 8ED2h
		test	dl, 1
		jz	short loc_897F
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx

loc_897F:
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$bdtr$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator==(typeinfo	const &)const
@typeinfo@0$beql$xqmx8typeinfo proc far

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$beql$xqmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator!=(typeinfo	const &)const
@typeinfo@0$bneq$xqmx8typeinfo proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr @typeinfo@0$beql$xqmx8typeinfo	; typeinfo::operator==(typeinfo	&)
		add	sp, 8
		neg	ax
		sbb	ax, ax
		inc	ax
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$bneq$xqmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::before(typeinfo const &)const
@typeinfo@0before$xqmx8typeinfo	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		or	ax, es:[bx+6]
		jnz	short loc_89E3
		xor	ax, ax
		jmp	short loc_8A3C
; ---------------------------------------------------------------------------

loc_89E3:
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+4]
		or	ax, es:[bx+6]
		jnz	short loc_89F5
		mov	ax, 1
		jmp	short loc_8A3C
; ---------------------------------------------------------------------------

loc_89F5:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+6]
		mov	word ptr [bp+var_4+2], dx
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		add	ax, es:[bx+4]
		push	dx
		push	ax		; s2
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		add	ax, es:[bx+4]
		push	dx
		push	ax		; s1
		nop
		push	cs
		call	near ptr _strcmp
		add	sp, 8
		or	ax, ax
		jge	short loc_8A3A
		mov	ax, 1
		jmp	short loc_8A3C
; ---------------------------------------------------------------------------

loc_8A3A:
		xor	ax, ax

loc_8A3C:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@typeinfo@0before$xqmx8typeinfo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::name(void)const
@typeinfo@0name$xqv proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	cs
		call	near ptr sub_5DD0
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0name$xqv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far __GetTypeInfo(int, int, int, int, int, __int32, int, int, int, int)
@__GetTypeInfo$qnvt1t1t1 proc far

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_8A9E
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ds
		mov	ax, 1CB8h
		push	ax		; src
		push	cs		; int
		mov	ax, 8E9Eh
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_8A9E:
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_4+2]
		mov	ax, [bp+arg_4]
		sub	ax, es:[bx-2]
		mov	[bp+arg_4+2], dx
		mov	[bp+arg_4], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+var_8]
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetTypeInfo$qnvt1t1t1 endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8ADF	proc near

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= dword	ptr -14h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h
arg_10		= word ptr  14h
arg_12		= word ptr  16h
arg_14		= word ptr  18h
arg_16		= word ptr  1Ah
arg_18		= word ptr  1Ch
arg_1A		= word ptr  1Eh
arg_1C		= word ptr  20h
arg_1E		= word ptr  22h

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_8], 0
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0
		mov	[bp+var_E], 0
		mov	ax, [bp+arg_14]
		or	ax, [bp+arg_16]
		jz	short loc_8B1A
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		or	ax, ax
		jnz	short loc_8B24

loc_8B1A:
		les	bx, [bp+arg_4]
		test	byte ptr es:[bx+8], 4
		jnz	short loc_8B2B

loc_8B24:
		xor	dx, dx
		xor	ax, ax
		jmp	loc_8D1F
; ---------------------------------------------------------------------------

loc_8B2B:
		mov	[bp+var_6], 0
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]

loc_8B3D:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_8B43:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		mov	ax, word ptr [bp+var_1C]
		or	ax, word ptr [bp+var_1C+2]
		jnz	short loc_8B5E
		jmp	loc_8CE7
; ---------------------------------------------------------------------------

loc_8B5E:
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 8
		jz	short loc_8B6B
		jmp	loc_8CE0
; ---------------------------------------------------------------------------

loc_8B6B:
		cmp	[bp+arg_1A], 0
		jz	short loc_8B85
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_8B85
		mov	ax, 1
		jmp	short loc_8B87
; ---------------------------------------------------------------------------

loc_8B85:
		xor	ax, ax

loc_8B87:
		mov	[bp+var_10], ax
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	dx, [bp+arg_1E]
		mov	ax, [bp+arg_1C]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 4
		jz	short loc_8BCE
		les	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_14+2]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax

loc_8BCE:
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		or	ax, ax
		jnz	short loc_8C50
		les	bx, [bp+var_1C]
		test	byte ptr es:[bx+8], 4
		jnz	short loc_8BF2
		jmp	loc_8CE0
; ---------------------------------------------------------------------------

loc_8BF2:
		push	[bp+var_16]
		push	[bp+var_18]
		push	[bp+var_10]
		push	[bp+arg_18]
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		call	sub_8ADF
		add	sp, 20h
		mov	[bp+var_1E], dx
		mov	[bp+var_20], ax
		mov	ax, [bp+var_20]
		or	ax, [bp+var_1E]
		jnz	short loc_8C39
		jmp	loc_8CE0
; ---------------------------------------------------------------------------

loc_8C39:
		mov	dx, [bp+var_1E]
		mov	ax, [bp+var_20]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	bx, [bp+arg_18]
		mov	ax, ss:[bx]
		mov	[bp+var_10], ax
		jmp	short loc_8CAD
; ---------------------------------------------------------------------------

loc_8C50:
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_8C71
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		cmp	dx, word ptr [bp+var_14+2]
		jnz	short loc_8CE0
		cmp	ax, word ptr [bp+var_14]
		jnz	short loc_8CE0
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		jmp	loc_8D1F
; ---------------------------------------------------------------------------

loc_8C71:
		mov	ax, [bp+arg_10]
		or	ax, [bp+arg_12]
		jz	short loc_8CAD
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+arg_18]
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		call	sub_8ADF
		add	sp, 20h
		or	ax, dx
		jz	short loc_8CE0

loc_8CAD:
		cmp	[bp+var_E], 0
		jz	short loc_8CCB
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		cmp	dx, [bp+var_A]
		jnz	short loc_8CCB
		cmp	ax, [bp+var_C]
		jnz	short loc_8CCB
		mov	ax, [bp+var_10]
		or	[bp+var_8], ax
		jmp	short loc_8CE0
; ---------------------------------------------------------------------------

loc_8CCB:
		inc	[bp+var_E]
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_10]
		mov	[bp+var_8], ax

loc_8CE0:
		add	word ptr [bp+var_4], 8
		jmp	loc_8B43
; ---------------------------------------------------------------------------

loc_8CE7:
		cmp	[bp+var_6], 0
		jnz	short loc_8D00
		inc	[bp+var_6]
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		jmp	loc_8B3D
; ---------------------------------------------------------------------------

loc_8D00:
		mov	bx, [bp+arg_18]
		mov	ax, [bp+var_8]
		mov	ss:[bx], ax
		cmp	[bp+var_E], 1
		jz	short loc_8D19
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0

loc_8D19:
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]

loc_8D1F:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_8ADF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far __DynamicCast(int, int, int, int, int, __int32, int, int, int, int, int)
@__DynamicCast$qnvt1t1t1i proc far

var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		sub	sp, 16h
		push	si
		push	di
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_8D50
		jmp	loc_8E54
; ---------------------------------------------------------------------------

loc_8D50:
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx-4]
		mov	[bp+var_E], dx
		mov	[bp+var_10], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_4+2]
		mov	ax, [bp+arg_4]
		sub	ax, es:[bx-2]
		mov	[bp+arg_4+2], dx
		mov	[bp+arg_4], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+arg_C]
		or	ax, [bp+arg_E]
		jz	short loc_8DA6
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_6]
		push	[bp+var_8]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		or	ax, ax
		jz	short loc_8DAF

loc_8DA6:
		mov	dx, [bp+var_E]
		mov	ax, [bp+var_10]
		jmp	loc_8E84
; ---------------------------------------------------------------------------

loc_8DAF:
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_2]
		push	[bp+var_4]
		push	cs
		call	near ptr sub_5DF5
		add	sp, 8
		or	ax, ax
		jnz	short loc_8E08
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 1
		push	ax
		lea	ax, [bp+var_16]
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	[bp+var_6]
		push	[bp+var_8]
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_E]
		push	[bp+var_10]
		call	sub_8ADF
		add	sp, 20h
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_14]
		or	ax, [bp+var_12]
		jnz	short loc_8E4C

loc_8E08:
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 1
		push	ax
		lea	ax, [bp+var_16]
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_6]
		push	[bp+var_8]
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_E]
		push	[bp+var_10]
		call	sub_8ADF
		add	sp, 20h
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_14]
		or	ax, [bp+var_12]
		jz	short loc_8E54
		cmp	[bp+var_16], 0
		jz	short loc_8E54

loc_8E4C:
		mov	dx, [bp+var_12]
		mov	ax, [bp+var_14]
		jmp	short loc_8E84
; ---------------------------------------------------------------------------

loc_8E54:
		cmp	[bp+arg_10], 0
		jz	short loc_8E80
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ds
		mov	ax, 1CB9h
		push	ax		; src
		push	cs		; int
		mov	ax, 8E8Ah
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_8E80:
		xor	dx, dx
		xor	ax, ax

loc_8E84:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__DynamicCast$qnvt1t1t1i endp

; ---------------------------------------------------------------------------
		db    1
		db    0
		db    1
		db    0
		db  0Ah
		db    0
		db 0FFh
		db 0FFh
		db    0
		db    0
aBad_cast	db 'Bad_cast',0
		db    0
		db    1
		db    0
		db    1
		db    0
		db  0Ah
		db    0
		db 0FFh
		db 0FFh
		db    0
		db    0
aBad_typeid	db 'Bad_typeid',0
		db    0
		db    4
		db    0
		db  10h
		db  20h
		db  0Ah
		db    0
		db 0D6h	; Ö
		db  8Eh	; Ž
		dw seg seg000
aTypeinfo	db 'typeinfo *',0
		db 0
		dd byte_8ED6
		db 4 dup(0), 4Fh, 89h
		dw seg seg000
byte_8ED6	db 8
					; Method
		db 0
		db 3			; Destructor/SafeFunction
		db 0
		db 26h,	3 dup(0), 73h, 10h, 30h, 0, 34h, 0Dh dup(0), 1
		db 0, 1, 0, 4Fh, 89h
		dw seg seg000
		db    5
		db    0
		db  38h	; 8
		db    0
aTypeinfo_0	db 'typeinfo',0
		dd    0
		dd    0
		dd    0
		db    0
unknown_libname_3 db 0BAh, 10h,	12h, 0EBh, 3, 0BAh, 15h, 12h, 0B9h, 5, 0
		db 0B4h, 40h, 0BBh, 2, 0, 0CDh,	21h, 0B9h, 27h,	0, 0BAh
		db 1Ah,	12h, 0B4h, 40h,	0CDh, 21h, 0E9h, 56h, 8Ch

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __stdcall	_DOSCMD(int, int, char *s, int,	int)
__DOSCMD	proc near

dest		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
_s		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Eh
		push	si
		push	di
		mov	[bp+var_2], 3
		mov	ax, word ptr [bp+_s]
		or	ax, word ptr [bp+_s+2]
		jz	short loc_8F5A
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_2], ax

loc_8F5A:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_8F84
; ---------------------------------------------------------------------------

loc_8F68:
		les	bx, [bp+var_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_2], ax
		add	word ptr [bp+var_6], 4

loc_8F84:
		les	bx, [bp+var_6]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_8F68
		push	[bp+var_2]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		or	ax, dx
		jnz	short loc_8FAA
		xor	dx, dx
		xor	ax, ax
		jmp	loc_9060
; ---------------------------------------------------------------------------

loc_8FAA:
		mov	dx, word ptr [bp+var_A+2]
		mov	ax, word ptr [bp+var_A]
		inc	ax
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]
		mov	ax, word ptr [bp+_s]
		or	ax, word ptr [bp+_s+2]
		jz	short loc_8FED
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]	; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]

loc_8FED:
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_903B
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_902F
; ---------------------------------------------------------------------------

loc_9003:
		les	bx, [bp+var_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]
		add	word ptr [bp+var_6], 4

loc_902F:
		les	bx, [bp+var_6]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_9003

loc_903B:
		les	bx, [bp+dest]
		mov	byte ptr es:[bx-1], 0Dh
		mov	byte ptr es:[bx], 0
		mov	ax, word ptr [bp+dest]
		xor	dx, dx
		sub	ax, word ptr [bp+var_A]
		sbb	dx, 0
		add	al, 0FEh ; 'þ'
		les	bx, [bp+var_A]
		mov	es:[bx], al
		mov	dx, word ptr [bp+var_A+2]
		mov	ax, word ptr [bp+var_A]

loc_9060:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Ch
__DOSCMD	endp

; ---------------------------------------------------------------------------
		db 8Fh dup(0)
word_90F7	dw 0
		db 50h dup(0)
byte_9149	db 0
byte_914A	db 0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
; ---------------------------------------------------------------------------
		xor	di, di
		mov	ax, cs
		mov	ds, ax
		assume ds:seg000
		mov	es, ax
		assume es:seg000
		cli
		mov	ss, ax
		assume ss:seg000
		lea	sp, [di+8Fh]
		sti
		push	cx
		push	dx
		mov	ax, 4B03h
		lea	bx, [di+0FBh]
		lea	dx, [di+91h]
		int	21h		; DOS -	2+ - LOAD OR EXECUTE (EXEC)
					; DS:DX	-> ASCIZ filename
					; ES:BX	-> parameter block
					; AL = subfunc:	called by MSC spawn(P_NOWAIT,...) when running DOS 4.x.
		pop	dx
		pop	cx
		jb	short loc_91B7
		xor	di, di
		cli
		mov	ss, word ptr [di+0F1h]
		assume ss:nothing
		mov	sp, [di+0F3h]
		sti
		mov	bp, sp
		xor	ax, ax
		push	ax
		mov	ax, [di+8Fh]
		mov	ds, ax
		assume ds:dseg
		mov	es, ax
		assume es:nothing
		mov	es:2, dx
		mov	es:2Ch,	cx
		mov	ax, cs:[di+0E1h]
		jmp	dword ptr cs:loc_F5+2
; ---------------------------------------------------------------------------

loc_91B7:
		mov	ah, 40h	; '@'
		mov	bx, 2
		mov	cx, 0Fh
		xor	dx, dx
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		mov	ax, 4C02h
		int	21h		; DOS -	2+ - QUIT WITH EXIT CODE (EXIT)
					; AL = exit code
; ---------------------------------------------------------------------------
off_91C8	dd loc_FF
word_91CC	dw 0
byte_91CE	db 1

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__exec		proc near

var_C		= word ptr -0Ch
var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Ch
		cld
		push	si
		push	ds
		push	di
		push	es
		mov	ax, word_12B16
		mov	cs:word_91CC, ax
		mov	ax, 3D00h
		push	ds
		lds	dx, [bp+arg_0]
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read
		pop	ds
		mov	[bp+var_2], ax
		jnb	short loc_91F3
		jmp	loc_9401
; ---------------------------------------------------------------------------

loc_91F3:
		mov	es, segx
		mov	cs:word_90F7, es
		mov	ax, es:2Ch
		mov	[bp+var_C], ax
		mov	di, 80h	; '€'
		push	ds
		lds	si, [bp+arg_4]
		lodsb
		mov	dx, si
		stosb
		xor	cx, cx
		mov	cl, al
		inc	cx
		rep movsb
		mov	ax, 2901h
		mov	si, dx
		mov	di, 5Ch	; '\'
		int	21h		; DOS -	PARSE FILENAME
					; DS:SI	-> string to parse
					; ES:DI	-> buffer to fill with unopened	FCB
					; AL = bit mask	to control parsing
		mov	cs:byte_9149, al

loc_9223:
		mov	al, [si]
		cmp	al, 20h	; ' '
		jz	short loc_9234
		cmp	al, 9
		jz	short loc_9234
		cmp	al, 0Dh
		jz	short loc_9234
		inc	si
		jmp	short loc_9223
; ---------------------------------------------------------------------------

loc_9234:
		mov	ax, 2901h
		mov	di, 6Ch	; 'l'
		int	21h		; DOS -	PARSE FILENAME
					; DS:SI	-> string to parse
					; ES:DI	-> buffer to fill with unopened	FCB
					; AL = bit mask	to control parsing
		mov	cs:byte_914A, al
		pop	ds
		mov	ah, 4Ah	; 'J'
		mov	bx, 0FFFFh
		int	21h		; DOS -	2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
					; ES = segment address of block	to change
					; BX = new size	in paragraphs
		cmp	byte ptr word_12B1C, 3
		jnb	short loc_9253
		sub	bx, 280h

loc_9253:
		mov	[bp+var_4], bx
		mov	ax, [bp+arg_8]
		mov	dx, [bp+arg_A]
		mov	bx, ax
		or	bx, dx
		jnz	short loc_9268
		xor	ax, ax
		mov	di, ax
		jmp	short loc_9285
; ---------------------------------------------------------------------------

loc_9268:
		mov	es, dx
		mov	di, ax
		push	di
		mov	cx, 0FFFFh
		xor	ax, ax

loc_9272:
		repne scasb
		cmp	es:[di], al
		jnz	short loc_9272
		dec	cx
		add	di, 3
		repne scasb
		dec	cx
		mov	ax, cx
		neg	ax
		pop	di

loc_9285:
		mov	word ptr [bp+var_A], di
		mov	word ptr [bp+var_A+2], es
		add	ax, 0Fh
		mov	cx, 4
		shr	ax, cl
		mov	[bp+var_6], ax
		mov	si, word_12B16
		dec	si
		mov	es, si
		cmp	ax, es:3
		jbe	short loc_92AD
		dec	cs:byte_91CE
		inc	ax
		sub	[bp+var_4], ax

loc_92AD:
		lds	si, [bp+arg_0]
		push	cs
		pop	es
		assume es:seg000
		mov	di, 90F9h

loc_92B5:
		lodsb
		stosb
		or	al, al
		jnz	short loc_92B5
		mov	bx, [bp+var_2]
		push	ds
		pop	es
		assume es:dseg
		push	cs
		pop	ds
		assume ds:seg000
		mov	di, 9068h
		mov	ah, 3Fh	; '?'
		mov	cx, 18h
		lea	dx, [di+0E3h]
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		jb	short loc_92F7
		cmp	word ptr [di+0E3h], 5A4Dh
		jz	short loc_9303
		mov	ax, es:[si-5]
		or	ah, 20h
		cmp	ax, 632Eh
		jnz	short loc_92F4
		mov	ax, es:[si-3]
		or	ax, 2020h
		cmp	ax, 6D6Fh
		jnz	short loc_92F4
		jmp	short loc_933F
; ---------------------------------------------------------------------------

loc_92F4:
		mov	ax, 0Bh

loc_92F7:
		push	ax
		mov	ah, 3Eh	; '>'
		mov	bx, [bp+var_2]
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		pop	ax
		jmp	loc_9401
; ---------------------------------------------------------------------------

loc_9303:
		mov	ax, [di+0E7h]
		xor	dx, dx
		mov	dl, ah
		mov	ah, al
		xor	al, al
		shl	ax, 1
		rcl	dx, 1
		add	ax, [di+0E5h]
		adc	dx, 0
		mov	cx, 4

loc_931D:
		shr	dx, 1
		rcr	ax, 1
		loop	loc_931D
		inc	ax
		sub	ax, [di+0EBh]
		add	ax, [di+0EDh]
		xchg	ax, bx
		mov	ax, [di+8Fh]
		add	ax, 10h
		add	[di+0F9h], ax
		add	[di+0F1h], ax
		xchg	ax, bx
		jmp	short loc_9369
; ---------------------------------------------------------------------------

loc_933F:
		mov	ax, 4202h
		xor	cx, cx
		xor	dx, dx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from end of file
		mov	cx, 4

loc_934B:
		shr	dx, 1
		rcr	ax, 1
		loop	loc_934B
		inc	ax
		xchg	ax, bx
		mov	ax, [di+8Fh]
		mov	[di+0F9h], ax
		mov	word ptr [di+0F7h], 100h
		mov	[di+0F1h], ax
		add	ax, 10h
		xchg	ax, bx

loc_9369:
		mov	[di+0FBh], bx
		mov	[di+0FDh], bx
		add	ax, 16h
		cmp	ax, [bp+var_4]
		mov	ax, 8
		jbe	short loc_937F
		jmp	loc_92F7
; ---------------------------------------------------------------------------

loc_937F:
		mov	ah, 3Eh	; '>'
		mov	bx, [bp+var_2]
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		mov	es, word ptr [di+8Fh]
		assume es:nothing
		mov	ah, 4Ah	; 'J'
		mov	bx, [bp+var_4]
		int	21h		; DOS -	2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
					; ES = segment address of block	to change
					; BX = new size	in paragraphs
		jnb	short loc_9396
		jmp	loc_92F7
; ---------------------------------------------------------------------------

loc_9396:
		add	bx, [di+8Fh]
		mov	dx, bx
		sub	bx, 17h
		mov	word ptr cs:off_91C8+2,	bx
		mov	es, bx
		mov	cx, 0B0h ; '°'
		mov	si, 9068h
		xor	di, di
		rep movsw
		mov	es, [bp+var_C]
		mov	cx, [bp+var_6]
		cmp	cs:byte_91CE, 0
		jnz	short loc_93C8
		mov	ah, 48h	; 'H'
		mov	bx, cx
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired
		jb	short loc_9401
		jmp	short loc_93CC
; ---------------------------------------------------------------------------

loc_93C8:
		mov	ax, cs:word_91CC

loc_93CC:
		mov	es, ax
		xor	di, di
		lds	si, [bp+var_A]
		assume ds:dseg
		add	cx, cx
		add	cx, cx
		add	cx, cx
		rep movsw
		push	es
		push	dx
		push	ds
		mov	ds, cs:DGROUP@
		nop
		push	cs
		call	near ptr __cexit
		pop	ds
		pop	dx
		cmp	cs:byte_91CE, 0
		jnz	short loc_93FB
		mov	es, cs:word_91CC
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed

loc_93FB:
		pop	cx
		jmp	cs:off_91C8
; ---------------------------------------------------------------------------

loc_9401:
		pop	es
		pop	di
		pop	ds
		pop	si
		push	ax
		call	__IOERROR
		mov	sp, bp
		pop	bp
		retn
__exec		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int execl(char *path,	char *arg0, ...)
_execl		proc far

_s		= dword	ptr  6
_arg0		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ss		; int
		lea	ax, [bp+_arg0]
		push	ax		; int
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]	; s
		mov	ax, 91CFh
		push	ax		; int
		call	sub_9CEF
		add	sp, 10h
		pop	di
		pop	si
		pop	bp
		retf
_execl		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: thunk

sub_9430	proc near
		jmp	off_13E8C
sub_9430	endp

; ---------------------------------------------------------------------------
byte_9434	db 2 dup(0)
; ---------------------------------------------------------------------------

unknown_libname_4:			; BCC v4.x/5.x DOS runtime
		pop	word_13CE8
		pop	word_13CEA
		pop	word_13CEC
		mov	word ptr cs:byte_9434, ds
		mov	word_13CEE, si
		mov	word_13CF0, di
		cld
		mov	es, segx
		mov	si, 80h	; '€'
		xor	ah, ah
		lods	byte ptr es:[si]
		inc	ax
		mov	bp, es
		xchg	dx, si
		xchg	ax, bx
		mov	si, word_12B14
		inc	si
		inc	si
		mov	cx, 1
		cmp	byte ptr word_12B1C, 3
		jb	short loc_9482
		mov	es, word_12B16
		mov	di, si
		mov	cl, 7Fh	; ''
		xor	al, al
		repne scasb
		jcxz	short loc_94C9
		xor	cl, 7Fh

loc_9482:
		push	ax
		mov	ax, cx
		add	ax, bx
		inc	ax
		and	ax, 0FFFEh
		mov	di, sp
		sub	di, ax
		jb	short loc_94C9
		mov	sp, di
		push	es
		pop	ds
		push	ss
		pop	es
		push	cx
		dec	cx
		rep movsb
		xor	al, al
		stosb
		mov	ds, bp
		xchg	si, dx
		xchg	bx, cx
		mov	ax, bx
		mov	dx, ax
		inc	bx

loc_94A9:
		call	sub_94CE
		ja	short loc_94B9

loc_94AE:
		jb	short loc_9520
		cmp	al, 0Dh
		jz	short loc_94C5
		call	sub_94CE
		ja	short loc_94AE

loc_94B9:
		cmp	al, 20h	; ' '
		jz	short loc_94C5
		cmp	al, 0Dh
		jz	short loc_94C5
		cmp	al, 9
		jnz	short loc_94A9

loc_94C5:
		xor	al, al
		jmp	short loc_94A9
; ---------------------------------------------------------------------------

loc_94C9:
		nop
		nop
		jmp	near ptr __abort

; =============== S U B	R O U T	I N E =======================================


sub_94CE	proc near
		or	ax, ax
		jz	short loc_94D9
		inc	dx
		stosb
		or	al, al
		jnz	short loc_94D9
		inc	bx

loc_94D9:
		xchg	ah, al
		xor	al, al
		stc
		jcxz	short locret_951F
		lodsb
		dec	cx
		cmp	dh, 1
		jz	short loc_9505
		xor	dh, dh
		push	ax
		push	bx
		push	cx
		push	dx
		push	ds
		push	es
		mov	ds, word ptr cs:byte_9434
		push	ax
		nop
		push	cs
		call	near ptr sub_3AB4
		or	ax, ax
		pop	cx
		pop	es
		pop	ds
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		jz	short loc_9507

loc_9505:
		inc	dh

loc_9507:
		cmp	dh, 0
		jnz	short loc_951D
		sub	al, 22h	; '"'
		jz	short locret_951F
		add	al, 22h	; '"'
		cmp	al, 5Ch	; '\'
		jnz	short loc_951D
		cmp	byte ptr [si], 22h ; '"'
		jnz	short loc_951D
		lodsb
		dec	cx

loc_951D:
		or	si, si

locret_951F:
		retn
sub_94CE	endp

; ---------------------------------------------------------------------------

loc_9520:
		pop	cx
		xor	dh, dh
		add	cx, dx
		mov	ds, word ptr cs:byte_9434
		mov	word_13CE2, bx
		inc	bx
		add	bx, bx
		add	bx, bx
		mov	si, sp
		mov	bp, sp
		sub	bp, bx
		jb	short loc_94C9
		mov	sp, bp
		mov	word_13CE4, bp
		mov	word_13CE6, ss

loc_9545:
		jcxz	short loc_9558
		mov	[bp+0],	si
		mov	word ptr [bp+2], ss
		add	bp, 4

loc_9550:
		lods	byte ptr ss:[si]
		or	al, al
		loopne	loc_9550
		jz	short loc_9545

loc_9558:
		xor	ax, ax
		mov	[bp+0],	ax
		mov	[bp+2],	ax
		mov	ds, word ptr cs:byte_9434
		mov	si, word_13CEE
		mov	di, word_13CF0
		push	word_13CEC
		push	word_13CEA
		mov	ax, word_13CE2
		mov	argc, ax
		mov	ax, word_13CE6
		mov	word_12B0E, ax
		mov	ax, word_13CE4
		mov	argv, ax
		jmp	word_13CE8

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl setblock(unsigned	int segx, unsigned int newsize)
_setblock	proc far

_segx		= word ptr  6
newsize		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ah, 4Ah	; 'J'
		mov	bx, [bp+newsize]
		mov	es, [bp+_segx]
		int	21h		; DOS -	2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
					; ES = segment address of block	to change
					; BX = new size	in paragraphs
		jb	short loc_95A1
		mov	ax, 0FFFFh
		jmp	short loc_95A7
; ---------------------------------------------------------------------------

loc_95A1:
		push	bx
		push	ax
		call	__IOERROR
		pop	ax

loc_95A7:
		pop	di
		pop	si
		pop	bp
		retf
_setblock	endp


; =============== S U B	R O U T	I N E =======================================


sub_95AB	proc far
		push	si
		push	di
		mov	es, word_12B16
		xor	di, di
		push	es
		push	word_12B18
		nop
		push	cs
		call	near ptr _malloc
		pop	bx
		mov	bx, ax
		pop	es
		mov	word ptr dword_13CF2, ax
		mov	word ptr dword_13CF2+2,	dx
		push	ds
		mov	ds, dx
		or	ax, dx
		jnz	short loc_95D4
		nop
		nop
		jmp	near ptr __abort
; ---------------------------------------------------------------------------

loc_95D4:
		xor	ax, ax
		mov	cx, 0FFFFh
		cmp	byte ptr es:[di], 0
		jz	short loc_95EE

loc_95DF:
		mov	[bx], di
		mov	word ptr [bx+2], es
		add	bx, 4
		repne scasb
		cmp	es:[di], al
		jnz	short loc_95DF

loc_95EE:
		mov	[bx], ax
		mov	[bx+2],	ax
		pop	ds
		pop	di
		pop	si
		mov	ax, word ptr dword_13CF2+2
		mov	word_12B12, ax
		mov	ax, word ptr dword_13CF2
		mov	envp, ax
		retn
sub_95AB	endp

; ---------------------------------------------------------------------------

unknown_libname_5:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
off_9608	dd byte_11EBF
		dd 0
		dd off_9608
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_965D
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_965B
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_965F
; ---------------------------------------------------------------------------

loc_965B:
		jmp	short loc_965F
; ---------------------------------------------------------------------------

loc_965D:
		xor	ax, ax

loc_965F:
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_6:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_12067
		dd byte_12019
		db 4 dup(0), 0B2h, 1
		dw seg seg016
		db 87h,	20h, 0FCh, 0FFh, 6 dup(0), 68h,	96h
		dw seg seg000
		db 0DEh, 0FFh, 2 dup(0), 5, 3 dup(0), 2	dup(0FFh), 6, 0
		db 5, 3	dup(0),	74h, 96h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_96DF
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_96DD
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_96E1
; ---------------------------------------------------------------------------

loc_96DD:
		jmp	short loc_96E1
; ---------------------------------------------------------------------------

loc_96DF:
		xor	ax, ax

loc_96E1:
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_972C
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_972A
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_972E
; ---------------------------------------------------------------------------

loc_972A:
		jmp	short loc_972E
; ---------------------------------------------------------------------------

loc_972C:
		xor	ax, ax

loc_972E:
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_7:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		db 4 dup(0), 37h, 97h
		dw seg seg000
		db 0E2h, 0FFh, 0FAh, 0Bh
		dw seg seg016
		db 4 dup(0), 0C0h, 0Bh
		dw seg seg016
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FAh, 0Bh
		dw seg seg016
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 88h, 0Bh
		dw seg seg016
		db 0
		db 2 dup(1), 7 dup(0), 41h, 97h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 49h, 97h,	6, 0, 5
		db 0, 1, 0, 61h, 97h, 0FAh, 0Bh
		dw seg seg016
		db 4 dup(0), 0C0h, 0Bh
		dw seg seg016
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FAh, 0Bh
		dw seg seg016
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 88h, 0Bh
		dw seg seg016
		db 0
		db 2 dup(1), 7 dup(0), 85h, 97h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 8Dh, 97h,	6, 0, 5
		db 0, 1, 0, 0A5h, 97h, 0FAh, 0Bh
		dw seg seg016
		db 4 dup(0), 0C0h, 0Bh
		dw seg seg016
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FAh, 0Bh
		dw seg seg016
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 88h, 0Bh
		dw seg seg016
		db 0
		db 2 dup(1), 7 dup(0), 0C9h, 97h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 0D1h, 97h, 6, 0
		db 5, 0, 1, 0, 0E9h, 97h, 4 dup(0), 0Dh, 98h
		dw seg seg000
		db 0E2h, 0FFh, 46h, 0Bh
		dw seg seg016
		dd byte_12A4A
		db 4 dup(0), 17h, 98h
		dw seg seg000
		db 0E2h, 0FFh, 4 dup(0), 29h, 98h
		dw seg seg000
		db 0E2h, 0FFh, 46h, 0Bh
		dw seg seg016
		dd byte_12948
		db 4 dup(0), 33h, 98h
		dw seg seg000
		db 0E2h, 0FFh, 4 dup(0), 45h, 98h
		dw seg seg000
		db 0E2h, 0FFh, 46h, 0Bh
		dw seg seg016
		dd byte_12948
		db 4 dup(0), 4Fh, 98h
		dw seg seg000
		db 0E2h, 0FFh

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9861	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
sub_9861	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9896	proc far

driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_98DD
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax		; char
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	[bp+arg_4], 1
		jz	short loc_98DB
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_98DF
; ---------------------------------------------------------------------------

loc_98DB:
		jmp	short loc_98DF
; ---------------------------------------------------------------------------

loc_98DD:
		xor	ax, ax

loc_98DF:
		pop	di
		pop	si
		pop	bp
		retf
sub_9896	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_98E3	proc far

driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_992A
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax		; char
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	[bp+arg_4], 1
		jz	short loc_9928
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_992C
; ---------------------------------------------------------------------------

loc_9928:
		jmp	short loc_992C
; ---------------------------------------------------------------------------

loc_992A:
		xor	ax, ax

loc_992C:
		pop	di
		pop	si
		pop	bp
		retf
sub_98E3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9930	proc far

driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_9977
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax		; char
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	[bp+arg_4], 1
		jz	short loc_9975
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9979
; ---------------------------------------------------------------------------

loc_9975:
		jmp	short loc_9979
; ---------------------------------------------------------------------------

loc_9977:
		xor	ax, ax

loc_9979:
		pop	di
		pop	si
		pop	bp
		retf
sub_9930	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_997D	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		cmp	word_13D60, 2
		jnz	short loc_9994
		push	ax
		nop
		push	cs
		call	near ptr sub_9B4B
		jmp	short loc_99A1
; ---------------------------------------------------------------------------

loc_9994:
		cmp	word_13D60, 1
		jnz	short loc_99A2
		push	ax
		nop
		push	cs
		call	near ptr sub_9A01

loc_99A1:
		pop	cx

loc_99A2:
		pop	di
		pop	si
		pop	bp
		retf
sub_997D	endp


; =============== S U B	R O U T	I N E =======================================


sub_99A6	proc near
		push	si
		push	di
		pop	di
		pop	si
		retn
sub_99A6	endp


; =============== S U B	R O U T	I N E =======================================


sub_99AB	proc near
		push	si
		push	di
		pushf
		cli
		mov	al, 0
		out	43h, al		; Timer	8253-5 (AT: 8254.2).
		call	sub_99A6
		in	al, 40h		; Timer	8253-5 (AT: 8254.2).
		mov	bl, al
		call	sub_99A6
		in	al, 40h		; Timer	8253-5 (AT: 8254.2).
		mov	bh, al
		not	bx
		popf
		mov	ax, bx
		pop	di
		pop	si
		retn
sub_99AB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_99C9	proc far

var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		cmp	word_13D60, 1
		jnz	short loc_99FB
		mov	[bp+var_2], 0

loc_99DD:
		call	sub_99AB
		test	al, 1
		jnz	short loc_99F2
		mov	word_13D5E, 0
		mov	word_13D5C, 4A9h
		jmp	short loc_99FB
; ---------------------------------------------------------------------------

loc_99F2:
		inc	[bp+var_2]
		cmp	[bp+var_2], 64h	; 'd'
		jl	short loc_99DD

loc_99FB:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_99C9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9A01	proc far

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		call	sub_99AB
		mov	[bp+var_6], ax
		xor	dx, dx
		mov	bx, [bp+arg_0]
		xor	cx, cx
		push	ax
		push	dx
		mov	dx, word_13D5E
		mov	ax, word_13D5C
		call	N_LXMUL@
		pop	bx
		pop	cx
		add	cx, ax
		adc	bx, dx
		mov	[bp+var_2], bx
		mov	[bp+var_4], cx
		jmp	short loc_9A49
; ---------------------------------------------------------------------------

loc_9A30:
		cmp	bx, [bp+var_6]
		jnb	short loc_9A46
		cmp	[bp+var_2], 1
		ja	short loc_9A43
		jb	short loc_9A5C
		cmp	[bp+var_4], 0
		jb	short loc_9A5C

loc_9A43:
		dec	[bp+var_2]

loc_9A46:
		mov	[bp+var_6], bx

loc_9A49:
		call	sub_99AB
		mov	bx, ax
		xor	dx, dx
		cmp	dx, [bp+var_2]
		jb	short loc_9A30
		jnz	short loc_9A5C
		cmp	ax, [bp+var_4]
		jb	short loc_9A30

loc_9A5C:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_9A01	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9A62	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		mov	es, ax
		assume es:seg000
		test	byte ptr es:loc_500+1, 8
		jz	short loc_9A8B
		mov	ax, 0CD4h
		test	byte ptr es:loc_54B+1, 20h
		jz	short loc_9AA4
		test	byte ptr es:loc_456+3, 8
		jz	short loc_9AA4
		mov	ax, 1388h
		jmp	short loc_9AA4
; ---------------------------------------------------------------------------

loc_9A8B:
		mov	ax, 0C4Bh
		test	byte ptr es:loc_54B+1, 20h
		jnz	short loc_9AA4
		mov	ax, 9B3h
		test	byte ptr es:loc_53C, 80h
		jnz	short loc_9AA4
		mov	ax, 627h

loc_9AA4:
		mov	dx, [bp+arg_0]
		cmp	dx, 1
		jb	short loc_9AD7
		jz	short loc_9AB1
		mul	dx
		inc	dx

loc_9AB1:
		dec	dx
		mov	bx, 64h	; 'd'
		xchg	ax, cx
		xchg	ax, dx
		xor	dx, dx
		div	bx
		xchg	ax, cx
		div	bx
		mov	bx, cx
		inc	bx
		mov	cx, ax
		mov	dx, 60h	; '`'
		mov	ah, 40h	; '@'

loc_9AC8:
		in	al, dx		; AT Keyboard controller 8042.
		test	al, ah
		jz	short loc_9AC8

loc_9ACD:
		in	al, dx		; AT Keyboard controller 8042.
		test	al, ah
		jnz	short loc_9ACD
		loop	loc_9AC8
		dec	bx
		jnz	short loc_9AC8

loc_9AD7:
		pop	di
		pop	si
		pop	bp
		retn
sub_9A62	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9ADB	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di

loc_9AE0:
		pushf
		cli
		in	ax, 5Eh
		xchg	ax, cx
		in	ax, 5Ch
		xchg	ax, bx
		in	ax, 5Eh
		popf
		cmp	cx, ax
		jnz	short loc_9AE0
		mov	cl, ch
		xor	ch, ch
		xor	si, si
		mov	di, 133h
		mov	ax, [bp+arg_0]
		cmp	ax, 1
		jb	short loc_9B47
		jz	short loc_9B1D
		cmp	ax, 2
		jnz	short loc_9B0B
		shl	di, 1
		jmp	short loc_9B1D
; ---------------------------------------------------------------------------

loc_9B0B:
		mov	si, 0C00h
		mul	si
		xchg	ax, si
		xchg	ax, dx
		xor	dx, dx
		mov	di, 0Ah
		div	di
		xchg	ax, si
		div	di
		xchg	ax, di

loc_9B1D:
		mov	dx, cx
		add	bx, di
		adc	cx, si

loc_9B23:
		pushf
		cli
		in	ax, 5Eh
		xchg	ax, si
		in	ax, 5Ch
		xchg	ax, di
		in	ax, 5Eh
		popf
		cmp	si, ax
		jnz	short loc_9B23
		mov	al, ah
		mov	ah, dh
		cmp	al, dl
		mov	dl, al
		adc	dh, 0
		cmp	dx, cx
		jb	short loc_9B23
		ja	short loc_9B47
		cmp	di, bx
		jb	short loc_9B23

loc_9B47:
		pop	di
		pop	si
		pop	bp
		retn
sub_9ADB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9B4B	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_0]
		xor	ax, ax
		mov	es, ax
		test	byte ptr es:loc_456+2, 80h
		jnz	short loc_9B69
		mov	es, ax
		test	byte ptr es:loc_45A+1, 4
		jz	short loc_9B6F

loc_9B69:
		push	dx
		call	sub_9ADB
		jmp	short loc_9B73
; ---------------------------------------------------------------------------

loc_9B6F:
		push	dx
		call	sub_9A62

loc_9B73:
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
sub_9B4B	endp


; =============== S U B	R O U T	I N E =======================================


sub_9B78	proc near
		push	si
		push	di
		cmp	word_13D60, 0
		jnz	short loc_9B9F
		mov	ah, 4
		xor	cx, cx
		int	1Ah		; CLOCK	- READ DATE FROM REAL TIME CLOCK (AT,XT286,CONV,PS)
					; Return: DL = day in BCD
					; DH = month in	BCD
					; CL = year in BCD
					; CH = century (19h or 20h)
		cmp	ch, 19h
		jz	short loc_9B99
		cmp	ch, 20h	; ' '
		jz	short loc_9B99
		mov	word_13D60, 2
		jmp	short loc_9B9F
; ---------------------------------------------------------------------------

loc_9B99:
		mov	word_13D60, 1

loc_9B9F:
		pop	di
		pop	si
		retn
sub_9B78	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9BA2	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		cmp	ah, 81h	; ''
		jb	short loc_9BDC
		cmp	ah, 0A0h ; ' '
		jb	short loc_9BBE
		cmp	ah, 0E0h ; 'à'
		jb	short loc_9BDC
		cmp	ah, 0F0h ; 'ð'
		jnb	short loc_9BDC

loc_9BBE:
		cmp	al, 40h	; '@'
		jb	short loc_9BDC
		cmp	al, 0FDh ; 'ý'
		jnb	short loc_9BDC
		cmp	al, 7Fh	; ''
		jz	short loc_9BDC
		cmp	al, 80h	; '€'
		adc	al, 61h	; 'a'
		jb	short loc_9BD2
		sub	al, 0A2h ; '¢'

loc_9BD2:
		rcl	ah, 1
		and	ah, 7Fh
		add	ax, 1F21h
		jmp	short loc_9BDE
; ---------------------------------------------------------------------------

loc_9BDC:
		xor	ax, ax

loc_9BDE:
		pop	di
		pop	si
		pop	bp
		retf
sub_9BA2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9BE2	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_9C53
; ---------------------------------------------------------------------------

loc_9BF8:
		les	bx, [bp+var_4]
		assume es:nothing
		mov	al, es:[bx]
		push	ax
		nop
		push	cs
		call	near ptr sub_3AB4
		pop	cx
		or	ax, ax
		jz	short loc_9C17
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_9C50
		jmp	short loc_9C5C
; ---------------------------------------------------------------------------

loc_9C17:
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_9C36
; ---------------------------------------------------------------------------

loc_9C25:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		les	bx, [bp+var_8]
		cmp	al, es:[bx]
		jz	short loc_9C3F
		inc	word ptr [bp+var_8]

loc_9C36:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_9C25

loc_9C3F:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_9C50
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_9C60
; ---------------------------------------------------------------------------

loc_9C50:
		inc	word ptr [bp+var_4]

loc_9C53:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_9BF8

loc_9C5C:
		xor	dx, dx
		xor	ax, ax

loc_9C60:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_9BE2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_9C66(int, int, char *pathname, char *src, int)
sub_9C66	proc far

pathname	= byte ptr -50h
arg_0		= word ptr  6
arg_2		= word ptr  8
dest		= dword	ptr  0Ah
_src		= dword	ptr  0Eh
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 50h
		push	si
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]	; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 10h
		cmp	[bp+arg_C], 0
		jz	short loc_9CBA
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; pathname
		push	ds
		mov	ax, 13C4h
		push	ax		; varname
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; file
		nop
		push	cs
		call	near ptr __searchenv
		add	sp, 0Ch
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx], 0
		jz	short loc_9CE7
		jmp	short loc_9CE2
; ---------------------------------------------------------------------------

loc_9CBA:
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	ax, 4
		push	ax		; char
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		or	ax, ax
		jnz	short loc_9CE7

loc_9CE2:
		mov	ax, 1
		jmp	short loc_9CE9
; ---------------------------------------------------------------------------

loc_9CE7:
		xor	ax, ax

loc_9CE9:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_9C66	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_9CEF(int, char *s, int, int, int, int, int)
sub_9CEF	proc near

pathname	= word ptr -9Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= dword	ptr -14h
s1		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
_src		= dword	ptr -4
arg_0		= word ptr  4
_s		= dword	ptr  6
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 9Ch
		push	si
		push	di
		les	bx, [bp+_s]
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		cmp	ax, 61h	; 'a'
		jb	short loc_9D09
		sub	dx, 20h	; ' '

loc_9D09:
		cmp	dx, 41h	; 'A'
		jb	short loc_9D1D
		cmp	dx, 5Ah	; 'Z'
		ja	short loc_9D1D
		les	bx, [bp+_s]
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jz	short loc_9D33

loc_9D1D:
		push	ds
		mov	ax, 13C9h
		push	ax
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]
		push	cs
		call	near ptr sub_9BE2
		add	sp, 8
		or	ax, dx
		jz	short loc_9D38

loc_9D33:
		mov	[bp+arg_E], 0

loc_9D38:
		mov	[bp+var_1A], 0
		mov	ax, 2Eh	; '.'
		push	ax		; char
		push	word ptr [bp+_s+2]
		push	word ptr [bp+_s]	; s
		nop
		push	cs
		call	near ptr strrchr
		add	sp, 6
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		or	ax, dx
		jz	short loc_9D97
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 13CCh
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+_s+2] ; int
		push	word ptr [bp+_s]	; int
		push	cs
		call	near ptr sub_9C66
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_9D7E
		jmp	loc_9E02
; ---------------------------------------------------------------------------

loc_9D7E:
		push	ds
		mov	ax, 13CDh
		push	ax		; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		nop
		push	cs
		call	near ptr _stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_9E02
		jmp	short loc_9DFD
; ---------------------------------------------------------------------------

loc_9D97:
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 13D2h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+_s+2] ; int
		push	word ptr [bp+_s]	; int
		push	cs
		call	near ptr sub_9C66
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_9E02
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 13D7h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+_s+2] ; int
		push	word ptr [bp+_s]	; int
		push	cs
		call	near ptr sub_9C66
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_9E02
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 13DCh
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+_s+2] ; int
		push	word ptr [bp+_s]	; int
		push	cs
		call	near ptr sub_9C66
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jz	short loc_9E02

loc_9DFD:
		mov	[bp+var_1A], 1

loc_9E02:
		cmp	[bp+var_18], 0
		jz	short loc_9E24
		cmp	[bp+var_1A], 0
		jz	short loc_9E2D
		push	ds
		mov	ax, 13E1h
		push	ax		; name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	word ptr [bp+_src+2], dx
		mov	word ptr [bp+_src], ax
		or	ax, dx
		jnz	short loc_9E2D

loc_9E24:
		mov	word_12B1E, 2
		jmp	loc_9EF3
; ---------------------------------------------------------------------------

loc_9E2D:
		cmp	[bp+var_1A], 0
		jz	short loc_9E46
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src]
		push	ds
		mov	ax, 13E9h
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		jmp	short loc_9E5A
; ---------------------------------------------------------------------------

loc_9E46:
		push	ss		; int
		lea	ax, [bp+pathname]
		push	ax		; int
		xor	ax, ax
		push	ax
		push	ax		; s
		mov	ax, [bp+arg_6]
		add	ax, 4
		push	[bp+arg_8]	; int
		push	ax		; int

loc_9E5A:
		call	__DOSCMD
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jnz	short loc_9E74
		mov	word_12B1E, 8
		jmp	loc_9EF3
; ---------------------------------------------------------------------------

loc_9E74:
		mov	ax, [bp+var_8]
		inc	ax
		push	[bp+var_6]
		push	ax		; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		cmp	ax, 80h	; '€'
		jb	short loc_9E9D
		mov	word_12B1E, 14h
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	short loc_9EF3
; ---------------------------------------------------------------------------

loc_9E9D:
		mov	ax, [bp+arg_A]
		or	ax, [bp+arg_C]
		jnz	short loc_9EB2
		mov	dx, word ptr dword_13CF2+2
		mov	ax, word ptr dword_13CF2
		mov	[bp+arg_C], dx
		mov	[bp+arg_A], ax

loc_9EB2:
		push	[bp+arg_C]	; int
		push	[bp+arg_A]	; int
		cmp	[bp+var_1A], 0
		jz	short loc_9EC6
		mov	dx, word ptr [bp+_src+2]
		mov	ax, word ptr [bp+_src]
		jmp	short loc_9ECC
; ---------------------------------------------------------------------------

loc_9EC6:
		mov	dx, ss
		lea	ax, [bp+pathname]

loc_9ECC:
		push	dx
		push	ax		; src
		push	ss
		lea	ax, [bp+var_14]
		push	ax		; __int32
		call	__DOSENV
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		or	ax, dx
		jnz	short loc_9EF8
		mov	word_12B1E, 8
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_9EF3:
		mov	ax, 0FFFFh
		jmp	short loc_9F43
; ---------------------------------------------------------------------------

loc_9EF8:
		call	off_1373E
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_6]
		push	[bp+var_8]
		cmp	[bp+var_1A], 0
		jz	short loc_9F16
		mov	dx, word ptr [bp+_src+2]
		mov	ax, word ptr [bp+_src]
		jmp	short loc_9F1C
; ---------------------------------------------------------------------------

loc_9F16:
		mov	dx, ss
		lea	ax, [bp+pathname]

loc_9F1C:
		push	dx
		push	ax
		call	[bp+arg_0]
		add	sp, 0Ch
		mov	[bp+var_16], ax
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		nop
		push	cs
		call	near ptr _farfree
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 8
		mov	ax, [bp+var_16]

loc_9F43:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_9CEF	endp

seg000		ends

; ===========================================================================

; Segment type:	Pure code
seg001		segment	byte public 'CODE' use16
		assume cs:seg001
		;org 9
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9F49	proc far

var_4		= dword	ptr -4

		enter	4, 0
		push	si
		push	di
		push	ds
		push	offset aReiidenconfig ;	"ReiidenConfig"
		push	0Dh
		push	5
		call	sub_F6A
		mov	di, ax
		or	di, di
		jnz	short loc_9F65
		jmp	loc_A05D
; ---------------------------------------------------------------------------

loc_9F65:
		mov	word ptr [bp+var_4+2], di
		mov	word ptr [bp+var_4], 0
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx+12h], 0
		jnz	short loc_9F7A
		jmp	loc_A053
; ---------------------------------------------------------------------------

loc_9F7A:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+21h]
		mov	ax, es:[bx+1Fh]
		mov	word_12B32, dx
		mov	word_12B30, ax
		mov	word_13EDA, 0
		mov	word_13ED8, 0
		les	bx, [bp+var_4]
		mov	al, es:[bx+12h]
		mov	byte_14021, al
		les	bx, [bp+var_4]
		mov	al, es:[bx+0Eh]
		mov	byte_14022, al
		les	bx, [bp+var_4]
		mov	dx, es:[bx+47h]
		mov	ax, es:[bx+45h]
		mov	word_12B36, dx
		mov	arglist, ax
		xor	si, si
		jmp	short loc_A003
; ---------------------------------------------------------------------------

loc_9FC2:
		mov	ax, si
		add	ax, ax
		les	bx, [bp+var_4]
		add	bx, ax
		mov	ax, es:[bx+27h]
		mov	bx, si
		shl	bx, 2
		mov	word ptr [bx+143Eh], 0
		mov	[bx+143Ch], ax
		mov	ax, si
		add	ax, ax
		les	bx, [bp+var_4]
		add	bx, ax
		mov	word ptr es:[bx+27h], 0
		mov	bx, si
		shl	bx, 2
		mov	dx, [bx+143Eh]
		mov	ax, [bx+143Ch]
		add	word_13ED8, ax
		adc	word_13EDA, dx
		inc	si

loc_A003:
		cmp	si, 4
		jl	short loc_9FC2
		les	bx, [bp+var_4]
		mov	dx, es:[bx+1Dh]
		mov	ax, es:[bx+1Bh]
		mov	word_135E6, dx
		mov	word_135E4, ax
		les	bx, [bp+var_4]
		mov	al, es:[bx+11h]
		mov	byte_14020, al
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+21h], 0
		mov	word ptr es:[bx+1Fh], 0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+25h], 0
		mov	word ptr es:[bx+23h], 0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+47h], 0
		mov	word ptr es:[bx+45h], 0
		jmp	short loc_A05B
; ---------------------------------------------------------------------------

loc_A053:
		push	ds
		push	offset aErrorEnd_flagI ; "ERROR	: end_flag is not ture !!"
		jmp	short loc_A061
; ---------------------------------------------------------------------------
		jmp	short loc_A069
; ---------------------------------------------------------------------------

loc_A05B:
		jmp	short loc_A06D
; ---------------------------------------------------------------------------

loc_A05D:
		push	ds
		push	offset s	; "ERROR : cfg_id is not alloc!!"

loc_A061:
		call	_puts
		add	sp, 4

loc_A069:
		xor	ax, ax
		jmp	short loc_A072
; ---------------------------------------------------------------------------

loc_A06D:
		mov	ax, 1
		jmp	short $+2

loc_A072:
		pop	di
		pop	si
		leave
		retf
sub_9F49	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A076	proc far

var_4		= dword	ptr -4

		enter	4, 0
		push	si
		push	di
		push	ds
		push	offset aReiidenconfi_0 ; "ReiidenConfig"
		push	0Dh
		push	5
		call	sub_F6A
		mov	di, ax
		or	di, di
		jz	short loc_A0EE
		mov	word ptr [bp+var_4+2], di
		mov	word ptr [bp+var_4], 0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+21h], 0
		mov	word ptr es:[bx+1Fh], 0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+25h], 0
		mov	word ptr es:[bx+23h], 0
		les	bx, [bp+var_4]
		mov	byte ptr es:[bx+12h], 0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+47h], 0
		mov	word ptr es:[bx+45h], 0
		xor	si, si
		jmp	short loc_A0E0
; ---------------------------------------------------------------------------

loc_A0D0:
		mov	ax, si
		add	ax, ax
		les	bx, [bp+var_4]
		add	bx, ax
		mov	word ptr es:[bx+27h], 0
		inc	si

loc_A0E0:
		cmp	si, 4
		jl	short loc_A0D0
		les	bx, [bp+var_4]
		mov	word ptr es:[bx+3Fh], 0

loc_A0EE:
		mov	ax, 1
		jmp	short $+2
		pop	di
		pop	si
		leave
		retf
sub_A076	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl main(int argc, const char	**argv,	const char **envp)
_main		proc far

_argc		= word ptr  6
_argv		= dword	ptr  8
_envp		= dword	ptr  0Ch

		push	bp
		mov	bp, sp
		call	sub_EF80
		or	ax, ax
		jnz	short loc_A105
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_A105:
		les	bx, [bp+_argv]
		les	bx, es:[bx+4]
		mov	al, es:[bx]
		cbw
		cmp	ax, 74h	; 't'
		jz	short loc_A121
		push	cs
		call	near ptr sub_9F49
		or	ax, ax
		jnz	short loc_A11F
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_A11F:
		jmp	short loc_A13E
; ---------------------------------------------------------------------------

loc_A121:
		les	bx, [bp+_argv]
		les	bx, es:[bx+4]
		mov	al, es:[bx+1]
		cbw
		cmp	ax, 31h	; '1'
		jnz	short loc_A139
		mov	byte_14021, 1
		jmp	short loc_A13E
; ---------------------------------------------------------------------------

loc_A139:
		mov	byte_14021, 2

loc_A13E:
		call	sub_F0E4
		call	sub_CEAD
		call	sub_B945
		call	sub_CF1B
		push	0
		push	0
		push	ds
		push	offset arg0	; "op"
		push	ds
		push	offset path	; "op"
		call	_execl
		add	sp, 0Ch
		pop	bp
		retf
_main		endp

seg001		ends

; ===========================================================================

; Segment type:	Pure code
seg002		segment	byte public 'CODE' use16
		assume cs:seg002
		;org 8
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A168	proc far

var_30		= byte ptr -30h
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		enter	30h, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	[bp+var_6], 0
		mov	[bp+var_8], 1
		lea	ax, [bp+var_30]
		push	ss
		push	ax
		push	ds
		push	offset off_12BCC
		mov	cx, 28h	; '('
		call	SCOPY@
		xor	di, di
		jmp	short loc_A1A7
; ---------------------------------------------------------------------------

loc_A190:
		xor	cx, cx
		mov	bx, 0Ah
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		call	LXMUL@
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		inc	di

loc_A1A7:
		cmp	di, [bp+arg_6]
		jl	short loc_A190

loc_A1AC:
		push	0
		push	0Ah
		push	[bp+var_6]
		push	[bp+var_8]
		call	F_LUDIV@
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		cmp	si, 270h
		jle	short loc_A1CA
		jmp	loc_A261
; ---------------------------------------------------------------------------

loc_A1CA:
		push	0
		push	0Ah
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+arg_A]
		push	[bp+arg_8]
		call	F_LUDIV@
		push	dx
		push	ax
		call	LUMOD@
		mov	[bp+var_2], ax
		push	0
		push	0Ah
		push	[bp+var_6]
		push	[bp+var_8]
		push	[bp+arg_E]
		push	[bp+arg_C]
		call	F_LUDIV@
		push	dx
		push	ax
		call	LUMOD@
		mov	[bp+var_4], ax
		cmp	[bp+var_2], 0
		jz	short loc_A213
		mov	[bp+arg_10], 1

loc_A213:
		cmp	[bp+arg_10], 0
		jz	short loc_A24A
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_A229
		mov	ax, [bp+arg_C]
		or	ax, [bp+arg_E]
		jnz	short loc_A24A

loc_A229:
		mov	bx, [bp+var_2]
		shl	bx, 2
		lea	ax, [bp+var_30]
		add	bx, ax
		push	word ptr ss:[bx+2]
		push	word ptr ss:[bx]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	si
		call	sub_E10C
		add	sp, 0Ah

loc_A24A:
		add	si, 10h
		cmp	[bp+var_6], 0
		jbe	short loc_A256
		jmp	loc_A1AC
; ---------------------------------------------------------------------------

loc_A256:
		jnz	short loc_A261
		cmp	[bp+var_8], 1
		jbe	short loc_A261
		jmp	loc_A1AC
; ---------------------------------------------------------------------------

loc_A261:
		pop	di
		pop	si
		leave
		retf
sub_A168	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A265	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		enter	4, 0
		cmp	[bp+arg_0], 1
		jnz	short loc_A2A5
		mov	byte_14039, 0
		mov	byte_1403A, 0
		mov	byte_1403B, 0
		mov	byte_1403C, 0
		mov	byte_1403D, 0
		mov	byte_1403E, 0
		mov	byte_1403F, 0
		mov	byte_14040, 0
		mov	byte_14041, 0
		mov	byte_14042, 0
		leave
		retf
; ---------------------------------------------------------------------------
		leave
		retf
; ---------------------------------------------------------------------------

loc_A2A5:
		push	7
		call	sub_11DE
		mov	[bp+var_2], ax
		push	5
		call	sub_11DE
		mov	[bp+var_4], ax
		push	7
		call	sub_11DE
		or	[bp+var_2], ax
		push	5
		call	sub_11DE
		or	[bp+var_4], ax
		mov	al, byte_14039
		mov	ah, 0
		mov	dx, [bp+var_2]
		and	dx, 4
		cmp	ax, dx
		jz	short loc_A2EE
		test	byte ptr [bp+var_2], 4
		jz	short loc_A2E9
		mov	byte_12BA2, 1
		jmp	short loc_A2EE
; ---------------------------------------------------------------------------

loc_A2E9:
		mov	byte_12BA2, 0

loc_A2EE:
		mov	al, byte ptr [bp+var_2]
		and	al, 4
		mov	byte_14039, al
		mov	al, byte_1403A
		mov	ah, 0
		mov	dx, [bp+var_2]
		and	dx, 20h
		cmp	ax, dx
		jz	short loc_A317
		test	byte ptr [bp+var_2], 20h
		jz	short loc_A312
		mov	byte_12BA3, 1
		jmp	short loc_A317
; ---------------------------------------------------------------------------

loc_A312:
		mov	byte_12BA3, 0

loc_A317:
		mov	al, byte ptr [bp+var_2]
		and	al, 20h
		mov	byte_1403A, al
		mov	al, byte_1403B
		mov	ah, 0
		mov	dx, [bp+var_2]
		and	dx, 8
		cmp	ax, dx
		jz	short loc_A340
		test	byte ptr [bp+var_2], 8
		jz	short loc_A33B
		or	byte_12B99, 2
		jmp	short loc_A340
; ---------------------------------------------------------------------------

loc_A33B:
		and	byte_12B99, 0FDh

loc_A340:
		mov	al, byte ptr [bp+var_2]
		and	al, 8
		mov	byte_1403B, al
		mov	al, byte_1403C
		mov	ah, 0
		mov	dx, [bp+var_2]
		and	dx, 10h
		cmp	ax, dx
		jz	short loc_A369
		test	byte ptr [bp+var_2], 10h
		jz	short loc_A364
		or	byte_12B99, 1
		jmp	short loc_A369
; ---------------------------------------------------------------------------

loc_A364:
		and	byte_12B99, 0FEh

loc_A369:
		mov	al, byte ptr [bp+var_2]
		and	al, 10h
		mov	byte_1403C, al
		mov	al, byte_1403D
		mov	ah, 0
		mov	dx, [bp+var_4]
		and	dx, 2
		cmp	ax, dx
		jz	short loc_A392
		test	byte ptr [bp+var_4], 2
		jz	short loc_A38D
		mov	byte_12B9C, 1
		jmp	short loc_A392
; ---------------------------------------------------------------------------

loc_A38D:
		mov	byte_12B9C, 0

loc_A392:
		mov	al, byte ptr [bp+var_4]
		and	al, 2
		mov	byte_1403D, al
		mov	al, byte_1403E
		mov	ah, 0
		mov	dx, [bp+var_4]
		and	dx, 4
		cmp	ax, dx
		jz	short loc_A3BB
		test	byte ptr [bp+var_4], 4
		jz	short loc_A3B6
		mov	byte_12BA1, 1
		jmp	short loc_A3BB
; ---------------------------------------------------------------------------

loc_A3B6:
		mov	byte_12BA1, 0

loc_A3BB:
		mov	al, byte ptr [bp+var_4]
		and	al, 4
		mov	byte_1403E, al
		push	0
		call	sub_11DE
		mov	[bp+var_2], ax
		push	3
		call	sub_11DE
		mov	[bp+var_4], ax
		push	0
		call	sub_11DE
		or	[bp+var_2], ax
		push	3
		call	sub_11DE
		or	[bp+var_4], ax
		mov	al, byte_1403F
		mov	ah, 0
		mov	dx, [bp+var_2]
		and	dx, 1
		cmp	ax, dx
		jz	short loc_A409
		test	byte ptr [bp+var_2], 1
		jz	short loc_A409
		mov	al, 1
		sub	al, byte_12B9F
		mov	byte_12B9F, al

loc_A409:
		mov	al, byte ptr [bp+var_2]
		and	al, 1
		mov	byte_1403F, al
		mov	al, byte_14040
		mov	ah, 0
		mov	dx, [bp+var_4]
		and	dx, 10h
		cmp	ax, dx
		jz	short loc_A445
		test	byte ptr [bp+var_4], 10h
		jz	short loc_A440
		cmp	byte_12B9F, 1
		jnz	short loc_A439
		cmp	byte_12B9C, 1
		jnz	short loc_A439
		mov	byte_12B9D, 1

loc_A439:
		mov	byte_12BA0, 1
		jmp	short loc_A445
; ---------------------------------------------------------------------------

loc_A440:
		mov	byte_12BA0, 0

loc_A445:
		mov	al, byte ptr [bp+var_4]
		and	al, 10h
		mov	byte_14040, al
		leave
		retf
sub_A265	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A44F	proc far
		push	bp
		mov	bp, sp
		mov	byte_12B99, 0
		mov	byte_12BA2, 0
		mov	byte_12BA3, 0
		mov	byte_12BA0, 0
		mov	byte_12B9F, 0
		mov	byte_12B9C, 0
		mov	byte_12BA1, 0
		mov	byte_12B9A, 0
		mov	byte_12B9B, 0
		push	1
		push	cs
		call	near ptr sub_A265
		pop	cx
		pop	bp
		retf
sub_A44F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A488	proc far

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	al, [bp+arg_0]
		add	al, 9Ch	; 'œ'
		pop	bp
		retf
sub_A488	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A494	proc far

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	al, [bp+arg_0]
		add	al, 64h	; 'd'
		pop	bp
		retf
sub_A494	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A4A0	proc far

dest		= byte ptr -26h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= dword	ptr -12h
stream		= dword	ptr -0Eh
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	26h, 0
		push	si
		mov	[bp+var_4], ds
		mov	[bp+var_6], 1ACh
		mov	word ptr [bp+var_12+2],	ds
		mov	word ptr [bp+var_12], 1AFh
		mov	[bp+var_14], ds
		mov	[bp+var_16], 1C0h
		mov	al, byte_14022
		mov	ah, 0
		mov	bx, ax
		cmp	bx, 3
		ja	short loc_A4F5
		add	bx, bx
		jmp	cs:off_A614[bx]

loc_A4D0:
		push	ds
		push	offset aReyhies_dat ; "REYHIES.DAT"
		jmp	short loc_A4E6
; ---------------------------------------------------------------------------

loc_A4D6:
		push	ds
		push	offset aReyhino_dat ; "REYHINO.DAT"
		jmp	short loc_A4E6
; ---------------------------------------------------------------------------

loc_A4DC:
		push	ds
		push	offset aReyhiha_dat ; "REYHIHA.DAT"
		jmp	short loc_A4E6
; ---------------------------------------------------------------------------

loc_A4E2:
		push	ds
		push	offset src	; "REYHILU.DAT"

loc_A4E6:
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		jmp	short $+2

loc_A4F5:
		cli
		push	ds
		push	offset mode	; "wb"
		push	ss
		lea	ax, [bp+dest]
		push	ax		; path
		call	_fopen
		add	sp, 8
		mov	word ptr [bp+stream+2],	dx
		mov	word ptr [bp+stream], ax
		or	ax, dx
		jnz	short loc_A517
		jmp	loc_A610
; ---------------------------------------------------------------------------
		jmp	loc_A611
; ---------------------------------------------------------------------------

loc_A517:
		push	7
		push	[bp+var_14]
		push	[bp+var_16]
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		mov	[bp+var_2], 0Ah
		mov	[bp+var_8], 0
		mov	[bp+var_A], 3E8h
		xor	si, si
		jmp	short loc_A55A
; ---------------------------------------------------------------------------

loc_A543:
		les	bx, [bp+var_12]
		add	bx, si
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr sub_A488
		pop	cx
		les	bx, [bp+var_12]
		add	bx, si
		mov	es:[bx], al
		inc	si

loc_A55A:
		cmp	si, 10h
		jl	short loc_A543
		xor	si, si
		jmp	short loc_A57D
; ---------------------------------------------------------------------------

loc_A563:
		push	10h
		push	word ptr [bp+var_12+2]
		push	word ptr [bp+var_12]
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		inc	si

loc_A57D:
		cmp	si, 0Ah
		jl	short loc_A563
		xor	si, si
		jmp	short loc_A5B1
; ---------------------------------------------------------------------------

loc_A586:
		push	4
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		add	ax, 0FF9Ch
		adc	dx, 0FFFFh
		mov	[bp+var_8], dx
		mov	[bp+var_A], ax
		inc	si

loc_A5B1:
		cmp	si, 0Ah
		jl	short loc_A586
		xor	si, si
		jmp	short loc_A5DA
; ---------------------------------------------------------------------------

loc_A5BA:
		push	2
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		mov	ax, [bp+var_2]
		dec	ax
		mov	[bp+var_2], ax
		inc	si

loc_A5DA:
		cmp	si, 0Ah
		jl	short loc_A5BA
		xor	si, si
		jmp	short loc_A5FD
; ---------------------------------------------------------------------------

loc_A5E3:
		push	2
		push	[bp+var_4]
		push	[bp+var_6]
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		inc	si

loc_A5FD:
		cmp	si, 0Ah
		jl	short loc_A5E3
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4

loc_A610:
		sti

loc_A611:
		pop	si
		leave
		retf
sub_A4A0	endp

; ---------------------------------------------------------------------------
off_A614	dw offset loc_A4D0
		dw offset loc_A4D6
		dw offset loc_A4DC
		dw offset loc_A4E2

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A61C	proc far

dest		= byte ptr -46h
s1		= byte ptr -36h
stream		= dword	ptr -4

		enter	46h, 0
		push	si
		mov	al, byte_14022
		mov	ah, 0
		mov	bx, ax
		cmp	bx, 3
		ja	short loc_A659
		add	bx, bx
		jmp	cs:off_A7C7[bx]

loc_A634:
		push	ds
		push	offset aReyhies_dat_0 ;	"REYHIES.DAT"
		jmp	short loc_A64A
; ---------------------------------------------------------------------------

loc_A63A:
		push	ds
		push	offset aReyhino_dat_0 ;	"REYHINO.DAT"
		jmp	short loc_A64A
; ---------------------------------------------------------------------------

loc_A640:
		push	ds
		push	offset aReyhiha_dat_0 ;	"REYHIHA.DAT"
		jmp	short loc_A64A
; ---------------------------------------------------------------------------

loc_A646:
		push	ds
		push	offset aReyhilu_dat_0 ;	"REYHILU.DAT"

loc_A64A:
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		jmp	short $+2

loc_A659:
		push	0		; amode
		push	ss
		lea	ax, [bp+dest]
		push	ax		; path
		call	_access
		add	sp, 6
		or	ax, ax
		jz	short loc_A670
		push	cs
		call	near ptr sub_A4A0

loc_A670:
		cli
		push	ds
		push	offset aRb	; "rb"
		push	ss
		lea	ax, [bp+dest]
		push	ax		; path
		call	_fopen
		add	sp, 8
		mov	word ptr [bp+stream+2],	dx
		mov	word ptr [bp+stream], ax
		or	ax, dx
		jnz	short loc_A694
		push	ds
		push	offset aGtg@gcglvkvVVi ; "ƒtƒ@ƒCƒ‹‚ª‚Ý‚Â‚©‚ñ‚È‚¢"
		jmp	short loc_A6D5
; ---------------------------------------------------------------------------
		jmp	short loc_A6DE
; ---------------------------------------------------------------------------

loc_A694:
		push	7
		push	ss
		lea	ax, [bp+s1]
		push	ax
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____read
		add	sp, 8
		push	4		; n
		push	ds
		push	offset aHiscore	; "HISCORE"
		push	ss
		lea	ax, [bp+s1]
		push	ax		; s1
		call	_memcmp
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_A6E4
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4
		push	ds
		push	offset format	; "ƒtƒ@ƒCƒ‹‚ªˆá‚¤I"

loc_A6D5:
		call	_printf
		add	sp, 4
		sti

loc_A6DE:
		mov	ax, 1
		jmp	loc_A7C4
; ---------------------------------------------------------------------------

loc_A6E4:
		push	0A0h ; ' '
		call	sub_25B9
		pop	cx
		mov	word ptr font+2, dx
		mov	word ptr font, ax
		push	14h
		call	sub_25B9
		pop	cx
		mov	word ptr off_1402C+2, dx
		mov	word ptr off_1402C, ax
		push	14h
		call	sub_25B9
		pop	cx
		mov	word ptr off_14028+2, dx
		mov	word ptr off_14028, ax
		push	28h ; '('
		call	sub_25B9
		pop	cx
		mov	word ptr off_14034+2, dx
		mov	word ptr off_14034, ax
		push	0A0h ; ' '
		push	word ptr font+2
		push	word ptr font
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____read
		add	sp, 8
		push	28h ; '('
		push	word ptr off_14034+2
		push	word ptr off_14034
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____read
		add	sp, 8
		push	14h
		push	word ptr off_1402C+2
		push	word ptr off_1402C
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____read
		add	sp, 8
		push	14h
		push	word ptr off_14028+2
		push	word ptr off_14028
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____read
		add	sp, 8
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4
		xor	si, si
		jmp	short loc_A7B9
; ---------------------------------------------------------------------------

loc_A7A0:
		les	bx, font
		add	bx, si
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr sub_A494
		pop	cx
		les	bx, font
		add	bx, si
		mov	es:[bx], al
		inc	si

loc_A7B9:
		cmp	si, 0A0h ; ' '
		jl	short loc_A7A0
		sti
		xor	ax, ax
		jmp	short $+2

loc_A7C4:
		pop	si
		leave
		retf
sub_A61C	endp

; ---------------------------------------------------------------------------
off_A7C7	dw offset loc_A634
		dw offset loc_A63A
		dw offset loc_A640
		dw offset loc_A646

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A7CF	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		xor	dx, dx
		jmp	short loc_A7F2
; ---------------------------------------------------------------------------

loc_A7D6:
		mov	bx, [bp+arg_0]
		shl	bx, 4
		add	bx, dx
		mov	es, word ptr font+2
		add	bx, word ptr font
		mov	al, es:[bx]
		les	bx, [bp+arg_2]
		add	bx, dx
		mov	es:[bx], al
		inc	dx

loc_A7F2:
		cmp	dx, 10h
		jl	short loc_A7D6
		les	bx, [bp+arg_2]
		mov	byte ptr es:[bx+10h], 0
		pop	bp
		retf
sub_A7CF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A801	proc far

var_2		= word ptr -2

		enter	2, 0
		push	si
		push	di
		mov	[bp+var_2], 27h	; '''
		mov	di, 8282h
		mov	si, 1
		jmp	short loc_A84F
; ---------------------------------------------------------------------------

loc_A814:
		mov	ax, di
		and	ax, 0FFh
		push	ax
		mov	ax, di
		shr	ax, 8
		push	ax		; arglist
		push	ds
		push	offset aCC	; "%c%c"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 0F0h ; 'ð'
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Eh
		inc	di
		inc	si

loc_A84F:
		cmp	si, 1Ah
		jl	short loc_A814
		push	ds
		push	offset aVb	; "‚"
		push	823h
		push	0F0h ; 'ð'
		push	20h ; ' '
		call	sub_E10C
		add	sp, 0Ah
		mov	di, 8260h
		xor	si, si
		jmp	short loc_A8AA
; ---------------------------------------------------------------------------

loc_A86F:
		mov	ax, di
		and	ax, 0FFh
		push	ax
		mov	ax, di
		shr	ax, 8
		push	ax		; arglist
		push	ds
		push	offset aCC_0	; "%c%c"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 120h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Eh
		inc	di
		inc	si

loc_A8AA:
		cmp	si, 1Ah
		jl	short loc_A86F
		xor	si, si
		jmp	short loc_A8F5
; ---------------------------------------------------------------------------

loc_A8B3:
		mov	bx, si
		add	bx, bx
		mov	di, [bx+108h]
		mov	ax, di
		and	ax, 0FFh
		push	ax
		mov	ax, di
		shr	ax, 8
		push	ax		; arglist
		push	ds
		push	offset aCC_1	; "%c%c"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 150h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Eh
		inc	si

loc_A8F5:
		cmp	si, 12h
		jl	short loc_A8B3
		mov	di, 824Fh
		xor	si, si
		jmp	short loc_A93C
; ---------------------------------------------------------------------------

loc_A901:
		mov	ax, di
		and	ax, 0FFh
		push	ax
		mov	ax, di
		shr	ax, 8
		push	ax		; arglist
		push	ds
		push	offset aCC_2	; "%c%c"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 168h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Eh
		inc	di
		inc	si

loc_A93C:
		cmp	si, 0Ah
		jl	short loc_A901
		push	ds
		push	offset aSp	; "SP"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 168h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Ah
		mov	si, 0Fh
		push	ds
		push	offset aBi	; "©"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 168h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Ah
		inc	si
		push	ds
		push	offset aBi_0	; "¨"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 168h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Ah
		inc	si
		push	ds
		push	offset aPi	; "I"
		push	[bp+var_2]	; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 168h
		push	ax		; int
		mov	ax, si
		mov	bx, 12h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 20h	; ' '
		push	dx		; int
		call	sub_E9E4
		add	sp, 0Ah
		inc	si
		pop	di
		pop	si
		leave
		retf
sub_A801	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A9FF	proc far

var_12		= byte ptr -12h
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= dword	ptr  0Eh
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		enter	12h, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		lea	ax, [bp+var_12]
		push	ss
		push	ax
		push	ds
		push	offset aBqbqbqbqbqbqbq ; "QQQQQQQQ"
		mov	cx, 11h
		call	SCOPY@
		push	0
		call	sub_D107
		pop	cx
		push	ds
		push	offset aB@cB@iB@ ; "@—ì@ˆÊ@"
		push	33h ; '3'
		push	30h ; '0'
		push	20h ; ' '
		call	sub_E10C
		add	sp, 0Ah
		push	ds
		push	offset aB@b@cB@b@sob@b ; "@@–¼@@‘O@@"
		push	33h ; '3'
		push	30h ; '0'
		push	90h ; ''
		call	sub_E10C
		add	sp, 0Ah
		push	ds
		push	offset aB@b@uB@b@u_b@b ; "@@“¾@@“_@@"
		push	33h ; '3'
		push	30h ; '0'
		push	160h
		call	sub_E10C
		add	sp, 0Ah
		push	ds
		push	offset aGxgebGwbeglbGg ; "ƒXƒe[ƒWEƒ‹[ƒg"
		push	33h ; '3'
		push	30h ; '0'
		push	200h
		call	sub_E10C
		add	sp, 0Ah
		xor	si, si
		jmp	loc_AD66
; ---------------------------------------------------------------------------

loc_AA71:
		mov	bx, si
		cmp	bx, 9
		jbe	short loc_AA7B
		jmp	loc_AB4F
; ---------------------------------------------------------------------------

loc_AA7B:
		add	bx, bx
		jmp	cs:off_AD72[bx]

loc_AA82:
		push	ds
		push	offset aB@sB@r_b@ ; "@èË@_@"
		cmp	si, di
		jnz	short loc_AA8F
		mov	ax, 3
		jmp	short loc_AA92
; ---------------------------------------------------------------------------

loc_AA8F:
		mov	ax, 7

loc_AA92:
		jmp	loc_AB36
; ---------------------------------------------------------------------------

loc_AA95:
		push	ds
		push	offset aSMRgcId	; "‘¾Œ³ƒ–¾‰¤"
		cmp	si, di
		jnz	short loc_AAA2
		mov	ax, 3
		jmp	short loc_AAA5
; ---------------------------------------------------------------------------

loc_AAA2:
		mov	ax, 7

loc_AAA5:
		jmp	loc_AB36
; ---------------------------------------------------------------------------

loc_AAA8:
		push	ds
		push	offset aB@uvb@rxb@ ; "@“V@å@"
		cmp	si, di
		jnz	short loc_AAB5
		mov	ax, 3
		jmp	short loc_AAB8
; ---------------------------------------------------------------------------

loc_AAB5:
		mov	ax, 7

loc_AAB8:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AABA:
		push	ds
		push	offset aB@r_b@rxb@ ; "@_@å@"
		cmp	si, di
		jnz	short loc_AAC7
		mov	ax, 3
		jmp	short loc_AACA
; ---------------------------------------------------------------------------

loc_AAC7:
		mov	ax, 7

loc_AACA:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AACC:
		push	ds
		push	offset aB@tnb@rxb@ ; "@’n@å@"
		cmp	si, di
		jnz	short loc_AAD9
		mov	ax, 3
		jmp	short loc_AADC
; ---------------------------------------------------------------------------

loc_AAD9:
		mov	ax, 7

loc_AADC:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AADE:
		push	ds
		push	offset aB@rlb@rxb@ ; "@l@å@"
		cmp	si, di
		jnz	short loc_AAEB
		mov	ax, 3
		jmp	short loc_AAEE
; ---------------------------------------------------------------------------

loc_AAEB:
		mov	ax, 7

loc_AAEE:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AAF0:
		push	ds
		push	offset aB@rxb@pcb@ ; "@å@—@"
		cmp	si, di
		jnz	short loc_AAFD
		mov	ax, 3
		jmp	short loc_AB00
; ---------------------------------------------------------------------------

loc_AAFD:
		mov	ax, 7

loc_AB00:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AB02:
		push	ds
		push	offset aIab@czb@ot ; "‰A@—z@Žt"
		cmp	si, di
		jnz	short loc_AB0F
		mov	ax, 3
		jmp	short loc_AB12
; ---------------------------------------------------------------------------

loc_AB0F:
		mov	ax, 7

loc_AB12:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AB14:
		push	ds
		push	offset aSB@fB@ot ; "èË@”}@Žt"
		cmp	si, di
		jnz	short loc_AB21
		mov	ax, 3
		jmp	short loc_AB24
; ---------------------------------------------------------------------------

loc_AB21:
		mov	ax, 7

loc_AB24:
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AB26:
		push	ds
		push	offset aPcb@lB@o ; "C@‹Æ@ŽÒ"
		cmp	si, di
		jnz	short loc_AB33
		mov	ax, 3
		jmp	short loc_AB36
; ---------------------------------------------------------------------------

loc_AB33:
		mov	ax, 7

loc_AB36:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h	; '@'
		push	ax
		push	20h ; ' '
		call	sub_E10C
		add	sp, 0Ah
		jmp	short $+2

loc_AB4F:
		cmp	si, di
		jnz	short loc_AB5A
		mov	dx, ss
		lea	ax, [bp+var_12]
		jmp	short loc_AB69
; ---------------------------------------------------------------------------

loc_AB5A:
		mov	ax, si
		imul	ax, 12h
		mov	dx, [bp+arg_E]
		push	ax
		mov	ax, [bp+arg_C]
		pop	bx
		add	ax, bx

loc_AB69:
		push	dx
		push	ax
		cmp	si, di
		jnz	short loc_AB74
		mov	ax, 3
		jmp	short loc_AB77
; ---------------------------------------------------------------------------

loc_AB74:
		mov	ax, 7

loc_AB77:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h	; '@'
		push	ax
		push	90h ; ''
		call	sub_E10C
		add	sp, 0Ah
		push	0
		push	0
		push	0
		cmp	di, si
		jnz	short loc_ABA1
		mov	dx, [bp+arg_4]
		mov	ax, [bp+arg_2]
		jmp	short loc_ABB3
; ---------------------------------------------------------------------------

loc_ABA1:
		mov	ax, si
		shl	ax, 2
		les	bx, off_14034
		add	bx, ax
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]

loc_ABB3:
		push	dx
		push	ax
		push	7
		cmp	si, di
		jnz	short loc_ABC0
		mov	ax, 3
		jmp	short loc_ABC3
; ---------------------------------------------------------------------------

loc_ABC0:
		mov	ax, 7

loc_ABC3:
		or	ax, 30h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h	; '@'
		push	ax
		push	160h
		push	cs
		call	near ptr sub_A168
		add	sp, 12h
		cmp	si, di
		jz	short loc_ABEE
		mov	ax, si
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		cmp	word ptr es:[bx], 28h ;	'('
		jl	short loc_ABF8

loc_ABEE:
		cmp	si, di
		jnz	short loc_AC3F
		cmp	[bp+arg_6], 28h	; '('
		jge	short loc_AC3F

loc_ABF8:
		push	0
		push	0
		push	0
		cmp	si, di
		jnz	short loc_AC07
		mov	ax, [bp+arg_6]
		jmp	short loc_AC14
; ---------------------------------------------------------------------------

loc_AC07:
		mov	ax, si
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		mov	ax, es:[bx]

loc_AC14:
		cwd
		push	dx
		push	ax
		push	2
		cmp	si, di
		jnz	short loc_AC22
		mov	ax, 3
		jmp	short loc_AC25
; ---------------------------------------------------------------------------

loc_AC22:
		mov	ax, 7

loc_AC25:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h	; '@'
		push	ax
		push	210h
		push	cs
		call	near ptr sub_A168
		add	sp, 12h
		jmp	loc_ACCD
; ---------------------------------------------------------------------------

loc_AC3F:
		cmp	si, di
		jz	short loc_AC53
		mov	ax, si
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		cmp	word ptr es:[bx], 32h ;	'2'
		jz	short loc_AC5D

loc_AC53:
		cmp	si, di
		jnz	short loc_AC87
		cmp	[bp+arg_6], 32h	; '2'
		jnz	short loc_AC87

loc_AC5D:
		push	ds
		push	offset aCvke	; "–‚ŠE"
		cmp	si, di
		jnz	short loc_AC6A
		mov	ax, 3
		jmp	short loc_AC6D
; ---------------------------------------------------------------------------

loc_AC6A:
		mov	ax, 7

loc_AC6D:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h	; '@'
		push	ax
		push	210h
		call	sub_E10C
		add	sp, 0Ah
		jmp	short loc_ACCD
; ---------------------------------------------------------------------------

loc_AC87:
		cmp	si, di
		jz	short loc_AC9B
		mov	ax, si
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		cmp	word ptr es:[bx], 3Ch ;	'<'
		jz	short loc_ACA5

loc_AC9B:
		cmp	si, di
		jnz	short loc_ACCD
		cmp	[bp+arg_6], 3Ch	; '<'
		jnz	short loc_ACCD

loc_ACA5:
		push	ds
		push	offset aTnnc	; "’n–"
		cmp	si, di
		jnz	short loc_ACB2
		mov	ax, 3
		jmp	short loc_ACB5
; ---------------------------------------------------------------------------

loc_ACB2:
		mov	ax, 7

loc_ACB5:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h	; '@'
		push	ax
		push	210h
		call	sub_E10C
		add	sp, 0Ah

loc_ACCD:
		push	ds
		push	offset aB	; "|"
		cmp	si, di
		jnz	short loc_ACDA
		mov	ax, 3
		jmp	short loc_ACDD
; ---------------------------------------------------------------------------

loc_ACDA:
		mov	ax, 7

loc_ACDD:
		or	ax, 20h
		push	ax
		mov	ax, si
		shl	ax, 4
		add	ax, 40h	; '@'
		push	ax
		push	230h
		call	sub_E10C
		add	sp, 0Ah
		cmp	si, di
		jnz	short loc_ACFE
		les	bx, [bp+arg_8]
		jmp	short loc_AD0A
; ---------------------------------------------------------------------------

loc_ACFE:
		mov	bx, si
		add	bx, bx
		mov	es, word ptr off_14028+2
		add	bx, word ptr off_14028

loc_AD0A:
		mov	al, es:[bx+1]
		cbw
		push	ax
		cmp	si, di
		jnz	short loc_AD19
		les	bx, [bp+arg_8]
		jmp	short loc_AD23
; ---------------------------------------------------------------------------

loc_AD19:
		mov	ax, si
		add	ax, ax
		les	bx, off_14028
		add	bx, ax

loc_AD23:
		mov	al, es:[bx]
		cbw
		push	ax		; arglist
		push	ds
		push	offset aCC_3	; "%c%c"
		cmp	si, di
		jnz	short loc_AD35
		mov	ax, 3
		jmp	short loc_AD38
; ---------------------------------------------------------------------------

loc_AD35:
		mov	ax, 7

loc_AD38:
		or	ax, 20h
		push	ax		; int
		mov	ax, si
		shl	ax, 4
		add	ax, 40h	; '@'
		push	ax		; int
		push	240h		; int
		call	sub_E9E4
		add	sp, 0Eh
		cmp	di, si
		jnz	short loc_AD65
		mov	word_14030, 90h	; ''
		mov	ax, si
		shl	ax, 4
		add	ax, 40h	; '@'
		mov	word_14032, ax

loc_AD65:
		inc	si

loc_AD66:
		cmp	si, 0Ah
		jge	short loc_AD6E
		jmp	loc_AA71
; ---------------------------------------------------------------------------

loc_AD6E:
		pop	di
		pop	si
		leave
		retf
sub_A9FF	endp

; ---------------------------------------------------------------------------
off_AD72	dw offset loc_AA82
		dw offset loc_AA95
		dw offset loc_AAA8
		dw offset loc_AABA
		dw offset loc_AACC
		dw offset loc_AADE
		dw offset loc_AAF0
		dw offset loc_AB02
		dw offset loc_AB14
		dw offset loc_AB26

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AD86	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	4, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	di, [bp+arg_2]
		mov	[bp+var_2], 0
		push	10h
		push	20h ; ' '
		push	di
		push	si
		call	sub_ECA3
		add	sp, 8
		cmp	[bp+arg_4], 0
		jnz	short loc_ADB0
		mov	ax, 7
		jmp	short loc_ADB3
; ---------------------------------------------------------------------------

loc_ADB0:
		mov	ax, 803h

loc_ADB3:
		or	ax, 20h
		mov	[bp+var_4], ax
		cmp	di, 0F0h ; 'ð'
		jnz	short loc_ADD1
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8281h
		mov	[bp+var_2], ax
		jmp	loc_AECD
; ---------------------------------------------------------------------------

loc_ADD1:
		cmp	di, 108h
		jnz	short loc_ADE9
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8293h
		mov	[bp+var_2], ax
		jmp	loc_AECD
; ---------------------------------------------------------------------------

loc_ADE9:
		cmp	di, 120h
		jnz	short loc_AE01
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8260h
		mov	[bp+var_2], ax
		jmp	loc_AECD
; ---------------------------------------------------------------------------

loc_AE01:
		cmp	di, 138h
		jnz	short loc_AE19
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8272h
		mov	[bp+var_2], ax
		jmp	loc_AECD
; ---------------------------------------------------------------------------

loc_AE19:
		cmp	di, 150h
		jnz	short loc_AE36
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, ax
		mov	bx, ax
		mov	ax, [bx+108h]
		mov	[bp+var_2], ax
		jmp	loc_AECD
; ---------------------------------------------------------------------------

loc_AE36:
		cmp	di, 168h
		jnz	short loc_AE53
		cmp	si, 160h
		jge	short loc_AE53
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 824Fh
		mov	[bp+var_2], ax
		jmp	short loc_AECD
; ---------------------------------------------------------------------------

loc_AE53:
		cmp	di, 168h
		jnz	short loc_AE72
		cmp	si, 160h
		jnz	short loc_AE72
		push	ds
		push	offset aSp_0	; "SP"
		push	[bp+var_4]	; int
		push	di		; int
		push	si		; int
		call	sub_E9E4
		add	sp, 0Ah
		jmp	short loc_AECD
; ---------------------------------------------------------------------------

loc_AE72:
		cmp	di, 168h
		jnz	short loc_AE91
		cmp	si, 200h
		jnz	short loc_AE91
		push	ds
		push	offset aBi_1	; "©"
		push	[bp+var_4]	; int
		push	di		; int
		push	si		; int
		call	sub_E9E4
		add	sp, 0Ah
		jmp	short loc_AECD
; ---------------------------------------------------------------------------

loc_AE91:
		cmp	di, 168h
		jnz	short loc_AEB0
		cmp	si, 220h
		jnz	short loc_AEB0
		push	ds
		push	offset aBi_2	; "¨"
		push	[bp+var_4]	; int
		push	di		; int
		push	si		; int
		call	sub_E9E4
		add	sp, 0Ah
		jmp	short loc_AECD
; ---------------------------------------------------------------------------

loc_AEB0:
		cmp	di, 168h
		jnz	short loc_AECD
		cmp	si, 240h
		jnz	short loc_AECD
		push	ds
		push	offset aPi_0	; "I"
		push	[bp+var_4]	; int
		push	di		; int
		push	si		; int
		call	sub_E9E4
		add	sp, 0Ah

loc_AECD:
		cmp	[bp+var_2], 0
		jz	short loc_AEF2
		mov	ax, [bp+var_2]
		and	ax, 0FFh
		push	ax
		mov	ax, [bp+var_2]
		sar	ax, 8
		push	ax		; arglist
		push	ds
		push	offset aCC_4	; "%c%c"
		push	[bp+var_4]	; int
		push	di		; int
		push	si		; int
		call	sub_E9E4
		add	sp, 0Eh

loc_AEF2:
		pop	di
		pop	si
		leave
		retf
sub_AD86	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_AEF6(int, int, char arglist, int, __int32)
sub_AEF6	proc far

var_14		= byte ptr -14h
var_13		= byte ptr -13h
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
_arglist		= byte ptr  0Ah
arg_8		= dword	ptr  0Eh

		enter	14h, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	di, [bp+arg_2]
		mov	[bp+var_2], 0
		lea	ax, [bp+var_14]
		push	ss
		push	ax
		push	ds
		push	offset aB@b@b@b@b@b@b@ ; "@@@@@@@@"
		mov	cx, 11h
		call	SCOPY@
		cmp	di, 0F0h ; 'ð'
		jnz	short loc_AF30
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8281h
		mov	[bp+var_2], ax
		jmp	loc_B021
; ---------------------------------------------------------------------------

loc_AF30:
		cmp	di, 108h
		jnz	short loc_AF48
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8293h
		mov	[bp+var_2], ax
		jmp	loc_B021
; ---------------------------------------------------------------------------

loc_AF48:
		cmp	di, 120h
		jnz	short loc_AF60
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8260h
		mov	[bp+var_2], ax
		jmp	loc_B021
; ---------------------------------------------------------------------------

loc_AF60:
		cmp	di, 138h
		jnz	short loc_AF78
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 8272h
		mov	[bp+var_2], ax
		jmp	loc_B021
; ---------------------------------------------------------------------------

loc_AF78:
		cmp	di, 150h
		jnz	short loc_AF95
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, ax
		mov	bx, ax
		mov	ax, [bx+108h]
		mov	[bp+var_2], ax
		jmp	loc_B021
; ---------------------------------------------------------------------------

loc_AF95:
		cmp	di, 168h
		jnz	short loc_AFB2
		cmp	si, 160h
		jge	short loc_AFB2
		lea	ax, [si-20h]
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	ax, 824Fh
		mov	[bp+var_2], ax
		jmp	short loc_B021
; ---------------------------------------------------------------------------

loc_AFB2:
		cmp	di, 168h
		jnz	short loc_AFC5
		cmp	si, 160h
		jnz	short loc_AFC5
		mov	[bp+var_2], 8140h
		jmp	short loc_B021
; ---------------------------------------------------------------------------

loc_AFC5:
		cmp	di, 168h
		jnz	short loc_AFEA
		cmp	si, 200h
		jnz	short loc_AFEA
		les	bx, [bp+arg_8]
		dec	word ptr es:[bx]
		les	bx, [bp+arg_8]
		cmp	word ptr es:[bx], 0
		jge	short loc_AFE8
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 0

loc_AFE8:
		jmp	short loc_B021
; ---------------------------------------------------------------------------

loc_AFEA:
		cmp	di, 168h
		jnz	short loc_B00F
		cmp	si, 220h
		jnz	short loc_B00F
		les	bx, [bp+arg_8]
		inc	word ptr es:[bx]
		les	bx, [bp+arg_8]
		cmp	word ptr es:[bx], 7
		jle	short loc_B00D
		les	bx, [bp+arg_8]
		mov	word ptr es:[bx], 7

loc_B00D:
		jmp	short loc_B021
; ---------------------------------------------------------------------------

loc_B00F:
		cmp	di, 168h
		jnz	short loc_B021
		cmp	si, 240h
		jnz	short loc_B021
		mov	ax, 1
		jmp	loc_B0D5
; ---------------------------------------------------------------------------

loc_B021:
		cmp	[bp+var_2], 0
		jz	short loc_B063
		mov	ax, [bp+var_2]
		sar	ax, 8
		les	bx, [bp+arg_8]
		mov	dx, es:[bx]
		add	dx, dx
		les	bx, dword ptr [bp+_arglist]
		add	bx, dx
		mov	es:[bx], al
		les	bx, [bp+arg_8]
		mov	bx, es:[bx]
		add	bx, bx
		mov	es, word ptr [bp+0Ch]
		add	bx, word ptr [bp+_arglist]
		mov	al, byte ptr [bp+var_2]
		and	al, 0FFh
		mov	es:[bx+1], al
		les	bx, [bp+arg_8]
		cmp	word ptr es:[bx], 7
		jge	short loc_B063
		les	bx, [bp+arg_8]
		inc	word ptr es:[bx]

loc_B063:
		push	10h
		push	80h ; '€'
		push	word_14032
		push	word_14030
		call	sub_ECA3
		add	sp, 8
		push	word ptr [bp+0Ch]
		push	word ptr [bp+_arglist] ;	arglist
		push	ds
		push	offset aS	; "%s"
		push	23h ; '#'       ; int
		push	word_14032	; int
		push	word_14030	; int
		call	sub_E9E4
		add	sp, 0Eh
		les	bx, [bp+arg_8]
		mov	bx, es:[bx]
		add	bx, bx
		lea	ax, [bp+var_14]
		add	bx, ax
		mov	byte ptr ss:[bx], 81h ;	''
		les	bx, [bp+arg_8]
		mov	bx, es:[bx]
		add	bx, bx
		lea	ax, [bp+var_13]
		add	bx, ax
		mov	byte ptr ss:[bx], 51h ;	'Q'
		push	ss
		lea	ax, [bp+var_14]
		push	ax		; arglist
		push	ds
		push	offset aS_0	; "%s"
		push	3		; int
		push	word_14032	; int
		push	word_14030	; int
		call	sub_E9E4
		add	sp, 0Eh
		xor	ax, ax
		jmp	short $+2

loc_B0D5:
		pop	di
		pop	si
		leave
		retf
sub_AEF6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_B0D9(__int32, __int32, char arglist, int, __int32)
sub_B0D9	proc far

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah
_arglist		= byte ptr  0Eh
arg_A		= word ptr  10h
arg_C		= dword	ptr  12h

		push	bp
		mov	bp, sp
		cmp	byte_12BA2, 1
		jz	short loc_B0E6
		jmp	loc_B18F
; ---------------------------------------------------------------------------

loc_B0E6:
		push	0
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		push	cs
		call	near ptr sub_AD86
		add	sp, 6
		les	bx, [bp+arg_4]
		sub	word ptr es:[bx], 18h
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 0F0h ; 'ð'
		jge	short loc_B114
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 168h

loc_B114:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 108h
		jnz	short loc_B130
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B130
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 0F0h ; 'ð'

loc_B130:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 138h
		jnz	short loc_B14C
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B14C
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 120h

loc_B14C:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 168h
		jnz	short loc_B172
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 160h
		jle	short loc_B172
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 200h
		jge	short loc_B172
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 150h

loc_B172:
		push	1
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		push	cs
		call	near ptr sub_AD86
		add	sp, 6
		mov	byte_12BA2, 0
		jmp	loc_B408
; ---------------------------------------------------------------------------

loc_B18F:
		cmp	byte_12BA3, 1
		jz	short loc_B199
		jmp	loc_B242
; ---------------------------------------------------------------------------

loc_B199:
		push	0
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		push	cs
		call	near ptr sub_AD86
		add	sp, 6
		les	bx, [bp+arg_4]
		add	word ptr es:[bx], 18h
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 168h
		jle	short loc_B1C7
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 0F0h ; 'ð'

loc_B1C7:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 108h
		jnz	short loc_B1E3
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B1E3
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 120h

loc_B1E3:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 138h
		jnz	short loc_B1FF
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B1FF
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 150h

loc_B1FF:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 168h
		jnz	short loc_B225
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 160h
		jle	short loc_B225
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 200h
		jge	short loc_B225
		les	bx, [bp+arg_4]
		mov	word ptr es:[bx], 0F0h ; 'ð'

loc_B225:
		push	1
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		push	cs
		call	near ptr sub_AD86
		add	sp, 6
		mov	byte_12BA3, 0
		jmp	loc_B408
; ---------------------------------------------------------------------------

loc_B242:
		cmp	byte_12B99, 2
		jz	short loc_B24C
		jmp	loc_B2F4
; ---------------------------------------------------------------------------

loc_B24C:
		push	0
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		push	cs
		call	near ptr sub_AD86
		add	sp, 6
		les	bx, [bp+arg_0]
		sub	word ptr es:[bx], 20h ;	' '
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 20h ;	' '
		jge	short loc_B279
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 240h

loc_B279:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 108h
		jnz	short loc_B295
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B295
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 100h

loc_B295:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 138h
		jnz	short loc_B2B1
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B2B1
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 100h

loc_B2B1:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 168h
		jnz	short loc_B2D7
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 160h
		jle	short loc_B2D7
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 200h
		jge	short loc_B2D7
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 160h

loc_B2D7:
		push	1
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		push	cs
		call	near ptr sub_AD86
		add	sp, 6
		mov	byte_12B99, 0
		jmp	loc_B408
; ---------------------------------------------------------------------------

loc_B2F4:
		cmp	byte_12B99, 1
		jz	short loc_B2FE
		jmp	loc_B3A6
; ---------------------------------------------------------------------------

loc_B2FE:
		push	0
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		push	cs
		call	near ptr sub_AD86
		add	sp, 6
		les	bx, [bp+arg_0]
		add	word ptr es:[bx], 20h ;	' '
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 240h
		jle	short loc_B32C
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 20h ;	' '

loc_B32C:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 108h
		jnz	short loc_B348
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B348
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 20h ;	' '

loc_B348:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 138h
		jnz	short loc_B364
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 120h
		jl	short loc_B364
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 20h ;	' '

loc_B364:
		les	bx, [bp+arg_4]
		cmp	word ptr es:[bx], 168h
		jnz	short loc_B38A
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 160h
		jle	short loc_B38A
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 200h
		jge	short loc_B38A
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 200h

loc_B38A:
		push	1
		les	bx, [bp+arg_4]
		push	word ptr es:[bx]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx]
		push	cs
		call	near ptr sub_AD86
		add	sp, 6
		mov	byte_12B99, 0
		jmp	short loc_B408
; ---------------------------------------------------------------------------

loc_B3A6:
		cmp	byte_12B9C, 1
		jnz	short loc_B3DC
		push	word ptr [bp+arg_C+2]
		push	word ptr [bp+arg_C] ; __int32
		push	[bp+arg_A]	; int
		push	word ptr [bp+_arglist] ;	arglist
		les	bx, [bp+arg_4]
		push	word ptr es:[bx] ; int
		les	bx, [bp+arg_0]
		push	word ptr es:[bx] ; int
		push	cs
		call	near ptr sub_AEF6
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_B3D5
		mov	ax, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_B3D5:
		mov	byte_12B9C, 0
		jmp	short loc_B408
; ---------------------------------------------------------------------------

loc_B3DC:
		cmp	byte_12BA1, 1
		jnz	short loc_B403
		push	word ptr [bp+arg_C+2]
		push	word ptr [bp+arg_C] ; __int32
		push	[bp+arg_A]	; int
		push	word ptr [bp+_arglist] ;	arglist
		push	168h		; int
		push	200h		; int
		push	cs
		call	near ptr sub_AEF6
		add	sp, 0Ch
		mov	byte_12BA1, 0
		jmp	short loc_B408
; ---------------------------------------------------------------------------

loc_B403:
		mov	ax, 2
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_B408:
		xor	ax, ax
		pop	bp
		retf
sub_B0D9	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B40E	proc far

dest		= byte ptr -1Ch
var_C		= byte ptr -0Ch
stream		= dword	ptr -4

		enter	1Ch, 0
		push	si
		lea	ax, [bp+var_C]
		push	ss
		push	ax
		push	ds
		push	offset aHiscore_0 ; "HISCORE"
		mov	cx, 8
		call	SCOPY@
		mov	al, byte_14022
		mov	ah, 0
		mov	bx, ax
		cmp	bx, 3
		ja	short loc_B45C
		add	bx, bx
		jmp	cs:off_B533[bx]

loc_B437:
		push	ds
		push	offset aReyhies_dat_1 ;	"REYHIES.DAT"
		jmp	short loc_B44D
; ---------------------------------------------------------------------------

loc_B43D:
		push	ds
		push	offset aReyhino_dat_1 ;	"REYHINO.DAT"
		jmp	short loc_B44D
; ---------------------------------------------------------------------------

loc_B443:
		push	ds
		push	offset aReyhiha_dat_1 ;	"REYHIHA.DAT"
		jmp	short loc_B44D
; ---------------------------------------------------------------------------

loc_B449:
		push	ds
		push	offset aReyhilu_dat_1 ;	"REYHILU.DAT"

loc_B44D:
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		jmp	short $+2

loc_B45C:
		push	ds
		push	offset aWb_0	; "wb"
		push	ss
		lea	ax, [bp+dest]
		push	ax		; path
		call	_fopen
		add	sp, 8
		mov	word ptr [bp+stream+2],	dx
		mov	word ptr [bp+stream], ax
		or	ax, dx
		jnz	short loc_B47A
		jmp	loc_B530
; ---------------------------------------------------------------------------

loc_B47A:
		push	7
		push	ss
		lea	ax, [bp+var_C]
		push	ax
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		xor	si, si
		jmp	short loc_B4AF
; ---------------------------------------------------------------------------

loc_B496:
		les	bx, font
		add	bx, si
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr sub_A488
		pop	cx
		les	bx, font
		add	bx, si
		mov	es:[bx], al
		inc	si

loc_B4AF:
		cmp	si, 0A0h ; ' '
		jl	short loc_B496
		push	0A0h ; ' '
		push	word ptr font+2
		push	word ptr font
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		push	28h ; '('
		push	word ptr off_14034+2
		push	word ptr off_14034
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		push	14h
		push	word ptr off_1402C+2
		push	word ptr off_1402C
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		push	14h
		push	word ptr off_14028+2
		push	word ptr off_14028
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax
		call	j____write
		add	sp, 8
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	_fclose
		add	sp, 4

loc_B530:
		pop	si
		leave
		retf
sub_B40E	endp

; ---------------------------------------------------------------------------
off_B533	dw offset loc_B437
		dw offset loc_B43D
		dw offset loc_B443
		dw offset loc_B449

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B53B	proc far

_arglist		= byte ptr -18h
var_8		= byte ptr -8
var_6		= dword	ptr -6
arg_0		= word ptr  6

		enter	18h, 0
		push	si
		push	di
		mov	word ptr [bp+var_6], 0
		mov	word ptr [bp-2], 20h ; ' '
		mov	word ptr [bp+var_6+2], 0F0h ; 'ð'
		xor	si, si
		jmp	short loc_B559
; ---------------------------------------------------------------------------

loc_B554:
		mov	[bp+si+_arglist], 20h ; ' '
		inc	si

loc_B559:
		cmp	si, 10h
		jl	short loc_B554
		mov	[bp+var_8], 0
		push	cs
		call	near ptr sub_A44F

loc_B566:
		push	0
		push	cs
		call	near ptr sub_A265
		pop	cx
		push	ss
		lea	ax, [bp+var_6]
		push	ax		; __int32
		push	ss		; int
		lea	ax, [bp+_arglist]
		push	ax		; arglist
		push	ss
		lea	ax, [bp+var_6+2]
		push	ax		; __int32
		push	ss
		lea	ax, [bp-2]
		push	ax		; __int32
		push	cs
		call	near ptr sub_B0D9
		add	sp, 10h
		mov	di, ax
		cmp	di, 1
		jnz	short loc_B591
		jmp	short loc_B5AB
; ---------------------------------------------------------------------------

loc_B591:
		cmp	byte_12BA0, 0
		jz	short loc_B59A
		jmp	short loc_B5AB
; ---------------------------------------------------------------------------

loc_B59A:
		cmp	di, 2
		jnz	short loc_B5A1
		jmp	short loc_B5A9
; ---------------------------------------------------------------------------

loc_B5A1:
		push	4
		call	sub_C82D
		pop	cx

loc_B5A9:
		jmp	short loc_B566
; ---------------------------------------------------------------------------

loc_B5AB:
		mov	byte_12BA0, 0
		xor	si, si
		jmp	short loc_B5CB
; ---------------------------------------------------------------------------

loc_B5B4:
		mov	al, [bp+si+_arglist]
		mov	bx, [bp+arg_0]
		shl	bx, 4
		add	bx, si
		mov	es, word ptr font+2
		add	bx, word ptr font
		mov	es:[bx], al
		inc	si

loc_B5CB:
		cmp	si, 10h
		jl	short loc_B5B4
		push	cs
		call	near ptr sub_B40E
		pop	di
		pop	si
		leave
		retf
sub_B53B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B5D8	proc far

var_D2		= byte ptr -0D2h
var_D0		= byte ptr -0D0h
var_C0		= byte ptr -0C0h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch

		enter	0D0h, 0
		push	si
		push	di
		mov	di, [bp+arg_4]
		lea	ax, [bp+var_D0]
		push	ss
		push	ax
		push	ds
		push	offset off_12C1E
		mov	cx, 10h
		call	SCOPY@
		push	1
		call	sub_D107
		pop	cx
		mov	al, byte_14022
		mov	ah, 0
		shl	ax, 2
		lea	dx, [bp+var_D0]
		add	ax, dx
		mov	bx, ax
		push	word ptr ss:[bx+2]
		push	word ptr ss:[bx] ; arglist
		push	ds
		push	offset aUmx	; "“Œ•ûèËˆÙ“`@‹­ŽÒ‚Ì‹L˜^@%s"
		push	227h		; int
		push	0		; int
		push	0		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	0
		call	sub_D107
		pop	cx
		cmp	di, 1Eh
		jge	short loc_B666
		push	10h
		push	120h
		push	180h
		push	0
		push	0
		push	30h ; '0'
		call	sub_EE15
		add	sp, 0Ch
		push	1
		push	0
		push	180h
		push	0
		push	190h
		push	120h
		push	180h
		push	0
		call	sub_E56D
		add	sp, 10h
		jmp	short loc_B67B
; ---------------------------------------------------------------------------

loc_B666:
		push	10h
		push	120h
		push	0
		push	0
		push	0
		push	30h ; '0'
		call	sub_EE15
		add	sp, 0Ch

loc_B67B:
		push	cs
		call	near ptr sub_A61C
		or	ax, ax
		jz	short loc_B686
		jmp	loc_B941
; ---------------------------------------------------------------------------

loc_B686:
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		jmp	short loc_B6B2
; ---------------------------------------------------------------------------

loc_B692:
		mov	ax, [bp+var_4]
		imul	ax, 12h
		lea	dx, [bp+var_C0]
		add	ax, dx
		push	ss
		push	ax
		push	[bp+var_4]
		push	cs
		call	near ptr sub_A7CF
		add	sp, 6
		add	[bp+var_4], 1
		adc	[bp+var_2], 0

loc_B6B2:
		cmp	[bp+var_2], 0
		jl	short loc_B692
		jnz	short loc_B6C0
		cmp	[bp+var_4], 0Ah
		jb	short loc_B692

loc_B6C0:
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		jmp	short loc_B6F5
; ---------------------------------------------------------------------------

loc_B6CC:
		mov	ax, [bp+var_4]
		shl	ax, 2
		les	bx, off_14034
		add	bx, ax
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		cmp	dx, [bp+arg_2]
		jg	short loc_B6ED
		jnz	short loc_B6EB
		cmp	ax, [bp+arg_0]
		ja	short loc_B6ED

loc_B6EB:
		jmp	short loc_B703
; ---------------------------------------------------------------------------

loc_B6ED:
		add	[bp+var_4], 1
		adc	[bp+var_2], 0

loc_B6F5:
		cmp	[bp+var_2], 0
		jl	short loc_B6CC
		jnz	short loc_B703
		cmp	[bp+var_4], 0Ah
		jb	short loc_B6CC

loc_B703:
		push	cs
		call	near ptr sub_A44F
		cmp	[bp+var_2], 0
		jle	short loc_B710
		jmp	loc_B8BD
; ---------------------------------------------------------------------------

loc_B710:
		jl	short loc_B71B
		cmp	[bp+var_4], 0Ah
		jb	short loc_B71B
		jmp	loc_B8BD
; ---------------------------------------------------------------------------

loc_B71B:
		mov	[bp+var_6], 0
		mov	[bp+var_8], 9
		jmp	loc_B7D9
; ---------------------------------------------------------------------------

loc_B728:
		push	ss
		mov	ax, [bp+var_8]
		imul	ax, 12h
		lea	dx, [bp+var_D2]
		add	ax, dx
		push	ax		; src
		mov	ax, [bp+var_8]
		imul	ax, 12h
		lea	dx, [bp+var_C0]
		add	ax, dx
		push	ss
		push	ax		; dest
		call	_strcpy
		add	sp, 8
		mov	ax, [bp+var_8]
		dec	ax
		shl	ax, 2
		les	bx, off_14034
		add	bx, ax
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	bx, [bp+var_8]
		shl	bx, 2
		les	si, off_14034
		add	si, bx
		mov	es:[si+2], dx
		mov	es:[si], ax
		mov	ax, [bp+var_8]
		dec	ax
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		mov	ax, es:[bx]
		mov	dx, [bp+var_8]
		add	dx, dx
		les	bx, off_1402C
		add	bx, dx
		mov	es:[bx], ax
		mov	bx, [bp+var_8]
		add	bx, bx
		mov	es, word ptr off_14028+2
		add	bx, word ptr off_14028
		mov	al, es:[bx-2]
		mov	dx, [bp+var_8]
		add	dx, dx
		les	bx, off_14028
		add	bx, dx
		mov	es:[bx], al
		mov	bx, [bp+var_8]
		add	bx, bx
		mov	es, word ptr off_14028+2
		add	bx, word ptr off_14028
		mov	al, es:[bx-1]
		mov	bx, [bp+var_8]
		add	bx, bx
		mov	es, word ptr off_14028+2
		add	bx, word ptr off_14028
		mov	es:[bx+1], al
		sub	[bp+var_8], 1
		sbb	[bp+var_6], 0

loc_B7D9:
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		cmp	dx, [bp+var_2]
		jle	short loc_B7E7
		jmp	loc_B728
; ---------------------------------------------------------------------------

loc_B7E7:
		jnz	short loc_B7F1
		cmp	ax, [bp+var_4]
		jbe	short loc_B7F1
		jmp	loc_B728
; ---------------------------------------------------------------------------

loc_B7F1:
		mov	[bp+var_A], 0
		mov	[bp+var_C], 9Fh	; 'Ÿ'
		jmp	short loc_B81E
; ---------------------------------------------------------------------------

loc_B7FD:
		mov	bx, [bp+var_C]
		mov	es, word ptr font+2
		add	bx, word ptr font
		mov	al, es:[bx-10h]
		les	bx, font
		add	bx, [bp+var_C]
		mov	es:[bx], al
		sub	[bp+var_C], 1
		sbb	[bp+var_A], 0

loc_B81E:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	cl, 4
		call	LXLSH@
		add	ax, 10h
		adc	dx, 0
		cmp	dx, [bp+var_A]
		jl	short loc_B7FD
		jg	short loc_B83D
		cmp	ax, [bp+var_C]
		jbe	short loc_B7FD

loc_B83D:
		push	ss
		lea	ax, [bp+var_C0]
		push	ax
		push	word ptr [bp+arg_6+2]
		push	word ptr [bp+arg_6]
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	[bp+var_4]
		push	cs
		call	near ptr sub_A9FF
		add	sp, 10h
		push	cs
		call	near ptr sub_A801
		mov	ax, [bp+var_4]
		shl	ax, 2
		les	bx, off_14034
		add	bx, ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		mov	ax, [bp+var_4]
		add	ax, ax
		les	bx, off_1402C
		add	bx, ax
		mov	es:[bx], di
		mov	ax, [bp+var_4]
		add	ax, ax
		les	bx, off_14028
		add	bx, ax
		push	es
		les	si, [bp+arg_6]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		les	bx, [bp+arg_6]
		mov	al, es:[bx+1]
		mov	bx, [bp+var_4]
		add	bx, bx
		mov	es, word ptr off_14028+2
		add	bx, word ptr off_14028
		mov	es:[bx+1], al
		push	[bp+var_4]
		push	cs
		call	near ptr sub_B53B
		pop	cx
		jmp	short loc_B8FC
; ---------------------------------------------------------------------------

loc_B8BD:
		push	ss
		lea	ax, [bp+var_C0]
		push	ax
		push	word ptr [bp+arg_6+2]
		push	word ptr [bp+arg_6]
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	1Eh
		push	cs
		call	near ptr sub_A9FF
		add	sp, 10h
		mov	byte_12BA0, 1
		mov	byte_12B9C, 1

loc_B8E3:
		push	0
		push	cs
		call	near ptr sub_A265
		pop	cx
		cmp	byte_12BA0, 0
		jz	short loc_B8F8
		cmp	byte_12B9C, 0
		jnz	short loc_B8FA

loc_B8F8:
		jmp	short loc_B8FC
; ---------------------------------------------------------------------------

loc_B8FA:
		jmp	short loc_B8E3
; ---------------------------------------------------------------------------

loc_B8FC:
		mov	ax, seg	seg008
		mov	es, ax
		assume es:seg008
		push	word ptr font+2
		push	word ptr font	; font
		call	_registerbgifont
		add	sp, 4
		push	word ptr off_1402C+2
		push	word ptr off_1402C ; font
		call	_registerbgifont
		add	sp, 4
		push	word ptr off_14028+2
		push	word ptr off_14028 ; font
		call	_registerbgifont
		add	sp, 4
		push	word ptr off_14034+2
		push	word ptr off_14034 ; font
		call	_registerbgifont
		add	sp, 4

loc_B941:
		pop	di
		pop	si
		leave
		retf
sub_B5D8	endp

seg002		ends

; ===========================================================================

; Segment type:	Pure code
seg003		segment	byte public 'CODE' use16
		assume cs:seg003
		;org 5
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B945	proc far
		push	bp
		mov	bp, sp
		push	si
		push	ds
		push	offset aIris_mdt ; "iris.mdt"
		call	sub_F074
		add	sp, 4
		call	sub_F094
		push	0
		call	sub_C842
		push	ds
		push	offset aEd1a_grp ; "ED1A.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	6
		call	sub_C939
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	5
		call	sub_C960
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C842
		push	0Dh
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	0Dh
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	32h ; '2'
		call	sub_C82D
		pop	cx
		push	ds
		push	offset aEd1b_grp ; "ED1B.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	0Ah
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	0Ah
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	6
		call	sub_C911
		push	0
		call	sub_D107
		pop	cx
		call	sub_D2D6
		push	64h ; 'd'
		call	sub_C842
		push	ds
		push	offset aEd1c_grp ; "ED1C.GRP"
		call	sub_C73A
		xor	si, si
		jmp	short loc_BA49
; ---------------------------------------------------------------------------

loc_BA28:
		push	0
		call	sub_C78B
		pop	cx
		push	14h
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	14h
		call	sub_C82D
		pop	cx
		inc	si

loc_BA49:
		cmp	si, 6
		jl	short loc_BA28
		push	0
		call	sub_C78B
		pop	cx
		push	28h ; '('
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	28h ; '('
		call	sub_C82D
		pop	cx
		push	ds
		push	offset aEd1d_grp ; "ED1D.GRP"
		call	sub_C73A
		push	3
		call	sub_C78B
		pop	cx
		push	46h ; 'F'
		call	sub_C82D
		pop	cx
		xor	si, si
		jmp	loc_BB16
; ---------------------------------------------------------------------------

loc_BA8C:
		or	si, si
		jnz	short loc_BA98
		push	0
		call	sub_C78B
		pop	cx

loc_BA98:
		cmp	si, 14h
		jnz	short loc_BAA5
		push	1
		call	sub_C78B
		pop	cx

loc_BAA5:
		cmp	si, 18h
		jnz	short loc_BAB2
		push	2
		call	sub_C78B
		pop	cx

loc_BAB2:
		cmp	si, 1Ch
		jnz	short loc_BABF
		push	0
		call	sub_C78B
		pop	cx

loc_BABF:
		cmp	si, 32h	; '2'
		jnz	short loc_BACC
		push	1
		call	sub_C78B
		pop	cx

loc_BACC:
		cmp	si, 36h	; '6'
		jnz	short loc_BAD9
		push	2
		call	sub_C78B
		pop	cx

loc_BAD9:
		cmp	si, 3Ah	; ':'
		jnz	short loc_BAE6
		push	0
		call	sub_C78B
		pop	cx

loc_BAE6:
		cmp	si, 5Ah	; 'Z'
		jnz	short loc_BAF3
		push	1
		call	sub_C78B
		pop	cx

loc_BAF3:
		cmp	si, 5Eh	; '^'
		jnz	short loc_BB00
		push	2
		call	sub_C78B
		pop	cx

loc_BB00:
		cmp	si, 62h	; 'b'
		jnz	short loc_BB0D
		push	0
		call	sub_C78B
		pop	cx

loc_BB0D:
		push	2
		call	sub_C82D
		pop	cx
		inc	si

loc_BB16:
		cmp	si, 64h	; 'd'
		jge	short loc_BB1E
		jmp	loc_BA8C
; ---------------------------------------------------------------------------

loc_BB1E:
		push	3
		call	sub_C78B
		pop	cx
		push	3Ch ; '<'
		call	sub_C82D
		pop	cx
		push	0
		call	sub_C78B
		pop	cx
		push	14h
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	69h ; 'i'
		call	sub_C842
		push	ds
		push	offset aEd1e_grp ; "ED1E.GRP"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		xor	si, si
		jmp	short loc_BB79
; ---------------------------------------------------------------------------

loc_BB62:
		mov	ax, si
		imul	ax, 5
		add	ax, 6Eh	; 'n'
		push	ax
		call	sub_C842
		push	10h
		call	sub_C82D
		pop	cx
		inc	si

loc_BB79:
		cmp	si, 4
		jl	short loc_BB62
		xor	si, si
		jmp	short loc_BBB1
; ---------------------------------------------------------------------------

loc_BB82:
		push	1
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		mov	ax, si
		imul	ax, 5
		add	ax, 82h	; '‚'
		push	ax
		call	sub_C842
		inc	si

loc_BBB1:
		cmp	si, 0Fh
		jl	short loc_BB82
		mov	ax, word_13ED8
		or	ax, word_13EDA
		jnz	short loc_BBC7
		call	sub_BDBD
		call	sub_C03D
		jmp	short loc_BBF1
; ---------------------------------------------------------------------------

loc_BBC7:
		call	sub_BC7C
		call	sub_F0B4
		push	0Ah
		call	sub_C911
		call	sub_D2D6
		call	sub_F0A4
		push	ds
		push	offset aSt1_mdt	; "st1.mdt"
		call	sub_F074
		add	sp, 4
		call	sub_F094

loc_BBF1:
		nop
		push	cs
		call	near ptr sub_C446
		pop	si
		pop	bp
		retf
sub_B945	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BBF9	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_BC35
; ---------------------------------------------------------------------------

loc_BC01:
		test	si, 3
		jnz	short loc_BC0B
		push	8
		jmp	short loc_BC0D
; ---------------------------------------------------------------------------

loc_BC0B:
		push	0

loc_BC0D:
		call	sub_D08
		push	1
		call	sub_C78B
		pop	cx
		push	1
		call	sub_C82D
		pop	cx
		test	si, 1
		jz	short loc_BC2D
		push	0AAh ; 'ª'
		jmp	short loc_BC2F
; ---------------------------------------------------------------------------

loc_BC2D:
		push	64h ; 'd'

loc_BC2F:
		call	sub_C842
		inc	si

loc_BC35:
		cmp	si, [bp+arg_2]
		jle	short loc_BC01
		xor	si, si
		jmp	short loc_BC72
; ---------------------------------------------------------------------------

loc_BC3E:
		test	si, 3
		jnz	short loc_BC48
		push	8
		jmp	short loc_BC4A
; ---------------------------------------------------------------------------

loc_BC48:
		push	0

loc_BC4A:
		call	sub_D08
		push	1
		call	sub_C78B
		pop	cx
		push	2
		call	sub_C82D
		pop	cx
		test	si, 1
		jz	short loc_BC69
		push	2
		jmp	short loc_BC6B
; ---------------------------------------------------------------------------

loc_BC69:
		push	1

loc_BC6B:
		call	sub_C78B
		pop	cx
		inc	si

loc_BC72:
		cmp	si, [bp+arg_0]
		jle	short loc_BC3E
		pop	si
		pop	bp
		retn	4
sub_BBF9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BC7C	proc near
		push	bp
		mov	bp, sp
		push	si
		push	ds
		push	offset aEd2a_grp ; "ed2a.grp"
		call	sub_C73A
		push	0C8h ; 'È'
		call	sub_C842
		push	0
		call	sub_C78B
		pop	cx
		push	5
		call	sub_C988
		push	78h ; 'x'
		call	sub_C82D
		pop	cx
		cmp	byte_14021, 2
		jnz	short loc_BCFC
		push	40h ; '@'
		push	10h
		call	sub_BBF9
		push	20h ; ' '
		push	20h ; ' '
		call	sub_BBF9
		push	0
		call	sub_D08
		push	32h ; '2'
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	0E8h ; 'è'
		push	13Ch
		push	16h
		push	ds
		push	offset aTryToNoContinu ; "Try to 'No continue'!!"
		call	sub_C9B0
		push	0E8h ; 'è'
		push	15Ch
		push	16h
		push	ds
		push	offset aBadEnding2 ; "	    Bad	Ending2	    "
		jmp	loc_BDAC
; ---------------------------------------------------------------------------

loc_BCFC:
		push	ds
		push	offset aEd4a_grp ; "ed4a.grp"
		call	sub_C73A
		xor	si, si
		jmp	short loc_BD2A
; ---------------------------------------------------------------------------

loc_BD09:
		push	0
		call	sub_C78B
		pop	cx
		push	3
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	3
		call	sub_C82D
		pop	cx
		inc	si

loc_BD2A:
		cmp	si, 14h
		jl	short loc_BD09
		xor	si, si
		jmp	short loc_BD62
; ---------------------------------------------------------------------------

loc_BD33:
		push	0
		call	sub_C78B
		pop	cx
		push	3
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	3
		call	sub_C82D
		pop	cx
		mov	ax, si
		imul	ax, 5
		add	ax, 64h	; 'd'
		push	ax
		call	sub_C842
		inc	si

loc_BD62:
		cmp	si, 14h
		jl	short loc_BD33
		push	2
		call	sub_C78B
		pop	cx
		push	5
		call	sub_C988
		push	0C8h ; 'È'
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	0E8h ; 'è'
		push	13Ch
		push	16h
		push	ds
		push	offset aTryToNoConti_0 ; "Try to 'No continue'!!"
		call	sub_C9B0
		push	0E8h ; 'è'
		push	15Ch
		push	16h
		push	ds
		push	offset aBadEnding1 ; "	    Bad	Ending1	    "

loc_BDAC:
		call	sub_C9B0
		push	12Ch
		call	sub_C82D
		pop	cx
		pop	si
		pop	bp
		retn
sub_BC7C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BDBD	proc near
		push	bp
		mov	bp, sp
		push	si
		push	ds
		push	offset aEd3a_grp ; "ed3a.grp"
		call	sub_C73A
		push	0C8h ; 'È'
		call	sub_C842
		xor	si, si
		jmp	short loc_BE07
; ---------------------------------------------------------------------------

loc_BDD6:
		push	0
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		mov	ax, si
		imul	ax, 5
		mov	dx, 0C8h ; 'È'
		sub	dx, ax
		push	dx
		call	sub_C842
		inc	si

loc_BE07:
		cmp	si, 14h
		jl	short loc_BDD6
		push	64h ; 'd'
		call	sub_C842
		xor	si, si
		jmp	short loc_BE38
; ---------------------------------------------------------------------------

loc_BE17:
		push	0
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		inc	si

loc_BE38:
		cmp	si, 0Ah
		jl	short loc_BE17
		xor	si, si
		jmp	short loc_BE64
; ---------------------------------------------------------------------------

loc_BE41:
		mov	ax, si
		and	ax, 1
		push	ax
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		mov	ax, si
		imul	ax, 0Ah
		add	ax, 64h	; 'd'
		push	ax
		call	sub_C842
		inc	si

loc_BE64:
		cmp	si, 0Ah
		jl	short loc_BE41
		push	0C8h ; 'È'
		call	sub_C842
		cmp	byte_14021, 1
		jnz	short loc_BE7D
		call	sub_BF07
		jmp	short loc_BE80
; ---------------------------------------------------------------------------

loc_BE7D:
		call	sub_BE83

loc_BE80:
		pop	si
		pop	bp
		retn
sub_BDBD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BE83	proc near
		push	bp
		mov	bp, sp
		push	ds
		push	offset aEd3b_grp ; "ed3b.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	4
		call	sub_C988
		push	0FAh ; 'ú'
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	0C8h ; 'È'
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	96h ; '–'
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	96h ; '–'
		call	sub_C82D
		pop	cx
		push	100h
		push	13Ch
		push	10h
		push	ds
		push	offset aCongratulation ; "Congratulations!"
		call	sub_C9B0
		push	0E8h ; 'è'
		push	15Ch
		push	16h
		push	ds
		push	offset aGoodEnding2 ; "	    Good Ending2     "
		call	sub_C9B0
		push	12Ch
		call	sub_C82D
		pop	cx
		pop	bp
		retn
sub_BE83	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BF07	proc near
		push	bp
		mov	bp, sp
		push	si
		push	ds
		push	offset aEd5a_grp ; "ed5a.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	4
		call	sub_C988
		push	12Ch
		call	sub_C82D
		pop	cx
		xor	si, si
		jmp	short loc_BF51
; ---------------------------------------------------------------------------

loc_BF30:
		push	1
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	8
		call	sub_C82D
		pop	cx
		inc	si

loc_BF51:
		cmp	si, 0Fh
		jl	short loc_BF30
		push	ds
		push	offset aEd5b_grp ; "ed5b.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	96h ; '–'
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	3
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	ds
		push	offset aEd5c_grp ; "ed5c.grp"
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		push	1
		call	sub_C78B
		pop	cx
		push	96h ; '–'
		call	sub_C82D
		pop	cx
		push	2
		call	sub_C78B
		pop	cx
		push	96h ; '–'
		call	sub_C82D
		pop	cx
		push	100h
		push	13Ch
		push	10h
		push	ds
		push	offset aCongratulati_0 ; "Congratulations!"
		call	sub_C9B0
		push	0E8h ; 'è'
		push	15Ch
		push	16h
		push	ds
		push	offset aGoodEnding1 ; "	    Good Ending1     "
		call	sub_C9B0
		push	12Ch
		call	sub_C82D
		pop	cx
		pop	si
		pop	bp
		retn
sub_BF07	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C009	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	96h ; '–'
		call	sub_C82D
		pop	cx
		push	5
		call	sub_C911
		call	sub_D2D6
		push	[bp+arg_0]
		call	sub_C78B
		pop	cx
		push	5
		call	sub_C939
		push	32h ; '2'
		call	sub_C82D
		pop	cx
		pop	bp
		retn	2
sub_C009	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C03D	proc near
		push	bp
		mov	bp, sp
		call	sub_F0B4
		push	0Ah
		call	sub_C911
		call	sub_D2D6
		call	sub_F0A4
		push	ds
		push	offset aSt1_mdt_0 ; "st1.mdt"
		call	sub_F074
		add	sp, 4
		call	sub_F094
		cmp	byte_14021, 1
		jnz	short loc_C074
		push	ds
		push	offset aEndb_a_grp ; "endb_a.grp"
		jmp	short loc_C078
; ---------------------------------------------------------------------------

loc_C074:
		push	ds
		push	offset aEndb_b_grp ; "endb_b.grp"

loc_C078:
		call	sub_C73A
		push	0
		call	sub_C78B
		pop	cx
		push	64h ; 'd'
		call	sub_C842
		push	32h ; '2'
		call	sub_C82D
		pop	cx
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage5Boss ; "STAGE 5 BOSS"
		call	sub_C9B0
		push	0E8h ; 'è'
		push	15Ch
		push	16h
		push	ds
		push	offset aGatekeeperSing ; "Gatekeeper 'SinGyoku'"
		call	sub_C9B0
		push	1
		call	sub_C009
		cmp	byte_14021, 1
		jnz	short loc_C0E1
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage10Boss ; "STAGE 10	BOSS"
		call	sub_C9B0
		push	0E8h ; 'è'
		push	15Ch
		push	16h
		push	ds
		push	offset aEvileyesYuugen ; "EvilEyes 'YuugenMagan'"
		jmp	short loc_C0FE
; ---------------------------------------------------------------------------

loc_C0E1:
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage10Boss_0 ;	"STAGE 10 BOSS"
		call	sub_C9B0
		push	0E8h ; 'è'
		push	15Ch
		push	17h
		push	ds
		push	offset aRevengefulGhos ; "Revengeful Ghost 'Mima'"

loc_C0FE:
		call	sub_C9B0
		push	2
		call	sub_C009
		cmp	byte_14021, 1
		jnz	short loc_C12E
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage15Boss ; "STAGE 15	BOSS"
		call	sub_C9B0
		push	0E8h ; 'è'
		push	15Ch
		push	16h
		push	ds
		push	offset aInnocenceDevil ; "Innocence Devil 'Elis'"
		jmp	short loc_C14B
; ---------------------------------------------------------------------------

loc_C12E:
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage15Boss_0 ;	"STAGE 15 BOSS"
		call	sub_C9B0
		push	100h
		push	15Ch
		push	11h
		push	ds
		push	offset aHellmoonKikuri ; "HellMoon 'Kikuri'"

loc_C14B:
		call	sub_C9B0
		push	3
		call	sub_C009
		cmp	byte_14021, 1
		jnz	short loc_C17B
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage20Boss ; "STAGE 20	BOSS"
		call	sub_C9B0
		push	0E8h ; 'è'
		push	15Ch
		push	16h
		push	ds
		push	offset aAngelOfDeathSa ; "Angel	of Death'Sariel'"
		jmp	short loc_C198
; ---------------------------------------------------------------------------

loc_C17B:
		push	110h
		push	13Ch
		push	0Dh
		push	ds
		push	offset aStage20Boss_0 ;	"STAGE 20 BOSS"
		call	sub_C9B0
		push	0E0h ; 'à'
		push	15Ch
		push	18h
		push	ds
		push	offset aAstralKnightKo ; "Astral Knight	'Konngara'"

loc_C198:
		call	sub_C9B0
		push	96h ; '–'
		call	sub_C82D
		pop	cx
		pop	bp
		retn
sub_C03D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C1A8	proc far

var_2		= word ptr -2

		enter	2, 0
		push	si
		push	di
		xor	si, si
		cmp	word_12B32, 26h	; '&'
		jl	short loc_C1C6
		jnz	short loc_C1C1
		cmp	word_12B30, 25A0h
		jb	short loc_C1C6

loc_C1C1:
		add	si, 0Ah
		jmp	short loc_C21C
; ---------------------------------------------------------------------------

loc_C1C6:
		cmp	word_12B32, 1Eh
		jl	short loc_C1DC
		jnz	short loc_C1D7
		cmp	word_12B30, 8480h
		jb	short loc_C1DC

loc_C1D7:
		add	si, 8
		jmp	short loc_C21C
; ---------------------------------------------------------------------------

loc_C1DC:
		cmp	word_12B32, 16h
		jl	short loc_C1F2
		jnz	short loc_C1ED
		cmp	word_12B30, 0E360h
		jb	short loc_C1F2

loc_C1ED:
		add	si, 6
		jmp	short loc_C21C
; ---------------------------------------------------------------------------

loc_C1F2:
		cmp	word_12B32, 0Fh
		jl	short loc_C208
		jnz	short loc_C203
		cmp	word_12B30, 4240h
		jb	short loc_C208

loc_C203:
		add	si, 4
		jmp	short loc_C21C
; ---------------------------------------------------------------------------

loc_C208:
		cmp	word_12B32, 7
		jl	short loc_C21C
		jnz	short loc_C219
		cmp	word_12B30, 0A120h
		jb	short loc_C21C

loc_C219:
		add	si, 2

loc_C21C:
		cmp	word_12B36, 2Dh	; '-'
		jl	short loc_C232
		jnz	short loc_C22D
		cmp	arglist, 0C6C0h
		jb	short loc_C232

loc_C22D:
		add	si, 0Ah
		jmp	short loc_C288
; ---------------------------------------------------------------------------

loc_C232:
		cmp	word_12B36, 27h	; '''
		jl	short loc_C248
		jnz	short loc_C243
		cmp	arglist, 0AC40h
		jb	short loc_C248

loc_C243:
		add	si, 8
		jmp	short loc_C288
; ---------------------------------------------------------------------------

loc_C248:
		cmp	word_12B36, 21h	; '!'
		jl	short loc_C25E
		jnz	short loc_C259
		cmp	arglist, 91C0h
		jb	short loc_C25E

loc_C259:
		add	si, 6
		jmp	short loc_C288
; ---------------------------------------------------------------------------

loc_C25E:
		cmp	word_12B36, 1Bh
		jl	short loc_C274
		jnz	short loc_C26F
		cmp	arglist, 7740h
		jb	short loc_C274

loc_C26F:
		add	si, 4
		jmp	short loc_C288
; ---------------------------------------------------------------------------

loc_C274:
		cmp	word_12B36, 15h
		jl	short loc_C288
		jnz	short loc_C285
		cmp	arglist, 5CC0h
		jb	short loc_C288

loc_C285:
		add	si, 2

loc_C288:
		mov	ax, word_13ED8
		or	ax, word_13EDA
		jnz	short loc_C297
		add	si, 1Eh
		jmp	loc_C36C
; ---------------------------------------------------------------------------

loc_C297:
		cmp	word_13EDA, 0
		jg	short loc_C2AD
		jnz	short loc_C2A7
		cmp	word_13ED8, 2
		ja	short loc_C2AD

loc_C2A7:
		add	si, 0Ah
		jmp	loc_C36C
; ---------------------------------------------------------------------------

loc_C2AD:
		cmp	word_13EDA, 0
		jg	short loc_C2C3
		jnz	short loc_C2BD
		cmp	word_13ED8, 4
		ja	short loc_C2C3

loc_C2BD:
		add	si, 8
		jmp	loc_C36C
; ---------------------------------------------------------------------------

loc_C2C3:
		cmp	word_13EDA, 0
		jg	short loc_C2D9
		jnz	short loc_C2D3
		cmp	word_13ED8, 6
		ja	short loc_C2D9

loc_C2D3:
		add	si, 6
		jmp	loc_C36C
; ---------------------------------------------------------------------------

loc_C2D9:
		cmp	word_13EDA, 0
		jg	short loc_C2EE
		jnz	short loc_C2E9
		cmp	word_13ED8, 8
		ja	short loc_C2EE

loc_C2E9:
		add	si, 4
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C2EE:
		cmp	word_13EDA, 0
		jg	short loc_C303
		jnz	short loc_C2FE
		cmp	word_13ED8, 0Ah
		ja	short loc_C303

loc_C2FE:
		add	si, 2
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C303:
		cmp	word_13EDA, 0
		jg	short loc_C315
		jnz	short loc_C313
		cmp	word_13ED8, 0Ch
		ja	short loc_C315

loc_C313:
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C315:
		cmp	word_13EDA, 0
		jg	short loc_C32A
		jnz	short loc_C325
		cmp	word_13ED8, 0Eh
		ja	short loc_C32A

loc_C325:
		sub	si, 2
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C32A:
		cmp	word_13EDA, 0
		jg	short loc_C33F
		jnz	short loc_C33A
		cmp	word_13ED8, 10h
		ja	short loc_C33F

loc_C33A:
		sub	si, 4
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C33F:
		cmp	word_13EDA, 0
		jg	short loc_C354
		jnz	short loc_C34F
		cmp	word_13ED8, 12h
		ja	short loc_C354

loc_C34F:
		sub	si, 6
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C354:
		cmp	word_13EDA, 0
		jg	short loc_C369
		jnz	short loc_C364
		cmp	word_13ED8, 14h
		ja	short loc_C369

loc_C364:
		sub	si, 8
		jmp	short loc_C36C
; ---------------------------------------------------------------------------

loc_C369:
		sub	si, 0Ah

loc_C36C:
		cmp	byte_14022, 3
		jnz	short loc_C378
		add	si, 32h	; '2'
		jmp	short loc_C39A
; ---------------------------------------------------------------------------

loc_C378:
		cmp	byte_14022, 2
		jnz	short loc_C384
		add	si, 1Eh
		jmp	short loc_C39A
; ---------------------------------------------------------------------------

loc_C384:
		cmp	byte_14022, 1
		jnz	short loc_C390
		add	si, 0Ah
		jmp	short loc_C39A
; ---------------------------------------------------------------------------

loc_C390:
		cmp	byte_14022, 0
		jnz	short loc_C39A
		sub	si, 0Ah

loc_C39A:
		cmp	byte_14021, 2
		jnz	short loc_C3A4
		add	si, 5

loc_C3A4:
		mov	al, byte_14020
		cbw
		cmp	ax, 4
		jnz	short loc_C3B2
		sub	si, 0Ah
		jmp	short loc_C3D8
; ---------------------------------------------------------------------------

loc_C3B2:
		mov	al, byte_14020
		cbw
		cmp	ax, 3
		jnz	short loc_C3C0
		sub	si, 5
		jmp	short loc_C3D8
; ---------------------------------------------------------------------------

loc_C3C0:
		mov	al, byte_14020
		cbw
		cmp	ax, 1
		jnz	short loc_C3CE
		add	si, 5
		jmp	short loc_C3D8
; ---------------------------------------------------------------------------

loc_C3CE:
		cmp	byte_14020, 0
		jnz	short loc_C3D8
		add	si, 0Ah

loc_C3D8:
		call	sub_1278
		mov	bx, 3
		cwd
		idiv	bx
		mov	[bp+var_2], dx
		cmp	si, 50h	; 'P'
		jl	short loc_C3F0
		mov	di, 5
		jmp	short loc_C419
; ---------------------------------------------------------------------------

loc_C3F0:
		cmp	si, 3Ch	; '<'
		jl	short loc_C3FA
		mov	di, 4
		jmp	short loc_C419
; ---------------------------------------------------------------------------

loc_C3FA:
		cmp	si, 28h	; '('
		jl	short loc_C404
		mov	di, 3
		jmp	short loc_C419
; ---------------------------------------------------------------------------

loc_C404:
		cmp	si, 14h
		jl	short loc_C40E
		mov	di, 2
		jmp	short loc_C419
; ---------------------------------------------------------------------------

loc_C40E:
		or	si, si
		jl	short loc_C417
		mov	di, 1
		jmp	short loc_C419
; ---------------------------------------------------------------------------

loc_C417:
		xor	di, di

loc_C419:
		mov	bx, [bp+var_2]
		imul	bx, 18h
		mov	ax, di
		shl	ax, 2
		add	bx, ax
		push	word ptr [bx+3DAh]
		push	word ptr [bx+3D8h] ; arglist
		push	ds
		push	offset aS_1	; "%s"
		push	12h		; int
		push	180h		; int
		push	1E8h		; int
		call	sub_E9E4
		add	sp, 0Eh
		pop	di
		pop	si
		leave
		retf
sub_C1A8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C446	proc far

var_10		= byte ptr -10h

		enter	10h, 0
		push	si
		lea	ax, [bp+var_10]
		push	ss
		push	ax
		push	ds
		push	offset off_12EC0
		mov	cx, 10h
		call	SCOPY@
		push	0Ah
		call	sub_C911
		push	1
		call	sub_D107
		pop	cx
		push	ds
		push	offset aEndm_a_grp ; "endm_a.grp"
		call	sub_EB39
		add	sp, 4
		call	sub_D349
		push	0
		call	sub_D107
		pop	cx
		push	8
		call	sub_C939
		push	190h
		push	20h ; ' '
		push	5
		push	ds
		push	offset aUmx_1	; "“Œ•ûèËˆÙ“`"
		call	sub_C9EE
		push	1F0h
		push	20h ; ' '
		push	3
		push	ds
		push	offset aVer	; "ver"
		call	sub_C9B0
		push	210h
		push	20h ; ' '
		push	4
		push	ds
		push	offset a1_10	; "1.10"
		call	sub_C9B0
		push	1Eh
		call	sub_C82D
		pop	cx
		mov	al, byte_14022
		mov	ah, 0
		shl	ax, 2
		lea	dx, [bp+var_10]
		add	ax, dx
		mov	bx, ax
		push	word ptr ss:[bx+2]
		push	word ptr ss:[bx] ; arglist
		push	ds
		push	offset aUqiUxb@b@b@b@b ; "“ïˆÕ“x@@@@@@@@@@  %s"
		push	0Fh		; int
		push	40h ; '@'       ; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		push	word_12B36
		push	arglist		; arglist
		push	ds
		push	offset aNbi	; "¡‰ñ‚ÌÅ‚“¾“_@@@@@@  %7lu"
		push	0Fh		; int
		push	60h ; '`'       ; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		push	word_12B32
		push	word_12B30	; arglist
		push	ds
		push	offset aNPiuU_b@b@b@b@ ; "ÅI“¾“_@@@@@@@@@  %7lu"
		push	0Fh		; int
		push	80h ; '€'       ; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		push	ds
		push	offset aGrgugegbgjgebI ; "ƒRƒ“ƒeƒBƒjƒ…[‰ñ”"
		push	0Fh		; int
		push	0A0h ; ' '      ; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Ah
		push	1Eh
		call	sub_C82D
		pop	cx
		push	word_13EDE
		push	word_13EDC	; arglist
		push	ds
		push	offset aB@r_oB@b@b@b@b ; "@_ŽÐ@@@@i‚P–Ê`‚T–Êj @ %3lu"
		push	0Fh		; int
		push	0C0h ; 'À'      ; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		cmp	byte_14021, 1
		jnz	short loc_C590
		push	word_13EE2
		push	word_13EE0
		push	ds
		push	offset aB@gqbGgb@b@b@b ; "@ƒQ[ƒg@@@i‚U–Ê`‚P‚O–Êj  %3lu"
		jmp	short loc_C59C
; ---------------------------------------------------------------------------

loc_C590:
		push	word_13EE2
		push	word_13EE0	; arglist
		push	ds
		push	offset aB@tkb@b@b@b@b@ ; "@âK@@@@@i‚U–Ê`‚P‚O–Êj  %3lu"

loc_C59C:
		push	0Fh		; int
		push	0E0h ; 'à'      ; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		cmp	byte_14021, 1
		jnz	short loc_C5C9
		push	word_13EE6
		push	word_13EE4
		push	ds
		push	offset aGfgbgivFpBivpv ; "  ƒ”ƒBƒi‚Ì”pšÐi‚P‚P–Ê`‚P‚T–Êj%3lu"
		jmp	short loc_C5D5
; ---------------------------------------------------------------------------

loc_C5C9:
		push	word_13EE6
		push	word_13EE4	; arglist
		push	ds
		push	offset aB@ikvXekeb@b@b ; "@‰Š‚Ì•…ŠE@@i‚P‚P–Ê`‚P‚T–Êj%3lu"

loc_C5D5:
		push	0Fh		; int
		push	100h		; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		cmp	byte_14021, 1
		jnz	short loc_C602
		push	word_13EEA
		push	word_13EE8
		push	ds
		push	offset aSVVVsr_uabivpv ; "  ‘Â‚¿‚½‚é_“ai‚P‚T–Ê`‚Q‚O–Êj%3lu"
		jmp	short loc_C60E
; ---------------------------------------------------------------------------

loc_C602:
		push	word_13EEA
		push	word_13EE8	; arglist
		push	ds
		push	offset aB@rVivVsr_uabi ; "@Ã‚©‚È‚é_“ai‚P‚T–Ê`‚Q‚O–Êj%3lu"

loc_C60E:
		push	0Fh		; int
		push	120h		; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		cmp	byte_14021, 1
		jnz	short loc_C63B
		push	word_13EDA
		push	word_13ED8
		push	ds
		push	offset aCvkeglbGgsnnzb ; "  –‚ŠEƒ‹[ƒg‘‡@@@@@@	%5lu"
		jmp	short loc_C647
; ---------------------------------------------------------------------------

loc_C63B:
		push	word_13EDA
		push	word_13ED8	; arglist
		push	ds
		push	offset aB@tnncglbGgsnn ; "@’n–ƒ‹[ƒg‘‡@@@@@@@%5lu"

loc_C647:
		push	0Fh		; int
		push	140h		; int
		push	128h		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	1Eh
		call	sub_C82D
		pop	cx
		push	128h
		push	160h
		push	1Dh
		push	ds
		push	offset aThankYouForPla ; "    Thank you	for Playing !! "
		call	sub_C9B0
		push	ds
		push	offset aBBBVavVVPNjbBB ; "ššš‚ ‚È‚½‚ÌÌ†ššš"
		push	12h		; int
		push	180h		; int
		push	108h		; int
		call	sub_E9E4
		add	sp, 0Ah
		push	32h ; '2'
		call	sub_C82D
		pop	cx
		push	cs
		call	near ptr sub_C1A8
		xor	si, si
		push	64h ; 'd'
		call	sub_C82D
		pop	cx
		call	sub_A44F
		jmp	short loc_C6B1
; ---------------------------------------------------------------------------

loc_C6A1:
		push	0
		call	sub_A265
		pop	cx
		push	1
		call	sub_C82D
		pop	cx

loc_C6B1:
		mov	ax, si
		inc	si
		cmp	ax, 7D0h
		jge	short loc_C6C7
		cmp	byte_12BA0, 0
		jnz	short loc_C6C7
		cmp	byte_12B9C, 0
		jz	short loc_C6A1

loc_C6C7:
		push	1
		call	sub_D107
		pop	cx
		call	sub_D349
		push	0
		call	sub_D107
		pop	cx
		push	32h ; '2'
		call	sub_C842
		mov	byte_134C3, 7
		mov	byte_134C4, 0Fh
		mov	byte_134C5, 7
		mov	byte_134CF, 0Fh
		mov	byte_134D0, 0Fh
		mov	byte_134D1, 0Fh
		push	ds
		push	offset unk_134BA
		call	sub_D1D9
		add	sp, 4
		cmp	byte_14021, 1
		jnz	short loc_C71C
		push	ds
		push	offset aKo	; "Š®"
		push	32h ; '2'
		jmp	short loc_C722
; ---------------------------------------------------------------------------

loc_C71C:
		push	ds
		push	offset aKo_0	; "Š®"
		push	3Ch ; '<'

loc_C722:
		push	word_12B32
		push	word_12B30
		call	sub_B5D8
		add	sp, 0Ah
		call	sub_A076
		pop	si
		leave
		retf
sub_C446	endp

seg003		ends

; ===========================================================================

; Segment type:	Pure code
seg004		segment	byte public 'CODE' use16
		assume cs:seg004
		;org 0Ah
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C73A	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	1
		call	sub_D107
		pop	cx
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_EB39
		add	sp, 4
		pop	bp
		retf	4
sub_C73A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C757	proc far
		push	bp
		mov	bp, sp
		call	sub_120A
		mov	ax, 0FFF0h
		mov	dx, 4A0h
		out	dx, ax
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0FFFFh
		mov	dx, 4A8h
		out	dx, ax
		mov	ax, 0
		mov	dx, 4ACh
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		pop	bp
		retf
sub_C757	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C78B	proc far

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		enter	0Ah, 0
		push	si
		push	di
		push	cs
		call	near ptr sub_C757
		mov	ax, [bp+arg_0]
		mov	bx, 2
		cwd
		idiv	bx
		imul	dx, 140h
		mov	[bp+var_2], dx
		mov	ax, [bp+arg_0]
		cwd
		sub	ax, dx
		sar	ax, 1
		imul	ax, 0C8h
		mov	[bp+var_4], ax
		mov	ax, [bp+var_2]
		sar	ax, 3
		mov	dx, [bp+var_4]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+var_4]
		shl	dx, 4
		add	ax, dx
		mov	si, ax
		mov	di, 1F54h
		mov	[bp+var_8], 0
		jmp	short loc_C81D
; ---------------------------------------------------------------------------

loc_C7D6:
		mov	[bp+var_6], 0
		jmp	short loc_C80E
; ---------------------------------------------------------------------------

loc_C7DD:
		push	1
		call	sub_D107
		pop	cx
		les	bx, dword_1464E
		add	bx, si
		mov	ax, es:[bx]
		mov	[bp+var_A], ax
		push	0
		call	sub_D107
		pop	cx
		les	bx, dword_1464E
		add	bx, di
		mov	ax, [bp+var_A]
		mov	es:[bx], ax
		add	si, 2
		add	di, 2
		inc	[bp+var_6]

loc_C80E:
		cmp	[bp+var_6], 14h
		jl	short loc_C7DD
		add	si, 28h	; '('
		add	di, 28h	; '('
		inc	[bp+var_8]

loc_C81D:
		cmp	[bp+var_8], 0C8h ; 'È'
		jl	short loc_C7D6
		call	sub_1220
		pop	di
		pop	si
		leave
		retf
sub_C78B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C82D	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	word_14044, 0

loc_C836:
		mov	ax, word_14044
		cmp	ax, [bp+arg_0]
		jnb	short loc_C840
		jmp	short loc_C836
; ---------------------------------------------------------------------------

loc_C840:
		pop	bp
		retf
sub_C82D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C842	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		enter	2, 0
		push	si
		push	di
		cmp	[bp+arg_0], 0
		jge	short loc_C855
		mov	[bp+arg_0], 0
		jmp	short loc_C861
; ---------------------------------------------------------------------------

loc_C855:
		cmp	[bp+arg_0], 0C8h ; 'È'
		jle	short loc_C861
		mov	[bp+arg_0], 0C8h ; 'È'

loc_C861:
		mov	si, 1
		jmp	loc_C8F1
; ---------------------------------------------------------------------------

loc_C867:
		xor	di, di
		jmp	short loc_C8E8
; ---------------------------------------------------------------------------

loc_C86B:
		cmp	[bp+arg_0], 64h	; 'd'
		jle	short loc_C8A9
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+di+170Ah]
		cbw
		mov	dx, 0Fh
		sub	dx, ax
		mov	[bp+var_2], dx
		mov	ax, [bp+arg_0]
		add	ax, 0FF9Ch
		imul	[bp+var_2]
		mov	[bp+var_2], ax
		mov	bx, 64h	; 'd'
		mov	ax, [bp+var_2]
		cwd
		idiv	bx
		mov	[bp+var_2], ax
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+di+170Ah]
		add	al, byte ptr [bp+var_2]
		jmp	short loc_C8DE
; ---------------------------------------------------------------------------

loc_C8A9:
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+di+170Ah]
		cbw
		mov	[bp+var_2], ax
		mov	ax, 64h	; 'd'
		sub	ax, [bp+arg_0]
		imul	[bp+var_2]
		mov	[bp+var_2], ax
		mov	bx, 64h	; 'd'
		mov	ax, [bp+var_2]
		cwd
		idiv	bx
		mov	[bp+var_2], ax
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+di+170Ah]
		mov	dl, byte ptr [bp+var_2]
		neg	dl
		add	al, dl

loc_C8DE:
		mov	bx, si
		imul	bx, 3
		mov	[bx+di+0A1Ah], al
		inc	di

loc_C8E8:
		cmp	di, 3
		jge	short loc_C8F0
		jmp	loc_C86B
; ---------------------------------------------------------------------------

loc_C8F0:
		inc	si

loc_C8F1:
		cmp	si, 10h
		jge	short loc_C8F9
		jmp	loc_C867
; ---------------------------------------------------------------------------

loc_C8F9:
		mov	ax, [bp+arg_0]
		mov	word_13507, ax
		push	ds
		push	offset unk_134BA
		call	sub_D1D9
		add	sp, 4
		pop	di
		pop	si
		leave
		retf	2
sub_C842	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C911	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, 64h	; 'd'
		xor	si, si
		jmp	short loc_C92E
; ---------------------------------------------------------------------------

loc_C91D:
		sub	di, 5
		push	di
		push	cs
		call	near ptr sub_C842
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_C82D
		pop	cx
		inc	si

loc_C92E:
		cmp	si, 14h
		jl	short loc_C91D
		pop	di
		pop	si
		pop	bp
		retf	2
sub_C911	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C939	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	di, di
		xor	si, si
		jmp	short loc_C955
; ---------------------------------------------------------------------------

loc_C944:
		add	di, 5
		push	di
		push	cs
		call	near ptr sub_C842
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_C82D
		pop	cx
		inc	si

loc_C955:
		cmp	si, 14h
		jl	short loc_C944
		pop	di
		pop	si
		pop	bp
		retf	2
sub_C939	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C960	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, 64h	; 'd'
		xor	si, si
		jmp	short loc_C97D
; ---------------------------------------------------------------------------

loc_C96C:
		add	di, 5
		push	di
		push	cs
		call	near ptr sub_C842
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_C82D
		pop	cx
		inc	si

loc_C97D:
		cmp	si, 14h
		jl	short loc_C96C
		pop	di
		pop	si
		pop	bp
		retf	2
sub_C960	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C988	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, 0C8h ; 'È'
		xor	si, si
		jmp	short loc_C9A5
; ---------------------------------------------------------------------------

loc_C994:
		sub	di, 5
		push	di
		push	cs
		call	near ptr sub_C842
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_C82D
		pop	cx
		inc	si

loc_C9A5:
		cmp	si, 14h
		jl	short loc_C994
		pop	di
		pop	si
		pop	bp
		retf	2
sub_C988	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C9B0	proc far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_C9E4
; ---------------------------------------------------------------------------

loc_C9B8:
		les	bx, [bp+arg_0]
		add	bx, si
		mov	al, es:[bx]
		cbw
		push	ax		; arglist
		push	ds
		push	offset aC	; "%c"
		push	0Fh		; int
		push	[bp+arg_6]	; int
		mov	ax, si
		shl	ax, 3
		add	ax, [bp+arg_8]
		push	ax		; int
		call	sub_E9E4
		add	sp, 0Ch
		push	3
		push	cs
		call	near ptr sub_C82D
		pop	cx
		inc	si

loc_C9E4:
		cmp	si, [bp+arg_4]
		jl	short loc_C9B8
		pop	si
		pop	bp
		retf	0Ah
sub_C9B0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C9EE	proc far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_CA36
; ---------------------------------------------------------------------------

loc_C9F6:
		mov	bx, si
		add	bx, bx
		mov	es, word ptr [bp+arg_0+2]
		add	bx, word ptr [bp+arg_0]
		mov	al, es:[bx+1]
		cbw
		push	ax
		mov	ax, si
		add	ax, ax
		les	bx, [bp+arg_0]
		add	bx, ax
		mov	al, es:[bx]
		cbw
		push	ax		; arglist
		push	ds
		push	offset aCC_5	; "%c%c"
		push	0Fh		; int
		push	[bp+arg_6]	; int
		mov	ax, si
		shl	ax, 4
		add	ax, [bp+arg_8]
		push	ax		; int
		call	sub_E9E4
		add	sp, 0Eh
		push	3
		push	cs
		call	near ptr sub_C82D
		pop	cx
		inc	si

loc_CA36:
		cmp	si, [bp+arg_4]
		jl	short loc_C9F6
		pop	si
		pop	bp
		retf	0Ah
sub_C9EE	endp

seg004		ends

; ===========================================================================

; Segment type:	Pure code
seg005		segment	byte public 'CODE' use16
		assume cs:seg005
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; void __interrupt isr()
isr		proc far

var_4		= word ptr -4
var_2		= word ptr -2

		push	ax
		push	bx
		push	cx
		push	dx
		push	es
		push	ds
		push	si
		push	di
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		sub	sp, 4
		mov	ax, word_1344D
		mov	[bp+var_2], ax
		mov	ax, word_1344F
		mov	[bp+var_4], ax
		inc	word_14044
		inc	word_14046
		cmp	word_13443, 0
		jz	short loc_CA72
		call	dword_1404C

loc_CA72:
		xor	dx, dx
		mov	al, 20h	; ' '
		out	dx, al
		mov	dx, 64h	; 'd'
		mov	al, 0
		out	dx, al		; AT Keyboard controller 8042.
		leave
		pop	di
		pop	si
		pop	ds
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	ax
		iret
isr		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CA87	proc far
		push	bp
		mov	bp, sp
		cmp	byte_13442, 0
		jnz	short loc_CAC7
		mov	byte_13442, 1
		cli
		push	0Ah		; interruptno
		call	_getvect
		pop	cx
		mov	word_1404A, dx
		mov	off_14048, ax
		push	seg seg005
		push	offset isr	; isr
		push	0Ah		; interruptno
		call	_setvect
		add	sp, 6
		mov	dx, 2
		in	al, dx		; DMA controller, 8237A-5.
					; channel 1 current address
		and	al, 0FBh
		mov	dx, 2
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address
					; (also	sets current address)
		mov	dx, 64h	; 'd'
		mov	al, 0
		out	dx, al		; AT Keyboard controller 8042.
		sti

loc_CAC7:
		pop	bp
		retf
sub_CA87	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CAC9	proc far
		push	bp
		mov	bp, sp
		cmp	byte_13442, 1
		jnz	short loc_CAF6
		mov	byte_13442, 0
		cli
		mov	dx, 2
		in	al, dx		; DMA controller, 8237A-5.
					; channel 1 current address
		or	al, 4
		mov	dx, 2
		out	dx, al		; DMA controller, 8237A-5.
					; channel 1 base address
					; (also	sets current address)
		push	word_1404A
		push	off_14048	; isr
		push	0Ah		; interruptno
		call	_setvect
		add	sp, 6
		sti

loc_CAF6:
		pop	bp
		retf
sub_CAC9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CAF8	proc far
		push	bp
		mov	bp, sp

loc_CAFB:
		mov	dx, 60h	; '`'
		in	al, dx		; AT Keyboard controller 8042.
		test	al, 20h
		jnz	short loc_CAFB

loc_CB03:
		mov	dx, 60h	; '`'
		in	al, dx		; AT Keyboard controller 8042.
		test	al, 20h
		jz	short loc_CB03
		pop	bp
		retf
sub_CAF8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB0D	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	word_13443, 0
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr dword_1404C+2,	dx
		mov	word ptr dword_1404C, ax
		mov	word_13443, 1
		pop	bp
		retf
sub_CB0D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB2B	proc far
		push	bp
		mov	bp, sp
		mov	word_13443, 0
		pop	bp
		retf
sub_CB2B	endp

seg005		ends

; ===========================================================================

; Segment type:	Pure code
seg006		segment	byte public 'CODE' use16
		assume cs:seg006
		;org 6
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB36	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		mov	byte ptr [bp+inregs+1],	0Eh
		mov	word ptr [bp+inregs+6],	0
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		nop
		push	cs
		call	near ptr sub_CB95
		nop
		push	cs
		call	near ptr sub_CBC8
		push	0
		nop
		push	cs
		call	near ptr sub_CC26
		add	sp, 0Ch
		nop
		push	cs
		call	near ptr sub_CBD9
		nop
		push	cs
		call	near ptr sub_CBEA
		leave
		retf
sub_CB36	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB74	proc far
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_CB95
		nop
		push	cs
		call	near ptr sub_CBB7
		push	1
		nop
		push	cs
		call	near ptr sub_CC26
		pop	cx
		nop
		push	cs
		call	near ptr sub_CBD9
		nop
		push	cs
		call	near ptr sub_CBEA
		pop	bp
		retf
sub_CB74	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB95	proc far
		push	bp
		mov	bp, sp
		push	ds
		push	offset a3l	; "\x1B[>3l"
		nop
		push	cs
		call	near ptr sub_CE47
		add	sp, 4
		pop	bp
		retf
sub_CB95	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBA6	proc far
		push	bp
		mov	bp, sp
		push	ds
		push	offset a3h	; "\x1B[>3h"
		nop
		push	cs
		call	near ptr sub_CE47
		add	sp, 4
		pop	bp
		retf
sub_CBA6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBB7	proc far
		push	bp
		mov	bp, sp
		push	ds
		push	offset a1l	; "\x1B[>1l"
		nop
		push	cs
		call	near ptr sub_CE47
		add	sp, 4
		pop	bp
		retf
sub_CBB7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBC8	proc far
		push	bp
		mov	bp, sp
		push	ds
		push	offset a1h	; "\x1B[>1h"
		nop
		push	cs
		call	near ptr sub_CE47
		add	sp, 4
		pop	bp
		retf
sub_CBC8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBD9	proc far
		push	bp
		mov	bp, sp
		push	ds
		push	offset a2j	; "\x1B[2J"
		nop
		push	cs
		call	near ptr sub_CE47
		add	sp, 4
		pop	bp
		retf
sub_CBD9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBEA	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		mov	byte ptr [bp+inregs+1],	0Ch
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		leave
		retf
sub_CBEA	endp

; ---------------------------------------------------------------------------
		enter	10h, 0
		mov	byte ptr [bp-0Fh], 0Dh
		push	ss
		lea	ax, [bp-10h]
		push	ax
		push	ss
		lea	ax, [bp-10h]
		push	ax
		push	18h
		call	_int86
		add	sp, 0Ah
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CC26	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	es, ax
		assume es:seg000
		mov	al, byte ptr es:loc_538+3
		cbw
		mov	bx, ax
		mov	dx, 62h	; 'b'
		mov	al, 4Bh	; 'K'
		out	dx, al		; PC/XT	PPI port C. Bits:
					; 0-3: values of DIP switches
					; 5: 1=Timer 2 channel out
					; 6: 1=I/O channel check
					; 7: 1=RAM parity check	error occurred.
		mov	al, bl
		or	al, 80h
		mov	dx, 60h	; '`'
		out	dx, al		; AT Keyboard controller 8042.
		mov	ax, [bp+arg_0]
		or	ax, ax
		jz	short loc_CC55
		cmp	ax, 1
		jz	short loc_CC5C
		cmp	ax, 2
		jz	short loc_CC63
		jmp	short loc_CC6B
; ---------------------------------------------------------------------------

loc_CC55:
		mov	dx, 60h	; '`'
		mov	al, 9Fh	; 'Ÿ'
		jmp	short loc_CC6A
; ---------------------------------------------------------------------------

loc_CC5C:
		mov	dx, 60h	; '`'
		mov	al, 80h	; '€'
		jmp	short loc_CC6A
; ---------------------------------------------------------------------------

loc_CC63:
		mov	al, bl
		add	al, 7Dh	; '}'
		mov	dx, 60h	; '`'

loc_CC6A:
		out	dx, al		; AT Keyboard controller 8042.

loc_CC6B:
		mov	al, bl
		shl	al, 3
		add	al, 2
		mov	dx, 60h	; '`'
		out	dx, al		; AT Keyboard controller 8042.
		pop	bp
		retf
sub_CC26	endp

; ---------------------------------------------------------------------------
		enter	10h, 0
		mov	byte ptr [bp-0Ch], 10h
		mov	byte ptr [bp-0Fh], 3
		mov	al, [bp+8]
		mov	[bp-9],	al
		mov	al, [bp+6]
		mov	[bp-0Ah], al
		push	ss
		lea	ax, [bp-10h]
		push	ax
		push	ss
		lea	ax, [bp-10h]
		push	ax
		push	0DCh ; 'Ü'
		call	_int86
		add	sp, 0Ah
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CCA7	proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= byte ptr  0Ah
arg_5		= byte ptr  0Bh
arg_6		= dword	ptr  0Ch

		enter	2, 0
		push	si
		push	di
		mov	ax, [bp+arg_2]
		imul	ax, 50h
		add	ax, [bp+arg_0]
		add	ax, ax
		mov	si, ax
		mov	di, 1
		test	[bp+arg_4], 1
		jz	short loc_CCC6
		add	di, 20h	; ' '

loc_CCC6:
		test	[bp+arg_4], 4
		jz	short loc_CCCF
		add	di, 40h	; '@'

loc_CCCF:
		test	[bp+arg_4], 2
		jz	short loc_CCD9
		add	di, 80h	; '€'

loc_CCD9:
		test	[bp+arg_5], 8
		jz	short loc_CCE2
		add	di, 10h

loc_CCE2:
		test	[bp+arg_5], 4
		jz	short loc_CCEB
		add	di, 8

loc_CCEB:
		test	[bp+arg_5], 2
		jz	short loc_CCF4
		add	di, 4

loc_CCF4:
		test	[bp+arg_5], 1
		jz	short loc_CCFD
		add	di, 2

loc_CCFD:
		mov	ax, di
		shl	ax, 8
		add	di, ax
		jmp	loc_CDFB
; ---------------------------------------------------------------------------

loc_CD07:
		les	bx, [bp+arg_6]
		assume es:nothing
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+12C3h], 4
		jnz	short loc_CD1B
		jmp	loc_CDD2
; ---------------------------------------------------------------------------

loc_CD1B:
		les	bx, [bp+arg_6]
		mov	al, es:[bx]
		cbw
		shl	ax, 8
		les	bx, [bp+arg_6]
		mov	dl, es:[bx+1]
		mov	dh, 0
		add	ax, dx
		push	ax
		call	sub_9BA2
		pop	cx
		mov	[bp+var_2], ax
		add	word ptr [bp+arg_6], 2
		cmp	[bp+var_2], 2921h
		jb	short loc_CD6C
		cmp	[bp+var_2], 2B7Eh
		ja	short loc_CD6C
		mov	ax, [bp+var_2]
		shr	ax, 8
		add	al, 0E0h ; 'à'
		or	al, 80h
		mov	dx, 0A000h
		mov	es, dx
		assume es:nothing
		mov	es:[si], al
		mov	ax, 0A000h
		mov	dl, byte ptr [bp+var_2]
		mov	es, ax
		mov	es:[si+1], dl
		jmp	short loc_CDE5
; ---------------------------------------------------------------------------

loc_CD6C:
		cmp	[bp+arg_0], 4Fh	; 'O'
		jnz	short loc_CD7E
		mov	ax, 0A000h
		mov	es, ax
		mov	word ptr es:[si], 20h ;	' '
		jmp	short loc_CDE5
; ---------------------------------------------------------------------------

loc_CD7E:
		mov	ax, [bp+var_2]
		shr	ax, 8
		add	al, 0E0h ; 'à'
		mov	dx, 0A000h
		mov	es, dx
		mov	es:[si], al
		mov	ax, 0A000h
		mov	dl, byte ptr [bp+var_2]
		mov	es, ax
		mov	es:[si+1], dl
		mov	ax, [bp+var_2]
		shr	ax, 8
		add	al, 0E0h ; 'à'
		or	al, 80h
		mov	dx, 0A000h
		mov	es, dx
		mov	es:[si+2], al
		mov	ax, 0A000h
		mov	dl, byte ptr [bp+var_2]
		mov	es, ax
		mov	es:[si+3], dl
		mov	ax, 0A200h
		mov	es, ax
		assume es:nothing
		mov	es:[si], di
		mov	ax, 0A200h
		mov	es, ax
		mov	es:[si+2], di
		add	si, 2
		inc	[bp+arg_0]
		jmp	short loc_CDED
; ---------------------------------------------------------------------------

loc_CDD2:
		les	bx, [bp+arg_6]
		assume es:nothing
		mov	al, es:[bx]
		mov	ah, 0
		mov	dx, 0A000h
		mov	es, dx
		assume es:nothing
		mov	es:[si], ax
		inc	word ptr [bp+arg_6]

loc_CDE5:
		mov	ax, 0A200h
		mov	es, ax
		assume es:nothing
		mov	es:[si], di

loc_CDED:
		add	si, 2
		inc	[bp+arg_0]
		mov	ax, [bp+arg_0]
		cmp	ax, 50h	; 'P'
		jge	short loc_CE07

loc_CDFB:
		les	bx, [bp+arg_6]
		assume es:nothing
		cmp	byte ptr es:[bx], 0
		jz	short loc_CE07
		jmp	loc_CD07
; ---------------------------------------------------------------------------

loc_CE07:
		pop	di
		pop	si
		leave
		retf
sub_CCA7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CE0B	proc far

buffer		= byte ptr -104h
_arglist		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
_format		= dword	ptr  0Ch
arg_A		= byte ptr  10h

		enter	104h, 0
		lea	ax, [bp+arg_A]
		mov	word ptr [bp+_arglist+2], ss
		mov	word ptr [bp+_arglist], ax
		push	word ptr [bp+_arglist+2]
		push	word ptr [bp+_arglist] ;	arglist
		push	word ptr [bp+_format+2]
		push	word ptr [bp+_format] ; format
		push	ss
		lea	ax, [bp+buffer]
		push	ax		; buffer
		call	_vsprintf
		push	ss
		lea	ax, [bp+buffer]
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_CCA7
		add	sp, 16h
		leave
		retf
sub_CE0B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CE47	proc far

inregs		= REGS ptr -10h
arg_0		= dword	ptr  6

		enter	10h, 0
		mov	byte ptr [bp+inregs+4],	10h
		mov	byte ptr [bp+inregs+1],	0
		jmp	short loc_CE76
; ---------------------------------------------------------------------------

loc_CE55:
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		mov	byte ptr [bp+inregs+6],	al
		inc	word ptr [bp+arg_0]
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; inregs
		push	0DCh ; 'Ü'      ; intno
		call	_int86
		add	sp, 0Ah

loc_CE76:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_CE55
		mov	dx, 64h	; 'd'
		mov	al, 0
		out	dx, al		; AT Keyboard controller 8042.
		leave
		retf
sub_CE47	endp

seg006		ends

; ===========================================================================

; Segment type:	Pure code
seg007		segment	byte public 'CODE' use16
		assume cs:seg007
		;org 7
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; void __interrupt sub_CE87()
sub_CE87	proc far
		push	eax
		push	ebx
		push	ecx
		push	edx
		push	es
		push	ds
		push	esi
		push	edi
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		pop	bp
		pop	edi
		pop	esi
		pop	ds
		pop	es
		pop	edx
		pop	ecx
		pop	ebx
		pop	eax
		iret
sub_CE87	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CEAD	proc far
		push	bp
		mov	bp, sp
		cmp	byte_134B8, 0
		jnz	short loc_CEFE
		mov	byte_134B8, 1
		push	6		; interruptno
		call	_getvect
		pop	cx
		mov	word ptr off_14150+2, dx
		mov	word ptr off_14150, ax
		push	seg seg007
		push	offset sub_CF87	; isr
		push	6		; interruptno
		call	_setvect
		add	sp, 6
		call	sub_CA87
		call	sub_CB36
		call	sub_1240
		call	sub_CE2
		call	sub_EDA
		call	sub_E984
		call	sub_EC46

loc_CEFE:
		pop	bp
		retf
sub_CEAD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CF00	proc far
		push	bp
		mov	bp, sp
		cmp	byte_134B8, 1
		jnz	short loc_CF19
		mov	byte_134B8, 0
		nop
		push	cs
		call	near ptr sub_CF48
		call	sub_F4E

loc_CF19:
		pop	bp
		retf
sub_CF00	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CF1B	proc far
		push	bp
		mov	bp, sp
		cmp	byte_134B8, 1
		jnz	short loc_CF46
		nop
		push	cs
		call	near ptr sub_CF48
		call	sub_CB95
		push	0
		call	sub_CC26
		pop	cx
		call	sub_CBD9
		call	sub_CBEA
		mov	byte_134B8, 0

loc_CF46:
		pop	bp
		retf
sub_CF1B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CF48	proc far
		push	bp
		mov	bp, sp
		mov	byte_134B8, 0
		push	seg seg007
		push	offset sub_CE87	; isr
		push	6		; interruptno
		call	_setvect
		call	sub_CAC9
		call	sub_CBD9
		call	sub_D4FE
		call	sub_D094
		call	sub_1240
		push	large [off_14150] ; isr
		push	6		; interruptno
		call	_setvect
		add	sp, 0Ch
		pop	bp
		retf
sub_CF48	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

; void __interrupt sub_CF87()
sub_CF87	proc far
		push	eax
		push	ebx
		push	ecx
		push	edx
		push	es
		push	ds
		push	esi
		push	edi
		push	bp
		mov	bp, seg	dseg
		mov	ds, bp
		mov	bp, sp
		push	cs
		call	near ptr sub_CF00
		push	0		; status
		call	_exit
; ---------------------------------------------------------------------------
		pop	cx
		pop	bp
		pop	edi
		pop	esi
		pop	ds
		pop	es
		pop	edx
		pop	ecx
		pop	ebx
		pop	eax
		iret
sub_CF87	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: noreturn bp-based	frame

sub_CFB9	proc far

buffer		= byte ptr -104h
var_4		= word ptr -4
var_2		= word ptr -2
_format		= dword	ptr  6
_arglist		= byte ptr  0Ah

		enter	104h, 0
		lea	ax, [bp+_arglist]
		mov	[bp+var_2], ss
		mov	[bp+var_4], ax
		push	[bp+var_2]
		push	ax		; arglist
		push	large [bp+_format] ; format
		push	ss
		lea	ax, [bp+buffer]
		push	ax		; buffer
		call	_vsprintf
		push	cs
		call	near ptr sub_CF00
		push	ss
		lea	ax, [bp+buffer]
		push	ax
		call	sub_CE47
		push	1		; status
		call	_exit
; ---------------------------------------------------------------------------
		add	sp, 12h
		leave
		retf
sub_CFB9	endp

seg007		ends

; ===========================================================================

; Segment type:	Pure code
seg008		segment	byte public 'CODE' use16
		assume cs:seg008
		;org 4
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CFF4	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		nop
		push	cs
		call	near ptr sub_D0E0
		mov	byte ptr [bp+inregs+1],	42h ; 'B'
		mov	byte ptr [bp+inregs+5],	0C0h ; 'À'
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		mov	dx, 6Ah	; 'j'
		mov	al, 1
		out	dx, al		; PC-98	GDC (6a):
					;
		push	ds
		push	offset unk_134BA
		nop
		push	cs
		call	near ptr sub_D1D9
		push	0
		nop
		push	cs
		call	near ptr sub_D107
		push	0
		nop
		push	cs
		call	near ptr sub_D0FB
		add	sp, 12h
		nop
		push	cs
		call	near ptr sub_D300
		mov	dx, 68h	; 'h'
		mov	al, 0Ah
		out	dx, al
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		nop
		push	cs
		call	near ptr sub_D0C5
		leave
		retf
sub_CFF4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D04B	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		nop
		push	cs
		call	near ptr sub_D0E0
		mov	byte ptr [bp+inregs+1],	42h ; 'B'
		mov	byte ptr [bp+inregs+5],	0C0h ; 'À'
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		mov	dx, 6Ah	; 'j'
		mov	al, 1
		out	dx, al		; PC-98	GDC (6a):
					;
		push	0
		nop
		push	cs
		call	near ptr sub_D107
		push	0
		nop
		push	cs
		call	near ptr sub_D0FB
		add	sp, 0Eh
		mov	dx, 68h	; 'h'
		mov	al, 0Ah
		out	dx, al
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		nop
		push	cs
		call	near ptr sub_D0C5
		leave
		retf
sub_D04B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D094	proc far
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_D431
		nop
		push	cs
		call	near ptr sub_D300
		push	0
		nop
		push	cs
		call	near ptr sub_D107
		push	0
		nop
		push	cs
		call	near ptr sub_D0FB
		add	sp, 4
		nop
		push	cs
		call	near ptr sub_D0C5
		mov	dx, 68h	; 'h'
		mov	al, 0Ah
		out	dx, al
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		pop	bp
		retf
sub_D094	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D0C5	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		mov	byte ptr [bp+inregs+1],	40h ; '@'
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		leave
		retf
sub_D0C5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D0E0	proc far

inregs		= REGS ptr -10h

		enter	10h, 0
		mov	byte ptr [bp+inregs+1],	41h ; 'A'
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		push	ax		; inregs
		push	18h		; intno
		call	_int86
		add	sp, 0Ah
		leave
		retf
sub_D0E0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D0FB	proc far

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	dx, 0A4h ; '¤'
		mov	al, [bp+arg_0]
		out	dx, al		; Interrupt Controller #2, 8259A
		pop	bp
		retf
sub_D0FB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D107	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		mov	byte_14159, bl
		mov	dx, 0A6h ; '¦'
		mov	al, bl
		out	dx, al		; Interrupt Controller #2, 8259A
		pop	bp
		retf
sub_D107	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D119	proc far

arg_0		= byte ptr  6
arg_2		= byte ptr  8
arg_4		= byte ptr  0Ah
arg_6		= byte ptr  0Ch

		push	bp
		mov	bp, sp
		mov	dx, 0A8h ; '¨'
		mov	al, [bp+arg_0]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0AAh ; 'ª'
		mov	al, [bp+arg_4]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0ACh ; '¬'
		mov	al, [bp+arg_2]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0AEh ; '®'
		mov	al, [bp+arg_6]
		out	dx, al		; Interrupt Controller #2, 8259A
		pop	bp
		retf
sub_D119	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D13A	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		mov	dx, 7Ch	; '|'
		mov	al, 0C0h ; 'À'
		out	dx, al
		test	bl, 1
		jz	short loc_D14F
		mov	al, 0FFh
		jmp	short loc_D151
; ---------------------------------------------------------------------------

loc_D14F:
		mov	al, 0

loc_D151:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 2
		jz	short loc_D15E
		mov	al, 0FFh
		jmp	short loc_D160
; ---------------------------------------------------------------------------

loc_D15E:
		mov	al, 0

loc_D160:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 4
		jz	short loc_D16D
		mov	al, 0FFh
		jmp	short loc_D16F
; ---------------------------------------------------------------------------

loc_D16D:
		mov	al, 0

loc_D16F:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 8
		jz	short loc_D17C
		mov	al, 0FFh
		jmp	short loc_D17E
; ---------------------------------------------------------------------------

loc_D17C:
		mov	al, 0

loc_D17E:
		mov	dx, 7Eh	; '~'
		out	dx, al
		pop	bp
		retf
sub_D13A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D184	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		mov	dx, 7Ch	; '|'
		mov	al, 80h	; '€'
		out	dx, al
		test	bl, 1
		jz	short loc_D199
		mov	al, 0FFh
		jmp	short loc_D19B
; ---------------------------------------------------------------------------

loc_D199:
		mov	al, 0

loc_D19B:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 2
		jz	short loc_D1A8
		mov	al, 0FFh
		jmp	short loc_D1AA
; ---------------------------------------------------------------------------

loc_D1A8:
		mov	al, 0

loc_D1AA:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 4
		jz	short loc_D1B7
		mov	al, 0FFh
		jmp	short loc_D1B9
; ---------------------------------------------------------------------------

loc_D1B7:
		mov	al, 0

loc_D1B9:
		mov	dx, 7Eh	; '~'
		out	dx, al
		test	bl, 8
		jz	short loc_D1C6
		mov	al, 0FFh
		jmp	short loc_D1C8
; ---------------------------------------------------------------------------

loc_D1C6:
		mov	al, 0

loc_D1C8:
		mov	dx, 7Eh	; '~'
		out	dx, al
		pop	bp
		retf
sub_D184	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D1CE	proc far
		push	bp
		mov	bp, sp
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		pop	bp
		retf
sub_D1CE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D1D9	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_D21A
; ---------------------------------------------------------------------------

loc_D1E1:
		mov	ax, si
		imul	ax, 3
		les	bx, [bp+arg_0]
		add	bx, ax
		mov	al, es:[bx+2]
		cbw
		push	ax
		mov	ax, si
		imul	ax, 3
		mov	bx, word ptr [bp+arg_0]
		add	bx, ax
		mov	al, es:[bx+1]
		cbw
		push	ax
		mov	ax, si
		imul	ax, 3
		mov	bx, word ptr [bp+arg_0]
		add	bx, ax
		mov	al, es:[bx]
		cbw
		push	ax
		push	si
		nop
		push	cs
		call	near ptr sub_D222
		add	sp, 8
		inc	si

loc_D21A:
		cmp	si, 10h
		jl	short loc_D1E1
		pop	si
		pop	bp
		retf
sub_D1D9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D222	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		cmp	[bp+arg_2], 0Fh
		jge	short loc_D234
		mov	ax, [bp+arg_2]
		jmp	short loc_D237
; ---------------------------------------------------------------------------

loc_D234:
		mov	ax, 0Fh

loc_D237:
		or	ax, ax
		jle	short loc_D24B
		cmp	[bp+arg_2], 0Fh
		jge	short loc_D246
		mov	ax, [bp+arg_2]
		jmp	short loc_D249
; ---------------------------------------------------------------------------

loc_D246:
		mov	ax, 0Fh

loc_D249:
		jmp	short loc_D24D
; ---------------------------------------------------------------------------

loc_D24B:
		xor	ax, ax

loc_D24D:
		mov	[bp+arg_2], ax
		cmp	[bp+arg_4], 0Fh
		jge	short loc_D25B
		mov	ax, [bp+arg_4]
		jmp	short loc_D25E
; ---------------------------------------------------------------------------

loc_D25B:
		mov	ax, 0Fh

loc_D25E:
		or	ax, ax
		jle	short loc_D272
		cmp	[bp+arg_4], 0Fh
		jge	short loc_D26D
		mov	ax, [bp+arg_4]
		jmp	short loc_D270
; ---------------------------------------------------------------------------

loc_D26D:
		mov	ax, 0Fh

loc_D270:
		jmp	short loc_D274
; ---------------------------------------------------------------------------

loc_D272:
		xor	ax, ax

loc_D274:
		mov	[bp+arg_4], ax
		cmp	[bp+arg_6], 0Fh
		jge	short loc_D282
		mov	ax, [bp+arg_6]
		jmp	short loc_D285
; ---------------------------------------------------------------------------

loc_D282:
		mov	ax, 0Fh

loc_D285:
		or	ax, ax
		jle	short loc_D299
		cmp	[bp+arg_6], 0Fh
		jge	short loc_D294
		mov	ax, [bp+arg_6]
		jmp	short loc_D297
; ---------------------------------------------------------------------------

loc_D294:
		mov	ax, 0Fh

loc_D297:
		jmp	short loc_D29B
; ---------------------------------------------------------------------------

loc_D299:
		xor	ax, ax

loc_D29B:
		mov	[bp+arg_6], ax
		mov	bx, si
		imul	bx, 3
		mov	al, byte ptr [bp+arg_2]
		mov	[bx+0A1Ah], al
		mov	bx, si
		imul	bx, 3
		mov	al, byte ptr [bp+arg_4]
		mov	[bx+0A1Bh], al
		mov	bx, si
		imul	bx, 3
		mov	al, byte ptr [bp+arg_6]
		mov	[bx+0A1Ch], al
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	si
		push	cs
		call	near ptr sub_D119
		add	sp, 8
		pop	si
		pop	bp
		retf
sub_D222	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D2D6	proc far

_s		= dword	ptr -4

		enter	4, 0
		mov	[bp+_s],	0A8000000h
		push	0
		push	cs
		call	near ptr sub_D13A
		push	large 7D0000FFh	; c
		push	large [bp+_s]	; s
		call	_memset
		add	sp, 0Ah
		push	cs
		call	near ptr sub_D1CE
		leave
		retf
sub_D2D6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D300	proc far
		push	bp
		mov	bp, sp
		push	2
		push	cs
		call	near ptr sub_D107
		push	cs
		call	near ptr sub_D2D6
		push	2
		push	cs
		call	near ptr sub_D107
		add	sp, 4
		push	cs
		call	near ptr sub_D2D6
		pop	bp
		retf
sub_D300	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D31C	proc far

_s		= dword	ptr -4
arg_0		= byte ptr  6

		enter	4, 0
		mov	[bp+_s],	0A8000000h
		mov	al, [bp+arg_0]
		cbw
		push	ax
		push	cs
		call	near ptr sub_D13A
		push	large 7D0000FFh	; c
		push	large [bp+_s]	; s
		call	_memset
		add	sp, 0Ah
		push	cs
		call	near ptr sub_D1CE
		leave
		retf
sub_D31C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D349	proc far

var_152		= byte ptr -152h
var_102		= byte ptr -102h
var_B2		= byte ptr -0B2h
dest		= byte ptr -62h
var_11		= byte ptr -11h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
_src		= dword	ptr -4

		enter	152h, 0
		push	si
		mov	[bp+_src], 0A8000000h
		mov	[bp+var_8], 0B0000000h
		mov	[bp+var_C], 0B8000000h
		mov	[bp+var_10], 0E0000000h
		mov	al, byte_14159
		xor	al, 1
		mov	[bp+var_11], al
		xor	si, si
		jmp	loc_D426
; ---------------------------------------------------------------------------

loc_D37B:
		push	50h ; 'P'       ; n
		push	large [bp+_src]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_memcpy
		push	50h ; 'P'       ; n
		push	large [bp+var_8] ; src
		push	ss
		lea	ax, [bp+var_B2]
		push	ax		; dest
		call	_memcpy
		push	50h ; 'P'       ; n
		push	large [bp+var_C] ; src
		push	ss
		lea	ax, [bp+var_102]
		push	ax		; dest
		call	_memcpy
		push	50h ; 'P'       ; n
		push	large [bp+var_10] ; src
		push	ss
		lea	ax, [bp+var_152]
		push	ax		; dest
		call	_memcpy
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+var_11]
		out	dx, al		; Interrupt Controller #2, 8259A
		push	50h ; 'P'       ; n
		push	ss
		lea	ax, [bp+dest]
		push	ax		; src
		push	large [bp+_src]	; dest
		call	_memcpy
		add	sp, 32h
		push	50h ; 'P'       ; n
		push	ss
		lea	ax, [bp+var_B2]
		push	ax		; src
		push	large [bp+var_8] ; dest
		call	_memcpy
		push	50h ; 'P'       ; n
		push	ss
		lea	ax, [bp+var_102]
		push	ax		; src
		push	large [bp+var_C] ; dest
		call	_memcpy
		push	50h ; 'P'       ; n
		push	ss
		lea	ax, [bp+var_152]
		push	ax		; src
		push	large [bp+var_10] ; dest
		call	_memcpy
		add	sp, 1Eh
		mov	dx, 0A6h ; '¦'
		mov	al, byte_14159
		out	dx, al		; Interrupt Controller #2, 8259A
		add	word ptr [bp+_src], 50h ; 'P'
		add	word ptr [bp+var_8], 50h ; 'P'
		add	word ptr [bp+var_C], 50h ; 'P'
		add	word ptr [bp+var_10], 50h ; 'P'
		inc	si

loc_D426:
		cmp	si, 190h
		jl	loc_D37B
		pop	si
		leave
		retf
sub_D349	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D431	proc far
		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_D447
; ---------------------------------------------------------------------------

loc_D439:
		push	large 0
		push	0
		push	si
		push	cs
		call	near ptr sub_D119
		add	sp, 8
		inc	si

loc_D447:
		cmp	si, 10h
		jl	short loc_D439
		pop	si
		pop	bp
		retf
sub_D431	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D44F	proc far

_s		= byte ptr -32h
var_31		= byte ptr -31h
var_30		= byte ptr -30h
var_2		= word ptr -2

		enter	32h, 0
		push	si
		push	di
		push	large 300000h	; c
		push	ss
		lea	ax, [bp+_s]
		push	ax		; s
		call	_memset
		add	sp, 8
		mov	[bp+var_2], 0
		jmp	loc_D4F2
; ---------------------------------------------------------------------------

loc_D470:
		call	sub_CAF8
		xor	si, si
		jmp	short loc_D4E2
; ---------------------------------------------------------------------------

loc_D479:
		xor	di, di
		jmp	short loc_D4A7
; ---------------------------------------------------------------------------

loc_D47D:
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		mov	bx, si
		imul	bx, 3
		cmp	al, [bx+di+0A1Ah]
		jge	short loc_D4A6
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+_s]
		add	bx, ax
		inc	byte ptr ss:[bx]

loc_D4A6:
		inc	di

loc_D4A7:
		cmp	di, 3
		jl	short loc_D47D
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_30]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_31]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		push	si
		push	cs
		call	near ptr sub_D119
		add	sp, 8
		inc	si

loc_D4E2:
		cmp	si, 10h
		jl	short loc_D479
		push	0Ah
		call	sub_997D
		pop	cx
		inc	[bp+var_2]

loc_D4F2:
		cmp	[bp+var_2], 10h
		jl	loc_D470
		pop	di
		pop	si
		leave
		retf
sub_D44F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D4FE	proc far

dest		= byte ptr -32h
var_31		= byte ptr -31h
var_30		= byte ptr -30h
var_2		= word ptr -2

		enter	32h, 0
		push	si
		push	di
		push	30h ; '0'       ; n
		push	ds
		push	offset unk_134BA ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_memcpy
		add	sp, 0Ah
		mov	[bp+var_2], 0
		jmp	short loc_D595
; ---------------------------------------------------------------------------

loc_D51E:
		call	sub_CAF8
		xor	si, si
		jmp	short loc_D585
; ---------------------------------------------------------------------------

loc_D527:
		xor	di, di
		jmp	short loc_D54A
; ---------------------------------------------------------------------------

loc_D52B:
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+dest]
		add	bx, ax
		cmp	byte ptr ss:[bx], 0
		jle	short loc_D549
		mov	bx, si
		imul	bx, 3
		add	bx, di
		add	bx, ax
		dec	byte ptr ss:[bx]

loc_D549:
		inc	di

loc_D54A:
		cmp	di, 3
		jl	short loc_D52B
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_30]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_31]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+dest]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		push	si
		push	cs
		call	near ptr sub_D119
		add	sp, 8
		inc	si

loc_D585:
		cmp	si, 10h
		jl	short loc_D527
		push	0Ah
		call	sub_997D
		pop	cx
		inc	[bp+var_2]

loc_D595:
		cmp	[bp+var_2], 10h
		jl	short loc_D51E
		pop	di
		pop	si
		leave
		retf
sub_D4FE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D59F	proc far
		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_D5B8
; ---------------------------------------------------------------------------

loc_D5A7:
		push	large 0F000Fh
		push	0Fh
		push	si
		push	cs
		call	near ptr sub_D119
		add	sp, 8
		inc	si

loc_D5B8:
		cmp	si, 10h
		jl	short loc_D5A7
		pop	si
		pop	bp
		retf
sub_D59F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D5C0	proc far

_s		= byte ptr -32h
var_31		= byte ptr -31h
var_30		= byte ptr -30h
var_2		= word ptr -2

		enter	32h, 0
		push	si
		push	di
		push	large 30000Fh	; c
		push	ss
		lea	ax, [bp+_s]
		push	ax		; s
		call	_memset
		add	sp, 8
		mov	[bp+var_2], 0
		jmp	loc_D663
; ---------------------------------------------------------------------------

loc_D5E1:
		call	sub_CAF8
		xor	si, si
		jmp	short loc_D653
; ---------------------------------------------------------------------------

loc_D5EA:
		xor	di, di
		jmp	short loc_D618
; ---------------------------------------------------------------------------

loc_D5EE:
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		mov	bx, si
		imul	bx, 3
		cmp	al, [bx+di+0A1Ah]
		jle	short loc_D617
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+_s]
		add	bx, ax
		dec	byte ptr ss:[bx]

loc_D617:
		inc	di

loc_D618:
		cmp	di, 3
		jl	short loc_D5EE
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_30]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_31]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		push	si
		push	cs
		call	near ptr sub_D119
		add	sp, 8
		inc	si

loc_D653:
		cmp	si, 10h
		jl	short loc_D5EA
		push	0Ah
		call	sub_997D
		pop	cx
		inc	[bp+var_2]

loc_D663:
		cmp	[bp+var_2], 10h
		jl	loc_D5E1
		pop	di
		pop	si
		leave
		retf
sub_D5C0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D66F	proc far

dest		= byte ptr -32h
var_31		= byte ptr -31h
var_30		= byte ptr -30h
var_2		= word ptr -2

		enter	32h, 0
		push	si
		push	di
		push	30h ; '0'       ; n
		push	ds
		push	offset unk_134BA ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_memcpy
		add	sp, 0Ah
		mov	[bp+var_2], 0
		jmp	short loc_D706
; ---------------------------------------------------------------------------

loc_D68F:
		call	sub_CAF8
		xor	si, si
		jmp	short loc_D6F6
; ---------------------------------------------------------------------------

loc_D698:
		xor	di, di
		jmp	short loc_D6BB
; ---------------------------------------------------------------------------

loc_D69C:
		mov	bx, si
		imul	bx, 3
		add	bx, di
		lea	ax, [bp+dest]
		add	bx, ax
		cmp	byte ptr ss:[bx], 0Fh
		jge	short loc_D6BA
		mov	bx, si
		imul	bx, 3
		add	bx, di
		add	bx, ax
		inc	byte ptr ss:[bx]

loc_D6BA:
		inc	di

loc_D6BB:
		cmp	di, 3
		jl	short loc_D69C
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_30]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+var_31]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		lea	ax, [bp+dest]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		push	si
		push	cs
		call	near ptr sub_D119
		add	sp, 8
		inc	si

loc_D6F6:
		cmp	si, 10h
		jl	short loc_D698
		push	0Ah
		call	sub_997D
		pop	cx
		inc	[bp+var_2]

loc_D706:
		cmp	[bp+var_2], 10h
		jl	short loc_D68F
		pop	di
		pop	si
		leave
		retf
sub_D66F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D710	proc far
		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_D742
; ---------------------------------------------------------------------------

loc_D718:
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Ch]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Bh]
		cbw
		push	ax
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Ah]
		cbw
		push	ax
		push	si
		push	cs
		call	near ptr sub_D119
		add	sp, 8
		inc	si

loc_D742:
		cmp	si, 10h
		jl	short loc_D718
		pop	si
		pop	bp
		retf
sub_D710	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D74A	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_D13A
		pop	cx
		mov	bx, [bp+arg_2]
		imul	bx, 50h
		mov	ax, [bp+arg_0]
		sar	ax, 3
		add	bx, ax
		mov	ax, 0A800h
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	dx, 80h	; '€'
		sar	dx, cl
		mov	es, ax
		assume es:nothing
		mov	es:[bx], dl
		push	cs
		call	near ptr sub_D1CE
		pop	bp
		retf
sub_D74A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D77C	proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		push	si
		push	di
		mov	ax, [bp+arg_2]
		imul	ax, 50h
		mov	dx, [bp+arg_0]
		sar	dx, 3
		add	ax, dx
		mov	di, ax
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	ax, 80h	; '€'
		sar	ax, cl
		mov	[bp+var_2], ax
		xor	si, si
		mov	ax, 0A800h
		mov	es, ax
		mov	al, es:[di]
		cbw
		test	[bp+var_2], ax
		jz	short loc_D7B3
		or	si, 1

loc_D7B3:
		mov	ax, 0B000h
		mov	es, ax
		assume es:nothing
		mov	al, es:[di]
		cbw
		test	[bp+var_2], ax
		jz	short loc_D7C4
		or	si, 2

loc_D7C4:
		mov	ax, 0B800h
		mov	es, ax
		assume es:nothing
		mov	al, es:[di]
		cbw
		test	[bp+var_2], ax
		jz	short loc_D7D5
		or	si, 4

loc_D7D5:
		mov	ax, 0E000h
		mov	es, ax
		assume es:nothing
		mov	al, es:[di]
		cbw
		test	[bp+var_2], ax
		jz	short loc_D7E6
		or	si, 8

loc_D7E6:
		mov	ax, si
		pop	di
		pop	si
		leave
		retf
sub_D77C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D7EC	proc far

var_A		= dword	ptr -0Ah
var_6		= byte ptr -6
var_5		= byte ptr -5
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	0Ah, 0
		push	si
		push	di
		mov	di, [bp+arg_4]
		mov	ax, [bp+arg_0]
		cmp	ax, [bp+arg_2]
		jle	short loc_D80C
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_2]
		mov	[bp+arg_0], ax
		mov	ax, [bp+var_4]
		mov	[bp+arg_2], ax

loc_D80C:
		cmp	[bp+arg_0], 0
		jge	short loc_D81F
		cmp	[bp+arg_2], 0
		jl	loc_D8FB
		mov	[bp+arg_0], 0

loc_D81F:
		cmp	[bp+arg_2], 27Fh
		jle	short loc_D834
		cmp	[bp+arg_0], 27Fh
		jg	loc_D8FB
		mov	[bp+arg_2], 27Fh

loc_D834:
		mov	ax, [bp+arg_2]
		mov	word_14154, ax
		mov	word_14156, di
		mov	ax, di
		imul	ax, 50h
		push	ax
		mov	ax, [bp+arg_0]
		mov	bx, 8
		cwd
		idiv	bx
		pop	dx
		add	dx, ax
		mov	word ptr [bp+var_A+2], 0A800h
		mov	word ptr [bp+var_A], dx
		mov	ax, [bp+arg_2]
		cwd
		idiv	bx
		push	ax
		mov	ax, [bp+arg_0]
		cwd
		idiv	bx
		pop	dx
		sub	dx, ax
		mov	[bp+var_2], dx
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	ax, 0FFh
		sar	ax, cl
		mov	[bp+var_5], al
		mov	al, byte ptr [bp+arg_2]
		and	al, 7
		mov	cl, 7
		sub	cl, al
		mov	al, 0FFh
		shl	al, cl
		mov	[bp+var_6], al
		cmp	byte_134EA, 0
		jnz	short loc_D898
		push	[bp+arg_6]
		push	cs
		call	near ptr sub_D13A
		pop	cx

loc_D898:
		cmp	byte_134EA, 0
		jz	short loc_D8B6
		push	1
		mov	ax, 280h
		sub	ax, [bp+arg_0]
		push	ax
		push	di
		push	[bp+arg_0]
		call	sub_ECA3
		add	sp, 8
		jmp	short loc_D8F0
; ---------------------------------------------------------------------------

loc_D8B6:
		cmp	[bp+var_2], 0
		jnz	short loc_D8C7
		mov	al, [bp+var_5]
		and	al, [bp+var_6]
		les	bx, [bp+var_A]
		assume es:nothing
		jmp	short loc_D8ED
; ---------------------------------------------------------------------------

loc_D8C7:
		les	bx, [bp+var_A]
		mov	al, [bp+var_5]
		mov	es:[bx], al
		mov	si, 1
		jmp	short loc_D8DF
; ---------------------------------------------------------------------------

loc_D8D5:
		les	bx, [bp+var_A]
		add	bx, si
		mov	byte ptr es:[bx], 0FFh
		inc	si

loc_D8DF:
		cmp	si, [bp+var_2]
		jl	short loc_D8D5
		les	bx, [bp+var_A]
		add	bx, [bp+var_2]
		mov	al, [bp+var_6]

loc_D8ED:
		mov	es:[bx], al

loc_D8F0:
		cmp	byte_134EA, 0
		jnz	short loc_D8FB
		push	cs
		call	near ptr sub_D1CE

loc_D8FB:
		pop	di
		pop	si
		leave
		retf
sub_D7EC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D8FF	proc far

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	8, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_4]
		cmp	si, di
		jle	short loc_D917
		mov	[bp+var_4], si
		mov	si, di
		mov	di, [bp+var_4]

loc_D917:
		or	si, si
		jge	short loc_D923
		or	di, di
		jl	loc_D9BA
		xor	si, si

loc_D923:
		cmp	di, 18Fh
		jle	short loc_D934
		cmp	si, 18Fh
		jg	loc_D9BA
		mov	di, 18Fh

loc_D934:
		mov	ax, [bp+arg_0]
		mov	word_14154, ax
		mov	word_14156, di
		cmp	byte_134EA, 0
		jz	short loc_D95A
		mov	ax, di
		sub	ax, si
		push	ax
		push	10h
		push	si
		push	[bp+arg_0]
		call	sub_ECA3
		add	sp, 8
		jmp	short loc_D9BA
; ---------------------------------------------------------------------------

loc_D95A:
		mov	ax, [bp+arg_0]
		sar	ax, 3
		mov	dx, si
		shl	dx, 6
		add	ax, dx
		mov	dx, si
		shl	dx, 4
		add	ax, dx
		mov	[bp+var_8], ax
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	ax, word_134EB
		shr	ax, cl
		mov	[bp+var_6], ax
		mov	al, byte ptr [bp+arg_0]
		and	al, 7
		mov	cl, 10h
		sub	cl, al
		mov	ax, word_134EB
		shl	ax, cl
		or	[bp+var_6], ax
		push	[bp+arg_6]
		push	cs
		call	near ptr sub_D13A
		pop	cx
		mov	[bp+var_2], si
		jmp	short loc_D9B1
; ---------------------------------------------------------------------------

loc_D99D:
		les	bx, dword_1464E
		add	bx, [bp+var_8]
		mov	ax, [bp+var_6]
		mov	es:[bx], ax
		add	[bp+var_8], 50h	; 'P'
		inc	[bp+var_2]

loc_D9B1:
		cmp	[bp+var_2], di
		jle	short loc_D99D
		push	cs
		call	near ptr sub_D1CE

loc_D9BA:
		pop	di
		pop	si
		leave
		retf
sub_D8FF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D9BE	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		mov	byte_134EA, 1
		push	7
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr sub_DA0B
		add	sp, 0Ah
		mov	byte_134EA, 0
		pop	bp
		retf
sub_D9BE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D9E3	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		mov	ax, [bp+arg_A]
		mov	word_134EB, ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr sub_DA0B
		add	sp, 0Ah
		mov	word_134EB, 80h	; '€'
		pop	bp
		retf
sub_D9E3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DA0B	proc far

var_28		= dword	ptr -28h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	28h, 0
		push	si
		push	di
		mov	di, [bp+arg_2]
		cmp	byte_134EA, 0
		jnz	short loc_DA31
		mov	ax, [bp+arg_0]
		cmp	ax, [bp+arg_4]
		jnz	short loc_DA31
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	di
		push	ax
		push	cs
		call	near ptr sub_D8FF
		jmp	short loc_DA4B
; ---------------------------------------------------------------------------

loc_DA31:
		cmp	byte_134EA, 0
		jnz	short loc_DA51
		cmp	di, [bp+arg_6]
		jnz	short loc_DA51
		push	[bp+arg_8]
		push	di
		push	[bp+arg_4]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_D7EC

loc_DA4B:
		add	sp, 8
		jmp	loc_DF36
; ---------------------------------------------------------------------------

loc_DA51:
		mov	ax, [bp+arg_0]
		cmp	ax, [bp+arg_4]
		jle	short loc_DA74
		mov	[bp+var_10], ax
		mov	ax, [bp+arg_4]
		mov	[bp+arg_0], ax
		mov	ax, [bp+var_10]
		mov	[bp+arg_4], ax
		mov	[bp+var_10], di
		mov	di, [bp+arg_6]
		mov	ax, [bp+var_10]
		mov	[bp+arg_6], ax

loc_DA74:
		cmp	[bp+arg_0], 0
		jge	short loc_DAB2
		cmp	[bp+arg_4], 0
		jl	loc_DF36
		mov	ax, [bp+arg_6]
		sub	ax, di
		mov	bx, [bp+arg_4]
		sub	bx, [bp+arg_0]
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		xor	ax, ax
		sub	ax, [bp+arg_0]
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		add	di, ax
		mov	[bp+arg_0], 0

loc_DAB2:
		cmp	[bp+arg_4], 27Fh
		jle	short loc_DAF4
		cmp	[bp+arg_0], 27Fh
		jg	loc_DF36
		mov	ax, [bp+arg_6]
		sub	ax, di
		mov	bx, [bp+arg_4]
		sub	bx, [bp+arg_0]
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		mov	ax, [bp+arg_4]
		add	ax, 0FD81h
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		sub	[bp+arg_6], ax
		mov	[bp+arg_4], 27Fh

loc_DAF4:
		or	di, di
		jge	short loc_DB2D
		cmp	[bp+arg_6], 0
		jl	loc_DF36
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_0]
		mov	bx, [bp+arg_6]
		sub	bx, di
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		xor	ax, ax
		sub	ax, di
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		add	[bp+arg_0], ax
		xor	di, di

loc_DB2D:
		cmp	[bp+arg_6], 18Fh
		jle	short loc_DB6E
		cmp	di, 18Fh
		jg	loc_DF36
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_0]
		mov	bx, [bp+arg_6]
		sub	bx, di
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		mov	ax, [bp+arg_6]
		add	ax, 0FE71h
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		sub	[bp+arg_4], ax
		mov	[bp+arg_6], 18Fh

loc_DB6E:
		cmp	[bp+arg_6], 0
		jge	short loc_DBA5
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_0]
		mov	bx, [bp+arg_6]
		sub	bx, di
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		xor	ax, ax
		sub	ax, [bp+arg_6]
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		add	[bp+arg_4], ax
		mov	[bp+arg_6], 0

loc_DBA5:
		cmp	di, 18Fh
		jle	short loc_DBD9
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_0]
		mov	bx, [bp+arg_6]
		sub	bx, di
		cwd
		idiv	bx
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		lea	ax, [di-18Fh]
		mov	[bp+var_18], ax
		; Hack (fild [bp+var_18])
		db 0cdh
		db 03bh
		db 046h
		db 0e8h
		; Hack (fmulp st(1), st)
		db 0cdh
		db 03ah
		db 0c9h
		call	sub_1B5B
		sub	[bp+arg_0], ax
		mov	di, 18Fh

loc_DBD9:
		mov	ax, [bp+arg_4]
		mov	word_14154, ax
		mov	ax, [bp+arg_6]
		mov	word_14156, ax
		mov	ax, [bp+arg_0]
		mov	[bp+var_4], ax
		mov	[bp+var_6], di
		cmp	di, [bp+arg_6]
		jge	short loc_DBF8
		mov	ax, 1
		jmp	short loc_DBFB
; ---------------------------------------------------------------------------

loc_DBF8:
		mov	ax, 0FFFFh

loc_DBFB:
		mov	[bp+var_E], ax
		mov	ax, [bp+arg_4]
		sub	ax, [bp+arg_0]
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_6]
		sub	ax, di
		imul	[bp+var_E]
		mov	[bp+var_A], ax
		mov	[bp+var_16], 0
		mov	ax, [bp+var_4]
		sar	ax, 3
		mov	[bp+var_12], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_14], ax
		cmp	byte_134EA, 0
		jnz	short loc_DC35
		push	[bp+arg_8]
		push	cs
		call	near ptr sub_D13A
		pop	cx

loc_DC35:
		mov	ax, [bp+var_8]
		cmp	ax, [bp+var_A]
		jle	loc_DD69
		sar	ax, 1
		mov	[bp+var_C], ax
		mov	[bp+var_2], 0
		jmp	loc_DD53
; ---------------------------------------------------------------------------

loc_DC4C:
		mov	ax, [bp+var_4]
		sar	ax, 3
		cmp	ax, [bp+var_12]
		jnz	short loc_DC61
		mov	ax, [bp+var_14]
		cmp	ax, [bp+var_6]
		jz	loc_DD16

loc_DC61:
		mov	ax, [bp+var_14]
		imul	ax, 50h
		add	ax, [bp+var_12]
		mov	si, ax
		cmp	byte_134EA, 0
		jnz	short loc_DC87
		les	bx, dword_1464E
		add	bx, si
		mov	ax, [bp+var_16]
		mov	es:[bx], ax
		mov	[bp+var_16], 0
		jmp	loc_DD07
; ---------------------------------------------------------------------------

loc_DC87:
		dec	si
		push	1
		push	cs
		call	near ptr sub_D107
		les	bx, dword_1464E
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_28], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_24], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_20], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_1C], eax
		push	0
		push	cs
		call	near ptr sub_D107
		add	sp, 4
		les	bx, dword_1464E
		add	bx, si
		mov	eax, [bp+var_28]
		mov	es:[bx], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, [bp+var_24]
		mov	es:[bx], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, [bp+var_20]
		mov	es:[bx], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, [bp+var_1C]
		mov	es:[bx], eax

loc_DD07:
		mov	ax, [bp+var_6]
		mov	[bp+var_14], ax
		mov	ax, [bp+var_4]
		sar	ax, 3
		mov	[bp+var_12], ax

loc_DD16:
		mov	cl, byte ptr [bp+var_4]
		and	cl, 7
		mov	ax, word_134EB
		shr	ax, cl
		or	[bp+var_16], ax
		mov	al, byte ptr [bp+var_4]
		and	al, 7
		mov	cl, 10h
		sub	cl, al
		mov	ax, word_134EB
		shl	ax, cl
		or	[bp+var_16], ax
		mov	ax, [bp+var_A]
		sub	[bp+var_C], ax
		inc	[bp+var_4]
		cmp	[bp+var_C], 0
		jge	short loc_DD50
		mov	ax, [bp+var_8]
		add	[bp+var_C], ax
		mov	ax, [bp+var_E]
		add	[bp+var_6], ax

loc_DD50:
		inc	[bp+var_2]

loc_DD53:
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_8]
		jle	loc_DC4C
		cmp	byte_134EA, 0
		jz	loc_DF2B
		jmp	loc_DE93
; ---------------------------------------------------------------------------

loc_DD69:
		mov	ax, [bp+var_A]
		sar	ax, 1
		mov	[bp+var_C], ax
		mov	[bp+var_2], 0
		jmp	loc_DE80
; ---------------------------------------------------------------------------

loc_DD79:
		mov	ax, [bp+var_4]
		sar	ax, 3
		cmp	ax, [bp+var_12]
		jnz	short loc_DD8E
		mov	ax, [bp+var_14]
		cmp	ax, [bp+var_6]
		jz	loc_DE43

loc_DD8E:
		mov	ax, [bp+var_14]
		imul	ax, 50h
		add	ax, [bp+var_12]
		mov	si, ax
		cmp	byte_134EA, 0
		jnz	short loc_DDB4
		les	bx, dword_1464E
		add	bx, si
		mov	ax, [bp+var_16]
		mov	es:[bx], ax
		mov	[bp+var_16], 0
		jmp	loc_DE34
; ---------------------------------------------------------------------------

loc_DDB4:
		dec	si
		push	1
		push	cs
		call	near ptr sub_D107
		les	bx, dword_1464E
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_28], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_24], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_20], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_1C], eax
		push	0
		push	cs
		call	near ptr sub_D107
		add	sp, 4
		les	bx, dword_1464E
		add	bx, si
		mov	eax, [bp+var_28]
		mov	es:[bx], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, [bp+var_24]
		mov	es:[bx], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, [bp+var_20]
		mov	es:[bx], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, [bp+var_1C]
		mov	es:[bx], eax

loc_DE34:
		mov	ax, [bp+var_6]
		mov	[bp+var_14], ax
		mov	ax, [bp+var_4]
		sar	ax, 3
		mov	[bp+var_12], ax

loc_DE43:
		mov	cl, byte ptr [bp+var_4]
		and	cl, 7
		mov	ax, word_134EB
		shr	ax, cl
		or	[bp+var_16], ax
		mov	al, byte ptr [bp+var_4]
		and	al, 7
		mov	cl, 10h
		sub	cl, al
		mov	ax, word_134EB
		shl	ax, cl
		or	[bp+var_16], ax
		mov	ax, [bp+var_8]
		sub	[bp+var_C], ax
		mov	ax, [bp+var_E]
		add	[bp+var_6], ax
		cmp	[bp+var_C], 0
		jge	short loc_DE7D
		mov	ax, [bp+var_A]
		add	[bp+var_C], ax
		inc	[bp+var_4]

loc_DE7D:
		inc	[bp+var_2]

loc_DE80:
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_A]
		jle	loc_DD79
		cmp	byte_134EA, 0
		jz	loc_DF2B

loc_DE93:
		mov	ax, [bp+var_4]
		sar	ax, 3
		mov	dx, [bp+var_6]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+var_6]
		shl	dx, 4
		add	ax, dx
		dec	ax
		mov	si, ax
		push	1
		push	cs
		call	near ptr sub_D107
		les	bx, dword_1464E
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_28], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_24], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_20], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, es:[bx]
		mov	[bp+var_1C], eax
		push	0
		push	cs
		call	near ptr sub_D107
		add	sp, 4
		les	bx, dword_1464E
		add	bx, si
		mov	eax, [bp+var_28]
		mov	es:[bx], eax
		les	bx, dword_14652
		add	bx, si
		mov	eax, [bp+var_24]
		mov	es:[bx], eax
		les	bx, dword_14656
		add	bx, si
		mov	eax, [bp+var_20]
		mov	es:[bx], eax
		les	bx, dword_1465A
		add	bx, si
		mov	eax, [bp+var_1C]
		mov	es:[bx], eax

loc_DF2B:
		cmp	byte_134EA, 0
		jnz	short loc_DF36
		push	cs
		call	near ptr sub_D1CE

loc_DF36:
		pop	di
		pop	si
		leave
		retf
sub_DA0B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DF3A	proc far

var_E		= dword	ptr -0Eh
var_A		= byte ptr -0Ah
var_9		= byte ptr -9
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	0Eh, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_6]
		mov	ax, [bp+arg_0]
		cmp	ax, [bp+arg_4]
		jle	short loc_DF5D
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_4]
		mov	[bp+arg_0], ax
		mov	ax, [bp+var_8]
		mov	[bp+arg_4], ax

loc_DF5D:
		cmp	si, di
		jle	short loc_DF69
		mov	[bp+var_8], si
		mov	si, di
		mov	di, [bp+var_8]

loc_DF69:
		cmp	[bp+arg_0], 0
		jge	short loc_DF7C
		cmp	[bp+arg_4], 0
		jl	loc_E051
		mov	[bp+arg_0], 0

loc_DF7C:
		cmp	[bp+arg_4], 27Fh
		jle	short loc_DF91
		cmp	[bp+arg_0], 27Fh
		jg	loc_E051
		mov	[bp+arg_4], 27Fh

loc_DF91:
		or	si, si
		jge	short loc_DF9D
		or	di, di
		jl	loc_E051
		xor	si, si

loc_DF9D:
		cmp	di, 18Fh
		jle	short loc_DFAE
		cmp	si, 18Fh
		jg	loc_E051
		mov	di, 18Fh

loc_DFAE:
		push	[bp+arg_8]
		push	cs
		call	near ptr sub_D13A
		pop	cx
		mov	ax, si
		imul	ax, 50h
		mov	dx, [bp+arg_0]
		sar	dx, 3
		add	ax, dx
		mov	word ptr [bp+var_E+2], 0A800h
		mov	word ptr [bp+var_E], ax
		mov	[bp+var_4], si
		jmp	short loc_E048
; ---------------------------------------------------------------------------

loc_DFD0:
		mov	ax, [bp+arg_4]
		sar	ax, 3
		mov	dx, [bp+arg_0]
		sar	dx, 3
		sub	ax, dx
		mov	[bp+var_6], ax
		mov	cl, byte ptr [bp+arg_0]
		and	cl, 7
		mov	ax, 0FFh
		sar	ax, cl
		mov	[bp+var_9], al
		mov	al, byte ptr [bp+arg_4]
		and	al, 7
		mov	cl, 7
		sub	cl, al
		mov	al, 0FFh
		shl	al, cl
		mov	[bp+var_A], al
		cmp	[bp+var_6], 0
		jnz	short loc_E010
		mov	al, [bp+var_9]
		and	al, [bp+var_A]
		les	bx, [bp+var_E]
		jmp	short loc_E03E
; ---------------------------------------------------------------------------

loc_E010:
		les	bx, [bp+var_E]
		mov	al, [bp+var_9]
		mov	es:[bx], al
		mov	[bp+var_2], 1
		jmp	short loc_E02D
; ---------------------------------------------------------------------------

loc_E020:
		les	bx, [bp+var_E]
		add	bx, [bp+var_2]
		mov	byte ptr es:[bx], 0FFh
		inc	[bp+var_2]

loc_E02D:
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_6]
		jl	short loc_E020
		les	bx, [bp+var_E]
		add	bx, [bp+var_6]
		mov	al, [bp+var_A]

loc_E03E:
		mov	es:[bx], al
		add	word ptr [bp+var_E], 50h ; 'P'
		inc	[bp+var_4]

loc_E048:
		cmp	[bp+var_4], di
		jle	short loc_DFD0
		push	cs
		call	near ptr sub_D1CE

loc_E051:
		pop	di
		pop	si
		leave
		retf
sub_DF3A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E055	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_0]
		mov	si, [bp+arg_8]
		push	si
		push	[bp+arg_2]
		push	[bp+arg_4]
		push	di
		push	cs
		call	near ptr sub_D7EC
		push	si
		push	[bp+arg_6]
		push	[bp+arg_2]
		push	di
		push	cs
		call	near ptr sub_D8FF
		push	si
		push	[bp+arg_6]
		push	[bp+arg_2]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_D8FF
		push	si
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	di
		push	cs
		call	near ptr sub_D7EC
		add	sp, 20h
		pop	di
		pop	si
		pop	bp
		retf
sub_E055	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E099	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	cx, cx
		mov	ax, [bp+arg_0]
		mov	bx, 40h	; '@'
		cwd
		idiv	bx
		mov	bx, 8
		cwd
		idiv	bx
		mov	si, dx
		jmp	short loc_E0FB
; ---------------------------------------------------------------------------

loc_E0B3:
		les	bx, [bp+arg_2]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+12C3h], 4
		jz	short loc_E0F3
		mov	bx, word ptr [bp+arg_2]
		mov	al, es:[bx]
		cbw
		shl	ax, 8
		mov	dl, es:[bx]
		mov	dh, 0
		add	ax, dx
		mov	di, ax
		inc	word ptr [bp+arg_2]
		inc	word ptr [bp+arg_2]
		cmp	di, 8540h
		jb	short loc_E0E9
		cmp	di, 869Eh
		jbe	short loc_E0EE

loc_E0E9:
		add	cx, 10h
		jmp	short loc_E0F9
; ---------------------------------------------------------------------------

loc_E0EE:
		add	cx, 8
		jmp	short loc_E0F9
; ---------------------------------------------------------------------------

loc_E0F3:
		add	cx, 8
		inc	word ptr [bp+arg_2]

loc_E0F9:
		add	cx, si

loc_E0FB:
		les	bx, [bp+arg_2]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_E0B3
		mov	ax, cx
		sub	ax, si
		pop	di
		pop	si
		pop	bp
		retf
sub_E099	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E10C	proc far

var_3A		= byte ptr -3Ah
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= dword	ptr  0Ch

		enter	3Ah, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	ax, [bp+arg_4]
		mov	bx, 10h
		cwd
		idiv	bx
		mov	bx, 4
		cwd
		idiv	bx
		mov	[bp+var_E], dx
		mov	ax, [bp+arg_4]
		mov	bx, 40h	; '@'
		cwd
		idiv	bx
		mov	bx, 8
		cwd
		idiv	bx
		mov	[bp+var_10], dx
		mov	ax, [bp+arg_4]
		and	ax, 200h
		mov	[bp+var_12], ax
		mov	ax, [bp+arg_4]
		and	ax, 400h
		mov	[bp+var_14], ax
		mov	ax, [bp+arg_4]
		and	ax, 800h
		mov	[bp+var_16], ax
		cmp	[bp+var_12], 0
		jz	short loc_E1AB
		push	large [bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_E099
		add	sp, 6
		mov	[bp+var_18], ax
		cmp	[bp+var_14], 0
		jz	short loc_E18E
		push	0
		mov	ax, [bp+arg_2]
		add	ax, 11h
		push	ax
		mov	ax, si
		add	ax, [bp+var_18]
		dec	ax
		push	ax
		push	[bp+arg_2]
		push	si
		push	cs
		call	near ptr sub_DF3A
		add	sp, 0Ah
		jmp	short loc_E1C2
; ---------------------------------------------------------------------------

loc_E18E:
		push	0
		mov	ax, [bp+arg_2]
		add	ax, 0Fh
		push	ax
		mov	ax, si
		add	ax, [bp+var_18]
		dec	ax
		push	ax
		push	[bp+arg_2]
		push	si
		push	cs
		call	near ptr sub_DF3A
		add	sp, 0Ah
		jmp	short loc_E1DA
; ---------------------------------------------------------------------------

loc_E1AB:
		cmp	[bp+var_14], 0
		jz	short loc_E1DA
		push	large [bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_E099
		add	sp, 6
		mov	[bp+var_18], ax

loc_E1C2:
		push	7
		mov	ax, [bp+arg_2]
		add	ax, 11h
		push	ax
		mov	ax, si
		add	ax, [bp+var_18]
		dec	ax
		push	ax
		push	si
		push	cs
		call	near ptr sub_D7EC
		add	sp, 8

loc_E1DA:
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_D13A
		pop	cx
		mov	dx, 68h	; 'h'
		mov	al, 0Bh
		out	dx, al
		jmp	loc_E412
; ---------------------------------------------------------------------------

loc_E1EB:
		mov	ax, [bp+arg_2]
		imul	ax, 50h
		push	ax
		mov	ax, si
		mov	bx, 8
		cwd
		idiv	bx
		pop	dx
		add	dx, ax
		mov	word ptr [bp+var_8+2], 0A800h
		mov	word ptr [bp+var_8], dx
		mov	ax, si
		cwd
		idiv	bx
		mov	[bp+var_C], dx
		les	bx, [bp+arg_6]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+12C3h], 4
		jz	short loc_E240
		mov	bx, word ptr [bp+arg_6]
		mov	al, es:[bx]
		cbw
		shl	ax, 8
		mov	dl, es:[bx+1]
		mov	dh, 0
		add	ax, dx
		push	ax
		call	sub_9BA2
		pop	cx
		mov	[bp+var_2], ax
		add	word ptr [bp+arg_6], 2
		jmp	short loc_E286
; ---------------------------------------------------------------------------

loc_E240:
		les	bx, [bp+arg_6]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+12C3h], 3
		jz	short loc_E25E
		mov	bx, word ptr [bp+arg_6]
		mov	al, es:[bx]
		mov	ah, 0
		add	ax, 2980h
		jmp	short loc_E279
; ---------------------------------------------------------------------------

loc_E25E:
		les	bx, [bp+arg_6]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+0EEBh], 5Eh
		jz	short loc_E27E
		mov	bx, word ptr [bp+arg_6]
		mov	al, es:[bx]
		mov	ah, 0
		add	ax, 2900h

loc_E279:
		mov	[bp+var_2], ax
		jmp	short loc_E283
; ---------------------------------------------------------------------------

loc_E27E:
		mov	[bp+var_2], 2B21h

loc_E283:
		inc	word ptr [bp+arg_6]

loc_E286:
		mov	al, byte ptr [bp+var_2]
		and	al, 0FFh
		mov	dx, 0A1h ; '¡'
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	ax, [bp+var_2]
		shr	ax, 8
		sub	al, 20h	; ' '
		mov	dx, 0A3h ; '£'
		out	dx, al		; Interrupt Controller #2, 8259A
		cmp	[bp+var_2], 2921h
		jb	short loc_E2E7
		cmp	[bp+var_2], 2B7Eh
		ja	short loc_E2E7
		cmp	si, 278h
		jg	loc_E41D
		mov	[bp+var_1A], 0
		jmp	short loc_E2DA
; ---------------------------------------------------------------------------

loc_E2B8:
		mov	al, byte ptr [bp+var_1A]
		or	al, 20h
		mov	dx, 0A5h ; '¥'
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A9h ; '©'
		in	al, dx		; Interrupt Controller #2, 8259A
		mov	ah, 0
		shl	ax, 8
		mov	bx, [bp+var_1A]
		add	bx, bx
		lea	dx, [bp+var_3A]
		add	bx, dx
		mov	ss:[bx], ax
		inc	[bp+var_1A]

loc_E2DA:
		cmp	[bp+var_1A], 10h
		jl	short loc_E2B8
		mov	[bp+var_A], 0
		jmp	short loc_E33D
; ---------------------------------------------------------------------------

loc_E2E7:
		cmp	si, 270h
		jg	loc_E41D
		mov	[bp+var_1A], 0
		jmp	short loc_E332
; ---------------------------------------------------------------------------

loc_E2F6:
		mov	al, byte ptr [bp+var_1A]
		or	al, 20h
		mov	dx, 0A5h ; '¥'
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A9h ; '©'
		in	al, dx		; Interrupt Controller #2, 8259A
		mov	ah, 0
		shl	ax, 8
		mov	bx, [bp+var_1A]
		add	bx, bx
		lea	dx, [bp+var_3A]
		add	bx, dx
		mov	ss:[bx], ax
		mov	dx, 0A5h ; '¥'
		mov	al, byte ptr [bp+var_1A]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A9h ; '©'
		in	al, dx		; Interrupt Controller #2, 8259A
		mov	ah, 0
		mov	bx, [bp+var_1A]
		add	bx, bx
		lea	dx, [bp+var_3A]
		add	bx, dx
		add	ss:[bx], ax
		inc	[bp+var_1A]

loc_E332:
		cmp	[bp+var_1A], 10h
		jl	short loc_E2F6
		mov	[bp+var_A], 1

loc_E33D:
		mov	[bp+var_1A], 0
		jmp	loc_E3F9
; ---------------------------------------------------------------------------

loc_E345:
		mov	bx, [bp+var_1A]
		add	bx, bx
		lea	ax, [bp+var_3A]
		add	bx, ax
		mov	ax, ss:[bx]
		mov	[bp+var_4], ax
		mov	ax, [bp+var_E]
		cmp	ax, 1
		jz	short loc_E369
		cmp	ax, 2
		jz	short loc_E37F
		cmp	ax, 3
		jz	short loc_E375
		jmp	short loc_E395
; ---------------------------------------------------------------------------

loc_E369:
		mov	di, [bp+var_4]
		mov	ax, di
		add	ax, ax
		or	[bp+var_4], ax
		jmp	short loc_E395
; ---------------------------------------------------------------------------

loc_E375:
		mov	di, [bp+var_4]
		mov	ax, di
		add	ax, ax
		or	[bp+var_4], ax

loc_E37F:
		mov	di, [bp+var_4]
		mov	ax, di
		add	ax, ax
		or	[bp+var_4], ax
		xor	di, [bp+var_4]
		mov	ax, di
		add	ax, ax
		not	ax
		and	[bp+var_4], ax

loc_E395:
		cmp	[bp+var_16], 0
		jz	short loc_E3AC
		cmp	[bp+var_A], 0
		jz	short loc_E3A7
		xor	[bp+var_4], 0FFFFh
		jmp	short loc_E3AC
; ---------------------------------------------------------------------------

loc_E3A7:
		xor	[bp+var_4], 0FF00h

loc_E3AC:
		cmp	[bp+var_C], 0
		jz	short loc_E3DF
		mov	cl, byte ptr [bp+var_C]
		add	cl, 8
		mov	ax, [bp+var_4]
		shr	ax, cl
		les	bx, [bp+var_8]
		mov	es:[bx], al
		mov	ax, [bp+var_4]
		mov	cl, byte ptr [bp+var_C]
		shr	ax, cl
		mov	es:[bx+1], al
		mov	cl, 8
		sub	cl, byte ptr [bp+var_C]
		mov	al, byte ptr [bp+var_4]
		shl	al, cl
		mov	es:[bx+2], al
		jmp	short loc_E3F2
; ---------------------------------------------------------------------------

loc_E3DF:
		mov	ax, [bp+var_4]
		shr	ax, 8
		les	bx, [bp+var_8]
		mov	es:[bx], al
		mov	al, byte ptr [bp+var_4]
		mov	es:[bx+1], al

loc_E3F2:
		add	word ptr [bp+var_8], 50h ; 'P'
		inc	[bp+var_1A]

loc_E3F9:
		cmp	[bp+var_1A], 10h
		jl	loc_E345
		cmp	[bp+var_A], 0
		jz	short loc_E40A
		add	si, 8

loc_E40A:
		mov	ax, [bp+var_10]
		add	ax, 8
		add	si, ax

loc_E412:
		les	bx, [bp+arg_6]
		cmp	byte ptr es:[bx], 0
		jnz	loc_E1EB

loc_E41D:
		mov	dx, 68h	; 'h'
		mov	al, 0Ah
		out	dx, al
		push	cs
		call	near ptr sub_D1CE
		pop	di
		pop	si
		leave
		retf
sub_E10C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E42B	proc far

var_156		= byte ptr -156h
var_106		= byte ptr -106h
var_B6		= byte ptr -0B6h
dest		= byte ptr -66h
var_16		= word ptr -16h
var_13		= byte ptr -13h
var_12		= dword	ptr -12h
var_E		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
_src		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	156h, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		mov	ax, [bp+arg_4]
		sub	ax, di
		mov	bx, 8
		cwd
		idiv	bx
		mov	si, ax
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_2]
		mov	[bp+var_2], ax
		mov	[bp+_src], 0A8000000h
		mov	[bp+var_A], 0B0000000h
		mov	[bp+var_E], 0B8000000h
		mov	[bp+var_12], 0E0000000h
		mov	al, byte_14159
		xor	al, 1
		mov	[bp+var_13], al
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+_src], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_A], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_E], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_12], ax
		mov	[bp+var_16], 0
		jmp	loc_E55F
; ---------------------------------------------------------------------------

loc_E4BA:
		push	si		; n
		push	large [bp+_src]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_A] ; src
		push	ss
		lea	ax, [bp+var_B6]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_E] ; src
		push	ss
		lea	ax, [bp+var_106]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_12] ; src
		push	ss
		lea	ax, [bp+var_156]
		push	ax		; dest
		call	_memcpy
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+var_13]
		out	dx, al		; Interrupt Controller #2, 8259A
		push	si		; n
		push	ss
		lea	ax, [bp+dest]
		push	ax		; src
		push	large [bp+_src]	; dest
		call	_memcpy
		add	sp, 32h
		push	si		; n
		push	ss
		lea	ax, [bp+var_B6]
		push	ax		; src
		push	large [bp+var_A] ; dest
		call	_memcpy
		push	si		; n
		push	ss
		lea	ax, [bp+var_106]
		push	ax		; src
		push	large [bp+var_E] ; dest
		call	_memcpy
		push	si		; n
		push	ss
		lea	ax, [bp+var_156]
		push	ax		; src
		push	large [bp+var_12] ; dest
		call	_memcpy
		add	sp, 1Eh
		mov	dx, 0A6h ; '¦'
		mov	al, byte_14159
		out	dx, al		; Interrupt Controller #2, 8259A
		add	word ptr [bp+_src], 50h ; 'P'
		add	word ptr [bp+var_A], 50h ; 'P'
		add	word ptr [bp+var_E], 50h ; 'P'
		add	word ptr [bp+var_12], 50h ; 'P'
		inc	[bp+var_16]

loc_E55F:
		mov	ax, [bp+var_16]
		cmp	ax, [bp+var_2]
		jl	loc_E4BA
		pop	di
		pop	si
		leave
		retf
sub_E42B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E56D	proc far

var_164		= byte ptr -164h
var_114		= byte ptr -114h
var_C4		= byte ptr -0C4h
dest		= byte ptr -74h
var_24		= word ptr -24h
var_22		= dword	ptr -22h
var_1E		= dword	ptr -1Eh
var_1A		= dword	ptr -1Ah
var_16		= dword	ptr -16h
var_12		= dword	ptr -12h
var_E		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
_src		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= byte ptr  12h
arg_E		= byte ptr  14h

		enter	164h, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		mov	ax, [bp+arg_4]
		sub	ax, di
		mov	bx, 8
		cwd
		idiv	bx
		mov	si, ax
		mov	ax, [bp+arg_6]
		sub	ax, [bp+arg_2]
		mov	[bp+var_2], ax
		mov	[bp+_src], 0A8000000h
		mov	[bp+var_A], 0B0000000h
		mov	[bp+var_E], 0B8000000h
		mov	[bp+var_12], 0E0000000h
		mov	[bp+var_16], 0A8000000h
		mov	[bp+var_1A], 0B0000000h
		mov	[bp+var_1E], 0B8000000h
		mov	[bp+var_22], 0E0000000h
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+_src], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_A], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_E], ax
		mov	ax, di
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_12], ax
		mov	ax, [bp+arg_8]
		cwd
		idiv	bx
		mov	dx, [bp+arg_A]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_16], ax
		mov	ax, [bp+arg_8]
		cwd
		idiv	bx
		mov	dx, [bp+arg_A]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_1A], ax
		mov	ax, [bp+arg_8]
		cwd
		idiv	bx
		mov	dx, [bp+arg_A]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_1E], ax
		mov	ax, [bp+arg_8]
		cwd
		idiv	bx
		mov	dx, [bp+arg_A]
		imul	dx, 50h
		add	ax, dx
		add	word ptr [bp+var_22], ax
		mov	[bp+var_24], 0
		jmp	loc_E70D
; ---------------------------------------------------------------------------

loc_E658:
		push	si		; n
		push	large [bp+_src]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_A] ; src
		push	ss
		lea	ax, [bp+var_C4]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_E] ; src
		push	ss
		lea	ax, [bp+var_114]
		push	ax		; dest
		call	_memcpy
		push	si		; n
		push	large [bp+var_12] ; src
		push	ss
		lea	ax, [bp+var_164]
		push	ax		; dest
		call	_memcpy
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+arg_E]
		out	dx, al		; Interrupt Controller #2, 8259A
		push	si		; n
		push	ss
		lea	ax, [bp+dest]
		push	ax		; src
		push	large [bp+var_16] ; dest
		call	_memcpy
		add	sp, 32h
		push	si		; n
		push	ss
		lea	ax, [bp+var_C4]
		push	ax		; src
		push	large [bp+var_1A] ; dest
		call	_memcpy
		push	si		; n
		push	ss
		lea	ax, [bp+var_114]
		push	ax		; src
		push	large [bp+var_1E] ; dest
		call	_memcpy
		push	si		; n
		push	ss
		lea	ax, [bp+var_164]
		push	ax		; src
		push	large [bp+var_22] ; dest
		call	_memcpy
		add	sp, 1Eh
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+arg_C]
		out	dx, al		; Interrupt Controller #2, 8259A
		add	word ptr [bp+_src], 50h ; 'P'
		add	word ptr [bp+var_A], 50h ; 'P'
		add	word ptr [bp+var_E], 50h ; 'P'
		add	word ptr [bp+var_12], 50h ; 'P'
		add	word ptr [bp+var_16], 50h ; 'P'
		add	word ptr [bp+var_1A], 50h ; 'P'
		add	word ptr [bp+var_1E], 50h ; 'P'
		add	word ptr [bp+var_22], 50h ; 'P'
		inc	[bp+var_24]

loc_E70D:
		mov	ax, [bp+var_24]
		cmp	ax, [bp+var_2]
		jl	loc_E658
		mov	dx, 0A6h ; '¦'
		mov	al, byte_14159
		out	dx, al		; Interrupt Controller #2, 8259A
		pop	di
		pop	si
		leave
		retf
sub_E56D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E722	proc far

_s		= byte ptr -34h
var_33		= byte ptr -33h
var_32		= byte ptr -32h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  6
arg_2		= byte ptr  8
arg_4		= byte ptr  0Ah
arg_6		= dword	ptr  0Ch
arg_A		= word ptr  10h

		enter	34h, 0
		push	si
		push	di
		push	large 300000h	; c
		push	ss
		lea	ax, [bp+_s]
		push	ax		; s
		call	_memset
		add	sp, 8
		xor	di, di
		jmp	loc_E7C1
; ---------------------------------------------------------------------------

loc_E740:
		mov	ax, di
		add	ax, ax
		les	bx, [bp+arg_6]
		add	bx, ax
		cmp	word ptr es:[bx], 0
		jnz	short loc_E77E
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, [bp+arg_0]
		mov	ss:[bx], al
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_33]
		add	bx, ax
		mov	al, [bp+arg_2]
		mov	ss:[bx], al
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_32]
		add	bx, ax
		mov	al, [bp+arg_4]
		jmp	short loc_E7BD
; ---------------------------------------------------------------------------

loc_E77E:
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+_s]
		add	bx, ax
		mov	si, di
		imul	si, 3
		mov	al, [si+0A1Ah]
		mov	ss:[bx], al
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_33]
		add	bx, ax
		mov	si, di
		imul	si, 3
		mov	al, [si+0A1Bh]
		mov	ss:[bx], al
		mov	bx, di
		imul	bx, 3
		lea	ax, [bp+var_32]
		add	bx, ax
		mov	si, di
		imul	si, 3
		mov	al, [si+0A1Ch]

loc_E7BD:
		mov	ss:[bx], al
		inc	di

loc_E7C1:
		cmp	di, 10h
		jl	loc_E740
		xor	di, di
		jmp	loc_E89E
; ---------------------------------------------------------------------------

loc_E7CD:
		call	sub_CAF8
		mov	[bp+var_2], 0
		jmp	loc_E88C
; ---------------------------------------------------------------------------

loc_E7DA:
		mov	[bp+var_4], 0
		jmp	short loc_E849
; ---------------------------------------------------------------------------

loc_E7E1:
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		cmp	al, [bx+0A1Ah]
		jz	short loc_E846
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		cmp	al, [bx+0A1Ah]
		jge	short loc_E825
		mov	al, 1
		jmp	short loc_E827
; ---------------------------------------------------------------------------

loc_E825:
		mov	al, 0FFh

loc_E827:
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		lea	dx, [bp+_s]
		add	bx, dx
		add	al, ss:[bx]
		mov	bx, [bp+var_2]
		imul	bx, 3
		add	bx, [bp+var_4]
		add	bx, dx
		mov	ss:[bx], al

loc_E846:
		inc	[bp+var_4]

loc_E849:
		cmp	[bp+var_4], 3
		jl	short loc_E7E1
		mov	bx, [bp+var_2]
		imul	bx, 3
		lea	ax, [bp+var_32]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, [bp+var_2]
		imul	bx, 3
		lea	ax, [bp+var_33]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		mov	bx, [bp+var_2]
		imul	bx, 3
		lea	ax, [bp+_s]
		add	bx, ax
		mov	al, ss:[bx]
		cbw
		push	ax
		push	[bp+var_2]
		push	cs
		call	near ptr sub_D119
		add	sp, 8
		inc	[bp+var_2]

loc_E88C:
		cmp	[bp+var_2], 10h
		jl	loc_E7DA
		push	[bp+arg_A]
		call	sub_997D
		pop	cx
		inc	di

loc_E89E:
		cmp	di, 10h
		jl	loc_E7CD
		pop	di
		pop	si
		leave
		retf
sub_E722	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E8A9	proc far

inregs		= REGS ptr -22h
var_12		= byte ptr -12h
segp		= SREGS	ptr -8

		enter	22h, 0
		push	si
		push	di
		lea	ax, [bp+var_12]
		push	ss
		push	ax
		push	ds
		push	offset aPal98Grb ; "pal98 grb"
		mov	cx, 0Ah
		call	SCOPY@
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segp
		call	_segread
		add	sp, 4
		mov	byte ptr [bp+inregs+1],	52h ; 'R'
		push	ss
		lea	ax, [bp+segp]
		push	ax		; segregs
		push	ss
		lea	ax, [bp+inregs]
		push	ax		; outregs
		push	ss
		push	ax		; inregs
		call	_intdosx
		add	sp, 0Ch
		mov	bx, word ptr [bp+inregs+2]
		sub	bx, 2
		mov	es, [bp+segp._es]
		mov	si, es:[bx]

loc_E8F1:
		mov	es, si
		cmp	word ptr es:1, 0
		jz	short loc_E91A
		xor	di, di
		jmp	short loc_E90B
; ---------------------------------------------------------------------------

loc_E8FF:
		mov	es, si
		mov	al, es:[di+10h]
		cmp	al, [bp+di+var_12]
		jnz	short loc_E910
		inc	di

loc_E90B:
		cmp	di, 0Ah
		jl	short loc_E8FF

loc_E910:
		cmp	di, 0Ah
		jnz	short loc_E91A
		lea	ax, [si+1]
		jmp	short loc_E933
; ---------------------------------------------------------------------------

loc_E91A:
		mov	es, si
		cmp	byte ptr es:0, 4Dh ; 'M'
		jz	short loc_E928
		xor	ax, ax
		jmp	short loc_E933
; ---------------------------------------------------------------------------

loc_E928:
		mov	es, si
		mov	ax, es:3
		inc	ax
		add	si, ax
		jmp	short loc_E8F1
; ---------------------------------------------------------------------------

loc_E933:
		pop	di
		pop	si
		leave
		retf
sub_E8A9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E937	proc far

var_4		= dword	ptr -4

		enter	4, 0
		push	si
		push	di
		push	cs
		call	near ptr sub_E8A9
		mov	di, ax
		or	di, di
		jz	short loc_E97D
		mov	word ptr [bp+var_4+2], di
		mov	word ptr [bp+var_4], 10h
		xor	si, si
		jmp	short loc_E974
; ---------------------------------------------------------------------------

loc_E953:
		les	bx, [bp+var_4]
		mov	al, es:[bx+2]
		cbw
		push	ax
		mov	al, es:[bx]
		cbw
		push	ax
		mov	al, es:[bx+1]
		cbw
		push	ax
		push	si
		push	cs
		call	near ptr sub_D222
		add	sp, 8
		add	word ptr [bp+var_4], 3
		inc	si

loc_E974:
		cmp	si, 10h
		jl	short loc_E953
		xor	ax, ax
		jmp	short loc_E980
; ---------------------------------------------------------------------------

loc_E97D:
		mov	ax, 1

loc_E980:
		pop	di
		pop	si
		leave
		retf
sub_E937	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E984	proc far

var_4		= dword	ptr -4

		enter	4, 0
		push	si
		push	di
		push	cs
		call	near ptr sub_E8A9
		mov	di, ax
		or	di, di
		jz	short loc_E9DD
		mov	word ptr [bp+var_4+2], di
		mov	word ptr [bp+var_4], 10h
		xor	si, si
		jmp	short loc_E9D4
; ---------------------------------------------------------------------------

loc_E9A0:
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Bh]
		les	bx, [bp+var_4]
		mov	es:[bx], al
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Ah]
		mov	bx, word ptr [bp+var_4]
		mov	es:[bx+1], al
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+0A1Ch]
		mov	bx, word ptr [bp+var_4]
		mov	es:[bx+2], al
		add	word ptr [bp+var_4], 3
		inc	si

loc_E9D4:
		cmp	si, 10h
		jl	short loc_E9A0
		xor	ax, ax
		jmp	short loc_E9E0
; ---------------------------------------------------------------------------

loc_E9DD:
		mov	ax, 1

loc_E9E0:
		pop	di
		pop	si
		leave
		retf
sub_E984	endp

seg008		ends

; ===========================================================================

; Segment type:	Pure code
seg009		segment	byte public 'CODE' use16
		assume cs:seg009
		;org 4
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_E9E4(int, int, int, char *format, char arglist)
sub_E9E4	proc far

buffer		= byte ptr -104h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
_format		= dword	ptr  0Ch
_arglist		= byte ptr  10h

		enter	104h, 0
		lea	ax, [bp+_arglist]
		mov	[bp+var_2], ss
		mov	[bp+var_4], ax
		push	[bp+var_2]
		push	ax		; arglist
		push	large [bp+_format] ; format
		push	ss
		lea	ax, [bp+buffer]
		push	ax		; buffer
		call	_vsprintf
		push	ss
		lea	ax, [bp+buffer]
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_E10C
		add	sp, 16h
		leave
		retf
sub_E9E4	endp

seg009		ends

; ===========================================================================

; Segment type:	Pure code
seg010		segment	byte public 'CODE' use16
		assume cs:seg010
		;org 0Dh
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EA1D	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_1160
		or	ax, ax
		jnz	short loc_EA34
		mov	ax, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_EA34:
		push	0
		push	12h
		push	0
		call	sub_119C
		push	ds
		push	offset unk_141AA
		push	30h ; '0'
		call	sub_1030
		push	word_13507
		call	sub_C842
		call	sub_1150
		xor	ax, ax
		pop	bp
		retf
sub_EA1D	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EA5E	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_1160
		or	ax, ax
		jnz	short loc_EA75
		mov	ax, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_EA75:
		push	0
		push	12h
		push	0
		call	sub_119C
		push	ds
		push	offset unk_141AA
		push	30h ; '0'
		call	sub_1030
		call	sub_1150
		xor	ax, ax
		pop	bp
		retf
sub_EA5E	endp

; ---------------------------------------------------------------------------
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EA96	proc far

stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+stream]
		dec	word ptr es:[bx]
		jl	short loc_EABB
		les	bx, [bp+stream]
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	es, dx
		mov	al, es:[si]
		mov	ah, 0
		jmp	short loc_EAC9
; ---------------------------------------------------------------------------

loc_EABB:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	__fgetc
		add	sp, 4

loc_EAC9:
		mov	di, ax
		les	bx, [bp+stream]
		dec	word ptr es:[bx]
		jl	short loc_EAEB
		les	bx, [bp+stream]
		mov	dx, es:[bx+0Eh]
		mov	si, es:[bx+0Ch]
		inc	word ptr es:[bx+0Ch]
		mov	es, dx
		mov	al, es:[si]
		mov	ah, 0
		jmp	short loc_EAF9
; ---------------------------------------------------------------------------

loc_EAEB:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		call	__fgetc
		add	sp, 4

loc_EAF9:
		shl	ax, 8
		add	di, ax
		mov	ax, di
		jmp	short $+2
		pop	di
		pop	si
		pop	bp
		retf
sub_EA96	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EB06	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		xor	dx, dx
		jmp	short loc_EB32
; ---------------------------------------------------------------------------

loc_EB0D:
		xor	cx, cx
		jmp	short loc_EB2C
; ---------------------------------------------------------------------------

loc_EB11:
		mov	ax, dx
		imul	ax, 3
		les	bx, [bp+arg_0]
		add	bx, ax
		add	bx, cx
		mov	al, es:[bx]
		mov	bx, dx
		imul	bx, 3
		add	bx, cx
		mov	[bx+170Ah], al
		inc	cx

loc_EB2C:
		cmp	cx, 3
		jl	short loc_EB11
		inc	dx

loc_EB32:
		cmp	dx, 10h
		jl	short loc_EB0D
		pop	bp
		retf
sub_EB06	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EB39	proc far

var_1		= byte ptr -1
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		push	si
		xor	si, si
		push	4000h
		call	sub_25B9
		pop	cx
		mov	word_1464C, dx
		mov	off_1464A, ax
		cmp	word_134F8, 1
		jnz	short loc_EB5A
		or	si, 2

loc_EB5A:
		cmp	byte_13509, 1
		jnz	short loc_EB64
		mov	si, 0F40h

loc_EB64:
		cmp	word_134FA, 1
		jnz	short loc_EB8E
		push	si
		push	64h ; 'd'
		push	0
		push	0
		push	4000h
		push	word_1464C
		push	off_1464A
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_35A
		add	sp, 12h
		mov	[bp+var_1], al

loc_EB8E:
		cmp	word_134F8, 1
		jnz	short loc_EBA1
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_EA1D
		jmp	short loc_EBAB
; ---------------------------------------------------------------------------

loc_EBA1:
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_EA5E

loc_EBAB:
		add	sp, 4
		push	word_1464C
		push	off_1464A	; font
		call	_registerbgifont
		add	sp, 4
		mov	al, [bp+var_1]
		cbw
		jmp	short $+2
		pop	si
		leave
		retf
sub_EB39	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EBC7	proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	word_134F8, 0
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_EB39
		add	sp, 4
		mov	[bp+var_2], ax
		mov	word_134F8, 1
		mov	ax, [bp+var_2]
		leave
		retf
sub_EBC7	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EBEE	proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	word_134FA, 0
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_EB39
		add	sp, 4
		mov	[bp+var_2], ax
		mov	word_134FA, 1
		mov	ax, [bp+var_2]
		leave
		retf
sub_EBEE	endp

; ---------------------------------------------------------------------------
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EC15	proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		enter	2, 0
		mov	byte_13509, 1
		mov	word_134F8, 0
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_EB39
		add	sp, 4
		mov	[bp+var_2], ax
		mov	word_134F8, 1
		mov	byte_13509, 0
		mov	ax, [bp+var_2]
		leave
		retf
sub_EC15	endp

seg010		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg011		segment	byte public 'CODE' use16
		assume cs:seg011
		;org 4
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		leave
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EC46	proc far
		push	bp
		mov	bp, sp
		mov	dword_1464E, 0A8000000h
		mov	dword_14652, 0B0000000h
		mov	dword_14656, 0B8000000h
		mov	dword_1465A, 0E0000000h
		pop	bp
		retf
sub_EC46	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EC6F	proc far
		push	bp
		mov	bp, sp
		call	sub_120A
		mov	ax, 0FFF0h
		mov	dx, 4A0h
		out	dx, ax
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0FFFFh
		mov	dx, 4A8h
		out	dx, ax
		mov	ax, 0
		mov	dx, 4ACh
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		pop	bp
		retf
sub_EC6F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_ECA3	proc far

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	0Ah, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	di, si
		add	si, [bp+arg_4]
		and	di, 0FFF0h
		mov	ax, di
		sar	ax, 3
		mov	dx, [bp+arg_2]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+arg_2]
		shl	dx, 4
		add	ax, dx
		mov	[bp+var_6], ax
		push	cs
		call	near ptr sub_EC6F
		mov	[bp+var_2], 0
		jmp	short loc_ED21
; ---------------------------------------------------------------------------

loc_ECD7:
		mov	[bp+var_4], di
		mov	ax, [bp+var_6]
		mov	[bp+var_A], ax
		jmp	short loc_ED15
; ---------------------------------------------------------------------------

loc_ECE2:
		push	1
		call	sub_D107
		les	bx, dword_1464E
		add	bx, [bp+var_A]
		mov	ax, es:[bx]
		mov	[bp+var_8], ax
		push	0
		call	sub_D107
		add	sp, 4
		les	bx, dword_1464E
		add	bx, [bp+var_A]
		mov	ax, [bp+var_8]
		mov	es:[bx], ax
		add	[bp+var_A], 2
		add	[bp+var_4], 10h

loc_ED15:
		cmp	[bp+var_4], si
		jl	short loc_ECE2
		add	[bp+var_6], 50h	; 'P'
		inc	[bp+var_2]

loc_ED21:
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_6]
		jl	short loc_ECD7
		call	sub_1220
		pop	di
		pop	si
		leave
		retf
sub_ECA3	endp

seg011		ends

; ===========================================================================

; Segment type:	Pure code
seg012		segment	byte public 'CODE' use16
		assume cs:seg012
		;org 2
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_ED32	proc far

var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
val		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		enter	0Ch, 0
		push	si
		mov	[bp+val], 1
		mov	[bp+var_8], 0
		movsx	eax, [bp+arg_4]
		mov	[bp+var_8], eax
		mov	[bp+var_C], 0
		les	bx, [bp+arg_0]
		mov	dword ptr es:[bx], 0
		xor	si, si
		jmp	short loc_EDBF
; ---------------------------------------------------------------------------

loc_ED67:
		mov	ax, si
		add	ax, ax
		sub	ax, si
		push	ax		; count
		mov	eax, [bp+var_8]
		and	eax, [bp+val]
		push	eax		; val
		call	__lrotl
		push	dx
		push	ax
		pop	eax
		add	sp, 6
		or	[bp+var_C], eax
		mov	ax, si
		add	ax, ax
		inc	ax
		sub	ax, si
		push	ax		; count
		mov	eax, [bp+var_8]
		and	eax, [bp+val]
		push	eax		; val
		call	__lrotl
		push	dx
		push	ax
		pop	eax
		add	sp, 6
		or	[bp+var_C], eax
		push	1		; count
		push	large [bp+val]	; val
		call	__lrotl
		add	sp, 6
		mov	word ptr [bp+val+2], dx
		mov	word ptr [bp+val], ax
		inc	si

loc_EDBF:
		cmp	si, 10h
		jl	short loc_ED67
		mov	[bp+val], 0FF00FFh
		push	8		; count
		mov	eax, [bp+var_C]
		and	eax, [bp+val]
		push	eax		; val
		call	__lrotl
		push	dx
		push	ax
		pop	eax
		add	sp, 6
		les	bx, [bp+arg_0]
		or	es:[bx], eax
		mov	[bp+val], 0FF00FF00h
		push	8		; count
		mov	eax, [bp+var_C]
		and	eax, [bp+val]
		push	eax		; val
		call	__lrotr
		push	dx
		push	ax
		pop	eax
		add	sp, 6
		les	bx, [bp+arg_0]
		or	es:[bx], eax
		pop	si
		leave
		retf
sub_ED32	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EE15	proc far

var_1C		= dword	ptr -1Ch
var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		enter	1Ch, 0
		push	si
		push	di
		mov	ax, [bp+arg_4]
		mov	bx, 8
		cwd
		idiv	bx
		mov	dx, [bp+arg_6]
		imul	dx, 50h
		add	ax, dx
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_0]
		cwd
		idiv	bx
		mov	dx, [bp+arg_2]
		imul	dx, 50h
		add	ax, dx
		mov	[bp+var_4], ax
		mov	[bp+var_8], 0
		jmp	loc_EF72
; ---------------------------------------------------------------------------

loc_EE48:
		mov	di, [bp+var_4]
		mov	ax, [bp+var_2]
		mov	[bp+var_14], ax
		mov	[bp+var_6], 0
		jmp	loc_EF56
; ---------------------------------------------------------------------------

loc_EE59:
		push	1
		call	sub_D107
		pop	cx
		les	bx, dword_1464E
		add	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	[bp+var_10], ax
		les	bx, dword_14652
		add	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	[bp+var_E], ax
		les	bx, dword_14656
		add	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	[bp+var_C], ax
		les	bx, dword_1465A
		add	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	[bp+var_A], ax
		mov	ax, [bp+var_10]
		or	ax, [bp+var_E]
		or	ax, [bp+var_C]
		or	ax, [bp+var_A]
		mov	[bp+var_12], ax
		xor	si, si
		jmp	loc_EF44
; ---------------------------------------------------------------------------

loc_EEA9:
		push	0
		call	sub_D107
		push	[bp+var_12]
		push	ss
		lea	ax, [bp+var_1C]
		push	ax
		push	cs
		call	near ptr sub_ED32
		push	0
		call	sub_D13A
		les	bx, dword_1464E
		add	bx, di
		mov	eax, [bp+var_1C]
		mov	es:[bx+si], eax
		call	sub_D1CE
		push	[bp+var_10]
		push	ss
		lea	ax, [bp+var_18]
		push	ax
		push	cs
		call	near ptr sub_ED32
		les	bx, dword_1464E
		add	bx, di
		mov	eax, [bp+var_18]
		or	es:[bx+si], eax
		push	[bp+var_E]
		push	ss
		lea	ax, [bp+var_18]
		push	ax
		push	cs
		call	near ptr sub_ED32
		les	bx, dword_14652
		add	bx, di
		mov	eax, [bp+var_18]
		or	es:[bx+si], eax
		push	[bp+var_C]
		push	ss
		lea	ax, [bp+var_18]
		push	ax
		push	cs
		call	near ptr sub_ED32
		les	bx, dword_14656
		add	bx, di
		mov	eax, [bp+var_18]
		or	es:[bx+si], eax
		push	[bp+var_A]
		push	ss
		lea	ax, [bp+var_18]
		push	ax
		push	cs
		call	near ptr sub_ED32
		add	sp, 22h
		les	bx, dword_1465A
		add	bx, di
		mov	eax, [bp+var_18]
		or	es:[bx+si], eax
		add	si, 50h	; 'P'

loc_EF44:
		cmp	si, 0A0h ; ' '
		jl	loc_EEA9
		add	[bp+var_14], 2
		add	di, 4
		inc	[bp+var_6]

loc_EF56:
		mov	ax, [bp+arg_8]
		mov	bx, 10h
		cwd
		idiv	bx
		cmp	ax, [bp+var_6]
		jg	loc_EE59
		add	[bp+var_4], 0A0h ; ' '
		add	[bp+var_2], 50h	; 'P'
		inc	[bp+var_8]

loc_EF72:
		mov	ax, [bp+var_8]
		cmp	ax, [bp+arg_A]
		jl	loc_EE48
		pop	di
		pop	si
		leave
		retf
sub_EE15	endp

seg012		ends

; ===========================================================================

; Segment type:	Pure code
seg013		segment	byte public 'CODE' use16
		assume cs:seg013
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_EF80	proc far

s2		= byte ptr -1Ch
s1		= byte ptr -10h
var_4		= dword	ptr -4

		enter	1Ch, 0
		push	si
		lea	ax, [bp+s2]
		push	ss
		push	ax
		push	ds
		push	offset aMdrv2system ; "Mdrv2System"
		mov	cx, 0Ch
		call	SCOPY@
		xor	ax, ax
		mov	es, ax
		assume es:seg000
		movsx	eax, word ptr es:loc_3C8+2
		shl	eax, 10h
		add	eax, 102h
		shld	edx, eax, 10h
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		xor	si, si
		jmp	short loc_EFC6
; ---------------------------------------------------------------------------

loc_EFBA:
		les	bx, [bp+var_4]
		assume es:nothing
		add	bx, si
		mov	al, es:[bx]
		mov	[bp+si+s1], al
		inc	si

loc_EFC6:
		cmp	si, 0Ch
		jl	short loc_EFBA
		push	ss
		lea	ax, [bp+s2]
		push	ax		; s2
		push	ss
		lea	ax, [bp+s1]
		push	ax		; s1
		call	_strcmp
		add	sp, 8
		or	ax, ax
		jz	short loc_EFE5
		xor	ax, ax
		jmp	short loc_EFE8
; ---------------------------------------------------------------------------

loc_EFE5:
		mov	ax, 1

loc_EFE8:
		pop	si
		leave
		retf
sub_EF80	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __stdcall	sub_EFEB(char, char *path)
sub_EFEB	proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
handle		= word ptr -2
arg_0		= byte ptr  4
_path		= dword	ptr  6

		enter	0Ch, 0
		push	si
		cmp	byte_1350A, 0
		jz	short loc_F06F
		push	8001h		; access
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path] ; path
		call	_open
		add	sp, 6
		mov	[bp+handle], ax
		push	[bp+handle]	; handle
		call	_filelength
		pop	cx
		mov	[bp+var_4], ax
		movsx	eax, [bp+var_4]
		push	eax
		call	_farmalloc
		add	sp, 4
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_A]
		mov	[bp+var_6], ax
		mov	ax, [bp+var_C]
		mov	[bp+var_8], ax
		push	ds
		mov	ax, 3F00h
		mov	bx, [bp+handle]
		mov	cx, [bp+var_4]
		mov	ds, [bp+var_6]
		mov	dx, [bp+var_8]
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		push	[bp+handle]	; handle
		call	_close
		pop	cx
		push	ds
		mov	ah, [bp+arg_0]
		mov	ds, [bp+var_6]
		mov	si, [bp+var_8]
		int	0F2h
		pop	ds
		push	[bp+var_A]
		push	[bp+var_C]
		call	_farfree
		add	sp, 4

loc_F06F:
		pop	si
		leave
		retn	6
sub_EFEB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_F074(char *path)
sub_F074	proc far

_path		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path] ; path
		push	6		; char
		call	sub_EFEB
		pop	bp
		retf
sub_F074	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F084	proc far

_path		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	word ptr [bp+_path+2]
		push	word ptr [bp+_path] ; path
		push	7		; char
		call	sub_EFEB
		pop	bp
		retf
sub_F084	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F094	proc far
		push	bp
		mov	bp, sp
		cmp	byte_1350A, 0
		jz	short loc_F0A2
		mov	ah, 0
		int	0F2h

loc_F0A2:
		pop	bp
		retf
sub_F094	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F0A4	proc far
		push	bp
		mov	bp, sp
		cmp	byte_1350A, 0
		jz	short loc_F0B2
		mov	ah, 3
		int	0F2h

loc_F0B2:
		pop	bp
		retf
sub_F0A4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F0B4	proc far
		push	bp
		mov	bp, sp
		cmp	byte_1350A, 0
		jz	short loc_F0C2
		mov	ah, 2
		int	0F2h

loc_F0C2:
		pop	bp
		retf
sub_F0B4	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		cmp	byte_1350A, 0
		jz	short loc_F0D2
		mov	ah, 1
		int	0F2h

loc_F0D2:
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		cmp	byte_1350A, 0
		jz	short loc_F0E2
		mov	ah, 0Fh
		int	0F2h

loc_F0E2:
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F0E4	proc far
		push	bp
		mov	bp, sp
		mov	ah, 9
		int	0F2h
		mov	byte_1350A, al
		mov	al, byte_1350A
		cbw
		pop	bp
		retf
sub_F0E4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F0F4	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	[bp+arg_0], 0
		jz	short loc_F10E
		cmp	byte_1350A, 0
		jz	short loc_F10E
		add	[bp+arg_0], 400h
		mov	ax, [bp+arg_0]
		int	0F2h

loc_F10E:
		pop	bp
		retf
sub_F0F4	endp

seg013		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg014		segment	byte public 'CODE' use16
		assume cs:seg014
; START	OF FUNCTION CHUNK FOR sub_F150
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

loc_F110:
		pop	di
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	si
		pop	ds
		clc
		retf
; ---------------------------------------------------------------------------

loc_F119:
		mov	al, byte ptr aBorlandCCopyri+2
		mov	ah, byte ptr aBorlandCCopyri ; "Borland	C++ - Copyright	1993 Borland In"...
		; Hack (fnclex)
		db 0cdh
		db 037h
		db 0e2h
		test	ah, 80h
		jz	short loc_F110
		not	al
		and	al, ah
		jmp	loc_F265
; ---------------------------------------------------------------------------

loc_F12F:
		les	di, [si+6]
		test	bl, 8
		jnz	short loc_F13F
		mov	bx, es
		and	bx, 0F000h
		mov	es, bx
		assume es:nothing

loc_F13F:
		test	byte ptr es:[di], 80h
		jnz	short loc_F146
		inc	di

loc_F146:
		mov	bx, es:[di]
		xchg	bh, bl
		jmp	short loc_F196
; END OF FUNCTION CHUNK	FOR sub_F150
; ---------------------------------------------------------------------------
		jmp	short loc_F1B1
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_F150	proc far

; FUNCTION CHUNK AT 0000 SIZE 0000003D BYTES

		push	ds
		push	si
		push	bx
		push	cx
		push	dx
		push	es
		push	di
		mov	ds, ax
		mov	al, byte ptr aBorlandCCopyri+6
		or	al, al
		mov	bx, ax
		jz	short loc_F119
		mov	si, 33h	; '3'
		; Hack (fnstenv byte ptr [si])
		db 0d9h
		db 034h
		wait
		mov	ax, [si+2]
		test	al, 80h
		jz	short loc_F110
		fclex
		mov	dx, ax
		mov	al, [si]
		mov	dh, dl
		or	al, 40h
		and	dl, al
		and	dl, 7Fh
		mov	[si+2],	dl
		; The original executable has two wait instructions here, but TASM
		; would add a third one for some reason?
		wait
		fldenv	byte ptr [si]
		not	al
		and	al, dh
		or	bx, word ptr aBorlandCCopyri+7
		cmp	bl, 3
		jge	short loc_F12F
		mov	bx, [si+8]

loc_F196:
		and	bh, 7
		mov	dh, bl
		and	dh, 0C0h
		cmp	dh, 0C0h ; 'À'
		jz	short loc_F1A6
		and	bl, 38h

loc_F1A6:
		wait
		sti
		test	al, 1
		jz	short loc_F1B1
		mov	al, 40h	; '@'
		jmp	loc_F265
; ---------------------------------------------------------------------------

loc_F1B1:
		test	al, 2
		jz	short loc_F20A
		mov	cx, 8

loc_F1B8:
		call	sub_F278
		wait
		fincstp
		loop	loc_F1B8
		mov	ax, bx
		shr	ax, 1
		and	al, 9Ch
		cmp	al, 80h	; '€'
		jz	short loc_F1D2
		cmp	al, 94h	; '”'
		jz	short loc_F1D2
		and	al, 98h
		cmp	al, 8

loc_F1D2:
		jz	short loc_F208
		; Hack (fnstcw word ptr ds:051h)
		db 0d9h
		db 03eh
		db 051h
		db 000h
		wait
		or	byte ptr ds:051h, 2
		wait
		fldcw	word ptr ds:051h
		les	di, [si+0Ah]
		assume es:nothing
		cmp	bx, 30h	; '0'
		jnz	short loc_F1F1
		wait
		fld	dword ptr es:[di]
		jmp	short loc_F1FB
; ---------------------------------------------------------------------------

loc_F1F1:
		cmp	bx, 430h
		jnz	short loc_F201
		wait
		fld	qword ptr es:[di]

loc_F1FB:
		call	sub_F278
		mov	bx, 0DEF9h

loc_F201:
		wait
		mov	di, word ptr aBorlandCCopyri+0Dh
		jmp	short loc_F23B
; ---------------------------------------------------------------------------

loc_F208:
		jmp	short loc_F253
; ---------------------------------------------------------------------------

loc_F20A:
		mov	ah, byte ptr aBorlandCCopyri+2
		not	ah
		and	ah, al
		and	ah, 7Fh
		jnz	short loc_F265
		test	al, 5
		jnz	short loc_F229
		test	al, 18h
		jz	short loc_F257
		mov	ax, bx
		shr	ax, 1
		and	al, 0E8h
		cmp	al, 88h	; 'ˆ'
		jnz	short loc_F257

loc_F229:
		; Hack (fnstcw word ptr ds:051h)
		db 0d9h
		db 03eh
		db 051h
		db 000h
		wait
		mov	ax, word ptr ds:051h
		or	byte ptr ds:051h, 3Fh
		wait
		fldcw	word ptr ds:051h

loc_F23B:
		push	cs
		call	near ptr sub_F2C5
		add	sp, 0Ah
		fstsw	word ptr ds:051h
		fclex
		mov	ax, word ptr ds:051h
		and	al, 3Fh
		or	byte ptr aBorlandCCopyri+25h, al

loc_F253:
		wait
		fldcw	word ptr [si]
		clc

loc_F257:
		pop	di
		pop	es
		pop	dx
		pop	cx
		pop	bx
		pop	si
		pop	ds
		jb	short locret_F264
		pop	ax
		pop	ax
		pop	ax
		iret
; ---------------------------------------------------------------------------

locret_F264:
		retf
; ---------------------------------------------------------------------------

loc_F265:
		xor	dx, dx
		mov	bx, ax

loc_F269:
		inc	dx
		shr	bx, 1
		jnb	short loc_F269
		mov	word ptr aBorlandCCopyri+9, dx
		mov	ax, 29h	; ')'
		stc
		jmp	short loc_F257
sub_F150	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_F278	proc near
		wait
		fxam
		fstsw	word ptr aDivideError+6
		wait
		mov	ah, byte ptr aDivideError+7
		sahf
		jnb	short loc_F28B
		jnz	short loc_F28D
		retn
; ---------------------------------------------------------------------------

loc_F28B:
		jz	short loc_F292

loc_F28D:
		jb	short locret_F291
		jnp	short loc_F299

locret_F291:
		retn
; ---------------------------------------------------------------------------

loc_F292:
		wait
		fstp	st
		wait
		fldz
		retn
; ---------------------------------------------------------------------------

loc_F299:
		wait
		fstp	tbyte ptr aBorlandCCopyri+27h
		wait
		fild	qword ptr aBorlandCCopyri+27h
		mov	ax, word ptr aDivideError+4
		mov	dx, ax
		and	dh, 80h
		wait
		fstp	tbyte ptr aBorlandCCopyri+27h
		xor	ah, dh
		wait
		add	ax, word ptr aDivideError+4
		sub	ax, 403Eh
		xor	ah, dh
		mov	word ptr aDivideError+4, ax
		wait
		fld	tbyte ptr aBorlandCCopyri+27h
		retn
sub_F278	endp


; =============== S U B	R O U T	I N E =======================================


sub_F2C5	proc far
		mov	word ptr aBorlandCCopyri+0Dh, di
		mov	dx, 0EA90h
		push	dx
		mov	dx, bx
		and	bl, 0C0h
		cmp	bl, 0C0h ; 'À'
		jz	short loc_F2DA
		or	dl, 7

loc_F2DA:
		or	dh, 0D8h
		xchg	dh, dl
		push	dx
		mov	dx, 269Bh
		push	dx
		mov	dx, ss
		xor	dx, word ptr aBorlandCCopyri+7
		push	dx
		mov	dx, sp
		add	dx, 2
		push	dx
		les	bx, [si+0Ah]
		retf
sub_F2C5	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		dd 0
		dd 0
		dw 0
		db    0
		; Hack. Let's better use bytes for accuracy here.
tbyte_F300	db 035h, 0c2h, 068h, 021h, 0a2h, 0dah, 00fh, 0c9h, 0feh, 03fh
tbyte_F30A	db 035h, 0c2h, 068h, 021h, 0a2h, 0dah, 00fh, 0c9h, 0ffh, 03fh
flt_F314	dd -5.1110893e38
flt_F318	dd -5.1117124e38
		db 0, 4Ah, 0C0h, 0FFh
flt_F320	dd 0.5
tbyte_F324	db 085h, 064h, 0deh, 0f9h, 033h, 0f3h, 004h, 0b5h, 0ffh, 03fh
flt_F32E	dd 3.4028237e38

; =============== S U B	R O U T	I N E =======================================


sub_F332	proc near
		mov	cl, 0
		jmp	short loc_F33C
; ---------------------------------------------------------------------------
		mov	cl, 2
		jmp	short loc_F33C
; ---------------------------------------------------------------------------
		mov	cl, 4

loc_F33C:
		wait
		fxam
		push	bp
		mov	bp, sp
		lea	sp, [bp-2]
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		jb	short loc_F35F
		jnz	short loc_F380
		cmp	cl, 2
		jnz	short loc_F35D
		wait
		fstp	st
		wait
		fld1

loc_F35D:
		jmp	short loc_F37D
; ---------------------------------------------------------------------------

loc_F35F:
		jz	short loc_F36F
		jnp	short loc_F36F
		wait
		fstp	st
		wait
		fld	cs:flt_F314
		wait
		ftst

loc_F36F:
		jmp	short loc_F37D
; ---------------------------------------------------------------------------

loc_F371:
		wait
		fcompp
		wait
		fld	cs:flt_F314
		wait
		ftst

loc_F37D:
		jmp	loc_F427
; ---------------------------------------------------------------------------

loc_F380:
		wait
		fabs
		wait
		fld	tbyte ptr cs:tbyte_F300
		wait
		fxch	st(1)
		wait
		fprem
		mov	ch, 2
		and	ch, ah
		shr	ch, 1
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		jp	short loc_F371
		mov	al, 3
		and	al, ah
		shl	ah, 1
		shl	ah, 1
		rcl	al, 1
		add	al, 0FCh ; 'ü'
		rcl	al, 1
		cmp	cl, 2
		jnz	short loc_F3B7
		add	al, cl
		mov	ch, 0

loc_F3B7:
		and	al, 7
		test	al, 1
		jz	short loc_F3C2
		wait
		fsubp	st(1), st
		jmp	short loc_F3C5
; ---------------------------------------------------------------------------

loc_F3C2:
		wait
		fstp	st(1)

loc_F3C5:
		wait
		fptan
		cmp	cl, 4
		jz	short loc_F3F6
		test	al, 3
		jp	short loc_F3D4
		wait
		fxch	st(1)

loc_F3D4:
		wait
		fld	st(1)
		wait
		fmul	st, st
		wait
		fxch	st(1)
		wait
		fmul	st, st
		wait
		faddp	st(1), st
		wait
		fsqrt
		shr	al, 1
		shr	al, 1
		xor	al, ch
		jz	short loc_F3F1
		wait
		fchs

loc_F3F1:
		wait
		fdivp	st(1), st
		jmp	short loc_F427
; ---------------------------------------------------------------------------

loc_F3F6:
		mov	ah, al
		shr	ah, 1
		and	ah, 1
		xor	ah, ch
		jz	short loc_F404
		wait
		fchs

loc_F404:
		test	al, 3
		jp	short loc_F424
		wait
		fxch	st(1)
		wait
		ftst
		fstsw	word ptr [bp-2]
		wait
		test	byte ptr [bp-1], 40h
		jz	short loc_F424
		wait
		fcompp
		wait
		fld	cs:flt_F32E
		jmp	short loc_F427
; ---------------------------------------------------------------------------

loc_F424:
		wait
		fdivp	st(1), st

loc_F427:
		mov	sp, bp
		pop	bp
		retn
sub_F332	endp


; =============== S U B	R O U T	I N E =======================================


sub_F42B	proc near
		wait
		fxam
		push	bp
		mov	bp, sp
		lea	sp, [bp-2]
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		xchg	ax, cx
		jb	short loc_F444
		jnz	short loc_F45E
		jmp	short loc_F490
; ---------------------------------------------------------------------------

loc_F444:
		jz	short loc_F490
		jnp	short loc_F490
		wait
		fstp	st
		wait
		fld	tbyte ptr cs:tbyte_F30A
		jmp	short loc_F488
; ---------------------------------------------------------------------------

loc_F453:
		wait
		fcompp
		wait
		fld	tbyte ptr cs:tbyte_F300
		jmp	short loc_F488
; ---------------------------------------------------------------------------

loc_F45E:
		wait
		fabs
		wait
		fld1
		wait
		fcom	st(1)
		fstsw	word ptr [bp-2]
		wait
		mov	ah, [bp-1]
		sahf
		jz	short loc_F453
		jnb	short loc_F477
		wait
		fxch	st(1)

loc_F477:
		wait
		fpatan
		jnb	short loc_F488
		wait
		fld	tbyte ptr cs:tbyte_F30A
		wait
		fsubp	st(1), st
		xor	ch, 2

loc_F488:
		test	ch, 2
		jz	short loc_F490
		wait
		fchs

loc_F490:
		mov	sp, bp
		pop	bp
		retn
sub_F42B	endp


; =============== S U B	R O U T	I N E =======================================


sub_F494	proc near
		wait
		fld1
		jmp	short loc_F4A1
; ---------------------------------------------------------------------------
		wait
		fldlg2
		jmp	short loc_F4A1
; ---------------------------------------------------------------------------
		wait
		fldln2

loc_F4A1:
		wait
		fxch	st(1)
		push	bp
		mov	bp, sp
		wait
		fxam
		lea	sp, [bp-0Ah]
		fstsw	word ptr [bp-0Ah]
		wait
		mov	ah, [bp-9]
		sahf
		jb	short loc_F4C4
		jz	short loc_F4BF
		test	ah, 2
		jz	short loc_F4E1

loc_F4BF:
		wait
		fstp	st
		jmp	short loc_F4D3
; ---------------------------------------------------------------------------

loc_F4C4:
		jz	short loc_F4DC
		wait
		fstp	st(1)
		jnp	short loc_F4DC
		wait
		fstp	st(1)
		test	ah, 2
		jz	short loc_F505

loc_F4D3:
		wait
		fstp	st
		wait
		fld	cs:flt_F318

loc_F4DC:
		wait
		ftst
		jmp	short loc_F505
; ---------------------------------------------------------------------------

loc_F4E1:
		wait
		fld	st
		wait
		fstp	tbyte ptr [bp-0Ah]
		wait
		cmp	word ptr [bp-2], 3FFFh
		jnz	short loc_F502
		cmp	word ptr [bp-4], 8000h
		jnz	short loc_F502
		wait
		fld1
		wait
		fsubp	st(1), st
		wait
		fyl2xp1
		jmp	short loc_F505
; ---------------------------------------------------------------------------

loc_F502:
		wait
		fyl2x

loc_F505:
		mov	sp, bp
		pop	bp
		retn
sub_F494	endp


; =============== S U B	R O U T	I N E =======================================


sub_F509	proc near
		sub	cx, cx
		jmp	short loc_F51F
; ---------------------------------------------------------------------------
		wait
		fldl2t
		mov	cl, 1
		wait
		fxch	st(1)
		jmp	short loc_F51F
; ---------------------------------------------------------------------------
		wait
		fldl2e
		mov	cl, 1
		wait
		fxch	st(1)

loc_F51F:
		wait
		fxam
		push	bp
		mov	bp, sp
		lea	sp, [bp-4]
		fstsw	word ptr [bp-4]
		jcxz	short loc_F531
		wait
		fxch	st(1)

loc_F531:
		wait
		mov	ah, [bp-3]
		sahf
		jb	short loc_F548
		jnz	short loc_F563
		wait
		fstp	st
		jcxz	short loc_F542
		wait
		fstp	st

loc_F542:
		wait
		fld1
		jmp	loc_F5EC
; ---------------------------------------------------------------------------

loc_F548:
		jcxz	short loc_F54D
		wait
		fstp	st

loc_F54D:
		jz	short loc_F55D
		jnp	short loc_F55D
		wait
		fstp	st
		wait
		fld	cs:flt_F32E
		jmp	loc_F5E1
; ---------------------------------------------------------------------------

loc_F55D:
		wait
		ftst
		jmp	loc_F5EC
; ---------------------------------------------------------------------------

loc_F563:
		jcxz	short loc_F568
		wait
		fmulp	st(1), st

loc_F568:
		wait
		fabs
		wait
		fcom	cs:flt_F320
		fstsw	word ptr [bp-4]
		wait
		test	byte ptr [bp-3], 41h
		jz	short loc_F587
		wait
		f2xm1
		wait
		fld1
		wait
		faddp	st(1), st
		jmp	short loc_F5E1
; ---------------------------------------------------------------------------

loc_F587:
		wait
		fld1
		wait
		fld	st(1)
		fstcw	word ptr [bp-4]
		wait
		fscale
		or	byte ptr [bp-3], 0Fh
		wait
		fldcw	word ptr [bp-4]
		wait
		frndint
		and	byte ptr [bp-3], 0F3h
		wait
		fldcw	word ptr [bp-4]
		wait
		fist	word ptr [bp-2]
		wait
		fxch	st(1)
		wait
		fchs
		wait
		fxch	st(1)
		wait
		fscale
		wait
		fstp	st(1)
		wait
		fsubp	st(1), st
		wait
		f2xm1
		wait
		fld1
		wait
		faddp	st(1), st
		shr	word ptr [bp-2], 1
		jnb	short loc_F5D4
		wait
		fld	tbyte ptr cs:tbyte_F324
		wait
		fmulp	st(1), st

loc_F5D4:
		wait
		fild	word ptr [bp-2]
		wait
		fxch	st(1)
		wait
		fscale
		wait
		fstp	st(1)

loc_F5E1:
		test	ah, 2
		jz	short loc_F5EC
		wait
		fld1
		wait
		fdivrp	st(1), st

loc_F5EC:
		mov	sp, bp
		pop	bp
		retn
sub_F509	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

e087_Entry	proc far

var_2		= word ptr -2
arg_1		= byte ptr  7

		push	bp
		mov	bp, sp
		push	ax
		push	si
		push	ds
		test	[bp+arg_1], 2
		jz	short loc_F5FD
		sti

loc_F5FD:
		lds	si, [bp+2]
		mov	ax, ds
		xor	ax, ss:27h
		mov	ds, ax
		mov	ax, [si-1]
		sub	al, 34h	; '4'
		cmp	al, 8
		jnb	short loc_F667
		cmp	ax, 0E303h
		jz	short loc_F63C
		cmp	ax, 0E007h
		jnz	short loc_F62D
		cmp	byte ptr ss:26h, 2
		jge	short loc_F62D
		fstsw	[bp+var_2]
		inc	word ptr [bp+2]
		jmp	short loc_F68A
; ---------------------------------------------------------------------------

loc_F62D:
		sub	si, 2
		mov	byte ptr [si], 9Bh ; '›'
		add	byte ptr [si+1], 0A4h ;	'¤'

loc_F637:
		mov	[bp+2],	si
		jmp	short loc_F68A
; ---------------------------------------------------------------------------

loc_F63C:
		fninit
		inc	word ptr [bp+2]
		mov	word ptr ss:20h, 4100h
		mov	word ptr ss:22h, 3Fh ; '?'
		mov	word ptr ss:45h, 0
		mov	ax, ss:31h
		mov	ss:2Dh,	ax
		mov	word ptr ss:24h, 0
		jmp	short loc_F68A
; ---------------------------------------------------------------------------

loc_F667:
		ja	short loc_F68F
		test	ah, 20h
		jnz	short loc_F69C
		sub	si, 2
		mov	[bp+2],	si
		mov	byte ptr [si], 9Bh ; '›'
		inc	si
		mov	al, ah
		and	ax, 7C0h
		shr	al, 1
		shr	al, 1
		shr	al, 1
		xor	al, 18h
		add	ax, 0D826h
		mov	[si], ax

loc_F68A:
		pop	ds
		pop	si
		pop	ax
		pop	bp
		iret
; ---------------------------------------------------------------------------

loc_F68F:
		cmp	al, 9
		ja	short loc_F69C
		sub	si, 2
		mov	word ptr [si], 9B90h
		jmp	short loc_F637
; ---------------------------------------------------------------------------

loc_F69C:
		int	3		; Trap to Debugger
		jmp	short loc_F68A
e087_Entry	endp

; ---------------------------------------------------------------------------
		db  22h	; "
		db    2
		db  26h	; &
		db    2
		db  2Ah	; *
		db    2
		db  1Bh
		db    3
		db  8Eh	; Ž
		db    3
		db  84h	; „
		db    3
		db  89h	; ‰
		db    3
		db    7
		db    4
		db 0F9h	; ù
		db    3
		db 0FDh	; ý
		db    3
; ---------------------------------------------------------------------------

e087_Shortcut:
		sti
		push	ax
		push	si
		push	es
		push	bp
		mov	bp, sp
		les	si, [bp+8]
		lods	byte ptr es:[si]
		mov	[bp+8],	si
		cbw
		xchg	ax, si
		push	cx
		call	word ptr cs:[si+5A3h]
		pop	cx
		pop	bp
		pop	es
		pop	si
		pop	ax
		iret
seg014		ends

; ===========================================================================

; Segment type:	Pure code
seg015		segment	byte public 'CODE' use16
		assume cs:seg015
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		db  87h	; ‡
		db 0E2h	; â
		db    0
		db  0Ch
		db  18h
		db  24h	; $
		db  30h	; 0
		db  3Ch	; <
		db  48h	; H
		db  54h	; T
		db  60h	; `
		db  6Ch	; l
		db  78h	; x
		db  84h	; „
		db  90h	; 
		db  9Ch	; œ
		db 0A8h	; ¨
		db 0B4h	; ´

; =============== S U B	R O U T	I N E =======================================


sub_F6E2	proc near
		push	dx
		push	si
		mov	dx, [si+6]
		and	dh, 7Fh
		or	dx, [si]
		or	dx, [si+2]
		or	dx, [si+4]
		jnz	short loc_F714
		cmp	bx, 0FFFFh
		jz	short loc_F710
		cmp	word ptr [bx+8], 4001h
		jl	short loc_F710
		mov	dx, [bx+6]
		and	dh, 7Fh
		or	dx, [bx]
		or	dx, [bx+2]
		or	dx, [bx+4]
		jnz	short loc_F754

loc_F710:
		clc

loc_F711:
		pop	si
		pop	dx
		retn
; ---------------------------------------------------------------------------

loc_F714:
		cmp	bx, 0FFFFh
		jz	short loc_F756
		cmp	word ptr [bx+8], 4001h
		jl	short loc_F756
		mov	dx, [bx+6]
		and	dh, 7Fh
		or	dx, [bx]
		or	dx, [bx+2]
		or	dx, [bx+4]
		jz	short loc_F756
		mov	dx, [si+6]
		cmp	dx, [bx+6]
		ja	short loc_F756
		jb	short loc_F754
		mov	dx, [si+4]
		cmp	dx, [bx+4]
		ja	short loc_F756
		jb	short loc_F754
		mov	dx, [si+2]
		cmp	dx, [bx+2]
		ja	short loc_F756
		jb	short loc_F754
		mov	dx, [si]
		cmp	dx, [bx]
		ja	short loc_F756

loc_F754:
		mov	si, bx

loc_F756:
		push	di
		mov	ch, 1
		call	sub_11DD9
		mov	cx, 6
		cld
		rep movsw
		stc
		pop	di
		jmp	short loc_F711
sub_F6E2	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_F77E

loc_F766:
		mov	al, [si+0Ah]

loc_F769:
		mov	[bp-5],	al
		mov	word ptr [bp-4], 4001h
		nop
		jmp	short loc_F7B1
; ---------------------------------------------------------------------------

loc_F774:
		mov	di, [bp+4]
		nop
		call	sub_10523

loc_F77B:
		jmp	loc_F911
; END OF FUNCTION CHUNK	FOR sub_F77E

; =============== S U B	R O U T	I N E =======================================


sub_F77E	proc near

; FUNCTION CHUNK AT 0096 SIZE 00000018 BYTES

		push	bx
		push	di
		mov	bx, di
		mov	di, [bp+4]
		nop
		call	sub_F6E2
		pop	di
		pop	bx
		jb	short loc_F77B
		cmp	bx, 4001h
		jl	short loc_F766
		mov	al, [bp-6]
		or	al, al
		jnz	short loc_F774
		jmp	short loc_F766
sub_F77E	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_F7C3

loc_F79C:
		mov	bx, 0FFFFh
		mov	al, [di+0Ah]
		xor	al, cl
		mov	si, di
		mov	di, [bp+4]
		nop
		call	sub_F6E2
		jb	short loc_F77B
		jmp	short loc_F769
; ---------------------------------------------------------------------------

loc_F7B1:
		mov	ax, [si]
		mov	bx, [si+2]
		mov	cx, [si+4]
		mov	dx, [si+6]
		jmp	loc_F8FE
; END OF FUNCTION CHUNK	FOR sub_F7C3

; =============== S U B	R O U T	I N E =======================================


sub_F7BF	proc near
		mov	cl, 1
		jmp	short loc_F7C5
sub_F7BF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F7C3	proc near

var_6		= byte ptr -6
var_5		= byte ptr -5
var_4		= word ptr -4
var_2		= byte ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

; FUNCTION CHUNK AT 00CC SIZE 00000023 BYTES

		mov	cl, 0

loc_F7C5:
		push	bp
		mov	bp, sp
		lea	sp, [bp-6]
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_2]
		mov	al, cl
		xor	al, [di+0Ah]
		xor	al, [si+0Ah]
		mov	[bp+var_6], al
		mov	ax, [si+8]
		mov	bx, [di+8]
		cmp	ax, 4001h
		jge	short sub_F77E
		cmp	bx, 4001h
		jge	short loc_F79C
		cmp	ax, bx
		jge	short loc_F7FB
		xor	cl, [di+0Ah]
		xchg	ax, bx
		xchg	si, di
		jmp	short loc_F7FE
; ---------------------------------------------------------------------------

loc_F7FB:
		mov	cl, [si+0Ah]

loc_F7FE:
		mov	[bp+var_5], cl
		mov	cx, [si+8]
		mov	[bp+var_4], cx
		cmp	bx, 0C001h
		jle	short loc_F7B1
		sub	ax, bx
		cmp	ax, 41h	; 'A'
		jg	short loc_F7B1
		mov	bx, [di+2]
		mov	cx, [di+4]
		mov	dx, [di+6]
		mov	di, [di]
		xchg	ax, di
		mov	[bp+var_2], 0
		sub	di, 8
		jl	short loc_F841

loc_F829:
		mov	[bp+var_2], al
		mov	al, ah
		mov	ah, bl
		mov	bl, bh
		mov	bh, cl
		mov	cl, ch
		mov	ch, dl
		mov	dl, dh
		mov	dh, 0
		sub	di, 8
		jge	short loc_F829

loc_F841:
		and	di, 7
		jz	short loc_F854

loc_F846:
		shr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		rcr	ax, 1
		rcr	[bp+var_2], 1
		dec	di
		jnz	short loc_F846

loc_F854:
		cmp	[bp+var_6], 0
		jnz	short loc_F877
		add	ax, [si]
		adc	bx, [si+2]
		adc	cx, [si+4]
		adc	dx, [si+6]
		jnb	short loc_F8DE
		rcr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		rcr	ax, 1
		rcr	[bp+var_2], 1
		inc	[bp+var_4]
		jmp	short loc_F8DE
; ---------------------------------------------------------------------------

loc_F877:
		xor	[bp+var_5], 1
		sub	ax, [si]
		sbb	bx, [si+2]
		sbb	cx, [si+4]
		sbb	dx, [si+6]
		jnb	short loc_F8A0
		xor	[bp+var_5], 1
		not	dx
		not	cx
		not	bx
		not	ax
		neg	[bp+var_2]
		cmc
		adc	ax, di
		adc	bx, di
		adc	cx, di
		adc	dx, di

loc_F8A0:
		mov	si, 8

loc_F8A3:
		or	dh, dh
		jnz	short loc_F8DC
		mov	dh, dl
		mov	dl, ch
		mov	ch, cl
		mov	cl, bh
		mov	bh, bl
		mov	bl, ah
		mov	ah, al
		mov	al, [bp+var_2]
		mov	[bp+var_2], 0
		sub	[bp+var_4], 8
		dec	si
		jge	short loc_F8A3
		mov	[bp+var_4], 0C001h
		mov	[bp+var_5], 0
		jmp	short loc_F8FE
; ---------------------------------------------------------------------------

loc_F8CE:
		dec	[bp+var_4]
		shl	[bp+var_2], 1
		rcl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		adc	dx, dx

loc_F8DC:
		jns	short loc_F8CE

loc_F8DE:
		shl	[bp+var_2], 1
		adc	ax, di
		adc	bx, di
		adc	cx, di
		adc	dx, di
		jnb	short loc_F8F0
		rcr	dx, 1
		inc	[bp+var_4]

loc_F8F0:
		cmp	[bp+var_4], 4001h
		jge	short loc_F919
		cmp	[bp+var_4], 0C001h
		jle	short loc_F922

loc_F8FE:
		cld
		mov	di, [bp+arg_0]
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		mov	ax, [bp+var_4]
		stosw
		mov	al, [bp+var_5]
		stosb

loc_F911:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	6
; ---------------------------------------------------------------------------

loc_F919:
		mov	ch, 8
		mov	[bp+var_4], 4001h
		jmp	short loc_F929
; ---------------------------------------------------------------------------

loc_F922:
		mov	ch, 10h
		mov	[bp+var_4], 0C001h

loc_F929:
		call	sub_11DD9
		mov	[bp+var_5], 0
		sub	ax, ax
		mov	bx, ax
		mov	cx, ax
		cwd
		jmp	short loc_F8FE
sub_F7C3	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_F98D

loc_F939:
		mov	ax, 4001h

loc_F93C:
		mov	di, [bp+arg_0]
		mov	cl, [bp+var_6]
		call	sub_1050D

loc_F945:
		pop	ax
		jmp	loc_FA1D
; ---------------------------------------------------------------------------

loc_F949:
		push	di
		mov	bx, di
		mov	di, [bp+arg_0]
		call	sub_F6E2
		pop	di
		jb	short loc_F945
		cmp	word ptr [di+8], 0C001h
		jle	short loc_F974
		jmp	short loc_F939
; ---------------------------------------------------------------------------

loc_F95E:
		push	si
		mov	bx, 0FFFFh
		mov	si, di
		mov	di, [bp+arg_0]
		call	sub_F6E2
		pop	si
		jb	short loc_F945
		cmp	word ptr [si+8], 0C001h
		jg	short loc_F939

loc_F974:
		mov	di, [bp+arg_0]
		call	sub_10523
		jmp	short loc_F945
; ---------------------------------------------------------------------------

loc_F97C:
		mov	ch, 8
		call	sub_11DD9
		jmp	short loc_F939
; ---------------------------------------------------------------------------

loc_F983:
		mov	ch, 10h
		call	sub_11DD9

loc_F988:
		mov	ax, 0C001h
		jmp	short loc_F93C
; END OF FUNCTION CHUNK	FOR sub_F98D

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F98D	proc near

var_6		= byte ptr -6
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_1A		= word ptr  1Eh

; FUNCTION CHUNK AT 0269 SIZE 00000054 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		cld
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_2]
		mov	cl, [si+0Ah]
		xor	cl, [di+0Ah]
		push	cx
		mov	dx, 4001h
		mov	bx, [di+8]
		mov	cx, 0C001h
		mov	ax, [si+8]
		cmp	ax, dx
		jge	short loc_F949
		cmp	bx, dx
		jge	short loc_F95E
		cmp	ax, cx
		jle	short loc_F988
		cmp	bx, cx
		jle	short loc_F988
		add	ax, bx
		dec	ax
		cmp	ax, 4001h
		jge	short loc_F97C
		inc	ax
		cmp	ax, 0C001h
		jle	short loc_F983
		push	word ptr [si+6]
		push	word ptr [si+4]
		push	word ptr [si+2]
		push	word ptr [si]
		sub	sp, 4
		push	word ptr [di+6]
		push	word ptr [di+4]
		push	word ptr [di+2]
		push	word ptr [di]
		xchg	ax, di
		mov	bp, sp
		call	sub_FA23
		add	sp, 14h
		or	dx, dx
		js	short loc_F9FB
		dec	di
		shl	si, 1
		rcl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		rcl	dx, 1

loc_F9FB:
		shl	si, 1
		adc	ax, 0
		jnb	short loc_FA0D
		adc	bx, ax
		adc	cx, ax
		adc	dx, ax
		jnb	short loc_FA0D
		rcr	dx, 1
		inc	di

loc_FA0D:
		mov	si, di
		mov	di, [bp+arg_1A]
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		xchg	ax, si
		stosw
		pop	ax
		stosb

loc_FA1D:
		pop	di
		pop	si
		pop	bp
		retn	6
sub_F98D	endp


; =============== S U B	R O U T	I N E =======================================


sub_FA23	proc near
		push	di
		sub	di, di
		mov	cx, di
		mov	si, di
		test	byte ptr [bp+0Fh], 80h
		jz	short loc_FA36
		mov	cx, [bp+0]
		mov	si, [bp+2]

loc_FA36:
		test	byte ptr [bp+3], 80h
		jz	short loc_FA4B
		add	cx, [bp+0Ch]
		adc	si, [bp+0Eh]
		adc	di, di
		test	byte ptr [bp+0Fh], 80h
		jz	short loc_FA4B
		dec	di

loc_FA4B:
		sub	bx, bx
		mov	ax, [bp+0Ch]
		mul	word ptr [bp+4]
		add	cx, ax
		adc	si, dx
		adc	di, 0
		mov	ax, [bp+10h]
		or	ax, ax
		jz	short loc_FA78
		mul	word ptr [bp+0]
		add	cx, ax
		adc	si, dx
		adc	di, 0
		mov	ax, [bp+10h]
		mul	word ptr [bp+2]
		add	si, ax
		adc	di, dx
		adc	bx, 0

loc_FA78:
		mov	ax, [bp+0Ch]
		mul	word ptr [bp+6]
		add	si, ax
		adc	di, dx
		adc	bx, 0
		mov	ax, [bp+0Eh]
		mul	word ptr [bp+4]
		add	si, ax
		adc	di, dx
		adc	bx, 0
		mov	ax, [bp+12h]
		or	ax, ax
		jz	short loc_FAA3
		mul	word ptr [bp+0]
		add	si, ax
		adc	di, dx
		adc	bx, 0

loc_FAA3:
		sub	cx, cx
		push	si
		mov	si, cx
		mov	ax, [bp+0Eh]
		mul	word ptr [bp+6]
		add	di, ax
		adc	bx, dx
		adc	cx, 0
		mov	ax, [bp+10h]
		or	ax, ax
		jz	short loc_FAD3
		mul	word ptr [bp+4]
		add	di, ax
		adc	bx, dx
		adc	cx, 0
		mov	ax, [bp+10h]
		mul	word ptr [bp+6]
		add	bx, ax
		adc	cx, dx
		adc	si, 0

loc_FAD3:
		mov	ax, [bp+12h]
		or	ax, ax
		jz	short loc_FAFE
		mul	word ptr [bp+2]
		add	di, ax
		adc	bx, dx
		adc	cx, 0
		adc	si, 0
		mov	ax, [bp+12h]
		mul	word ptr [bp+4]
		add	bx, ax
		adc	cx, dx
		adc	si, 0
		mov	ax, [bp+12h]
		mul	word ptr [bp+6]
		add	cx, ax
		adc	si, dx

loc_FAFE:
		mov	dx, si
		xchg	ax, di
		pop	si
		pop	di
		retn
sub_FA23	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_FB5A

loc_FB04:
		mov	si, di
		mov	di, [bp+arg_0]
		nop
		call	sub_F6E2
		jb	short loc_FB3E
		cmp	word ptr [bx+8], 4001h
		jl	short loc_FB46
		call	sub_10523
		jmp	short loc_FB3E
; ---------------------------------------------------------------------------

loc_FB1B:
		mov	si, bx
		mov	bx, 0FFFFh
		mov	di, [bp+arg_0]
		nop
		call	sub_F6E2
		jb	short loc_FB3E
		jmp	short loc_FB30
; ---------------------------------------------------------------------------

loc_FB2B:
		mov	ch, 4

loc_FB2D:
		call	sub_11DD9

loc_FB30:
		mov	ax, 4001h

loc_FB33:
		mov	cl, [bp+var_7]
		nop
		mov	di, [bp+arg_0]
		nop
		call	sub_1050D

loc_FB3E:
		jmp	loc_FEA2
; ---------------------------------------------------------------------------

loc_FB41:
		mov	ch, 10h
		call	sub_11DD9

loc_FB46:
		mov	ax, 0C001h
		jmp	short loc_FB33
; ---------------------------------------------------------------------------

loc_FB4B:
		mov	ch, 8
		jmp	short loc_FB2D
; ---------------------------------------------------------------------------

loc_FB4F:
		mov	ax, [bp+var_12]
		or	ax, [bp+var_14]
		jnz	short loc_FBB6
		jmp	loc_FEAE
; END OF FUNCTION CHUNK	FOR sub_FB5A

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_FB5A	proc near

var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= byte ptr -8
var_7		= byte ptr -7
var_6		= word ptr -6
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

; FUNCTION CHUNK AT 0434 SIZE 00000056 BYTES
; FUNCTION CHUNK AT 07DE SIZE 00000023 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		lea	sp, [bp-0Ch]
		mov	di, [bp+arg_2]
		mov	bx, [bp+arg_4]
		cld
		mov	al, [bx+0Ah]
		xor	al, [di+0Ah]
		mov	[bp+var_7], al
		mov	si, [di+8]
		mov	ax, [bx+8]
		cmp	si, 4001h
		jge	short loc_FB04
		cmp	ax, 4001h
		jge	short loc_FB1B
		cmp	si, 0C001h
		jle	short loc_FB2B
		cmp	ax, 0C001h
		jle	short loc_FB46
		sub	ax, si
		cmp	ax, 4001h
		jge	short loc_FB4B
		cmp	ax, 0C001h
		jle	short loc_FB41
		mov	dx, [di+6]
		push	dx
		mov	cx, [di+4]
		push	cx
		push	word ptr [di+2]
		push	word ptr [di]
		mov	[bp+var_6], ax
		mov	[bp+var_8], 0
		mov	di, [bx+6]
		mov	si, [bx+4]
		jcxz	short loc_FB4F

loc_FBB6:
		xchg	ax, cx
		mov	cx, [bx+2]
		mov	bx, [bx]
		cmp	di, dx
		jb	short loc_FC3A
		mov	[bp+var_8], 1
		sub	bx, [bp+var_14]
		sbb	cx, [bp+var_12]
		sbb	si, ax
		sbb	di, dx
		jnb	short loc_FC3A
		sub	ax, ax
		cwd
		sub	ax, si
		sbb	dx, di
		div	[bp+var_E]
		mov	[bp+var_A], ax
		mul	[bp+var_E]
		add	si, ax
		adc	di, dx
		mov	ax, [bp+var_10]
		mul	[bp+var_A]
		add	cx, ax
		adc	si, dx
		adc	di, 0
		mov	ax, [bp+var_12]
		mul	[bp+var_A]
		add	bx, ax
		adc	cx, dx
		adc	si, 0
		adc	di, 0
		mov	ax, [bp+var_14]
		mul	[bp+var_A]
		neg	[bp+var_A]
		sbb	[bp+var_8], 0
		add	bx, dx
		adc	cx, 0
		adc	si, 0
		adc	di, 0
		xchg	ax, di
		jl	short loc_FC35
		cmp	si, [bp+var_E]
		jb	short loc_FC37
		add	[bp+var_A], 1
		adc	[bp+var_8], 0
		sub	di, [bp+var_14]
		sbb	bx, [bp+var_12]
		sbb	cx, [bp+var_10]
		sbb	si, [bp+var_E]

loc_FC35:
		jl	short loc_FC9D

loc_FC37:
		jmp	loc_FD06
; ---------------------------------------------------------------------------

loc_FC3A:
		mov	ax, si
		mov	dx, di
		div	[bp+var_E]
		mov	[bp+var_A], ax
		mul	[bp+var_E]
		sub	si, ax
		sbb	di, dx
		mov	ax, [bp+var_10]
		mul	[bp+var_A]
		sub	cx, ax
		sbb	si, dx
		sbb	di, 0
		mov	ax, [bp+var_12]
		mul	[bp+var_A]
		sub	bx, ax
		sbb	cx, dx
		sbb	si, 0
		sbb	di, 0
		mov	ax, [bp+var_14]
		mul	[bp+var_A]
		neg	ax
		sbb	bx, dx
		sbb	cx, 0
		sbb	si, 0
		sbb	di, 0
		xchg	ax, di
		jge	short loc_FC37
		mov	dx, si
		neg	dx
		cmp	dx, [bp+var_E]
		jb	short loc_FC9D
		sub	[bp+var_A], 1
		sbb	[bp+var_8], 0
		add	di, [bp+var_14]
		adc	bx, [bp+var_12]
		adc	cx, [bp+var_10]
		adc	si, [bp+var_E]
		jge	short loc_FD06

loc_FC9D:
		sub	ax, ax
		cwd
		sub	ax, cx
		sbb	dx, si
		div	[bp+var_E]
		mov	[bp+var_C], ax
		mul	[bp+var_E]
		add	cx, ax
		adc	si, dx
		mov	ax, [bp+var_10]
		mul	[bp+var_C]
		add	bx, ax
		adc	cx, dx
		adc	si, 0
		mov	ax, [bp+var_12]
		mul	[bp+var_C]
		add	di, ax
		adc	bx, dx
		adc	cx, 0
		adc	si, 0
		mov	ax, [bp+var_14]
		mul	[bp+var_C]
		sub	ax, ax
		neg	[bp+var_C]
		sbb	[bp+var_A], ax
		sbb	[bp+var_8], al
		add	di, dx
		adc	bx, ax
		adc	cx, ax
		adc	si, ax
		jl	short loc_FD64
		cmp	cx, [bp+var_E]
		jb	short loc_FD03
		add	[bp+var_C], 1
		adc	[bp+var_A], ax
		adc	[bp+var_8], al
		sub	di, [bp+var_12]
		sbb	bx, [bp+var_10]
		sbb	cx, [bp+var_E]
		jl	short loc_FD64

loc_FD03:
		jmp	loc_FDB9
; ---------------------------------------------------------------------------

loc_FD06:
		mov	ax, cx
		mov	dx, si
		div	[bp+var_E]
		mov	[bp+var_C], ax
		mul	[bp+var_E]
		sub	cx, ax
		sbb	si, dx
		mov	ax, [bp+var_10]
		mul	[bp+var_C]
		sub	bx, ax
		sbb	cx, dx
		sbb	si, 0
		mov	ax, [bp+var_12]
		mul	[bp+var_C]
		sub	di, ax
		sbb	bx, dx
		sbb	cx, 0
		sbb	si, 0
		mov	ax, [bp+var_14]
		mul	[bp+var_C]
		sub	ax, ax
		sub	di, dx
		sbb	bx, ax
		sbb	cx, ax
		sbb	si, ax
		jge	short loc_FDB9
		mov	dx, cx
		neg	dx
		cmp	dx, [bp+var_E]
		jb	short loc_FD64
		sub	[bp+var_C], 1
		sbb	[bp+var_A], ax
		sbb	[bp+var_8], al
		add	di, [bp+var_12]
		adc	bx, [bp+var_10]
		adc	cx, [bp+var_E]
		jge	short loc_FDB9

loc_FD64:
		sub	ax, ax
		cwd
		sub	ax, bx
		sbb	dx, cx
		div	[bp+var_E]
		mov	si, ax
		mul	[bp+var_E]
		add	bx, ax
		adc	cx, dx
		mov	ax, [bp+var_10]
		mul	si
		add	di, ax
		adc	bx, dx
		adc	cx, 0
		mov	ax, [bp+var_12]
		mul	si
		sub	ax, ax
		neg	si
		sbb	[bp+var_C], ax
		sbb	[bp+var_A], ax
		sbb	[bp+var_8], al
		add	di, dx
		adc	bx, ax
		adc	cx, ax
		jl	short loc_FE01
		cmp	bx, [bp+var_E]
		jb	short loc_FDB6
		add	si, 1
		adc	[bp+var_C], ax
		adc	[bp+var_A], ax
		adc	[bp+var_8], al
		sub	di, [bp+var_10]
		sbb	bx, [bp+var_E]
		jl	short loc_FE01

loc_FDB6:
		jmp	loc_FE43
; ---------------------------------------------------------------------------

loc_FDB9:
		mov	ax, bx
		mov	dx, cx
		div	[bp+var_E]
		mov	si, ax
		mul	[bp+var_E]
		sub	bx, ax
		sbb	cx, dx
		mov	ax, [bp+var_10]
		mul	si
		sub	di, ax
		sbb	bx, dx
		sbb	cx, 0
		mov	ax, [bp+var_12]
		mul	si
		sub	ax, ax
		sub	di, dx
		sbb	bx, ax
		sbb	cx, ax
		jge	short loc_FE43
		mov	dx, bx
		neg	dx
		cmp	dx, [bp+var_E]
		jb	short loc_FE01
		sub	si, 1
		sbb	[bp+var_C], ax
		sbb	[bp+var_A], ax
		sbb	[bp+var_8], al
		add	di, [bp+var_10]
		adc	bx, [bp+var_E]
		jge	short loc_FE43

loc_FE01:
		mov	ax, [bp+var_10]
		shr	ax, 1
		neg	ax
		mov	cx, [bp+var_E]
		add	ax, cx
		sub	dx, dx
		sub	ax, di
		sbb	dx, bx
		mov	bx, [bp+var_C]
		mov	di, [bp+var_A]
		cmp	dx, cx
		jnb	short loc_FE38
		div	cx
		sub	dx, cx
		neg	dx
		neg	ax

loc_FE25:
		mov	dl, [bp+var_8]
		sbb	si, 0
		jnb	short loc_FE61
		sbb	bx, 0
		sbb	di, 0
		sbb	dl, 0
		jmp	short loc_FE61
; ---------------------------------------------------------------------------

loc_FE38:
		sub	ax, ax
		cwd
		stc
		jmp	short loc_FE25
; ---------------------------------------------------------------------------

loc_FE3E:
		sub	ax, ax
		cwd
		jmp	short loc_FE5E
; ---------------------------------------------------------------------------

loc_FE43:
		mov	ax, [bp+var_10]
		shr	ax, 1
		neg	ax
		cwd
		add	ax, di
		adc	dx, bx
		mov	bx, [bp+var_C]
		mov	di, [bp+var_A]
		mov	cx, [bp+var_E]
		cmp	dx, cx
		jnb	short loc_FE3E
		div	cx

loc_FE5E:
		mov	dl, [bp+var_8]

loc_FE61:
		shr	dl, 1
		jnb	short loc_FE72
		rcr	di, 1
		rcr	bx, 1
		rcr	si, 1
		rcr	ax, 1
		rcr	dh, 1
		inc	[bp+var_6]

loc_FE72:
		shr	cx, 1
		sub	ch, dh
		mov	cx, [bp+var_6]
		adc	ax, 0
		jnb	short loc_FE89
		adc	si, ax
		adc	bx, ax
		adc	di, ax
		jnb	short loc_FE89
		rcr	di, 1
		inc	cx

loc_FE89:
		cmp	cx, 4001h
		jge	short loc_FEAB
		mov	dx, di
		mov	di, [bp+arg_0]
		cld
		stosw
		xchg	ax, si
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, dx
		stosw
		xchg	ax, cx
		stosw
		mov	al, [bp+var_7]
		stosb

loc_FEA2:
		lea	sp, [bp-4]
		pop	di
		pop	si
		pop	bp
		retn	6
; ---------------------------------------------------------------------------

loc_FEAB:
		jmp	loc_FB30
sub_FB5A	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_FB5A

loc_FEAE:
		mov	cx, dx
		mov	dx, di
		xchg	ax, si
		cmp	dx, cx
		jb	short loc_FEBD
		sub	dx, cx
		mov	[bp+var_8], 1

loc_FEBD:
		div	cx
		xchg	ax, di
		mov	ax, [bx+2]
		div	cx
		mov	bx, [bx]
		xchg	ax, bx
		div	cx
		xchg	ax, si
		sub	ax, ax
		div	cx
		jmp	short loc_FE5E
; END OF FUNCTION CHUNK	FOR sub_FB5A
; ---------------------------------------------------------------------------
		mov	si, word ptr aBorlandCCopyri+0Dh
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [si+8]
		cmp	ax, 0C001h
		jle	short loc_FF0B
		cmp	ax, 4001h
		jge	short loc_FF0F
		cmp	byte ptr [si+0Ah], 0
		jnz	short loc_FF19
		call	sub_1053B
		call	sub_FF2A
		mov	di, word ptr aBorlandCCopyri+0Dh
		push	si
		push	di
		push	si
		call	sub_FB5A
		push	di
		push	si
		push	si
		call	sub_F7C3
		dec	word ptr [si+8]
		add	word ptr aBorlandCCopyri+0Dh, 0Ch

loc_FF0B:
		pop	di
		pop	si
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_FF0F:
		mov	bx, 0FFFFh
		mov	di, si
		call	sub_F6E2
		jmp	short loc_FF0B
; ---------------------------------------------------------------------------

loc_FF19:
		mov	ch, 1
		call	sub_11DD9
		mov	di, si
		call	sub_104F7
		mov	word ptr [di+8], 4001h
		jmp	short loc_FF0B

; =============== S U B	R O U T	I N E =======================================


sub_FF2A	proc near
		push	si
		push	di
		mov	di, word ptr aBorlandCCopyri+0Dh
		mov	bx, [di+8]
		mov	dx, [di+6]
		mov	ax, [di+4]
		mov	cx, [di+2]
		sar	bx, 1
		jnb	short loc_FF47
		inc	bx
		shr	dx, 1
		rcr	ax, 1
		rcr	cx, 1

loc_FF47:
		cmp	dx, 0FFFEh
		jnb	short loc_FF69
		push	bx
		push	cx
		mov	cx, dx
		mov	bx, ax
		mov	si, dx
		stc
		rcr	si, 1

loc_FF57:
		div	si
		dec	si
		cmp	si, ax
		jbe	short loc_FF70
		inc	si
		add	si, ax
		rcr	si, 1
		mov	dx, cx
		mov	ax, bx
		jmp	short loc_FF57
; ---------------------------------------------------------------------------

loc_FF69:
		stc
		rcr	dx, 1
		rcr	ax, 1
		jmp	short loc_FF87
; ---------------------------------------------------------------------------

loc_FF70:
		inc	si
		cmp	si, ax
		jnb	short loc_FF76
		xchg	ax, si

loc_FF76:
		pop	cx
		pop	bx
		xchg	ax, cx
		div	si
		sub	dx, dx
		add	si, cx
		rcr	si, 1
		rcr	ax, 1
		adc	ax, dx
		adc	dx, si

loc_FF87:
		cld
		sub	cx, cx
		xchg	ax, cx
		stosw
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		xchg	ax, bx
		stosw
		mov	al, 0
		stosb
		pop	di
		pop	si
		retn
sub_FF2A	endp

; ---------------------------------------------------------------------------
		db 0
		db    2
		db  40h	; @
		db  42h	; B
		db    1
		db    3
		db  41h	; A
		db  43h	; C

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_FFA1	proc near

var_A		= word ptr -0Ah
var_4		= word ptr -4
var_2		= byte ptr -2

		push	bp
		mov	bp, sp
		push	word ptr [di+0Ah]
		lea	sp, [bp-6]
		push	si
		push	di
		mov	ax, [di]
		mov	bx, [di+2]
		mov	cx, [di+4]
		mov	dx, [di+6]
		mov	[bp+var_4], 0
		mov	di, [di+8]
		sub	di, [si+8]
		jge	short loc_FFDB
		jmp	short loc_10017
; ---------------------------------------------------------------------------

loc_FFC6:
		inc	di
		jmp	short loc_10006
; ---------------------------------------------------------------------------

loc_FFC9:
		dec	di
		jl	short loc_FFC6
		shl	[bp+var_4], 1
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		adc	dx, dx
		jb	short loc_FFF4
		jns	short loc_FFC9

loc_FFDB:
		cmp	dx, [si+6]
		ja	short loc_FFF4
		jb	short loc_FFC9
		cmp	cx, [si+4]
		ja	short loc_FFF4
		jb	short loc_FFC9
		cmp	bx, [si+2]
		ja	short loc_FFF4
		jb	short loc_FFC9
		cmp	ax, [si]
		jb	short loc_FFC9

loc_FFF4:
		inc	[bp+var_4]
		sub	ax, [si]
		sbb	bx, [si+2]
		sbb	cx, [si+4]
		sbb	dx, [si+6]
		or	di, di
		jg	short loc_FFC9

loc_10006:
		or	dx, dx
		js	short loc_10017
		jz	short loc_1004F

loc_1000C:
		dec	di
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		adc	dx, dx
		jns	short loc_1000C

loc_10017:
		add	di, [si+8]

loc_1001A:
		push	di
		mov	di, [bp+var_A]
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		pop	ax
		stosw
		mov	al, [bp+var_2]
		stosb
		and	byte ptr aBorlandCCopyri+1, 0B8h
		mov	di, 7
		mov	ax, [bp+var_4]
		cmp	[bp+var_2], 1
		jnz	short loc_1003E
		neg	ax

loc_1003E:
		and	di, ax
		mov	dl, cs:[di+8C9h]
		or	byte ptr aBorlandCCopyri+1, dl
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_1004F:
		xchg	dx, cx
		xchg	cx, bx
		xchg	ax, bx
		sub	di, 10h
		or	dx, dx
		jnz	short loc_10006
		xchg	dx, cx
		xchg	cx, bx
		sub	di, 10h
		or	dx, dx
		jnz	short loc_10006
		xchg	dx, cx
		sub	di, 10h
		or	dx, dx
		jnz	short loc_10006
		mov	di, 0C001h
		sub	dx, dx
		sub	cx, cx
		sub	bx, bx
		sub	ax, ax
		jmp	short loc_1001A
sub_FFA1	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_100A9

loc_1007C:
		mov	dx, [si+6]
		and	dh, 7Fh
		or	dx, [si]
		or	dx, [si+2]
		or	dx, [si+4]
		jz	short loc_100BF

loc_1008C:
		mov	ch, 1
		call	sub_11DD9
		mov	ax, 4500h
		jmp	loc_10127
; ---------------------------------------------------------------------------

loc_10097:
		mov	dx, [di+6]
		and	dh, 7Fh
		or	dx, [di]
		or	dx, [di+2]
		or	dx, [di+4]
		jnz	short loc_1008C
		jmp	short loc_100C5
; END OF FUNCTION CHUNK	FOR sub_100A9

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_100A9	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6

; FUNCTION CHUNK AT 09AC SIZE 0000002D BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		mov	ax, [si+8]
		mov	bx, [di+8]
		cmp	ax, 4001h
		jge	short loc_1007C

loc_100BF:
		cmp	bx, 4001h
		jge	short loc_10097

loc_100C5:
		mov	dx, ax
		cmp	ax, bx
		jg	short loc_100CD
		mov	dx, bx

loc_100CD:
		cmp	dx, 0C001h
		jle	short loc_1010E
		mov	cl, [si+0Ah]
		cmp	cl, [di+0Ah]
		jl	short loc_10124
		jg	short loc_1011A
		cmp	ax, bx
		jl	short loc_10115
		jg	short loc_1011F
		mov	ax, [si+6]
		cmp	ax, [di+6]
		jnz	short loc_10113
		mov	ch, 3
		and	ch, byte ptr aBorlandCCopyri+3
		jz	short loc_10131
		mov	ax, [si+4]
		cmp	ax, [di+4]
		jnz	short loc_10113
		mov	ax, [si+2]
		cmp	ax, [di+2]
		jnz	short loc_10113
		cmp	ch, 2
		jz	short loc_10153
		mov	ax, [si]
		cmp	ax, [di]
		jnz	short loc_10113

loc_1010E:
		mov	ax, 4000h
		jmp	short loc_10127
; ---------------------------------------------------------------------------

loc_10113:
		ja	short loc_1011F

loc_10115:
		cmp	cl, 0
		jnz	short loc_10124

loc_1011A:
		mov	ax, 100h
		jmp	short loc_10127
; ---------------------------------------------------------------------------

loc_1011F:
		cmp	cl, 0
		jnz	short loc_1011A

loc_10124:
		mov	ax, 0

loc_10127:
		mov	byte ptr aBorlandCCopyri+1, ah
		pop	di
		pop	si
		pop	bp
		retn	4
; ---------------------------------------------------------------------------

loc_10131:
		mov	bx, [si]
		sub	bx, [di]
		mov	bx, [si+2]
		sbb	bx, [di+2]
		mov	bx, [si+4]
		sbb	bx, [di+4]
		ja	short loc_1014C
		neg	bx
		and	bx, 0FF80h
		jz	short loc_1010E
		jmp	short loc_10115
; ---------------------------------------------------------------------------

loc_1014C:
		and	bx, 0FF80h
		jz	short loc_1010E
		jmp	short loc_1011F
; ---------------------------------------------------------------------------

loc_10153:
		mov	bx, [si]
		sub	bx, [di]
		ja	short loc_10162
		neg	bx
		and	bh, 0FCh
		jz	short loc_1010E
		jmp	short loc_10115
; ---------------------------------------------------------------------------

loc_10162:
		and	bh, 0FCh
		jz	short loc_1010E
		jmp	short loc_1011F
sub_100A9	endp


; =============== S U B	R O U T	I N E =======================================


sub_10169	proc near
		mov	ax, 4000h
		cmp	word ptr [si+8], 0C001h
		jle	short loc_10186
		cmp	word ptr [si+8], 4001h
		jge	short loc_1018B

loc_1017A:
		mov	ax, 100h
		cmp	byte ptr [si+0Ah], 1
		jz	short loc_10186
		mov	ax, 0

loc_10186:
		mov	byte ptr aBorlandCCopyri+1, ah
		retn
; ---------------------------------------------------------------------------

loc_1018B:
		mov	dx, [si+6]
		and	dh, 7Fh
		or	dx, [si]
		or	dx, [si+2]
		or	dx, [si+4]
		jz	short loc_1017A
		mov	ch, 1
		call	sub_11DD9
		mov	ax, 4500h
		jmp	short loc_10186
sub_10169	endp


; =============== S U B	R O U T	I N E =======================================


sub_101A5	proc near
		mov	ax, 4000h
		cmp	word ptr [si+8], 0C001h
		jle	short loc_101C2
		cmp	word ptr [si+8], 4001h
		jge	short loc_101C7
		mov	ax, 400h

loc_101B9:
		cmp	byte ptr [si+0Ah], 1
		jnz	short loc_101C2
		or	ax, 200h

loc_101C2:
		mov	byte ptr aBorlandCCopyri+1, ah
		retn
; ---------------------------------------------------------------------------

loc_101C7:
		mov	ax, 500h
		mov	dx, [si+6]
		and	dh, 7Fh
		or	dx, [si]
		or	dx, [si+2]
		or	dx, [si+4]
		jz	short loc_101B9
		mov	ax, 100h
		jmp	short loc_101B9
sub_101A5	endp


; =============== S U B	R O U T	I N E =======================================


sub_101DF	proc near
		mov	ax, [si+4]
		mov	dx, [si+6]
		mov	bx, [si+8]
		mov	cl, [si+0Ah]
		cmp	word ptr [si], 0
		jnz	short loc_101FF
		cmp	word ptr [si+2], 0
		jnz	short loc_101FF
		test	al, 7Fh
		jnz	short loc_101FF
		test	ah, 1
		jz	short loc_1020E

loc_101FF:
		add	al, al
		adc	ah, 0
		adc	dx, 0
		jnb	short loc_1020E
		rcr	dx, 1
		rcr	ax, 1
		inc	bx

loc_1020E:
		add	bx, 7Eh	; '~'
		jle	short loc_10245
		cmp	bx, 0FFh
		jge	short loc_10230

loc_10219:
		shl	dx, 1
		shr	cl, 1
		rcr	bl, 1
		rcr	dx, 1
		mov	al, ah
		mov	ah, dl
		mov	dl, dh
		mov	dh, bl
		stosw
		xchg	ax, dx
		stosw
		sub	di, 4
		retn
; ---------------------------------------------------------------------------

loc_10230:
		cmp	word ptr [si+8], 4001h
		jge	short loc_10240
		mov	ch, 8
		call	sub_11DD9
		sub	dx, dx
		sub	ax, ax

loc_10240:
		mov	bx, 0FFh
		jmp	short loc_10219
; ---------------------------------------------------------------------------

loc_10245:
		cmp	word ptr [si+8], 0C001h
		jle	short loc_10251
		mov	ch, 10h
		call	sub_11DD9

loc_10251:
		sub	bx, bx
		mov	dx, bx
		mov	ax, bx
		jmp	short loc_10219
sub_101DF	endp


; =============== S U B	R O U T	I N E =======================================


sub_10259	proc near
		mov	ax, es:[si]
		mov	dx, es:[si+2]
		push	si
		sub	si, si
		shl	dx, 1
		rcl	si, 1
		sub	bx, bx
		add	bl, dh
		jz	short loc_1029B
		cmp	dh, 0FFh
		jz	short loc_10296
		sub	bx, 7Eh	; '~'

loc_10275:
		stc
		rcr	dl, 1

loc_10278:
		mov	dh, dl
		mov	dl, ah
		mov	ch, al
		mov	cl, 0
		sub	ax, ax
		mov	[di], ax
		mov	[di+2],	ax
		mov	[di+4],	cx
		mov	[di+6],	dx
		mov	[di+8],	bx
		xchg	ax, si
		mov	[di+0Ah], al
		pop	si
		retn
; ---------------------------------------------------------------------------

loc_10296:
		mov	bx, 4001h
		jmp	short loc_10275
; ---------------------------------------------------------------------------

loc_1029B:
		mov	cx, dx
		or	cx, ax
		jz	short loc_102AF
		sub	bx, 7Eh	; '~'
		shr	dl, 1

loc_102A6:
		add	ax, ax
		adc	dl, dl
		js	short loc_10278
		dec	bx
		jmp	short loc_102A6
; ---------------------------------------------------------------------------

loc_102AF:
		mov	bx, 0C001h
		jmp	short loc_10278
sub_10259	endp

; ---------------------------------------------------------------------------
		mov	es, cx
		assume es:seg000

; =============== S U B	R O U T	I N E =======================================


sub_102B6	proc near
		push	di
		mov	ax, [si+1]
		mov	di, [si+3]
		mov	cx, [si+5]
		mov	dl, [si+7]
		mov	bx, [si+8]
		mov	dh, 3
		and	dh, al
		or	dh, [si]
		jnz	short loc_102D2
		test	al, 8
		jz	short loc_102E3

loc_102D2:
		add	ax, 4
		adc	di, 0
		adc	cx, 0
		adc	dl, 0
		jnb	short loc_102E3
		rcr	dl, 1
		inc	bx

loc_102E3:
		add	bx, 3FEh
		jle	short loc_1032B
		cmp	bx, 7FFh
		jge	short loc_10338

loc_102EF:
		and	al, 0F8h
		shl	dl, 1
		shr	bx, 1
		rcr	dl, 1
		or	al, bh
		mov	dh, bl
		mov	bx, di
		shr	di, 1
		rcr	ax, 1
		rcr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		shr	di, 1
		rcr	ax, 1
		rcr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		or	al, [si+0Ah]
		shr	di, 1
		rcr	ax, 1
		rcr	dx, 1
		rcr	cx, 1
		rcr	bx, 1

loc_1031E:
		pop	di
		cld
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		sub	di, 8
		retn
; ---------------------------------------------------------------------------

loc_1032B:
		sub	dx, dx
		cmp	word ptr [si+8], 0C001h
		jle	short loc_10347
		mov	ch, 10h
		jmp	short loc_10344
; ---------------------------------------------------------------------------

loc_10338:
		cmp	word ptr [si+8], 4001h
		jge	short loc_10354
		mov	dx, 0FFE0h
		mov	ch, 8

loc_10344:
		call	sub_11DD9

loc_10347:
		or	dl, [si+0Ah]
		ror	dx, 1
		sub	cx, cx
		mov	bx, cx
		mov	ax, cx
		jmp	short loc_1031E
; ---------------------------------------------------------------------------

loc_10354:
		mov	bx, 7FFh
		jmp	short loc_102EF
sub_102B6	endp

; ---------------------------------------------------------------------------
		mov	si, bx
		mov	es, ax
		assume es:nothing

; =============== S U B	R O U T	I N E =======================================


sub_1035D	proc near
		mov	dx, es:[si+6]
		mov	cx, 5
		shl	dx, 1
		rcl	ch, 1
		mov	[di+0Ah], ch
		shr	dx, cl
		jz	short loc_103D2
		cmp	dx, 7FFh
		jz	short loc_103B8
		mov	bl, 10h
		sub	dx, 3FEh

loc_1037B:
		mov	[di+8],	dx
		mov	dx, es:[si+5]
		and	dh, 0Fh
		or	dh, bl
		mov	cx, es:[si+3]
		mov	bx, es:[si+1]
		mov	ah, es:[si]
		mov	al, 0
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		rcl	dx, 1
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		rcl	dx, 1
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		rcl	dx, 1

loc_103AC:
		mov	[di], ax
		mov	[di+2],	bx
		mov	[di+4],	cx
		mov	[di+6],	dx
		retn
; ---------------------------------------------------------------------------

loc_103B8:
		mov	bx, 0Fh
		and	bl, es:[si+6]
		or	bx, es:[si+4]
		or	bx, es:[si+2]
		or	bx, es:[si]
		mov	dx, 4001h
		or	bl, 10h
		jmp	short loc_1037B
; ---------------------------------------------------------------------------

loc_103D2:
		mov	bx, 0Fh
		and	bl, es:[si+6]
		or	bx, es:[si+4]
		or	bx, es:[si+2]
		or	bx, es:[si]
		jnz	short loc_103EB
		mov	dx, 0C001h
		jmp	short loc_1037B
; ---------------------------------------------------------------------------

loc_103EB:
		mov	dx, es:[si+5]
		and	dh, 0Fh
		mov	cx, es:[si+3]
		mov	bx, es:[si+1]
		mov	ah, es:[si]
		mov	al, 4

loc_103FF:
		dec	al
		shl	ah, 1
		rcl	bx, 1
		rcl	cx, 1
		adc	dx, dx
		jns	short loc_103FF
		push	ax
		mov	ah, 0
		sub	ax, 4FEh
		mov	[di+8],	ax
		pop	ax
		mov	al, 0
		jmp	short loc_103AC
sub_1035D	endp

; ---------------------------------------------------------------------------
		mov	es, cx

; =============== S U B	R O U T	I N E =======================================


sub_1041B	proc near
		cld
		movsw
		movsw
		movsw
		movsw
		lodsw
		mov	cl, [si]
		cmp	ax, 4001h
		jge	short loc_1043B
		add	ax, 3FFEh
		jl	short loc_10440

loc_1042D:
		shl	ax, 1
		shr	cl, 1
		rcr	ax, 1
		stosw
		sub	di, 0Ah
		sub	si, 0Ah
		retn
; ---------------------------------------------------------------------------

loc_1043B:
		mov	ax, 7FFFh
		jmp	short loc_1042D
; ---------------------------------------------------------------------------

loc_10440:
		sub	ax, ax
		jmp	short loc_1042D
sub_1041B	endp

; ---------------------------------------------------------------------------
		mov	si, bx
		mov	es, ax
		assume es:seg000

; =============== S U B	R O U T	I N E =======================================


sub_10448	proc near
		push	si
		mov	cx, ds
		mov	dx, es
		mov	es, cx
		assume es:dseg
		mov	ds, dx
		assume ds:seg000
		std
		lea	si, [si+8]
		lea	di, [di+0Ah]
		lodsw
		xchg	ax, bx
		sub	ax, ax
		shl	bx, 1
		rcl	ax, 1
		stosb
		dec	di
		shr	bx, 1
		jz	short loc_10479
		sub	bx, 3FFEh
		xchg	ax, bx
		stosw
		movsw
		movsw
		movsw
		movsw

loc_10470:
		cld
		mov	es, dx
		assume es:seg000
		mov	ds, cx
		assume ds:dseg
		inc	di
		inc	di
		pop	si
		retn
; ---------------------------------------------------------------------------

loc_10479:
		mov	ax, 0C001h
		stosw
		sub	ax, ax
		stosw
		stosw
		stosw
		stosw
		jmp	short loc_10470
sub_10448	endp

; ---------------------------------------------------------------------------
		db 7 dup(0), 80h, 1, 3 dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_10491	proc near
		mov	ax, 0DB5h
		jmp	short loc_104FA
sub_10491	endp

; ---------------------------------------------------------------------------
		db 0FEh, 8Ah, 1Bh, 0CDh, 4Bh, 78h, 9Ah,	0D4h, 2, 3 dup(0)
		db 0B8h, 0C6h, 0Dh, 0EBh, 53h, 0BBh, 0F0h, 17h,	5Ch, 29h
		db 3Bh,	0AAh, 0B8h, 1, 3 dup(0), 0B8h, 0D7h, 0Dh, 0EBh
		db 42h,	35h, 0C2h, 68h,	21h, 0A2h, 0DAh, 0Fh, 0C9h, 2
		db 3 dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_104C4	proc near
		mov	ax, 0DE8h
		jmp	short loc_104FA
sub_104C4	endp

; ---------------------------------------------------------------------------
byte_104C9	db 99h,	0F7h, 0CFh, 0FBh, 84h, 9Ah, 20h, 9Ah, 2	dup(0FFh)
		db 2 dup(0), 0B8h, 0F9h, 0Dh, 0EBh, 20h, 0ACh, 79h, 0CFh
		db 0D1h, 0F7h, 17h, 72h, 0B1h, 4 dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_104E6	proc near
		mov	ax, 0E0Ah
		jmp	short loc_104FA
sub_104E6	endp

; ---------------------------------------------------------------------------
		db 8 dup(0), 1,	0C0h, 2	dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_104F7	proc near
		mov	ax, 0E1Bh

loc_104FA:
		push	ds
		mov	cx, cs
		mov	ds, cx
		assume ds:seg015
		xchg	ax, si
		cld
		mov	cx, 5
		rep movsw
		movsb
		sub	di, 0Bh
		xchg	ax, si
		pop	ds
		assume ds:dseg
		retn
sub_104F7	endp


; =============== S U B	R O U T	I N E =======================================


sub_1050D	proc near
		cld
		push	di
		push	ax
		cmp	ax, 0C001h
		mov	ax, 0
		stosw
		stosw
		stosw
		rcr	ax, 1
		stosw
		pop	ax
		stosw
		mov	al, cl
		stosb
		pop	di
		retn
sub_1050D	endp


; =============== S U B	R O U T	I N E =======================================


sub_10523	proc near
		mov	ch, 1
		call	sub_11DD9
		push	di
		sub	ax, ax
		cld
		stosw
		stosw
		stosw
		mov	ah, 0C0h ; 'À'
		stosw
		mov	ax, 4001h
		stosw
		mov	al, 1
		stosb
		pop	di
		retn
sub_10523	endp


; =============== S U B	R O U T	I N E =======================================


sub_1053B	proc near
		push	di
		push	es
		mov	di, ss
		mov	es, di
		assume es:nothing
		sub	word ptr aBorlandCCopyri+0Dh, 0Ch
		mov	di, word ptr aBorlandCCopyri+0Dh
		cld
		mov	cx, 5
		rep movsw
		movsb
		pop	es
		pop	di
		sub	si, 0Bh
		retn
sub_1053B	endp


; =============== S U B	R O U T	I N E =======================================


sub_10557	proc near
		push	si
		push	di
		sub	word ptr aBorlandCCopyri+0Dh, 0Ch
		mov	di, word ptr aBorlandCCopyri+0Dh
		push	ds
		push	es
		push	ds
		pop	es
		assume es:dseg
		push	cs
		pop	ds
		assume ds:seg015
		cld
		mov	cx, 5
		rep movsw
		movsb
		pop	es
		assume es:nothing
		pop	ds
		assume ds:dseg
		pop	di
		pop	si
		retn
sub_10557	endp


; =============== S U B	R O U T	I N E =======================================


sub_10574	proc near
		push	si
		mov	si, word ptr aBorlandCCopyri+0Dh
		cld
		mov	cx, 5
		rep movsw
		movsb
		inc	si
		mov	word ptr aBorlandCCopyri+0Dh, si
		sub	di, 0Bh
		pop	si
		retn
sub_10574	endp


; =============== S U B	R O U T	I N E =======================================


sub_1058A	proc near
		push	si
		push	di
		push	es
		mov	si, word ptr aBorlandCCopyri+0Dh
		lea	di, [si-0Ch]
		mov	word ptr aBorlandCCopyri+0Dh, di
		cld
		mov	cx, ss
		mov	es, cx
		mov	cx, 5
		rep movsw
		movsb
		pop	es
		pop	di
		pop	si
		retn
sub_1058A	endp


; =============== S U B	R O U T	I N E =======================================


sub_105A7	proc near
		push	si
		push	di
		mov	si, word ptr aBorlandCCopyri+0Dh
		mov	di, si
		cld
		push	es
		mov	cx, ss
		mov	es, cx
		mov	cx, 5

loc_105B8:
		lodsw
		xchg	ax, [di+0Ch]
		stosw
		loop	loc_105B8
		lodsb
		xchg	al, [di+0Ch]
		stosb
		pop	es
		pop	di
		pop	si
		retn
sub_105A7	endp


; =============== S U B	R O U T	I N E =======================================


sub_105C8	proc near
		mov	ax, es:[si]
		sub	cx, cx
		cwd
		xor	ax, dx
		sub	ax, dx
		jz	short loc_10606
		and	dl, 1

loc_105D7:
		mov	bx, cx
		xchg	ax, cx
		shl	ax, 1

loc_105DC:
		rcr	ax, 1
		inc	bx
		shr	cx, 1
		rcr	ax, 1
		jcxz	short loc_105EC
		inc	bx
		shr	cx, 1
		jnz	short loc_105DC
		rcr	ax, 1

loc_105EC:
		mov	[di+0Ah], dl
		mov	[di+8],	bx
		mov	[di+6],	ax
		mov	[di+4],	cx
		mov	[di+2],	cx
		mov	[di], cx
		retn
; ---------------------------------------------------------------------------
		sub	cx, cx
		mov	dx, cx
		or	ax, ax
		jnz	short loc_105D7

loc_10606:
		mov	bx, 0C001h
		jmp	short loc_105EC
sub_105C8	endp


; =============== S U B	R O U T	I N E =======================================


sub_1060B	proc near
		mov	cx, [si+8]
		cmp	cx, 10h

loc_10611:
		jg	short loc_10683
		cmp	cx, 0C001h
		jle	short loc_1068D
		mov	bx, [si+6]
		sub	ax, ax
		or	cx, cx
		jge	short loc_10626
		shr	bx, 1
		rcr	dx, 1

loc_10626:
		mov	dx, [si+4]
		or	cx, cx
		jle	short loc_10635

loc_1062D:
		shl	dx, 1
		rcl	bx, 1
		rcl	ax, 1
		loop	loc_1062D

loc_10635:
		or	dx, [si]
		or	dx, [si+2]
		or	bl, dh
		or	bl, dl
		mov	cl, 0Ch
		and	cl, byte ptr aBorlandCCopyri+3
		cmp	cl, 0Ch
		jz	short loc_10673
		cmp	cl, 0
		jz	short loc_10664
		add	cl, [si+0Ah]
		cmp	cl, 4
		jz	short loc_10673
		cmp	cl, 9
		jz	short loc_10673
		neg	bx
		adc	ax, 0
		jb	short loc_10683
		jmp	short loc_10673
; ---------------------------------------------------------------------------

loc_10664:
		mov	dl, 1
		and	dl, al
		or	bl, dl
		add	bx, 7FFFh
		adc	ax, 0
		jb	short loc_10683

loc_10673:
		cmp	byte ptr [si+0Ah], 1
		jz	short loc_10691
		sahf
		jns	short loc_10697
		cmp	byte ptr dword_12AFA+2,	1
		jz	short loc_10697

loc_10683:
		mov	ch, 8
		call	sub_11DD9
		mov	ax, 8000h
		jmp	short loc_10697
; ---------------------------------------------------------------------------

loc_1068D:
		sub	ax, ax
		jmp	short loc_10697
; ---------------------------------------------------------------------------

loc_10691:
		neg	ax
		jz	short loc_10697
		jns	short loc_10683

loc_10697:
		mov	byte ptr dword_12AFA+2,	0
		mov	es:[di], ax
		retn
sub_1060B	endp

; ---------------------------------------------------------------------------
		mov	byte ptr dword_12AFA+2,	1
		mov	cx, [si+8]
		cmp	cx, 10h
		jmp	loc_10611

; =============== S U B	R O U T	I N E =======================================


sub_106AE	proc near
		push	si
		push	di
		cld
		mov	cx, 5
		rep movsw
		movsb
		pop	di
		pop	si
		xchg	si, di
		lea	si, [si+8]
		cmp	word ptr [si], 0C001h
		jle	short locret_106D3
		cmp	word ptr [si], 4001h
		jge	short loc_106D4
		dec	word ptr [si]
		call	sub_105C8
		mov	word ptr [si], 1

locret_106D3:
		retn
; ---------------------------------------------------------------------------

loc_106D4:
		mov	word ptr [si], 0C001h
		mov	word ptr [di+8], 0Dh
		mov	byte ptr [di+7], 80h ; '€'
		jmp	short locret_106D3
sub_106AE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_106E3	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	cx, [si+8]
		cmp	cx, 0Fh
		jg	short loc_106F8
		or	cx, cx
		jg	short loc_10702
		sub	ax, ax
		jmp	short loc_10714
; ---------------------------------------------------------------------------

loc_106F8:
		mov	ch, 8
		call	sub_11DD9
		mov	ax, 7FFFh
		jmp	short loc_1070C
; ---------------------------------------------------------------------------

loc_10702:
		mov	ax, [si+6]
		neg	cl
		add	cl, 10h
		shr	ax, cl

loc_1070C:
		cmp	byte ptr [si+0Ah], 1
		jnz	short loc_10714
		neg	ax

loc_10714:
		mov	cx, [di+8]
		cmp	cx, 0C001h
		jle	short loc_10732
		cmp	cx, 4001h
		jge	short loc_10732
		add	ax, cx
		cmp	ax, 0C001h
		jle	short loc_10740
		cmp	ax, 4001h
		jge	short loc_10736
		mov	[di+8],	ax

loc_10732:
		pop	di
		pop	si
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_10736:
		mov	ch, 8
		call	sub_11DD9
		mov	ax, 4001h
		jmp	short loc_10748
; ---------------------------------------------------------------------------

loc_10740:
		mov	ch, 10h
		call	sub_11DD9
		mov	ax, 0C001h

loc_10748:
		call	sub_1050D
		jmp	short loc_10732
sub_106E3	endp

; ---------------------------------------------------------------------------
		mov	cx, dx
		xchg	ax, bx
		jmp	short loc_10761
; ---------------------------------------------------------------------------
		mov	cx, dx
		xchg	ax, bx
		mov	dx, 0
		jmp	short loc_10773

; =============== S U B	R O U T	I N E =======================================


sub_1075A	proc near
		mov	bx, es:[si]
		mov	cx, es:[si+2]

loc_10761:
		sub	ax, ax
		mov	dx, 0
		or	cx, cx
		jns	short loc_10773
		not	cx
		neg	bx
		sbb	cx, 0FFFFh
		mov	dl, 1

loc_10773:
		mov	[di+0Ah], dl
		mov	dl, 10h
		or	cx, cx
		jnz	short loc_10788
		xchg	bx, cx
		mov	dl, 0
		jcxz	short loc_107A0
		jmp	short loc_10788
; ---------------------------------------------------------------------------

loc_10784:
		rcr	bx, 1
		rcr	ax, 1

loc_10788:
		inc	dx
		shr	cx, 1
		jnz	short loc_10784
		rcr	bx, 1
		rcr	ax, 1

loc_10791:
		mov	[di+8],	dx
		mov	[di+6],	bx
		mov	[di+4],	ax
		mov	[di+2],	cx
		mov	[di], cx
		retn
; ---------------------------------------------------------------------------

loc_107A0:
		mov	dx, 0C001h
		jmp	short loc_10791
sub_1075A	endp

; ---------------------------------------------------------------------------
		mov	byte ptr dword_12AFA+2,	1
		mov	cx, [si+8]
		cmp	cx, 20h	; ' '
		jmp	short loc_107B8

; =============== S U B	R O U T	I N E =======================================


sub_107B2	proc near
		mov	cx, [si+8]
		cmp	cx, 20h	; ' '

loc_107B8:
		jg	short loc_107ED
		or	cx, cx
		jge	short loc_107FA
		cmp	cx, 0C001h
		jle	short loc_107D7
		mov	bl, 0Ch
		and	bl, byte ptr aBorlandCCopyri+3
		add	bl, [si+0Ah]
		cmp	bl, 5
		jz	short loc_107DD
		cmp	bl, 8
		jz	short loc_107DD

loc_107D7:
		sub	dx, dx
		mov	ax, dx
		jmp	short loc_107F7
; ---------------------------------------------------------------------------

loc_107DD:
		sub	dx, dx
		mov	ax, 1
		cmp	bl, 5
		jnz	short loc_107F7
		neg	ax
		not	dx
		jmp	short loc_107F7
; ---------------------------------------------------------------------------

loc_107ED:
		mov	ch, 8
		call	sub_11DD9
		mov	dx, 8000h
		sub	ax, ax

loc_107F7:
		jmp	loc_10891
; ---------------------------------------------------------------------------

loc_107FA:
		mov	bx, [si+2]
		or	bl, [si]
		or	bl, [si+1]
		mov	ax, [si+4]
		mov	dx, [si+6]
		sub	cl, 10h
		ja	short loc_1081D

loc_1080D:
		or	al, bl
		or	al, bh
		xchg	ax, bx
		xchg	ax, dx
		sub	dx, dx
		add	cl, 10h
		jle	short loc_1080D
		and	cl, 0Fh

loc_1081D:
		jcxz	short loc_1083C
		push	si
		mov	si, 0FFFFh
		rol	dx, cl
		rol	ax, cl
		shl	si, cl
		mov	cx, si
		and	cx, ax
		xor	ax, cx
		and	si, dx
		xor	dx, si
		or	ax, si
		or	bl, bh
		or	bl, cl
		mov	bh, ch
		pop	si

loc_1083C:
		mov	cl, 0Ch
		and	cl, byte ptr aBorlandCCopyri+3
		cmp	cl, 0Ch
		jz	short loc_10884
		cmp	cl, 0
		jz	short loc_1085F
		add	cl, [si+0Ah]
		cmp	cl, 4
		jz	short loc_10884
		cmp	cl, 9
		jz	short loc_10884
		neg	bx
		jb	short loc_10869
		jmp	short loc_10884
; ---------------------------------------------------------------------------

loc_1085F:
		mov	cl, 1
		and	cl, al
		or	bl, cl
		add	bx, 7FFFh

loc_10869:
		adc	ax, 0
		adc	dx, 0
		jns	short loc_10884
		cmp	byte ptr [si+0Ah], 1
		jnz	short loc_10881
		cmp	dx, 8000h
		jnz	short loc_10881
		or	ax, ax
		jz	short loc_10884

loc_10881:
		jmp	loc_107ED
; ---------------------------------------------------------------------------

loc_10884:
		cmp	byte ptr [si+0Ah], 1
		jnz	short loc_10891
		not	dx
		neg	ax
		sbb	dx, 0FFFFh

loc_10891:
		mov	byte ptr dword_12AFA+2,	0
		mov	es:[di], ax
		mov	es:[di+2], dx
		retn
sub_107B2	endp


; =============== S U B	R O U T	I N E =======================================


sub_1089E	proc near
		push	bp
		push	si
		mov	ax, es:[si]
		mov	bx, es:[si+2]
		mov	cx, es:[si+4]
		mov	dx, es:[si+6]
		mov	bp, 0
		or	dx, dx
		jl	short loc_108C9
		jg	short loc_108DE
		or	cx, cx
		jnz	short loc_108DE
		or	bx, bx
		jnz	short loc_108DE
		or	ax, ax
		jnz	short loc_108DE
		mov	si, 0C001h
		jmp	short loc_108FC
; ---------------------------------------------------------------------------

loc_108C9:
		not	dx
		not	cx
		not	bx
		neg	ax
		cmc
		adc	bx, 0
		adc	cx, 0
		adc	dx, 0
		mov	bp, 1

loc_108DE:
		mov	si, 40h	; '@'

loc_108E1:
		or	dx, dx
		jnz	short loc_108EF
		xchg	dx, cx
		xchg	cx, bx
		xchg	ax, bx
		sub	si, 10h
		jmp	short loc_108E1
; ---------------------------------------------------------------------------

loc_108EF:
		js	short loc_108FC

loc_108F1:
		dec	si
		add	ax, ax
		adc	bx, bx
		adc	cx, cx
		adc	dx, dx
		jns	short loc_108F1

loc_108FC:
		mov	[di+8],	si
		mov	[di+6],	dx
		mov	[di+4],	cx
		mov	[di+2],	bx
		mov	[di], ax
		xchg	ax, bp
		mov	[di+0Ah], al
		pop	si
		pop	bp
		retn
sub_1089E	endp


; =============== S U B	R O U T	I N E =======================================


sub_10911	proc near
		push	bp
		push	di
		mov	cx, [si+8]
		cmp	cx, 3Fh	; '?'
		jg	short loc_10954
		or	cx, cx
		jge	short loc_10965
		cmp	cx, 0C001h
		jle	short loc_10938
		mov	bl, 0Ch
		and	bl, byte ptr aBorlandCCopyri+3
		add	bl, [si+0Ah]
		cmp	bl, 5
		jz	short loc_1093C
		cmp	bl, 8
		jz	short loc_1093C

loc_10938:
		sub	bp, bp
		jmp	short loc_1095C
; ---------------------------------------------------------------------------

loc_1093C:
		sub	bp, bp
		mov	dx, bp
		mov	ax, 1
		cmp	bl, 5
		mov	bx, bp
		jnz	short loc_10962
		neg	ax
		not	bx
		not	dx
		not	bp
		jmp	short loc_10962
; ---------------------------------------------------------------------------

loc_10954:
		mov	ch, 8
		call	sub_11DD9
		mov	bp, 8000h

loc_1095C:
		sub	dx, dx
		mov	bx, dx
		mov	ax, bx

loc_10962:
		jmp	loc_109F6
; ---------------------------------------------------------------------------

loc_10965:
		mov	bp, [si+6]
		mov	dx, [si+4]
		mov	bx, [si+2]
		mov	di, [si]
		sub	ax, ax
		sub	cl, 30h	; '0'
		ja	short loc_1098D

loc_10977:
		or	al, ah
		mov	ah, 0
		or	ax, di
		mov	di, bx
		mov	bx, dx
		mov	dx, bp
		sub	bp, bp
		add	cl, 10h
		jle	short loc_10977
		and	cl, 0Fh

loc_1098D:
		neg	cl
		jz	short loc_109A2
		add	cl, 10h

loc_10994:
		or	al, ah
		shr	bp, 1
		rcr	dx, 1
		rcr	bx, 1
		rcr	di, 1
		rcr	ah, 1
		loop	loc_10994

loc_109A2:
		mov	cl, 0Ch
		and	cl, byte ptr aBorlandCCopyri+3
		cmp	cl, 0Ch
		jz	short loc_109DD
		cmp	cl, 0
		jz	short loc_109C7
		add	cl, [si+0Ah]
		cmp	cl, 4
		jz	short loc_109DD
		cmp	cl, 9
		jz	short loc_109DD
		neg	ax
		jb	short loc_109D0
		jmp	short loc_109DD
; ---------------------------------------------------------------------------

loc_109C5:
		jmp	short loc_10954
; ---------------------------------------------------------------------------

loc_109C7:
		mov	cl, 1
		and	cx, di
		or	al, cl
		add	ax, 7FFFh

loc_109D0:
		mov	cx, 0
		adc	di, cx
		adc	bx, cx
		adc	dx, cx
		adc	bp, cx
		js	short loc_109C5

loc_109DD:
		xchg	ax, di
		cmp	byte ptr [si+0Ah], 1
		jnz	short loc_109F6
		not	bp
		not	dx
		not	bx
		neg	ax
		cmc
		adc	bx, 0
		adc	dx, 0
		adc	bp, 0

loc_109F6:
		pop	di
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, dx
		stosw
		xchg	ax, bp
		stosw
		sub	di, 8
		pop	bp
		retn
sub_10911	endp

; ---------------------------------------------------------------------------
		mov	si, word ptr aBorlandCCopyri+0Dh

; =============== S U B	R O U T	I N E =======================================


sub_10A07	proc near
		push	bp
		push	si
		push	di
		xchg	bp, si
		mov	cx, [bp+8]
		cmp	cx, 40h	; '@'
		jge	short loc_10A45
		or	cx, cx
		jge	short loc_10A62
		cmp	cx, 0C001h
		jle	short loc_10A36
		mov	ch, 20h	; ' '
		call	sub_11DD9
		mov	cl, 0Ch
		and	cl, byte ptr aBorlandCCopyri+3
		add	cl, [bp+0Ah]
		cmp	cl, 5
		jz	short loc_10A3D
		cmp	cl, 8
		jz	short loc_10A3D

loc_10A36:
		sub	bx, bx
		mov	si, 0C001h
		jmp	short loc_10A4E
; ---------------------------------------------------------------------------

loc_10A3D:
		mov	si, 1
		mov	bx, 8000h
		jmp	short loc_10A4E
; ---------------------------------------------------------------------------

loc_10A45:
		jz	short loc_10A5F
		mov	ch, 20h	; ' '
		call	sub_11DD9
		jmp	short loc_10A5F
; ---------------------------------------------------------------------------

loc_10A4E:
		sub	ax, ax
		mov	[bp+0],	ax
		mov	[bp+2],	ax
		mov	[bp+4],	ax
		mov	[bp+6],	bx
		mov	[bp+8],	si

loc_10A5F:
		jmp	loc_10B12
; ---------------------------------------------------------------------------

loc_10A62:
		mov	si, 38h	; '8'
		and	si, cx
		xor	cx, si
		shr	si, 1
		shr	si, 1
		shr	si, 1
		neg	si
		add	si, 7
		cmp	si, 7
		jnz	short loc_10A7F
		mov	ah, 0
		mov	al, [bp+si]
		jmp	short loc_10A81
; ---------------------------------------------------------------------------

loc_10A7F:
		mov	ax, [bp+si]

loc_10A81:
		sub	bx, bx
		mov	di, si

loc_10A85:
		dec	di
		jl	short loc_10A8E
		or	bl, [bp+di]
		mov	[bp+di], bh
		jmp	short loc_10A85
; ---------------------------------------------------------------------------

loc_10A8E:
		mov	dx, 0FFh
		and	cl, 7
		shr	dx, cl
		mov	di, dx
		inc	di
		and	dx, ax
		jnz	short loc_10AA1
		or	bl, bl
		jz	short loc_10B12

loc_10AA1:
		mov	ch, 20h	; ' '
		call	sub_11DD9
		xor	ax, dx
		mov	cl, 0Ch
		and	cl, byte ptr aBorlandCCopyri+3
		cmp	cl, 0Ch
		jz	short loc_10ACB
		cmp	cl, 0
		jz	short loc_10AD6
		add	cl, [bp+0Ah]
		cmp	cl, 4
		jz	short loc_10ACB
		cmp	cl, 9
		jz	short loc_10ACB
		or	bl, dl
		jnz	short loc_10AEC
		jmp	short loc_10B12
; ---------------------------------------------------------------------------

loc_10ACB:
		mov	[bp+si], al
		cmp	byte ptr [bp+7], 0
		jnz	short loc_10B12
		jmp	loc_10A36
; ---------------------------------------------------------------------------

loc_10AD6:
		or	bl, bl
		jnz	short loc_10AE6
		test	ax, di
		jnz	short loc_10AE6
		add	dx, dx
		cmp	dx, di
		jbe	short loc_10ACB
		jmp	short loc_10AEC
; ---------------------------------------------------------------------------

loc_10AE6:
		add	dx, dx
		cmp	dx, di
		jb	short loc_10ACB

loc_10AEC:
		sub	si, 7
		jl	short loc_10AFA
		add	ax, di
		mov	[bp+si+7], al
		neg	ah
		jmp	short loc_10B09
; ---------------------------------------------------------------------------

loc_10AFA:
		add	ax, di
		mov	[bp+si+7], ax
		inc	si

loc_10B00:
		inc	si
		jg	short loc_10B09
		adc	byte ptr [bp+si+7], 0
		jb	short loc_10B00

loc_10B09:
		jnb	short loc_10B12
		stc
		rcr	word ptr [bp+6], 1
		inc	word ptr [bp+8]

loc_10B12:
		pop	di
		pop	si
		pop	bp
		retn
sub_10A07	endp


; =============== S U B	R O U T	I N E =======================================


sub_10B16	proc near
		push	bp
		push	si
		push	di
		mov	bp, word ptr aBorlandCCopyri+0Dh
		mov	ax, [bp+0]
		mov	bx, [bp+2]
		mov	cx, [bp+4]
		mov	dx, [bp+6]
		sub	di, di
		mov	si, [bp+8]
		cmp	si, 0C001h
		jz	short loc_10B55
		cmp	si, 0FFF0h
		jg	short loc_10B46
		mov	di, ax
		mov	ax, bx
		mov	bx, cx
		mov	cx, dx
		sub	dx, dx
		add	si, 10h

loc_10B46:
		inc	si
		jg	short loc_10B55
		shr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		rcr	ax, 1
		rcr	di, 1
		jmp	short loc_10B46
; ---------------------------------------------------------------------------

loc_10B55:
		shl	di, 1
		mov	di, 0
		adc	ax, di
		adc	bx, di
		adc	cx, di
		adc	dx, di
		mov	[bp+0],	ax
		mov	[bp+2],	bx
		mov	[bp+4],	cx
		mov	[bp+6],	dx
		mov	bx, di
		mov	cx, di
		mov	si, di
		test	byte ptr [bp+3], 80h
		jz	short loc_10B84
		mov	bx, [bp+0]
		mov	cx, [bp+2]
		shl	bx, 1
		rcl	cx, 1

loc_10B84:
		mov	ax, [bp+0]
		mul	word ptr [bp+4]
		add	bx, ax
		adc	cx, dx
		adc	si, di
		add	bx, ax
		adc	cx, dx
		adc	si, di
		mov	bx, cx
		mov	cx, si
		sub	si, si
		mov	ax, [bp+2]
		mul	word ptr [bp+4]
		add	bx, ax
		adc	cx, dx
		adc	si, di
		add	bx, ax
		adc	cx, dx
		adc	si, di
		mov	ax, [bp+0]
		mul	word ptr [bp+6]
		add	bx, ax
		adc	cx, dx
		adc	si, di
		add	bx, ax
		adc	cx, dx
		adc	si, di
		shl	bx, 1
		adc	cx, di
		adc	si, di
		mov	bx, cx
		mov	cx, si
		sub	si, si
		mov	ax, [bp+4]
		mul	ax
		add	bx, ax
		adc	cx, dx
		adc	si, di
		mov	ax, [bp+6]
		mul	word ptr [bp+2]
		add	bx, ax
		adc	cx, dx
		adc	si, di
		add	bx, ax
		adc	cx, dx
		adc	si, di
		mov	ax, [bp+6]
		mul	word ptr [bp+4]
		add	cx, ax
		adc	si, dx
		adc	di, di
		add	cx, ax
		adc	si, dx
		adc	di, 0
		mov	ax, [bp+6]
		mul	ax
		add	si, ax
		adc	di, dx
		mov	[bp+0],	bx
		mov	[bp+2],	cx
		mov	[bp+4],	si
		mov	[bp+6],	di
		mov	byte ptr [bp+0Ah], 0
		mov	word ptr [bp+8], 0
		pop	di
		pop	si
		pop	bp
		retn
sub_10B16	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_10C1E	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_6		= byte ptr  0Ah
arg_12		= byte ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		push	es
		mov	al, 0Ch
		mul	byte ptr [bp+arg_2]
		sub	ax, 0Ch
		xchg	ax, si
		add	si, [bp+arg_0]
		call	sub_10557
		mov	di, si

loc_10C36:
		dec	byte ptr [bp+arg_2]
		jle	short loc_10CB3
		push	bp
		mov	bp, word ptr aBorlandCCopyri+0Dh
		mov	al, [bp+arg_12]
		xor	[bp+arg_6], al
		call	sub_FA23
		mov	[bp+0],	ax
		mov	[bp+2],	bx
		mov	[bp+arg_0], cx
		mov	[bp+arg_2], dx
		sub	di, 0Ch
		mov	bx, cs:[di]
		mov	cx, cs:[di+2]
		mov	dx, cs:[di+4]
		mov	si, cs:[di+6]
		mov	al, cs:[di+0Ah]
		cmp	al, [bp+arg_6]
		jz	short loc_10CA4
		sub	bx, [bp+0]
		sbb	cx, [bp+2]
		sbb	dx, [bp+arg_0]
		sbb	si, [bp+arg_2]
		jnb	short loc_10C92
		not	si
		not	dx
		not	cx
		neg	bx
		cmc
		adc	cx, 0
		adc	dx, 0
		adc	si, 0
		xor	al, 1

loc_10C92:
		mov	[bp+0],	bx
		mov	[bp+2],	cx
		mov	[bp+arg_0], dx
		mov	[bp+arg_2], si
		mov	[bp+arg_6], al
		pop	bp
		jmp	short loc_10C36
; ---------------------------------------------------------------------------

loc_10CA4:
		add	[bp+0],	bx
		adc	[bp+2],	cx
		adc	[bp+arg_0], dx
		adc	[bp+arg_2], si
		pop	bp
		jmp	short loc_10C36
; ---------------------------------------------------------------------------

loc_10CB3:
		mov	si, word ptr aBorlandCCopyri+0Dh
		cld
		lodsw
		xchg	ax, bx
		lodsw
		xchg	ax, cx
		lodsw
		xchg	ax, dx
		lodsw
		xchg	ax, di
		lodsw
		lodsb
		inc	si
		mov	word ptr aBorlandCCopyri+0Dh, si
		xchg	si, di
		sub	di, di
		cmp	al, 1
		jnz	short loc_10CE0
		not	si
		not	dx
		not	cx
		neg	bx
		cmc
		adc	cx, di
		adc	dx, di
		adc	si, di
		jmp	short loc_10CF2
; ---------------------------------------------------------------------------

loc_10CE0:
		stc
		rcr	si, 1
		rcr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		adc	bx, di
		adc	cx, di
		adc	dx, di
		adc	si, di
		inc	di

loc_10CF2:
		mov	ax, word ptr aBorlandCCopyri+0Dh
		xchg	ax, di
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		xchg	ax, si
		stosw
		xchg	ax, bx
		stosw
		mov	al, 0
		stosb
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		retn	4
sub_10C1E	endp

; ---------------------------------------------------------------------------
byte_10D0B	db 8
					; Method
		db 0
		db 0			; Procedure
		db 0
		db 0Ah dup(0), 0B6h, 6 dup(0AAh), 2Ah, 2 dup(0), 1, 0
		db 3, 24h, 5 dup(22h), 2, 4 dup(0), 0B3h, 0E4h,	0, 0Dh
		db 0D0h, 0, 0Dh, 3 dup(0), 1, 0, 6Eh, 8, 4Bh, 0C7h, 3Bh
		db 2Eh,	6 dup(0), 0C6h,	40h, 16h, 99h, 6Bh, 5 dup(0), 1
		db 0, 0Ch, 45h,	92h, 0B0h, 8 dup(0), 0D5h, 45h,	0D6h, 7	dup(0)
		db 1, 0
word_10D6D	dw 8
		db 0Ch dup(0), 88h, 6 dup(0FFh), 7Fh, 2	dup(0),	1, 0, 0A6h
		db 9Ah,	5 dup(0AAh), 0Ah, 4 dup(0), 7Fh, 0E6h, 4, 5Bh
		db 0B0h, 5, 5Bh, 3 dup(0), 1, 0, 0EFh, 26h, 9Bh, 1, 1Ah
		db 0A0h, 1, 5 dup(0), 1Dh, 0CEh, 0DCh, 93h, 9Fh, 4, 4 dup(0)
		db 1, 0, 0Fh, 0B1h, 4Bh, 0F7h, 8, 7 dup(0), 3, 0D8h, 7Bh
		db 0Ch,	6 dup(0), 1, 0

; =============== S U B	R O U T	I N E =======================================


sub_10DCF	proc near
		call	sub_1053B
		call	sub_10B16
sub_10DCF	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_10DD5	proc near
		push	word ptr cs:byte_10D0B
		mov	ax, 163Dh
		push	ax
		call	sub_10C1E
		push	word ptr aBorlandCCopyri+0Dh
		push	si
		push	si
		call	sub_F98D
		add	word ptr aBorlandCCopyri+0Dh, 0Ch
		retn
sub_10DD5	endp


; =============== S U B	R O U T	I N E =======================================


sub_10DF0	proc near
		call	sub_10B16
sub_10DF0	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_10DF3	proc near
		push	cs:word_10D6D
		mov	ax, 169Fh
		push	ax
		call	sub_10C1E
		retn
sub_10DF3	endp


; =============== S U B	R O U T	I N E =======================================


sub_10E00	proc near
		call	sub_1053B
		call	sub_10B16
		call	sub_1058A
		call	sub_10DD5
		call	sub_10DF3
		retn
sub_10E00	endp

; ---------------------------------------------------------------------------
		db  35h	; 5
		db 0C2h	; Â
		db  68h	; h
		db  21h	; !
		db 0A2h	; ¢
		db 0DAh	; Ú
		db  0Fh
		db 0C9h	; É
		db    1
		db    0
		db    0
		db    0
word_10E1C	dw 8
		dd    0
		dd    0
		dd    0
		db  57h	; W
		db  55h	; U
		db  55h	; U
		db  55h	; U
		db  55h	; U
		db  55h	; U
		db  55h	; U
		db    1
		db    0
		db    0
		db    1
		db    0
		db 0BEh	; ¾
		db  32h	; 2
		db  33h	; 3
		db  33h	; 3
		db  33h	; 3
		db  33h	; 3
		db    3
		dd    0
		db    0
		db  7Dh	; }
		db  1Eh
		db  49h	; I
		db  92h	; ’
		db  24h	; $
		db    9
		dd    0
		db    1
		db    0
		db 0BCh	; ¼
		db 0FEh	; þ
		db 0C6h	; Æ
		db  71h	; q
		db  1Ch
		dd    0
		db    0
		db    0
		db    0
		db  5Ch	; \
		db 0FFh
		db  16h
		db  5Dh	; ]
		dd    0
		db    0
		db    0
		db    1
		db    0
		db 0D8h	; Ø
		db 0BBh	; »
		db  3Ah	; :
		db    1
		dd    0
		dd    0
		db  0Ah
		db  0Ch
		db    4
		dd    0
		db    0
		db    0
		db    0
		db    1
		dd    0
		dd    0
		db 0E7h	; ç
		db 0FDh	; ý
		db 0FFh
		db    0
		db    0
		db 0BDh	; ½
		db 0A4h	; ¤
		db 0D6h	; Ö
		db  7Bh	; {
		db 0EEh	; î
		db  64h	; d
		db  5Ch	; \
		db 0B3h	; ³
		db 0FFh
		db 0FFh
		db    0
		db    0
		db 0B5h	; µ
		db  85h	; …
		db  47h	; G
		db 0FCh	; ü
		db  74h	; t
		db  30h	; 0
		db  11h
		db 0A1h	; ¡
		dd    0
		dd    0
		db    0
		db    0
		db    0
		db  80h	; €
		db    1
		db    0
		db    0
		db    0
		db  9Ch	; œ
		db 0FAh	; ú
		db  64h	; d
		db 0B0h	; °
		db 0B2h	; ²
		db  1Dh
		db    7
		db 0E6h	; æ
		db 0FEh	; þ
		db 0FFh
		db    0
		db    0
		db  9Ch	; œ
		db 0FAh	; ú
		db  64h	; d
		db 0B0h	; °
		db 0B2h	; ²
		db  1Dh
		db    7
		db 0E6h	; æ
		db 0FFh
		db 0FFh
		db    0
		db    0
		db 0F5h	; õ
		db 0BBh	; »
		db  4Bh	; K
		db    4
		db  46h	; F
		db  56h	; V
		db  85h	; …
		db 0ACh	; ¬
		dd    0
		db 0E6h	; æ
		db  6Eh	; n
		db 0D9h	; Ù
		db  1Fh
		db 0BDh	; ½
		db    9
		db 0FAh	; ú
		db 0E9h	; é
		db 0FEh	; þ
		db 0FFh
		db    0
		db    0
		db  8Dh	; 
		db  7Bh	; {
		db  35h	; 5
		db 0BDh	; ½
		db  5Bh	; [
		db  84h	; „
		db 0DDh	; Ý
		db 0F6h	; ö
		db 0FFh
		db 0FFh
		db    0
		db    0
		db  7Fh	; 
		db 0D5h	; Õ
		db  35h	; 5
		db    2
		db 0DBh	; Û
		db  80h	; €
		db  73h	; s
		db 0CCh	; Ì
		dd    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_10EF6	proc near

var_2		= word ptr -2

		push	bp
		mov	bp, sp
		lea	sp, [bp-2]
		push	si
		push	di
		push	si
		push	di
		push	si
		call	sub_FB5A
		mov	[bp+var_2], 0
		mov	di, 17AEh

loc_10F0C:
		cmp	[bp+var_2], 3
		jnb	short loc_10F33
		xchg	si, di
		call	sub_10557
		xchg	di, si
		push	si
		push	word ptr aBorlandCCopyri+0Dh
		call	sub_100A9
		add	word ptr aBorlandCCopyri+0Dh, 0Ch
		cmp	ax, 0
		jnz	short loc_10F33
		inc	[bp+var_2]
		add	di, 0Ch
		jmp	short loc_10F0C
; ---------------------------------------------------------------------------

loc_10F33:
		cmp	[bp+var_2], 0
		jnz	short loc_10F3E
		call	sub_10FA9
		jmp	short loc_10FA3
; ---------------------------------------------------------------------------

loc_10F3E:
		mov	bx, [bp+var_2]
		dec	bx
		; Hack (mov bl, cs:[bx+2])
		db 02eh
		db 08ah
		db 09fh
		db 002h
		db 000h
		mov	[bp+var_2], bx
		add	bx, 1802h
		mov	di, bx
		xchg	si, di
		call	sub_10557
		xchg	di, si
		push	si
		mov	di, word ptr aBorlandCCopyri+0Dh
		push	di
		lea	ax, [di-0Ch]
		mov	word ptr aBorlandCCopyri+0Dh, ax
		push	ax
		call	sub_F7BF
		push	si
		push	di
		push	si
		call	sub_F98D
		call	sub_10491
		push	di
		push	si
		push	si
		call	sub_F7C3
		push	word ptr aBorlandCCopyri+0Dh
		push	si
		push	si
		call	sub_FB5A
		add	word ptr aBorlandCCopyri+0Dh, 18h
		call	sub_10FA9
		mov	di, [bp+var_2]
		add	di, 17DEh
		xchg	si, di
		call	sub_10557
		xchg	di, si
		push	word ptr aBorlandCCopyri+0Dh
		push	si
		push	si
		call	sub_F7C3
		add	word ptr aBorlandCCopyri+0Dh, 0Ch

loc_10FA3:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_10EF6	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_10FA9	proc near
		push	si
		push	di
		call	sub_1053B
		cmp	word ptr [si+8], 0FFE0h
		jg	short loc_10FBB
		mov	di, si
		call	sub_10574
		jmp	short loc_10FDD
; ---------------------------------------------------------------------------

loc_10FBB:
		mov	di, word ptr aBorlandCCopyri+0Dh
		add	word ptr [di+8], 3
		call	sub_10B16
		push	cs:word_10E1C
		mov	ax, 174Eh
		push	ax
		call	sub_10C1E
		push	di
		push	si
		push	si
		call	sub_F98D
		add	word ptr aBorlandCCopyri+0Dh, 0Ch

loc_10FDD:
		pop	di
		pop	si
		retn
sub_10FA9	endp

; ---------------------------------------------------------------------------
word_10FE0	dw 0Dh
		db 0Ch dup(0), 3, 6 dup(0), 40h, 4 dup(0), 0A9h, 6 dup(0AAh)
		db 0Ah,	4 dup(0), 78h, 6 dup(55h), 1, 4	dup(0),	26h, 23h
		db 5 dup(22h), 5 dup(0), 1Ch, 2Bh, 0D8h, 82h, 2Dh, 0D8h
		db 2, 5	dup(0),	0FCh, 0F9h, 33h, 40h, 3, 34h, 6	dup(0)
		db 14h,	52h, 3,	34h, 40h, 3, 6 dup(0), 1Eh, 6Ch, 0C7h
		db 3Bh,	2Eh, 7 dup(0), 4Ch, 0B0h, 0C9h,	4Fh, 2,	7 dup(0)
		db 91h,	0Eh, 0E6h, 1Ah,	8 dup(0), 51h, 76h, 1Fh, 1, 8 dup(0)
		db 0C5h, 2Ch, 0Bh, 9 dup(0)

; =============== S U B	R O U T	I N E =======================================


sub_1107E	proc near
		push	bp
		push	si
		push	di
		mov	bp, word ptr aBorlandCCopyri+0Dh
		lea	di, [bp-0Ch]
		mov	word ptr aBorlandCCopyri+0Dh, di
		call	sub_104E6
		push	di
		push	si
		push	si
		call	sub_F98D
		mov	word ptr aBorlandCCopyri+0Dh, bp
		mov	di, [si+8]
		cmp	di, 0FFC0h
		jle	short loc_110F8
		mov	ax, [si]
		mov	bx, [si+2]
		mov	cx, [si+4]
		mov	dx, [si+6]
		inc	di
		jge	short loc_110C6

loc_110AF:
		shr	dx, 1
		rcr	cx, 1
		rcr	bx, 1
		rcr	ax, 1
		inc	di
		jl	short loc_110AF
		adc	ax, 0
		adc	bx, 0
		adc	cx, 0
		adc	dx, 0

loc_110C6:
		sub	word ptr aBorlandCCopyri+0Dh, 0Ch
		cld
		mov	di, word ptr aBorlandCCopyri+0Dh
		stosw
		xchg	ax, bx
		stosw
		xchg	ax, cx
		stosw
		xchg	ax, dx
		stosw
		sub	ax, ax
		stosw
		stosb
		sub	di, 0Bh
		push	cs:word_10FE0
		mov	ax, 1912h
		push	ax
		call	sub_10C1E
		mov	ax, word ptr aBorlandCCopyri+0Dh
		push	ax
		push	si
		push	si
		call	sub_F98D
		add	word ptr aBorlandCCopyri+0Dh, 0Ch

loc_110F8:
		pop	di
		pop	si
		pop	bp
		retn
sub_1107E	endp

; ---------------------------------------------------------------------------
		db 0BBh	; »
		db 0F0h	; ð
		db  17h
		db  5Ch	; \
		db  29h	; )
		db  3Bh	; ;
		db 0AAh	; ª
		db 0B8h	; ¸
		db    1
		db    0
		db    0
		db    0
word_11108	dw 9
		dd    0
		dd    0
		dd    0
		db  68h	; h
		db  55h	; U
		db  55h	; U
		db  55h	; U
		db  55h	; U
		db  55h	; U
		db  55h	; U
		db    5
		dd    0
		db 0BAh	; º
		db  34h	; 4
		db  33h	; 3
		db  33h	; 3
		db  33h	; 3
		db  33h	; 3
		db  33h	; 3
		dd    0
		db    0
		db 0A7h	; §
		db 0C3h	; Ã
		db  48h	; H
		db  92h	; ’
		db  24h	; $
		db  49h	; I
		db    2
		dd    0
		db    0
		db  4Dh	; M
		db  5Dh	; ]
		db  22h	; "
		db 0C7h	; Ç
		db  71h	; q
		db  1Ch
		dd    0
		db    0
		db    0
		db  24h	; $
		db  56h	; V
		db 0EBh	; ë
		db  5Ch	; \
		db  74h	; t
		db    1
		dd    0
		db    0
		db    0
		db  39h	; 9
		db 0ADh	; ­
		db 0ECh	; ì
		db 0B1h	; ±
		db  13h
		dd    0
		db    0
		db    0
		db    0
		db 0FDh	; ý
		db 0D6h	; Ö
		db  80h	; €
		db  0Fh
		db    1
		dd    0
		db    0
		db    0
		db    0
		db 0B5h	; µ
		db  7Ah	; z
		db 0E4h	; ä
		db  10h
		dd    0
		dd    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_11176	proc near

var_4		= word ptr -4
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		push	word ptr [di+8]
		push	si
		push	di
		mov	ax, [di]
		mov	bx, [di+2]
		mov	cx, [di+4]
		mov	dx, [di+6]
		cmp	dx, 0B505h
		ja	short loc_1119F
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		rcl	dx, 1
		mov	si, 0
		dec	[bp+var_2]
		jmp	short loc_111B4
; ---------------------------------------------------------------------------

loc_1119F:
		not	dx
		not	cx
		not	bx
		neg	ax
		cmc
		adc	bx, 0
		adc	cx, 0
		adc	dx, 0
		mov	si, 1

loc_111B4:
		sub	di, di

loc_111B6:
		or	dx, dx
		jnz	short loc_111D3
		xchg	ax, bx
		xchg	ax, cx
		xchg	ax, dx
		sub	di, 10h
		cmp	di, 0FFC0h
		jg	short loc_111B6
		sub	word ptr aBorlandCCopyri+0Dh, 0Ch
		mov	di, word ptr aBorlandCCopyri+0Dh
		call	sub_104F7
		jmp	short loc_11200
; ---------------------------------------------------------------------------

loc_111D3:
		js	short loc_111E0

loc_111D5:
		dec	di
		shl	ax, 1
		rcl	bx, 1
		rcl	cx, 1
		adc	dx, dx
		jns	short loc_111D5

loc_111E0:
		push	si
		push	di
		push	dx
		push	cx
		push	bx
		push	ax
		mov	si, sp
		call	sub_11266
		mov	si, 1A2Ch
		call	sub_10557
		mov	si, word ptr aBorlandCCopyri+0Dh
		mov	ax, sp
		push	si
		push	ax
		push	si
		call	sub_F98D
		add	sp, 0Ch

loc_11200:
		lea	si, [bp+var_2]
		sub	word ptr aBorlandCCopyri+0Dh, 0Ch
		mov	di, word ptr aBorlandCCopyri+0Dh
		call	sub_105C8
		lea	si, [di+0Ch]
		push	si
		push	di
		push	di
		call	sub_F7C3
		push	di
		push	[bp+var_4]
		push	[bp+var_4]
		call	sub_F98D
		add	word ptr aBorlandCCopyri+0Dh, 18h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_11176	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1122D	proc near

var_2		= word ptr -2

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, di
		call	sub_1053B
		mov	si, word ptr aBorlandCCopyri+0Dh
		call	sub_11266
		mov	si, 1A2Ch
		call	sub_10557
		mov	si, word ptr aBorlandCCopyri+0Dh
		push	si
		lea	si, [si+0Ch]
		push	si
		push	si
		call	sub_F98D
		push	si
		push	[bp+var_2]
		push	[bp+var_2]
		call	sub_F98D
		add	word ptr aBorlandCCopyri+0Dh, 18h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_1122D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_11266	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word ptr [si+8], 0FFC0h
		jle	short loc_112B7
		sub	word ptr aBorlandCCopyri+0Dh, 0Ch
		mov	di, word ptr aBorlandCCopyri+0Dh
		call	sub_10491
		inc	word ptr [di+8]
		push	si
		push	di
		push	di
		call	sub_F7C3
		push	si
		push	di
		push	di
		call	sub_FB5A
		call	sub_1058A
		mov	bx, word ptr aBorlandCCopyri+0Dh
		add	word ptr [bx+8], 2
		call	sub_10B16
		push	cs:word_11108
		mov	ax, 1A3Ah
		push	ax
		call	sub_10C1E
		push	word ptr aBorlandCCopyri+0Dh
		push	di
		push	si
		call	sub_F98D
		inc	word ptr [si+8]
		add	word ptr aBorlandCCopyri+0Dh, 18h

loc_112B7:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_11266	endp


; =============== S U B	R O U T	I N E =======================================


sub_112BD	proc near
		mov	cl, 0
		jmp	short loc_112C7
; ---------------------------------------------------------------------------
		mov	cl, 2
		jmp	short loc_112C7
; ---------------------------------------------------------------------------
		mov	cl, 4

loc_112C7:
		mov	es, di
		mov	bp, sp
		mov	di, word ptr aBorlandCCopyri+0Dh
		mov	ch, [di+0Ah]
		push	cx
		push	ax
		cmp	word ptr [di+8], 0FFE0h
		jg	short loc_112E5
		cmp	cl, 2
		jnz	short loc_112E2
		call	sub_10491

loc_112E2:
		jmp	loc_1139F
; ---------------------------------------------------------------------------

loc_112E5:
		cmp	word ptr [di+8], 40h ; '@'
		jle	short loc_112F6
		call	sub_10523
		mov	word ptr [di+6], 21h ; '!'
		jmp	loc_1139F
; ---------------------------------------------------------------------------

loc_112F6:
		mov	byte ptr [di+0Ah], 0
		lea	si, [di-0Ch]
		mov	word ptr aBorlandCCopyri+0Dh, si
		xchg	di, si
		call	sub_104C4
		xchg	di, si
		sub	word ptr [si+8], 2
		call	sub_FFA1
		and	al, 7
		mov	[bp-4],	al
		mov	bl, [bp-2]
		cmp	bl, 4
		jz	short loc_11357
		add	bl, [bp-4]
		and	bl, 7
		mov	[bp-4],	bl
		shr	bx, 1
		jnb	short loc_1133A
		xchg	di, si
		call	sub_104C4
		xchg	di, si
		sub	word ptr [si+8], 2
		push	si
		push	di
		push	di
		call	sub_F7BF

loc_1133A:
		mov	word ptr aBorlandCCopyri+0Dh, di
		mov	si, di
		test	byte ptr [bp-4], 3
		jp	short loc_1134B
		call	sub_10DF0
		jmp	short loc_1134E
; ---------------------------------------------------------------------------

loc_1134B:
		call	sub_10DCF

loc_1134E:
		mov	bl, [bp-4]
		shr	bl, 1
		shr	bl, 1
		jmp	short loc_11393
; ---------------------------------------------------------------------------

loc_11357:
		test	byte ptr [bp-4], 1
		jz	short loc_1136E
		xchg	si, di
		call	sub_104C4
		xchg	si, di
		sub	word ptr [si+8], 2
		push	si
		push	di
		push	di
		call	sub_F7BF

loc_1136E:
		mov	word ptr aBorlandCCopyri+0Dh, di
		mov	si, di
		call	sub_10E00
		lea	di, [si-0Ch]
		mov	ax, si
		test	byte ptr [bp-4], 3
		jp	short loc_11384
		xchg	si, di

loc_11384:
		xchg	ax, di
		push	si
		push	ax
		push	di
		call	sub_FB5A
		mov	bl, [bp-4]
		shr	bl, 1
		and	bl, 1

loc_11393:
		cmp	byte ptr [bp-2], 2
		jz	short loc_1139C
		xor	bl, [bp-1]

loc_1139C:
		mov	[di+0Ah], bl

loc_1139F:
		mov	word ptr aBorlandCCopyri+0Dh, di
		mov	sp, bp
		retn
sub_112BD	endp


; =============== S U B	R O U T	I N E =======================================


sub_113A6	proc near
		mov	es, di
		mov	si, word ptr aBorlandCCopyri+0Dh
		lea	di, [si-0Ch]
		mov	word ptr aBorlandCCopyri+0Dh, di
		call	sub_10491
		mov	ax, [si+8]
		cmp	ax, 4001h
		jge	short loc_113F6
		cmp	ax, 0C001h
		jle	short loc_113F1
		mov	cl, 0
		mov	bx, si
		dec	ax
		jl	short loc_113D1
		call	sub_105A7
		mov	bx, di
		mov	cl, 1

loc_113D1:
		mov	ch, 0
		xchg	ch, [bx+0Ah]
		push	cx
		call	sub_10EF6
		pop	cx
		cmp	cl, 1
		jnz	short loc_113EE
		push	cx
		call	sub_104C4
		dec	word ptr [di+8]
		push	di
		push	si
		push	si
		call	sub_F7BF
		pop	cx

loc_113EE:
		mov	[si+0Ah], ch

loc_113F1:
		mov	word ptr aBorlandCCopyri+0Dh, si
		retn
; ---------------------------------------------------------------------------

loc_113F6:
		mov	di, si
		push	word ptr [si+0Ah]
		call	sub_104C4
		pop	ax
		mov	[si+0Ah], al
		dec	word ptr [si+8]
		jmp	short loc_113F1
sub_113A6	endp


; =============== S U B	R O U T	I N E =======================================


sub_11407	proc near
		mov	es, di
		mov	si, word ptr aBorlandCCopyri+0Dh
		lea	di, [si-0Ch]
		mov	word ptr aBorlandCCopyri+0Dh, di
		call	sub_104E6
		jmp	short loc_1143B
; ---------------------------------------------------------------------------
		mov	es, di
		mov	si, word ptr aBorlandCCopyri+0Dh
		lea	di, [si-0Ch]
		mov	word ptr aBorlandCCopyri+0Dh, di
		call	sub_10491
		jmp	short loc_1143B
; ---------------------------------------------------------------------------
		mov	es, di
		mov	si, word ptr aBorlandCCopyri+0Dh
		lea	di, [si-0Ch]
		mov	word ptr aBorlandCCopyri+0Dh, di
		call	near ptr byte_104C9+0Ch

loc_1143B:
		call	sub_105A7
		cmp	byte ptr [di+0Ah], 0
		jnz	short loc_1145D
		mov	ax, [di+8]
		cmp	ax, 0C001h
		jle	short loc_11459
		cmp	ax, 4001h
		jge	short loc_1145D
		call	sub_11176

loc_11454:
		mov	word ptr aBorlandCCopyri+0Dh, si
		retn
; ---------------------------------------------------------------------------

loc_11459:
		mov	ch, 4
		jmp	short loc_1145F
; ---------------------------------------------------------------------------

loc_1145D:
		mov	ch, 1

loc_1145F:
		call	sub_11DD9
		mov	ax, 4001h
		mov	di, si
		mov	cl, 0
		call	sub_1050D
		cmp	ch, 1
		jnz	short loc_11454
		mov	word ptr [di+6], 0C000h
		jmp	short loc_11454
sub_11407	endp


; =============== S U B	R O U T	I N E =======================================


sub_11478	proc near
		mov	ax, 0DE3h
		jmp	short loc_1148B
; ---------------------------------------------------------------------------
		mov	es, di
		mov	si, word ptr aBorlandCCopyri+0Dh
		lea	di, [si-0Ch]
		jmp	short loc_114A4
; ---------------------------------------------------------------------------
		mov	ax, 0DD2h

loc_1148B:
		mov	es, di
		mov	si, word ptr aBorlandCCopyri+0Dh
		lea	di, [si-0Ch]
		mov	word ptr aBorlandCCopyri+0Dh, di
		call	ax
		push	si
		push	di
		push	si
		call	sub_F98D
		mov	word ptr aBorlandCCopyri+0Dh, si

loc_114A4:
		mov	bp, sp
		mov	ax, 0
		push	ax
		mov	ax, [si+8]
		cmp	ax, 0Ch
		jg	short loc_11500
		cmp	ax, 0FFC0h
		jle	short loc_1152C
		call	sub_1058A
		inc	word ptr [di+8]
		push	word ptr aBorlandCCopyri+2
		and	byte ptr aBorlandCCopyri+3, 0F3h
		or	byte ptr aBorlandCCopyri+3, 4
		mov	si, di
		call	sub_10A07
		pop	word ptr aBorlandCCopyri+2
		push	ax
		mov	di, sp
		call	sub_1060B
		dec	word ptr [si+8]
		lea	di, [si+0Ch]
		push	di
		push	si
		push	di
		call	sub_F7BF
		pop	ax
		sar	ax, 1
		jnb	short loc_11548
		mov	word ptr [si], 6485h
		mov	word ptr [si+2], 0F9DEh
		mov	word ptr [si+4], 0F333h
		mov	word ptr [si+6], 0B504h
		jmp	short loc_1155B
; ---------------------------------------------------------------------------

loc_11500:
		cmp	ax, 4001h
		jnz	short loc_11515
		mov	ax, 7FFFh
		and	ax, [si+6]
		or	ax, [si+4]
		or	ax, [si+2]
		or	ax, [si]
		jnz	short loc_11533

loc_11515:
		cmp	byte ptr [si+0Ah], 0
		jnz	short loc_11541
		mov	di, si
		mov	ch, 8
		call	sub_11DD9
		mov	ax, 4001h
		mov	cl, 0
		call	sub_1050D
		jmp	short loc_11581
; ---------------------------------------------------------------------------

loc_1152C:
		mov	di, si
		call	sub_10491
		jmp	short loc_11581
; ---------------------------------------------------------------------------

loc_11533:
		mov	word ptr [si+6], 0C000h
		mov	di, si
		mov	ch, 1
		call	sub_11DD9
		jmp	short loc_11581
; ---------------------------------------------------------------------------

loc_11541:
		mov	di, si
		call	sub_104F7
		jmp	short loc_11581
; ---------------------------------------------------------------------------

loc_11548:
		mov	word ptr [si], 0
		mov	word ptr [si+2], 0
		mov	word ptr [si+4], 0
		mov	word ptr [si+6], 8000h

loc_1155B:
		inc	ax
		mov	[si+8],	ax
		mov	byte ptr [si+0Ah], 0
		mov	di, si
		lea	si, [di+0Ch]
		call	sub_1107E
		push	si
		push	di
		push	si
		call	sub_F98D
		push	si
		push	di
		push	si
		call	sub_F7C3
		cmp	byte ptr [bp-2], 1
		jnz	short loc_11581
		xor	byte ptr [si+0Ah], 1

loc_11581:
		mov	word ptr aBorlandCCopyri+0Dh, si
		mov	sp, bp
		retn
sub_11478	endp


; =============== S U B	R O U T	I N E =======================================


sub_11588	proc near
		push	bx
		push	cx
		push	dx
		mov	cl, 4
		mov	ch, 0Ah
		mov	bx, es:[si]
		mov	al, bh
		shr	al, cl
		mul	ch
		mov	dl, 0Fh
		and	dl, bh
		add	al, dl
		mul	ch
		mov	dx, 0F0h ; 'ð'
		and	dl, bl
		shr	dx, cl
		add	ax, dx
		mov	cx, 0Ah
		mul	cx
		and	bx, 0Fh
		add	ax, bx
		pop	dx
		pop	cx
		pop	bx
		retn
sub_11588	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_115B7	proc near

var_4		= word ptr -4
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	al, es:[si+9]
		and	ax, 80h
		rol	al, 1
		mov	[di+0Ah], al
		mov	cl, 4
		mov	al, es:[si+8]
		shl	ax, cl
		shr	al, cl
		aad
		mov	di, 2710h
		mul	di
		xchg	ax, bx
		lea	si, [si+6]
		call	sub_11588
		add	ax, bx
		adc	dl, dh
		mov	bx, dx
		mul	di
		xchg	ax, bx
		mov	cx, dx
		mul	di
		add	cx, ax
		adc	dl, dh
		sub	si, 2
		call	sub_11588
		add	ax, bx
		adc	cx, 0
		adc	dl, dh
		push	si
		mov	bx, dx
		mul	di
		xchg	ax, cx
		mov	si, dx
		mul	di
		xchg	ax, bx
		xchg	di, dx
		mul	dx
		add	bx, si
		adc	di, ax
		pop	si
		sub	si, 2
		call	sub_11588
		add	ax, cx
		adc	bx, dx
		adc	di, dx
		mov	si, 2710h
		mul	si
		xchg	ax, bx
		mov	cx, dx
		mul	si
		xchg	ax, si
		xchg	di, dx
		mul	dx
		add	cx, si
		adc	di, ax
		adc	dx, 0
		mov	si, [bp+var_2]
		call	sub_11588
		add	bx, ax
		adc	cx, 0
		adc	di, 0
		adc	dx, 0
		mov	ax, 40h	; '@'

loc_11648:
		or	dx, dx
		jnz	short loc_11659
		sub	ax, 10h
		jz	short loc_1167D
		xchg	dx, di
		xchg	di, cx
		xchg	cx, bx
		jmp	short loc_11648
; ---------------------------------------------------------------------------

loc_11659:
		js	short loc_11666

loc_1165B:
		dec	ax
		shl	bx, 1
		rcl	cx, 1
		rcl	di, 1
		adc	dx, dx
		jns	short loc_1165B

loc_11666:
		mov	si, [bp+var_4]
		mov	[si], bx
		mov	[si+2],	cx
		mov	[si+4],	di
		mov	[si+6],	dx
		mov	[si+8],	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_1167D:
		mov	ax, 0C001h
		jmp	short loc_11666
sub_115B7	endp


; =============== S U B	R O U T	I N E =======================================


sub_11682	proc near
		push	ax
		push	cx
		mov	al, 64h	; 'd'
		mov	cl, 4
		xchg	ax, dx
		div	dl
		mov	dl, ah
		aam
		shl	ah, cl
		or	ah, al
		xchg	ax, dx
		aam
		shl	ah, cl
		or	al, ah
		mov	ah, dh
		stosw
		pop	cx
		pop	ax
		retn
sub_11682	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_116A0	proc near

var_2		= word ptr -2

		push	bp
		mov	bp, sp
		push	si
		push	di
		cld
		mov	ax, [si+8]
		mov	bx, [si]
		mov	cx, [si+2]
		mov	dx, [si+6]
		mov	si, [si+4]
		cmp	ax, 0
		jl	short loc_116F1
		sub	ax, 3Ch	; '<'
		jl	short loc_116DD
		jg	short loc_116F3
		cmp	dx, 0DE0Bh
		jb	short loc_116DD
		ja	short loc_116F3
		cmp	si, 6B3Ah
		jb	short loc_116DD
		ja	short loc_116F3
		cmp	cx, 763Fh
		jb	short loc_116DD
		ja	short loc_116F3
		cmp	bx, 0FFF0h
		ja	short loc_116F3

loc_116DD:
		mov	ah, 0
		sub	al, 4

loc_116E1:
		add	al, 10h
		jg	short loc_116F5
		mov	ah, bh
		mov	bx, cx
		mov	cx, si
		mov	si, dx
		sub	dx, dx
		jmp	short loc_116E1
; ---------------------------------------------------------------------------

loc_116F1:
		jmp	short loc_1175A
; ---------------------------------------------------------------------------

loc_116F3:
		jmp	short loc_11763
; ---------------------------------------------------------------------------

loc_116F5:
		sub	al, 10h
		jge	short loc_11707

loc_116F9:
		shr	dx, 1
		rcr	si, 1
		rcr	cx, 1
		rcr	bx, 1
		rcr	ah, 1
		inc	al
		jl	short loc_116F9

loc_11707:
		add	ah, ah
		adc	bx, 0
		adc	cx, 0
		adc	si, 0
		adc	dx, 0
		xchg	ax, si
		mov	si, 2710h
		div	si
		xchg	ax, cx
		div	si
		xchg	ax, bx
		div	si
		call	sub_11682
		sub	dx, dx
		xchg	ax, cx
		div	si
		xchg	ax, bx
		div	si
		xchg	ax, cx
		div	si
		call	sub_11682
		mov	dx, bx
		xchg	ax, cx
		div	si
		xchg	ax, cx
		div	si
		call	sub_11682
		mov	dx, cx
		div	si
		call	sub_11682
		aam
		mov	cl, 4
		shl	ah, cl
		or	al, ah
		stosb

loc_1174D:
		mov	si, [bp+var_2]
		mov	al, [si+0Ah]
		ror	al, 1
		stosb
		pop	di
		pop	si
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_1175A:
		mov	al, 0

loc_1175C:
		mov	cx, 9
		rep stosb
		jmp	short loc_1174D
; ---------------------------------------------------------------------------

loc_11763:
		mov	ch, 8
		call	sub_11DD9
		mov	al, 99h	; '™'
		jmp	short loc_1175C
sub_116A0	endp

; ---------------------------------------------------------------------------
off_1176C	dw offset loc_1186E
		dw offset loc_11878
		dw offset loc_11882
		dw offset loc_1188C
		dw offset loc_11896
		dw offset loc_1189D
		dw offset loc_118BB
		dw offset loc_118A4
off_1177C	dw offset loc_11C4C
		dw offset loc_11CC1
		dw offset loc_11D31
		dw offset loc_11D33
off_11784	dw offset sub_10259
		dw offset sub_1075A
		dw offset sub_1035D
		dw offset sub_105C8
off_1178C	dw offset sub_1194C
		dw offset sub_11953
		dw offset sub_1195D
		dw offset sub_1195A
		dw offset sub_11964
		dw offset sub_11963
		dw offset sub_1196C
		dw offset sub_1196B
off_1179C	dw offset sub_10259
		dw offset sub_1075A
		dw offset sub_1035D
		dw offset sub_105C8
off_117A4	dw offset sub_101DF
		dw offset sub_107B2
		dw offset sub_102B6
		dw offset sub_1060B
off_117AC	dw offset sub_119E4
		dw offset sub_119DE
		dw offset sub_11A45
		dw offset sub_11AB3
		dw offset sub_119ED
		dw offset sub_11AC3
		dw offset sub_119DE
		dw offset sub_11AA3
off_117BC	dw offset sub_119F8
		dw offset sub_119DE
		dw offset sub_11A21
		dw offset sub_11AE0
		dw offset sub_11A77
		dw offset sub_11AED
		dw offset sub_11A7C
		dw offset sub_11AD3

; =============== S U B	R O U T	I N E =======================================


sub_117CC	proc far
		mov	ch, 1
		call	sub_11DD9
		jmp	loc_11D61
sub_117CC	endp


; =============== S U B	R O U T	I N E =======================================


sub_117D4	proc far

; FUNCTION CHUNK AT 22A3 SIZE 0000006B BYTES
; FUNCTION CHUNK AT 244A SIZE 000000AB BYTES

		ja	short loc_117FA
		test	ah, 20h
		jnz	short near ptr sub_117CC
		mov	al, ah
		inc	dx
		mov	di, ds
		and	al, 0C0h
		jz	short loc_117F2
		cmp	al, 80h	; '€'
		mov	di, ss
		jb	short loc_117F2
		mov	di, [bp+0]
		ja	short loc_117F2
		mov	di, [bp+14h]

loc_117F2:
		lods	byte ptr es:[si]
		xchg	ah, al
		and	al, 7
		jmp	short loc_11837
; ---------------------------------------------------------------------------

loc_117FA:
		cmp	al, 9
		jnz	short loc_11812
		mov	ax, es
		xor	ax, ss:27h
		mov	es, ax
		push	es
		pop	es
		mov	word ptr es:[si-3], 0E489h
		jmp	loc_11D61
; ---------------------------------------------------------------------------

loc_11812:
		jmp	loc_11E16
; ---------------------------------------------------------------------------
		db 55h,	0
; ---------------------------------------------------------------------------

loc_11817:
		sti
		cld
		push	ax
		push	cx
		push	dx
		push	bx
		push	ds
		push	bp
		push	si
		push	di
		push	es
		mov	bp, sp
		mov	ss:53h,	bp
		les	si, [bp+12h]
		mov	dl, 0
		dec	si
		lods	word ptr es:[si]
		sub	al, 34h	; '4'
		cmp	al, 8
		jnb	short near ptr sub_117D4

loc_11837:
		mov	bx, 0C007h
		and	bl, ah
		and	bh, ah
		xchg	ax, cx
		cmp	bh, 0C0h ; 'À'
		jnb	short loc_118AB
		cmp	bh, 40h	; '@'
		ja	short loc_1185B
		jz	short loc_1185F
		sub	ax, ax
		cmp	bl, 6
		jnz	short loc_11862
		lods	word ptr es:[si]
		mov	[bp+12h], si
		mov	si, ds
		jmp	short loc_118C0
; ---------------------------------------------------------------------------

loc_1185B:
		lods	word ptr es:[si]
		jmp	short loc_11862
; ---------------------------------------------------------------------------

loc_1185F:
		lods	byte ptr es:[si]
		cbw

loc_11862:
		mov	[bp+12h], si
		mov	bh, 0
		shl	bx, 1
		jmp	cs:off_1176C[bx]

loc_1186E:
		add	ax, [bp+0Ah]
		add	ax, [bp+4]
		mov	si, ds
		jmp	short loc_118C0
; ---------------------------------------------------------------------------

loc_11878:
		add	ax, [bp+0Ah]
		add	ax, [bp+2]
		mov	si, ds
		jmp	short loc_118C0
; ---------------------------------------------------------------------------

loc_11882:
		add	ax, [bp+6]
		add	ax, [bp+4]
		mov	si, ss
		jmp	short loc_118C0
; ---------------------------------------------------------------------------

loc_1188C:
		add	ax, [bp+6]
		add	ax, [bp+2]
		mov	si, ss
		jmp	short loc_118C0
; ---------------------------------------------------------------------------

loc_11896:
		add	ax, [bp+4]
		mov	si, ds
		jmp	short loc_118C0
; ---------------------------------------------------------------------------

loc_1189D:
		add	ax, [bp+2]
		mov	si, ds
		jmp	short loc_118C0
; ---------------------------------------------------------------------------

loc_118A4:
		add	ax, [bp+0Ah]
		mov	si, ds
		jmp	short loc_118C0
; ---------------------------------------------------------------------------

loc_118AB:
		mov	[bp+12h], si
		mov	ax, ss
		mov	ds, ax
		mov	es, ax
		test	cl, 1
		jz	short loc_118EC
		jmp	short loc_118D2
; ---------------------------------------------------------------------------

loc_118BB:
		add	ax, [bp+6]
		mov	si, ss

loc_118C0:
		xchg	ax, si
		cmp	dl, 1
		jnz	short loc_118C7
		xchg	ax, di

loc_118C7:
		mov	es, ax
		mov	ax, ss
		mov	ds, ax
		test	cl, 1
		jz	short loc_118EC

loc_118D2:
		cmp	ch, 0C0h ; 'À'
		jnb	short loc_118DA
		jmp	loc_11973
; ---------------------------------------------------------------------------

loc_118DA:
		test	ch, 20h
		jnz	short loc_118E2
		jmp	loc_11B1A
; ---------------------------------------------------------------------------

loc_118E2:
		mov	bx, 6
		and	bl, cl
		jmp	cs:off_1177C[bx]
; ---------------------------------------------------------------------------

loc_118EC:
		mov	ax, 38h	; '8'
		and	al, ch
		shr	ax, 1
		shr	ax, 1
		xchg	ax, bp
		cmp	ch, 0C0h ; 'À'
		jnb	short loc_11925
		mov	di, word ptr aBorlandCCopyri+0Dh
		sub	di, 0Ch
		mov	word ptr aBorlandCCopyri+0Dh, di
		mov	bx, 6
		and	bl, cl
		call	cs:off_11784[bx]
		mov	cx, ss
		mov	es, cx
		mov	si, 0Ch
		mov	bx, di
		lea	ax, [bx+si]
		mov	dx, ax
		mov	cx, 268Ch
		jmp	cs:off_1178C[bp]
; ---------------------------------------------------------------------------

loc_11925:
		mov	bh, 0
		; Hack (mov bl, cs:[bx+2])
		db 02eh
		db 08ah
		db 09fh
		db 002h
		db 000h
		mov	ax, word ptr aBorlandCCopyri+0Dh
		add	bx, ax
		test	cl, 4
		mov	dx, ax
		jz	short loc_1193A
		mov	dx, bx

loc_1193A:
		sub	si, si
		test	cl, 2
		jz	short loc_11944
		mov	si, 0Ch

loc_11944:
		mov	cx, 268Ch
		jmp	cs:off_1178C[bp]
sub_117D4	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_1194C	proc near
		push	ax
		push	bx
		push	dx
		push	cx
		jmp	sub_F7C3
sub_1194C	endp


; =============== S U B	R O U T	I N E =======================================


sub_11953	proc near
		push	ax
		push	bx
		push	dx
		push	cx
		jmp	sub_F98D
sub_11953	endp


; =============== S U B	R O U T	I N E =======================================


sub_1195A	proc near
		add	si, 0Ch
sub_1195A	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_1195D	proc near
		push	ax
		push	bx
		push	cx
		jmp	sub_100A9
sub_1195D	endp


; =============== S U B	R O U T	I N E =======================================


sub_11963	proc near
		xchg	ax, bx
sub_11963	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_11964	proc near
		push	ax
		push	bx
		push	dx
		push	cx
		jmp	sub_F7BF
sub_11964	endp


; =============== S U B	R O U T	I N E =======================================


sub_1196B	proc near
		xchg	ax, bx
sub_1196B	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_1196C	proc near
		push	ax
		push	bx
		push	dx
		push	cx
		jmp	sub_FB5A
sub_1196C	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_117D4

loc_11973:
		mov	bp, 6
		and	bp, cx
		test	ch, 20h
		jnz	short loc_119BF
		test	ch, 10h
		jnz	short loc_1199C
		test	ch, 8
		jnz	short loc_119DB
		mov	di, word ptr aBorlandCCopyri+0Dh
		mov	ax, 0FFF4h
		add	di, ax
		mov	word ptr aBorlandCCopyri+4, ax
		mov	ax, 2687h
		push	ax
		jmp	cs:off_1179C[bp]
; ---------------------------------------------------------------------------

loc_1199C:
		mov	di, word ptr aBorlandCCopyri+0Dh
		xchg	si, di
		test	ch, 8
		jnz	short loc_119B0
		mov	ax, 2691h
		push	ax
		jmp	cs:off_117A4[bp]
; ---------------------------------------------------------------------------

loc_119B0:
		mov	word ptr aBorlandCCopyri+4, 0Ch
		mov	ax, 2687h
		push	ax
		jmp	cs:off_117A4[bp]
; ---------------------------------------------------------------------------

loc_119BF:
		mov	ax, 8
		and	al, ch
		or	bp, ax
		mov	ax, 2691h
		push	ax
		test	ch, 10h
		jnz	short loc_119D4
		jmp	cs:off_117AC[bp]
; ---------------------------------------------------------------------------

loc_119D4:
		xchg	si, di
		jmp	cs:off_117BC[bp]
; ---------------------------------------------------------------------------

loc_119DB:
		jmp	loc_11D61
; END OF FUNCTION CHUNK	FOR sub_117D4

; =============== S U B	R O U T	I N E =======================================


sub_119DE	proc near
		mov	ch, 1
		call	sub_11DD9
		retn
sub_119DE	endp


; =============== S U B	R O U T	I N E =======================================


sub_119E4	proc near
		mov	cl, 4
		mov	ax, es:[si+2]
		mov	word ptr aBorlandCCopyri, ax ; "Borland	C++ - Copyright	1993 Borland In"...
sub_119E4	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_119ED	proc near
		mov	ax, es:[si]
		mov	word ptr aBorlandCCopyri+2, ax
		mov	ch, 0
		jmp	sub_11DD9
sub_119ED	endp


; =============== S U B	R O U T	I N E =======================================


sub_119F8	proc near
		call	sub_11A77
		call	sub_11A7C
		mov	ax, word ptr aBorlandCCopyri+11h
		sub	ax, word ptr aBorlandCCopyri+0Dh
		mov	cx, 60h	; '`'
		cmp	ax, cx
		jb	short loc_11A0D
		xchg	ax, cx

loc_11A0D:
		mov	dl, 0Ch
		div	dl
		xchg	ax, cx
		add	cx, cx
		mov	ax, 0FFFFh
		shr	ax, cl
		stosw
		sub	ax, ax
		stosw
		stosw
		stosw
		stosw
		retn
sub_119F8	endp


; =============== S U B	R O U T	I N E =======================================


sub_11A21	proc near
		call	sub_119F8
		mov	si, word ptr aBorlandCCopyri+0Dh
		mov	bp, es:[di-0Ah]
		neg	bp
		dec	bp

loc_11A2F:
		jz	short loc_11A40
		call	sub_1041B
		add	si, 0Ch
		add	di, 0Ah
		shl	bp, 1
		shl	bp, 1
		jmp	short loc_11A2F
; ---------------------------------------------------------------------------

loc_11A40:
		mov	word ptr aBorlandCCopyri+0Dh, si
		retn
sub_11A21	endp


; =============== S U B	R O U T	I N E =======================================


sub_11A45	proc near
		mov	di, word ptr aBorlandCCopyri+0Dh
		mov	bp, es:[si+4]
		neg	bp
		dec	bp
		jz	short sub_119E4
		add	si, 5Eh	; '^'

loc_11A55:
		sub	si, 0Ah
		shr	bp, 1
		shr	bp, 1
		jnb	short loc_11A55

loc_11A5E:
		sub	di, 0Ch
		call	sub_10448
		sub	si, 0Ah
		shr	bp, 1
		shr	bp, 1
		jb	short loc_11A5E
		add	si, 0FFFCh
		mov	word ptr aBorlandCCopyri+0Dh, di
		jmp	sub_119E4
sub_11A45	endp


; =============== S U B	R O U T	I N E =======================================


sub_11A77	proc near
		mov	ax, word ptr aBorlandCCopyri+2
		stosw
		retn
sub_11A77	endp


; =============== S U B	R O U T	I N E =======================================


sub_11A7C	proc near
		mov	ax, word ptr aBorlandCCopyri+11h
		sub	ax, word ptr aBorlandCCopyri+0Dh
		mov	cx, 60h	; '`'
		cmp	ax, cx
		jb	short loc_11A8B
		xchg	ax, cx

loc_11A8B:
		neg	ax
		mov	cl, 0Ch
		idiv	cl
		and	al, 7
		mov	cl, 3
		shl	al, cl
		mov	cx, word ptr aBorlandCCopyri ; "Borland	C++ - Copyright	1993 Borland In"...
		and	ch, 0C7h
		or	ch, al
		xchg	ax, cx
		stosw
		retn
sub_11A7C	endp


; =============== S U B	R O U T	I N E =======================================


sub_11AA3	proc near
		mov	di, word ptr aBorlandCCopyri+0Dh
		sub	di, 0Ch
		call	sub_1089E
		sub	word ptr aBorlandCCopyri+0Dh, 0Ch
		retn
sub_11AA3	endp


; =============== S U B	R O U T	I N E =======================================


sub_11AB3	proc near
		mov	di, word ptr aBorlandCCopyri+0Dh
		sub	di, 0Ch
		call	sub_115B7
		sub	word ptr aBorlandCCopyri+0Dh, 0Ch
		retn
sub_11AB3	endp


; =============== S U B	R O U T	I N E =======================================


sub_11AC3	proc near
		mov	di, word ptr aBorlandCCopyri+0Dh
		sub	di, 0Ch
		call	sub_10448
		sub	word ptr aBorlandCCopyri+0Dh, 0Ch
		retn
sub_11AC3	endp


; =============== S U B	R O U T	I N E =======================================


sub_11AD3	proc near
		mov	si, word ptr aBorlandCCopyri+0Dh
		call	sub_10911
		add	word ptr aBorlandCCopyri+0Dh, 0Ch
		retn
sub_11AD3	endp


; =============== S U B	R O U T	I N E =======================================


sub_11AE0	proc near
		mov	si, word ptr aBorlandCCopyri+0Dh
		call	sub_116A0
		add	word ptr aBorlandCCopyri+0Dh, 0Ch
		retn
sub_11AE0	endp


; =============== S U B	R O U T	I N E =======================================


sub_11AED	proc near
		mov	si, word ptr aBorlandCCopyri+0Dh
		call	sub_1041B
		add	word ptr aBorlandCCopyri+0Dh, 0Ch
		retn
sub_11AED	endp

; ---------------------------------------------------------------------------
off_11AFA	dw offset loc_11B39
		dw offset loc_11B93
		dw offset loc_11B4C
		dw offset loc_11B47
		dw offset loc_11B9A
		dw offset loc_11B93
		dw offset loc_11B9A
		dw offset loc_11B9A
		dw offset loc_11B8E
		dw offset loc_11B93
		dw offset loc_11BAB
		dw offset loc_11BB6
		dw offset loc_11BB6
		dw offset loc_11B93
		dw offset loc_11BB6
		dw offset loc_11BB6
; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_117D4

loc_11B1A:
		mov	bh, 0
		; Hack (mov bl, cs:[bx+2])
		db 02eh
		db 08ah
		db 09fh
		db 002h
		db 000h
		mov	si, word ptr aBorlandCCopyri+0Dh
		add	si, bx
		mov	bl, 18h
		and	bl, ch
		and	cl, 6
		or	bl, cl
		cld
		mov	cx, 6
		jmp	cs:off_11AFA[bx]

loc_11B39:
		sub	word ptr aBorlandCCopyri+0Dh, 0Ch
		mov	di, word ptr aBorlandCCopyri+0Dh
		rep movsw
		jmp	loc_11D61
; ---------------------------------------------------------------------------

loc_11B47:
		mov	di, 0Ch
		jmp	short loc_11B4F
; ---------------------------------------------------------------------------

loc_11B4C:
		mov	di, 0

loc_11B4F:
		mov	ax, word ptr aBorlandCCopyri+11h
		sub	ax, 0Ch
		cmp	si, ax
		jz	short loc_11B69
		xchg	di, si
		mov	ax, 4001h
		mov	cl, 0
		call	sub_1050D
		add	word ptr aBorlandCCopyri+0Dh, si
		jmp	short loc_11BC2
; ---------------------------------------------------------------------------

loc_11B69:
		add	di, 0Ch
		mov	dx, di
		mov	cx, si
		sub	cx, word ptr aBorlandCCopyri+0Dh
		jz	short loc_11B88
		push	ss
		pop	es
		sub	si, 2
		mov	di, word ptr aBorlandCCopyri+11h
		sub	di, 2
		std
		shr	cx, 1
		rep movsw
		cld

loc_11B88:
		add	word ptr aBorlandCCopyri+0Dh, dx
		jmp	short loc_11BC2
; ---------------------------------------------------------------------------

loc_11B8E:
		test	ch, 7
		jz	short loc_11BC2

loc_11B93:
		mov	ch, 1
		call	sub_11DD9
		jmp	short loc_11BC2
; ---------------------------------------------------------------------------

loc_11B9A:
		mov	di, word ptr aBorlandCCopyri+0Dh

loc_11B9E:
		mov	ax, [di]
		xchg	ax, [si]
		stosw
		add	si, 2
		loop	loc_11B9E
		jmp	loc_11D61
; ---------------------------------------------------------------------------

loc_11BAB:
		mov	di, si
		mov	si, word ptr aBorlandCCopyri+0Dh
		rep movsw
		jmp	loc_11D61
; ---------------------------------------------------------------------------

loc_11BB6:
		mov	di, si
		mov	si, word ptr aBorlandCCopyri+0Dh
		rep movsw
		mov	word ptr aBorlandCCopyri+0Dh, si

loc_11BC2:
		jmp	loc_11D61
; END OF FUNCTION CHUNK	FOR sub_117D4
; ---------------------------------------------------------------------------
		db 8 dup(4), 7 dup(0), 2 dup(4), 8, 6, 8, 6, 4,	2, 0, 0Ah
		db 8, 3	dup(4),	0Ah, 2 dup(4)
off_11BE5	dw offset sub_11C25
		dw offset sub_11C2A
		dw offset sub_11C37
		dw offset sub_11C37
		dw offset sub_10169
		dw offset sub_101A5
		dw offset sub_11C37
		dw offset sub_11C37
		dw offset sub_10491
		db 0D2h	; Ò
		db  0Dh
		db 0E3h	; ã
		db  0Dh
		db 0F4h	; ô
		db  0Dh
		db    5
		db  0Eh
		db  16h
		db  0Eh
		db  27h	; '
		db  0Eh
		db  67h	; g
		db  25h	; %
		db 0AEh	; ®
		db  19h
		db 0A6h	; ¦
		db  1Ah
		db  30h	; 0
		db  17h
		db  26h	; &
		db  18h
		db  5Fh	; _
		db  25h	; %
		db  67h	; g
		db  25h	; %
		db  67h	; g
		db  25h	; %
		db  67h	; g
		db  25h	; %
		db 0D1h	; Ñ
		db    8
		db  5Dh	; ]
		db  1Bh
		db    5
		db    8
		db  67h	; g
		db  25h	; %
		db  37h	; 7
		db  13h
		db  13h
		db  10h
		db  67h	; g
		db  25h	; %
		db  67h	; g
		db  25h	; %

; =============== S U B	R O U T	I N E =======================================


sub_11C25	proc near
		xor	byte ptr [si+0Ah], 1
		retn
sub_11C25	endp


; =============== S U B	R O U T	I N E =======================================


sub_11C2A	proc near
		mov	byte ptr [si+0Ah], 0
		retn
sub_11C2A	endp

; ---------------------------------------------------------------------------
		push	si
		push	di
		call	sub_106AE
		pop	di
		pop	si
		retn

; =============== S U B	R O U T	I N E =======================================


sub_11C37	proc far
		mov	ch, 1
		call	sub_11DD9
		jmp	loc_11D61
; ---------------------------------------------------------------------------
		retn
; ---------------------------------------------------------------------------
off_11C40	dw offset loc_11C5F
		dw offset loc_11C96
		dw offset loc_11C72
		dw offset loc_11C81
		dw offset loc_11C9E
		dw offset loc_11CB1
; ---------------------------------------------------------------------------

loc_11C4C:
		mov	bx, 1Fh
		and	bl, ch
		mov	al, cs:[bx+24F5h]
		cbw
		xchg	ax, di
		shl	bx, 1
		jmp	cs:off_11C40[di]

loc_11C5F:
		mov	di, word ptr aBorlandCCopyri+0Dh
		sub	di, 0Ch
		call	cs:off_11BE5[bx]
		mov	word ptr aBorlandCCopyri+0Dh, di
		jmp	loc_11D61
; ---------------------------------------------------------------------------

loc_11C72:
		mov	si, word ptr aBorlandCCopyri+0Dh
		mov	di, si
		mov	ax, 2691h
		push	ax
		jmp	cs:off_11BE5[bx]
; ---------------------------------------------------------------------------

loc_11C81:
		mov	si, word ptr aBorlandCCopyri+0Dh
		mov	di, si
		sub	di, 0Ch
		call	cs:off_11BE5[bx]
		mov	word ptr aBorlandCCopyri+0Dh, di
		jmp	loc_11D61
; ---------------------------------------------------------------------------

loc_11C96:
		add	word ptr aBorlandCCopyri+0Dh, 0Ch
		jmp	loc_11D61
; ---------------------------------------------------------------------------

loc_11C9E:
		mov	di, word ptr aBorlandCCopyri+0Dh
		lea	si, [di+0Ch]
		call	cs:off_11BE5[bx]
		mov	word ptr aBorlandCCopyri+0Dh, si
		jmp	loc_11D61
; ---------------------------------------------------------------------------

loc_11CB1:
		mov	di, word ptr aBorlandCCopyri+0Dh
		lea	si, [di+0Ch]
		mov	ax, 2691h
		push	ax
		jmp	cs:off_11BE5[bx]
; ---------------------------------------------------------------------------

loc_11CC1:
		and	ch, 1Fh
		cmp	ch, 3
		jnz	short loc_11D1E
		mov	word ptr aDivideError+0Eh, 2
		mov	word ptr aDivideError+0Ah, 6D65h
		mov	word ptr aDivideError+0Ch, 8775h
		mov	word ptr aBorlandCCopyri+4, 0
		mov	di, word ptr aBorlandCCopyri+11h
		mov	word ptr aBorlandCCopyri+0Dh, di
		mov	bx, word ptr aBorlandCCopyri+0Fh
		sub	bx, di
		neg	bx
		mov	ax, 4001h
		mov	cl, 0
		call	sub_1050D
		mov	byte ptr [di+7], 0C0h ;	'À'
		lea	si, [di+0Ah]
		sub	di, 2
		mov	cx, word ptr aBorlandCCopyri+0Fh
		sub	cx, di
		neg	cx
		shr	cx, 1
		std
		rep movsw
		mov	word ptr aBorlandCCopyri, 4100h	; "Borland C++ - Copyright 1993	Borland	In"...
		mov	word ptr aBorlandCCopyri+2, 33Fh
		jmp	short loc_11D2F
; ---------------------------------------------------------------------------

loc_11D1E:
		cmp	ch, 2
		jnz	short loc_11D2A
		mov	byte ptr aBorlandCCopyri, 0 ; "Borland C++ - Copyright 1993 Borland In"...
		jmp	short loc_11D2F
; ---------------------------------------------------------------------------

loc_11D2A:
		mov	ch, 1
		call	sub_11DD9

loc_11D2F:
		jmp	short loc_11D61
; ---------------------------------------------------------------------------

loc_11D31:
		jmp	short loc_11D2A
; ---------------------------------------------------------------------------

loc_11D33:
		test	ch, 1Fh
		jnz	short loc_11D2A
		mov	ax, word ptr aBorlandCCopyri+0Dh
		sub	ax, word ptr aBorlandCCopyri+11h
		mov	cl, 0Ch
		idiv	cl
		and	al, 7
		mov	cl, 3
		shl	al, cl
		mov	cx, word ptr aBorlandCCopyri ; "Borland	C++ - Copyright	1993 Borland In"...
		and	ch, 0C7h
		or	ch, al
		mov	[bp+10h], cx
		jmp	short loc_11D61
; ---------------------------------------------------------------------------
		mov	si, ss:24h
		add	ss:2Dh,	si

loc_11D61:
		mov	ax, ss:2Fh
		cmp	ss:2Dh,	ax
		jb	short loc_11D7B

loc_11D6C:
		mov	sp, ss:53h
		pop	es
		pop	di
		pop	si
		pop	bp
		pop	ds
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		iret
; ---------------------------------------------------------------------------

loc_11D7B:
		mov	ch, 40h	; '@'
		mov	di, word ptr aBorlandCCopyri+11h
		mov	word ptr aBorlandCCopyri+0Dh, di
		call	sub_11DD9
		int	3		; Trap to Debugger
		jmp	short loc_11D6C
sub_11C37	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_11D8B	proc far
		in	ax, dx
		sbb	si, cx
		sbb	si, bp
		sbb	bp, bp
		sbb	si, cx
		sbb	si, bp
		sbb	dx, si
		sbb	al, 37h	; '7'
		sbb	ax, 1D49h
		pop	bx
		sbb	ax, 1DA8h
		lodsw
		sbb	ax, 1DB8h

loc_11DA5:
		sti
		cld
		push	ax
		push	cx
		push	dx
		push	bx
		push	ds
		push	bp
		push	si
		push	di
		push	es
		mov	bp, sp
		mov	ss:53h,	sp
		lds	si, [bp+12h]
		lodsb
		mov	[bp+12h], si
		mov	di, ss
		mov	ds, di
		cbw
		xchg	ax, bx
		cmp	bl, 0E6h ; 'æ'
		jb	short loc_11DD2
		mov	ax, 2691h
		push	ax
		jmp	word ptr cs:[bx+26D5h]
; ---------------------------------------------------------------------------

loc_11DD2:
		mov	ch, 1
		call	sub_11DD9
		jmp	short loc_11D61
sub_11D8B	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_11DD9	proc near
		push	ax
		push	cx
		push	ds
		push	ss
		pop	ds
		mov	al, byte ptr aBorlandCCopyri ; "Borland	C++ - Copyright	1993 Borland In"...
		mov	cl, byte ptr aBorlandCCopyri+2
		and	cl, 7Fh
		xor	cl, 7Fh
		or	al, ch
		mov	ah, al
		and	ah, cl
		xor	ah, al
		test	ah, 8
		jz	short loc_11DFA
		or	al, 20h

loc_11DFA:
		test	al, cl
		jz	short loc_11E0D
		or	al, 80h
		mov	byte ptr aBorlandCCopyri, al ; "Borland	C++ - Copyright	1993 Borland In"...
		and	al, cl
		cmp	al, 20h	; ' '
		jnz	short loc_11E16
		pop	ds
		pop	cx
		pop	ax
		retn
; ---------------------------------------------------------------------------

loc_11E0D:
		and	al, 7Fh
		mov	byte ptr aBorlandCCopyri, al ; "Borland	C++ - Copyright	1993 Borland In"...
		pop	ds
		pop	cx
		pop	ax
		retn
; ---------------------------------------------------------------------------

loc_11E16:
		call	sub_15F7
		cmp	ax, 0FFFFh
		jz	short loc_11E2E
		mov	ah, 35h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	ss:61h,	bx
		mov	word ptr ss:63h, es

loc_11E2E:
		mov	sp, ss:53h
		pop	es
		pop	di
		pop	si
		pop	bp
		pop	ds
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		jmp	dword ptr ss:61h
sub_11DD9	endp

; ---------------------------------------------------------------------------
		dd 0
		dd 0
		dd 0
		dw 0
		db 0
seg015		ends

; ===========================================================================

; Segment type:	Pure code
seg016		segment	byte public 'CODE' use16
		assume cs:seg016
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::string(string	const &)
@string@$bctr$qmx6string proc far

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9610h
		call	___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_11E7F
		mov	ax, 4
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_11E99

loc_11E7F:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, es:[bx]
		inc	word ptr es:[bx]

loc_11E99:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bctr$qmx6string endp

; ---------------------------------------------------------------------------
byte_11EBF	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah ;	...
		db 0Dh dup(0), 2, 0, 2,	0, 16h,	96h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0B1h, 0
		dw seg seg016
		db 2 dup(0), 3,	0Dh dup(0), 4, 0, 3, 0,	26h, 0,	2 dup(0FFh)
		db 3, 0, 2Ch, 0, 30h, 0Dh dup(0), 1, 0,	1, 0, 0A3h, 5Bh
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far string__string(__int32, char *s)
@string@$bctr$qnxc proc	far

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
_src		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9682h
		call	___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_11F68
		mov	ax, 4
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_11FDC

loc_11F68:
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jz	short loc_11FCC
		mov	[bp+var_16], 0Eh
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, word ptr [bp+_src]
		or	ax, word ptr [bp+_src+2]
		jz	short loc_11F9E
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; s
		call	_strlen
		pop	cx
		pop	cx
		jmp	short loc_11FA0
; ---------------------------------------------------------------------------

loc_11F9E:
		xor	ax, ax

loc_11FA0:
		push	ax		; n
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		nop
		push	cs
		call	near ptr @TStringRef@$bctr$qnxcuit1uiui	; TStringRef::TStringRef(char *,uint,char *,uint,uint)
		add	sp, 12h
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_11FCC:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_11FDC:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		call	___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bctr$qnxc endp

; ---------------------------------------------------------------------------
		db 4, 0, 90h, 20h, 0Ah,	0, 91h,	2
		dw seg seg016
aTstringref	db 'TStringRef *',0
byte_12019	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h ;	...
		db 0Dh dup(0), 2, 0, 2,	0, 98h,	96h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLengther	db 'string::lengtherror',0
		dd byte_120A9
		db 2 dup(0), 3,	0Dh dup(0)
byte_12067	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah ;	...
		db 0Dh dup(0), 2, 0, 2,	0, 0E5h, 96h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 59h,	2
		dw seg seg016
		db 2 dup(0), 3,	0Dh dup(0)
byte_120A9	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h ;	...
		db 0Dh dup(0), 1, 0, 1,	0, 0A3h, 5Bh
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 0Ch, 0
		db 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 32h, 0, 3Eh, 0Dh dup(0)
		db 1, 0, 1, 0, 0A8h, 6
		dw seg seg016
		db 5, 0, 42h, 0, 54h, 53h, 74h,	72h, 69h, 6Eh, 67h, 52h
		db 65h,	66h, 2 dup(0), 0D7h, 2
		dw seg seg016
		db 2 dup(0), 3,	0Dh dup(0), 2, 0, 3, 0,	1Ah, 0,	2 dup(0FFh)
		db 1, 0, 26h, 0, 2Ah, 0Dh dup(0), 54h, 52h, 65h, 66h, 65h
		db 72h,	65h, 6Eh, 63h, 65h, 0Ah	dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far string___string(void (*driver)(void), char)
@string@$bdtr$qv proc far

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 973Bh
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_121CD
		les	bx, [bp+driver]
		les	bx, es:[bx]
		dec	word ptr es:[bx]
		mov	ax, es:[bx]
		or	ax, ax
		jnz	short loc_121BA
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+driver]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		nop
		push	cs
		call	near ptr sub_124F8
		add	sp, 6

loc_121BA:
		test	[bp+arg_4], 1
		jz	short loc_121CD
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	_registerbgidriver
		pop	cx
		pop	cx

loc_121CD:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bdtr$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::assert_element(unsigned int)const
@string@assert_element$xqui proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
_src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 976Fh
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jbe	short loc_12208
		mov	ax, 1
		jmp	short loc_1220A
; ---------------------------------------------------------------------------

loc_12208:
		xor	ax, ax

loc_1220A:
		or	ax, ax
		jnz	short loc_1228B
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9861h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 1262h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+_src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+_src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFAh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_1228B:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@assert_element$xqui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::assert_index(unsigned	int)const
@string@assert_index$xqui proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
_src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 97B3h
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jb	short loc_122C6
		mov	ax, 1
		jmp	short loc_122C8
; ---------------------------------------------------------------------------

loc_122C6:
		xor	ax, ax

loc_122C8:
		or	ax, ax
		jnz	short loc_12349
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9861h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 1280h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+_src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+_src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFAh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_12349:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@assert_index$xqui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; TSubString::assert_element(unsigned int)const
@TSubString@assert_element$xqui	proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
_src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 97F7h
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jbe	short loc_12381
		mov	ax, 1
		jmp	short loc_12383
; ---------------------------------------------------------------------------

loc_12381:
		xor	ax, ax

loc_12383:
		or	ax, ax
		jnz	short loc_12404
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9861h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 129Eh
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+_src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+_src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFAh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_12404:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@TSubString@assert_element$xqui	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far TStringRef__TStringRef(__int32, void *src, size_t n, int, int, int,	int)
@TStringRef@$bctr$qnxcuit1uiui proc far

arg_0		= dword	ptr  6
_src		= dword	ptr  0Ah
n		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_12436
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jnz	short loc_12436
		jmp	loc_124DC
; ---------------------------------------------------------------------------

loc_12436:
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 1
		mov	word ptr es:[bx+0Ah], 0
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		mov	es:[bx+6], ax
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_10]
		push	ax
		nop
		push	cs
		call	near ptr sub_12690
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		call	_malloc
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_12490
		push	ds
		mov	ax, 0ED0h
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_12490:
		push	[bp+n]		; n
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2] ; dest
		call	_memcpy
		push	[bp+arg_E]	; n
		push	[bp+arg_C]
		push	[bp+arg_A]	; src
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		add	ax, [bp+n]
		push	word ptr es:[bx+4]
		push	ax		; dest
		call	_memcpy
		add	sp, 14h
		les	bx, [bp+arg_0]
		les	bx, es:[bx+2]
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		add	bx, ax
		mov	byte ptr es:[bx], 0

loc_124DC:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@TStringRef@$bctr$qnxcuit1uiui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far sub_124F8(void (*driver)(void), char)
sub_124F8	proc far

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::~TStringRef(void)
@TStringRef@$bdtr$qv:
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9811h
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_1254A
		les	bx, [bp+driver]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_farfree
		pop	cx
		pop	cx
		test	[bp+arg_4], 1
		jz	short loc_1254A
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	_registerbgidriver
		pop	cx
		pop	cx

loc_1254A:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_124F8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_12558	proc far

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::reserve(unsigned int)
@TStringRef@reserve$qui:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9823h
		call	___InitExceptBlocks
		les	bx, [bp+arg_0]
		or	word ptr es:[bx+0Ah], 1
		mov	ax, [bp+arg_4]
		inc	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_12690
		pop	cx
		mov	[bp+var_20], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		sub	ax, [bp+var_20]
		cmp	ax, word_13D00
		jbe	short loc_125B8
		mov	ax, [bp+var_20]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp+var_20]
		mov	es:[bx+8], ax

loc_125B8:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_12558	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_125C6	proc far

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp

; TStringRef::check_freeboard(void)
@TStringRef@check_freeboard$qv:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 982Dh
		call	___InitExceptBlocks
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		nop
		push	cs
		call	near ptr sub_12690
		pop	cx
		mov	[bp+var_20], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		sub	ax, [bp+var_20]
		cmp	ax, word_13D00
		jbe	short loc_12620
		mov	ax, [bp+var_20]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp+var_20]
		mov	es:[bx+8], ax

loc_12620:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_125C6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_1262E	proc far

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::grow_to(unsigned int)
@TStringRef@grow_to$qui:
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 983Fh
		call	___InitExceptBlocks
		les	bx, [bp+arg_0]
		mov	ax, [bp+arg_4]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_12682
		push	ds
		mov	ax, 0ED0h
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_12682:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_1262E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_12690	proc far

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; TStringRef::round_capacity(unsigned int)
@TStringRef@round_capacity$qui:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9849h
		call	___InitExceptBlocks
		mov	ax, word_13CFC
		mov	[bp+var_20], ax
		mov	cx, word_13CFE
		mov	ax, [bp+arg_0]
		sub	ax, [bp+var_20]
		add	ax, cx
		dec	ax
		xor	dx, dx
		div	cx
		imul	cx
		add	ax, [bp+var_20]
		push	ax
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_12690	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_126CF	proc far

var_26		= word ptr -26h
var_24		= word ptr -24h
dest		= dword	ptr -22h
var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
n		= word ptr  0Ah
arg_6		= word ptr  0Ch
_src		= dword	ptr  0Eh
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp

; TStringRef::splice(unsigned int, unsigned int, char const *, unsigned	int)
@TStringRef@splice$quiuinxcui:
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 985Bh
		call	___InitExceptBlocks
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_C]
		sub	ax, [bp+arg_6]
		mov	[bp+var_24], ax
		push	ax
		push	cs
		call	near ptr sub_12690
		pop	cx
		mov	[bp+var_26], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		cmp	ax, [bp+var_26]
		jnb	short loc_12717
		push	[bp+var_26]
		push	word ptr [bp+arg_0+2]
		push	bx
		push	cs
		call	near ptr sub_1262E
		add	sp, 6
		jmp	short loc_12786
; ---------------------------------------------------------------------------

loc_12717:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		sub	ax, [bp+var_26]
		cmp	ax, word_13D00
		jbe	short loc_12786
		test	byte ptr es:[bx+0Ah], 1
		jnz	short loc_12786
		mov	ax, [bp+var_26]
		inc	ax
		push	ax
		call	_malloc
		pop	cx
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_12758
		push	ds
		mov	ax, 0ED0h
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_12758:
		cmp	[bp+n],	0
		jz	short loc_1277A
		push	[bp+n]		; n
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		call	_memcpy
		add	sp, 0Ah

loc_1277A:
		les	bx, [bp+arg_0]
		mov	ax, [bp+var_26]
		mov	es:[bx+8], ax
		jmp	short loc_12797
; ---------------------------------------------------------------------------

loc_12786:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax

loc_12797:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, word ptr [bp+dest+2]
		jnz	short loc_127B4
		cmp	ax, word ptr [bp+dest]
		jnz	short loc_127B4
		mov	ax, [bp+arg_C]
		cmp	ax, [bp+arg_6]
		jz	short loc_127E6

loc_127B4:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]
		sub	ax, [bp+n]
		sub	ax, [bp+arg_6]
		push	ax		; n
		mov	ax, es:[bx+2]
		add	ax, [bp+n]
		add	ax, [bp+arg_6]
		push	word ptr es:[bx+4]
		push	ax		; src
		mov	ax, word ptr [bp+dest]
		add	ax, [bp+n]
		add	ax, [bp+arg_C]
		push	word ptr [bp+dest+2]
		push	ax		; dest
		call	_memmove
		add	sp, 0Ah

loc_127E6:
		cmp	[bp+arg_C], 0
		jz	short loc_1282A
		mov	ax, word ptr [bp+_src]
		or	ax, word ptr [bp+_src+2]
		jz	short loc_12811
		push	[bp+arg_C]	; n
		push	word ptr [bp+_src+2]
		push	word ptr [bp+_src] ; src
		mov	ax, word ptr [bp+dest]
		add	ax, [bp+n]
		push	word ptr [bp+dest+2]
		push	ax		; dest
		call	_memmove
		add	sp, 0Ah
		jmp	short loc_1282A
; ---------------------------------------------------------------------------

loc_12811:
		push	[bp+arg_C]	; n
		mov	ax, 20h	; ' '
		push	ax		; c
		mov	ax, word ptr [bp+dest]
		add	ax, [bp+n]
		push	word ptr [bp+dest+2]
		push	ax		; s
		call	_memset
		add	sp, 8

loc_1282A:
		les	bx, [bp+arg_0]
		mov	ax, [bp+var_24]
		mov	es:[bx+6], ax
		push	es
		les	ax, [bp+dest]
		mov	dx, es
		pop	es
		add	ax, es:[bx+6]
		mov	bx, ax
		mov	es, dx
		mov	byte ptr es:[bx], 0
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, word ptr [bp+dest+2]
		jnz	short loc_1285C
		cmp	ax, word ptr [bp+dest]
		jz	short loc_1287F

loc_1285C:
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_farfree
		pop	cx
		pop	cx
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax

loc_1287F:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_126CF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1288D	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; string::set_case_sensitive(int)
@string@set_case_sensitive$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_13CF6
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_0]
		mov	word_13CF6, ax
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_1288D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_128AA	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; string::set_paranoid_check(int)
@string@set_paranoid_check$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_13CF8
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_0]
		mov	word_13CF8, ax
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_128AA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_128C7	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; string::skip_whitespace(int)
@string@skip_whitespace$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_13CFA
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_0]
		mov	word_13CFA, ax
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_128C7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_128E4	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; string::initial_capacity(unsigned int)
@string@initial_capacity$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_13CFC
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_0]
		mov	word_13CFC, ax
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_128E4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_12901	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; string::resize_increment(unsigned int)
@string@resize_increment$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_13CFE
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_0]
		mov	word_13CFE, ax
		cmp	word_13CFE, 0
		jnz	short loc_12922
		mov	word_13CFE, 1

loc_12922:
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_12901	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1292B	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; string::max_waste(unsigned int)
@string@max_waste$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_13D00
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_0]
		mov	word_13D00, ax
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_1292B	endp

; ---------------------------------------------------------------------------
byte_12948	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h ;	...
		db 0Dh dup(0), 2, 0, 2,	0, 96h,	98h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLength_0	db 'string::lengtherror',0
		dd byte_129D8
		dw 0
		db 3, 0Dh dup(0), 6, 0,	3, 0, 26h, 0, 2	dup(0FFh), 7, 0
		db 2Eh,	0, 3Ah,	0Dh dup(0), 2, 0, 2, 0,	0E3h, 98h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 88h,	0Bh
		dw seg seg016
		db 2 dup(0), 3,	0Dh dup(0)
byte_129D8	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h ;	...
		db 0Dh dup(0), 1, 0, 1,	0, 0A3h, 5Bh
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 4, 0
		db 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h, 0Dh dup(0)
		db 1, 0, 1, 0, 5, 3
		dw seg seg016
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_12A4A	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h ;	...
		db 0Dh dup(0), 2, 0, 2,	0, 30h,	99h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringOutofran	db 'string::outofrange',0
		db 0
		dd byte_129D8
		db 2 dup(0), 3,	15h dup(0)
seg016		ends

; ===========================================================================

; Segment type:	Pure data
dseg		segment	para public 'DATA' use16
		assume cs:dseg
word_12AA0	dw 0
word_12AA2	dw 0
CheckStr	db 'NULL CHECK',0
		dd    0
		dd    0
		dd    0
		dd    0
		db    0
aBorlandCCopyri	db 'Borland C++ - Copyright 1993 Borland Intl.',0
aDivideError	db 'Divide error',0Dh,0Ah,0
dword_12AFA	dd 0
dword_12AFE	dd 0
dword_12B02	dd 0
dword_12B06	dd 0
; int argc
argc		dw 0
; char **argv
argv		dw 0
word_12B0E	dw 0
; char **envp
envp		dw 0
word_12B12	dw 0
word_12B14	dw 0
word_12B16	dw 0
word_12B18	dw 0
; unsigned int segx
segx		dw 0
word_12B1C	dw 0
word_12B1E	dw 0
		db 0FFh
		db 0FFh
		db 0BAh	; º
		db  1Ch
word_12B24	dw 0
word_12B26	dw 0
word_12B28	dw 0
word_12B2A	dw 0
word_12B2C	dw 0
word_12B2E	dw 0
; char word_12B30[]
word_12B30	dw 86A0h
word_12B32	dw 1
; char arglist[]
arglist		dw 86A0h
word_12B36	dw 1
aReiidenconfig	db 'ReiidenConfig',0
aErrorEnd_flagI	db 'ERROR : end_flag is not ture !!',0
; char s[]
s		db 'ERROR : cfg_id is not alloc!!',0
aReiidenconfi_0	db 'ReiidenConfig',0
; char path[]
path		db 'op',0
; char arg0[3]
arg0		db 'op',0
		db    0
byte_12B99	db 0
byte_12B9A	db 0
byte_12B9B	db 0
byte_12B9C	db 0
byte_12B9D	db 0
		db    0
byte_12B9F	db 0
byte_12BA0	db 0
byte_12BA1	db 0
byte_12BA2	db 0
byte_12BA3	db 0
		dd 0
		db  49h	; I
		db  81h	; 
		db  48h	; H
		db  81h	; 
		db  94h	; ”
		db  81h	; 
		db  95h	; •
		db  81h	; 
		db  96h	; –
		db  81h	; 
		db  98h	; ˜
		db  81h	; 
		db  99h	; ™
		db  81h	; 
		db  9Fh	; Ÿ
		db  81h	; 
		db  87h	; ‡
		db  81h	; 
		db  88h	; ˆ
		db  81h	; 
		db  89h	; ‰
		db  81h	; 
		db  8Ah	; Š
		db  81h	; 
		db  63h	; c
		db  81h	; 
		db  67h	; g
		db  81h	; 
		db  68h	; h
		db  81h	; 
		db  5Eh	; ^
		db  81h	; 
		db  44h	; D
		db  81h	; 
		db  45h	; E
		db  81h	; 
off_12BCC	dd aVo
					; "‚O"
word_12BD0	dw 191h
seg_12BD2	dw seg dseg
word_12BD4	dw 194h
seg_12BD6	dw seg dseg
byte_12BD8	db 97h
byte_12BD9	db 1
seg_12BDA	db 0aah
unk_12BDB	db  12h
word_12BDC	dw 19Ah
seg_12BDE	dw seg dseg
word_12BE0	dw 19Dh
seg_12BE2	dw seg dseg
word_12BE4	dw 1A0h
seg_12BE6	dw seg dseg
off_12BE8	dd aVv
					; "‚V"
word_12BEC	dw 1A6h
		dw seg dseg
		dd aVx			; "‚X"
aBqbqbqbqbqbqbq	db 'QQQQQQQQ',0
aB@b@b@b@b@b@b@	db '@@@@@@@@',0
aHiscore_0	db 'HISCORE',0
off_12C1E	dd aB@gcbGwbB@
					; "@ƒC[ƒW[@"
		dd aB@gmbGGlb@		; "@ƒm[ƒ}ƒ‹@"
		dd aB@gnbGhb@b@		; "@ƒn[ƒh@@"
		dd aGlgigegbgbgn	; "ƒ‹ƒiƒeƒBƒbƒN"
aVo		db '‚O',0
aVp		db '‚P',0
aVq		db '‚Q',0
aVr		db '‚R',0
aVs		db '‚S',0
aVt		db '‚T',0
aVu		db '‚U',0
aVv		db '‚V',0
aVw		db '‚W',0
aVx		db '‚X',0
aC_0		db '–³',0
aUmx_0		db '“Œ•ûšèËˆÙ“`@@',0
aHiscore_1	db 'HISCORE',0
aReyhies_dat	db 'REYHIES.DAT',0
aReyhino_dat	db 'REYHINO.DAT',0
aReyhiha_dat	db 'REYHIHA.DAT',0
; char src[]
src		db 'REYHILU.DAT',0
; char mode[]
mode		db 'wb',0
aReyhies_dat_0	db 'REYHIES.DAT',0
aReyhino_dat_0	db 'REYHINO.DAT',0
aReyhiha_dat_0	db 'REYHIHA.DAT',0
; char aReyhilu_dat_0[]
aReyhilu_dat_0	db 'REYHILU.DAT',0
; char aRb[]
aRb		db 'rb',0
aGtg@gcglvkvVVi	db 'ƒtƒ@ƒCƒ‹‚ª‚Ý‚Â‚©‚ñ‚È‚¢',0
aHiscore	db 'HISCORE',0
; char format[]
format		db 'ƒtƒ@ƒCƒ‹‚ªˆá‚¤I',0
; char aCC[]
aCC		db '%c%c',0
aVb		db '‚',0
; char aCC_0[]
aCC_0		db '%c%c',0
; char aCC_1[]
aCC_1		db '%c%c',0
; char aCC_2[]
aCC_2		db '%c%c',0
; char aSp[]
aSp		db 'SP',0
; char aBi[]
aBi		db '©',0
; char aBi_0[]
aBi_0		db '¨',0
; char aPi[]
aPi		db 'I',0
aB@cB@iB@	db '@—ì@ˆÊ@',0
aB@b@cB@b@sob@b	db '@@–¼@@‘O@@',0
aB@b@uB@b@u_b@b	db '@@“¾@@“_@@',0
aGxgebGwbeglbGg	db 'ƒXƒe[ƒWEƒ‹[ƒg',0
aB@sB@r_b@	db '@èË@_@',0
aSMRgcId	db '‘¾Œ³ƒ–¾‰¤',0
aB@uvb@rxb@	db '@“V@å@',0
aB@r_b@rxb@	db '@_@å@',0
aB@tnb@rxb@	db '@’n@å@',0
aB@rlb@rxb@	db '@l@å@',0
aB@rxb@pcb@	db '@å@—@',0
aIab@czb@ot	db '‰A@—z@Žt',0
aSB@fB@ot	db 'èË@”}@Žt',0
aPcb@lB@o	db 'C@‹Æ@ŽÒ',0
aCvke		db '–‚ŠE',0
aTnnc		db '’n–',0
aB		db '|',0
; char aCC_3[]
aCC_3		db '%c%c',0
; char aSp_0[]
aSp_0		db 'SP',0
; char aBi_1[]
aBi_1		db '©',0
; char aBi_2[]
aBi_2		db '¨',0
; char aPi_0[]
aPi_0		db 'I',0
; char aCC_4[]
aCC_4		db '%c%c',0
; char aS[]
aS		db '%s',0
; char aS_0[]
aS_0		db '%s',0
aReyhies_dat_1	db 'REYHIES.DAT',0
aReyhino_dat_1	db 'REYHINO.DAT',0
aReyhiha_dat_1	db 'REYHIHA.DAT',0
; char aReyhilu_dat_1[]
aReyhilu_dat_1	db 'REYHILU.DAT',0
; char aWb_0[]
aWb_0		db 'wb',0
aB@gcbGwbB@	db '@ƒC[ƒW[@',0
aB@gmbGGlb@	db '@ƒm[ƒ}ƒ‹@',0
aB@gnbGhb@b@	db '@ƒn[ƒh@@',0
aGlgigegbgbgn	db 'ƒ‹ƒiƒeƒBƒbƒN',0
; char aUmx[3]
aUmx		db '“Œ•ûèËˆÙ“`@‹­ŽÒ‚Ì‹L˜^@%s',0
		dd aB@gvguglbB@		; "@ƒ‚ƒ“ƒL[@"
		dd aB@cRlio		; "@—Þl‰Ž"
		dd aGzgvgtgsgggugx	; "ƒzƒ‚ƒTƒsƒGƒ“ƒX"
		dd aB@tRl		; "@’´l"
		dd aB@sR_b@		; "@èË_@"
		dd aB@r_v		; "@_‚ð’´‰z"
		dd aVioqclgqbGB		; "‚¨Žq—lƒQ[ƒ}["
		dd aOcf			; "Ž—”ñƒXƒRƒAƒ‰["
		dd aGGhglgxgrgagib	; "ƒ~ƒhƒ‹ƒXƒRƒAƒ‰["
		dd aGngcgxgrgagib	; "ƒnƒCƒXƒRƒAƒ‰["
		dd aGxbGpbGqbGB		; "ƒX[ƒp[ƒQ[ƒ}["
		dd aGqbGBV		; "ƒQ[ƒ}[‚ð’´‰z"
		dd aXevVVViv		; "•…‚Á‚½‚Ý‚©‚ñ"
		dd aGugbgnbGavO		; "ƒUƒbƒN[ƒ€‚ÌŽÀ"
		dd aLTfvCMc		; "‹Ö’f‚Ì—ÑŒç"
		dd aRvkeo		; "¢ŠEŽ÷‚Ì—t"
		dd aIitsluucr_tomo	; "‰©’é‹ã“C_’OŒo"
		dd aB@gagagkg		; "@ƒAƒ€ƒŠƒ^"
off_12EC0	dd aEasy
					; " EASY "
		dd aNormal		; "NORMAL"
		dd aHard		; " HARD "
		dd aLunatic		; "LUNATIC"
aB@gvguglbB@	db '@ƒ‚ƒ“ƒL[@',0
aB@cRlio	db '@—Þl‰Ž',0
aGzgvgtgsgggugx	db 'ƒzƒ‚ƒTƒsƒGƒ“ƒX',0
aB@tRl		db '@’´l',0
aB@sR_b@	db '@èË_@',0
aB@r_v		db '@_‚ð’´‰z',0
aVioqclgqbGB	db '‚¨Žq—lƒQ[ƒ}[',0
aOcf		db 'Ž—”ñƒXƒRƒAƒ‰[',0
aGGhglgxgrgagib	db 'ƒ~ƒhƒ‹ƒXƒRƒAƒ‰[',0
aGngcgxgrgagib	db 'ƒnƒCƒXƒRƒAƒ‰[',0
aGxbGpbGqbGB	db 'ƒX[ƒp[ƒQ[ƒ}[',0
aGqbGBV		db 'ƒQ[ƒ}[‚ð’´‰z',0
aXevVVViv	db '•…‚Á‚½‚Ý‚©‚ñ',0
aGugbgnbGavO	db 'ƒUƒbƒN[ƒ€‚ÌŽÀ',0
aLTfvCMc	db '‹Ö’f‚Ì—ÑŒç',0
aRvkeo		db '¢ŠEŽ÷‚Ì—t',0
aIitsluucr_tomo	db '‰©’é‹ã“C_’OŒo',0
aB@gagagkg	db '@ƒAƒ€ƒŠƒ^',0
; char aIris_mdt[]
aIris_mdt	db 'iris.mdt',0
aEd1a_grp	db 'ED1A.grp',0
aEd1b_grp	db 'ED1B.grp',0
aEd1c_grp	db 'ED1C.GRP',0
aEd1d_grp	db 'ED1D.GRP',0
aEd1e_grp	db 'ED1E.GRP',0
; char aSt1_mdt[]
aSt1_mdt	db 'st1.mdt',0
aEd2a_grp	db 'ed2a.grp',0
aTryToNoContinu	db 'Try to ',27h,'No continue',27h,'!!',0
aBadEnding2	db '      Bad Ending2     ',0
aEd4a_grp	db 'ed4a.grp',0
aTryToNoConti_0	db 'Try to ',27h,'No continue',27h,'!!',0
aBadEnding1	db '      Bad Ending1     ',0
aEd3a_grp	db 'ed3a.grp',0
aEd3b_grp	db 'ed3b.grp',0
aCongratulation	db 'Congratulations!',0
aGoodEnding2	db '     Good Ending2     ',0
aEd5a_grp	db 'ed5a.grp',0
aEd5b_grp	db 'ed5b.grp',0
aEd5c_grp	db 'ed5c.grp',0
aCongratulati_0	db 'Congratulations!',0
aGoodEnding1	db '     Good Ending1     ',0
; char aSt1_mdt_0[]
aSt1_mdt_0	db 'st1.mdt',0
aEndb_a_grp	db 'endb_a.grp',0
aEndb_b_grp	db 'endb_b.grp',0
aStage5Boss	db 'STAGE 5 BOSS',0
aGatekeeperSing	db 'Gatekeeper ',27h,'SinGyoku',27h,0
aStage10Boss	db 'STAGE 10 BOSS',0
aEvileyesYuugen	db 'EvilEyes ',27h,'YuugenMagan',27h,0
aStage10Boss_0	db 'STAGE 10 BOSS',0
aRevengefulGhos	db 'Revengeful Ghost ',27h,'Mima',27h,0
aStage15Boss	db 'STAGE 15 BOSS',0
aInnocenceDevil	db 'Innocence Devil ',27h,'Elis',27h,0
aStage15Boss_0	db 'STAGE 15 BOSS',0
aHellmoonKikuri	db 'HellMoon ',27h,'Kikuri',27h,0
aStage20Boss	db 'STAGE 20 BOSS',0
aAngelOfDeathSa	db 'Angel of Death',27h,'Sariel',27h,0
aStage20Boss_0	db 'STAGE 20 BOSS',0
aAstralKnightKo	db 'Astral Knight ',27h,'Konngara',27h,0
; char aS_1[]
aS_1		db '%s',0
aEasy		db ' EASY ',0
aNormal		db 'NORMAL',0
aHard		db ' HARD ',0
aLunatic	db 'LUNATIC',0
aEndm_a_grp	db 'endm_a.grp',0
aUmx_1		db '“Œ•ûèËˆÙ“`',0
aVer		db 'ver',0
a1_10		db '1.10',0
; char aUqiUxb[]
aUqiUxb@b@b@b@b	db '“ïˆÕ“x@@@@@@@@@@  %s',0
; char aNbi[3]
aNbi		db '¡‰ñ‚ÌÅ‚“¾“_@@@@@@  %7lu',0
; char aNPiuU_b[]
aNPiuU_b@b@b@b@	db 'ÅI“¾“_@@@@@@@@@  %7lu',0
; char aGrgugegbgjgebI[15]
aGrgugegbgjgebI	db 'ƒRƒ“ƒeƒBƒjƒ…[‰ñ”',0
; char aB[]
aB@r_oB@b@b@b@b	db '@_ŽÐ@@@@i‚P–Ê`‚T–Êj @ %3lu',0
aB@gqbGgb@b@b@b	db '@ƒQ[ƒg@@@i‚U–Ê`‚P‚O–Êj  %3lu',0
; char aB[]
aB@tkb@b@b@b@b@	db '@âK@@@@@i‚U–Ê`‚P‚O–Êj  %3lu',0
aGfgbgivFpBivpv	db '  ƒ”ƒBƒi‚Ì”pšÐi‚P‚P–Ê`‚P‚T–Êj%3lu',0
; char aB[]
aB@ikvXekeb@b@b	db '@‰Š‚Ì•…ŠE@@i‚P‚P–Ê`‚P‚T–Êj%3lu',0
aSVVVsr_uabivpv	db '  ‘Â‚¿‚½‚é_“ai‚P‚T–Ê`‚Q‚O–Êj%3lu',0
; char aB[]
aB@rVivVsr_uabi	db '@Ã‚©‚È‚é_“ai‚P‚T–Ê`‚Q‚O–Êj%3lu',0
aCvkeglbGgsnnzb	db '  –‚ŠEƒ‹[ƒg‘‡@@@@@@  %5lu',0
; char aB[]
aB@tnncglbGgsnn	db '@’n–ƒ‹[ƒg‘‡@@@@@@@%5lu',0
aThankYouForPla	db '    Thank you for Playing !! ',0
; char aBBBVavVVPNjbBB[]
aBBBVavVVPNjbBB	db 'ššš‚ ‚È‚½‚ÌÌ†ššš',0
aKo		db 'Š®',0
aKo_0		db 'Š®',0
		db 0
; char aC[]
aC		db '%c',0
; char aCC_5[]
aCC_5		db '%c%c',0
byte_13442	db 0
word_13443	dw 0
		db    7
		dd    0
		db    0
		db    0
		db    0
word_1344D	dw 140h
word_1344F	dw 0C8h
		dd    0
		db  7Fh	; 
		db    2
		db  8Fh	; 
		db    1
		db    0
		db 0C0h	; À
		db    0
		db 0E0h	; à
		db    0
		db 0F0h	; ð
		db    0
		db 0F8h	; ø
		db    0
		db 0FCh	; ü
		db    0
		db 0FEh	; þ
		db    0
		db 0FFh
		db  80h	; €
		db 0FFh
		db 0C0h	; À
		db 0FFh
		db 0E0h	; à
		db 0FFh
		db    0
		db 0FEh	; þ
		db    0
		db 0EFh	; ï
		db    0
		db 0CFh	; Ï
		db  80h	; €
		db    7
		db  80h	; €
		db    7
		db    0
		db    3
		db    0
		db    0
		db    0
		db  40h	; @
		db    0
		db  60h	; `
		db    0
		db  70h	; p
		db    0
		db  78h	; x
		db    0
		db  7Ch	; |
		db    0
		db  7Eh	; ~
		db    0
		db  7Fh	; 
		db  80h	; €
		db  7Fh	; 
		db    0
		db  7Ch	; |
		db    0
		db  6Ch	; l
		db    0
		db  46h	; F
		db    0
		db    6
		db    0
		db    3
		db    0
		db    3
		db    0
		db    0
		db    0
a3l		db 1Bh,'[>3l',0
a3h		db 1Bh,'[>3h',0
a1l		db 1Bh,'[>1l',0
a1h		db 1Bh,'[>1h',0
a2j		db 1Bh,'[2J',0
		db 0
byte_134B8	db 0
		db 0
unk_134BA	db    0
		dd    0
		db  0Fh
		db    0
		db  0Fh
		db    0
byte_134C3	db 0
byte_134C4	db 0Fh
byte_134C5	db 0Fh
		db  0Fh
		db    0
		db    0
		db  0Fh
		db    0
		db  0Fh
		db  0Fh
		db  0Fh
		db    0
byte_134CF	db 0Fh
byte_134D0	db 0Fh
byte_134D1	db 0Fh
		db    8
		db    8
		db    8
		db    0
		db    0
		db  0Ah
		db    0
		db  0Ah
		db    0
		db    0
		db  0Ah
		db  0Ah
		db  0Ah
		db    0
		db    0
		db  0Ah
		db    0
		db  0Ah
		db  0Ah
		db  0Ah
		db    0
		db  0Ch
		db  0Ch
		db  0Ch
byte_134EA	db 0
word_134EB	dw 80h
aPal98Grb	db 'pal98 grb',0
		db 0
word_134F8	dw 1
word_134FA	dw 1
		dd    0
		dd    0
		db    0
		db    0
		db    0
word_13507	dw 64h
byte_13509	db 0
byte_1350A	db 0
		db 0
aMdrv2system	db 'Mdrv2System',0
aMasterl_libVer	db 'MASTERL.LIB Version 0.23 Copyright (c)1995 A.Koizuka,Kazumi,steel'
		db 'man,iR,All rights reserved.',0
		db 0
word_13576	dw 0A800h
word_13578	dw 3E80h
word_1357A	dw 190h
		db  50h	; P
		db    0
word_1357E	dw 0
		db  55h	; U
		db    0
word_13582	dw 64h
		dd    0
		db    0
		db 0FFh
		db 0FFh
		db    0
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db    0
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db    0
		db 0FFh
		db 0FFh
		db 0FFh
		db  77h	; w
		db  77h	; w
		db  77h	; w
		db    0
		db    0
		db 0AAh	; ª
		db 0AAh	; ª
		db    0
		db    0
		db 0AAh	; ª
		db    0
		db 0AAh	; ª
		db    0
		db 0AAh	; ª
		db    0
		db    0
		db 0AAh	; ª
		db 0AAh	; ª
		db 0AAh	; ª
		db 0AAh	; ª
		db    0
		db 0AAh	; ª
		db 0AAh	; ª
		db 0AAh	; ª
word_135B4	dw 0
word_135B6	dw 0
		db    0
		db    0
aPal98Grb_0	db 'pal98 grb',0
aPal98Grb_1	db 'pal98 grb',0
word_135CE	dw 0
word_135D0	dw 0FFFFh
byte_135D2	db 0
		db 0
word_135D4	dw 0
word_135D6	dw 27Fh
word_135D8	dw 27Fh
word_135DA	dw 0
word_135DC	dw 18Fh
word_135DE	dw 18Fh
word_135E0	dw 0A800h
word_135E2	dw 7CB0h
word_135E4	dw 1
word_135E6	dw 0
word_135E8	dw 1330h
		dd 0
dword_135EE	dd 0
		dd 0
		dd 0
		dd 0
		dw 0
word_13600	dw 0FFFFh
		db  81h	; 
		db    0
		dd aDomain		; "Domain"
		db  82h	; ‚
		db    0
		dd aDenormal		; "Denormal"
		db  83h	; ƒ
		db    0
		dd aDivideBy0		; "Divide by 0"
		db  84h	; „
		db    0
		dd aOverflow		; "Overflow"
		db  85h	; …
		db    0
		dd aUnderflow		; "Underflow"
		db  86h	; †
		db    0
		dd aPartialLossOfP	; "Partial loss	of precision"
		db  87h	; ‡
		db    0
		dd aStackFault		; "Stack fault"
aDomain		db 'Domain',0
aDenormal	db 'Denormal',0
aDivideBy0	db 'Divide by 0',0
aOverflow	db 'Overflow',0
aUnderflow	db 'Underflow',0
aPartialLossOfP	db 'Partial loss of precision',0
aStackFault	db 'Stack fault',0
aFloatingPointE	db 'Floating point error: %s.',0Ah,0
flt_1369C	dd 1.0
		db    0
		db    0
		db  20h
		db  41h	; A
		db    0
		db    0
		db 0C8h	; È
		db  42h	; B
		db    0
		db    0
		db  7Ah	; z
		db  44h	; D
		db    0
		db  40h	; @
		db  1Ch
		db  46h	; F
		db    0
		db  50h	; P
		db 0C3h	; Ã
		db  47h	; G
		db    0
		db  24h	; $
		db  74h	; t
		db  49h	; I
		db  80h	; €
		db  96h	; –
		db  18h
		db  4Bh	; K
flt_136BC	dd 1.0e8
dbl_136C0	dq 1.0e16
		; Hack. Let's better use bytes for accuracy here.
tbyte_12C08	db 09eh, 0b5h, 070h, 02bh, 0a8h, 0adh, 0c5h, 09dh, 069h, 040h
tbyte_12C12	db 0d5h, 0a6h, 0cfh, 0ffh, 049h, 01fh, 078h, 0c2h, 0d3h, 040h
tbyte_12C1C	db 0e0h, 08ch, 0e9h, 080h, 0c9h, 047h, 0bah, 093h, 0a8h, 041h
tbyte_12C26	db 08eh, 0deh, 0f9h, 09dh, 0fbh, 0ebh, 07eh, 0aah, 051h, 043h
tbyte_12C30	db 0c7h, 091h, 00eh, 0a6h, 0aeh, 0a0h, 019h, 0e3h, 0a3h, 046h
tbyte_12C3A	db 017h, 00ch, 075h, 081h, 086h, 075h, 076h, 0c9h, 048h, 04dh
tbyte_12C44	db 0e5h, 05dh, 03dh, 0c5h, 05dh, 03bh, 08bh, 09eh, 092h, 05ah
tbyte_12C4E	db 09bh, 097h, 020h, 08ah, 002h, 052h, 060h, 0c4h, 025h, 075h
flt_13718	dd 3.4028237e38
aAbnormalProgra	db 'Abnormal program termination',0Dh,0Ah,0
		db 0
word_1373C	dw 0
off_1373E	dd sub_1E5C
off_13742	dd sub_1E5C
off_13746	dd sub_1E5C
		dw 0
word_1374C	dw 209h
byte_1374E	db 0
		dd    0
		dd    0
		dd    0
		db    0
		db 0AAh	; ª
		db  0Ch
		db    0
		db    0
word_13760	dw 20Ah
byte_13762	db 1
		dd 0
		dd 0
		dd 0
		db    0
		db 0BEh	; ¾
		db  0Ch
		db    0
		db    0
		db    2
		db    2
byte_13776	db 2
		dd    0
		dd    0
		dd    0
		db    0
		db 0D2h	; Ò
		db  0Ch
		db    0
		db    0
		db  43h	; C
		db    2
		db    3
		dd    0
		dd    0
		dd    0
		db    0
		db 0E6h	; æ
		db  0Ch
		db    0
		db    0
		db  42h	; B
		db    2
		db    4
		dd    0
		dd    0
		dd    0
		db    0
		db 0FAh	; ú
		db  0Ch
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
word_138DA	dw 14h
		db    1
		db  60h	; `
		db    2
		db  60h	; `
		db    2
		db  60h	; `
		db    4
		db 0A0h	;  
		db    2
		db 0A0h	;  
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		db    0
		db    0
word_13904	dw 4000h
word_13906	dw 0FFFFh
		db 0CCh	; Ì
		db    0
word_1390A	dw 0
		db    0
		db  13h
		db    2
		db    2
		db    4
		db    5
		db    6
		db    8
		db    8
		db    8
		db  14h
		db  15h
		db    5
		db  13h
		db  0Eh
		db    5
		db    5
		db  11h
		db    2
		db  1Eh
		db  29h	; )
		db  2Ch	; ,
		db  28h	; (
		db  28h	; (
		db  28h	; (
		db  28h	; (
		db  28h	; (
		db  29h	; )
		db  2Ch	; ,
		db  28h	; (
		db  28h	; (
		db  28h	; (
		db    5
		db    5
		db  29h	; )
		db  17h
		db  17h
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Fh
		db  2Ch	; ,
		db  23h	; #
		db    2
		db  2Ch	; ,
		db  0Fh
		db  2Ah	; *
		db  28h	; (
		db  28h	; (
		db  28h	; (
		db  13h
		db  1Bh
		db  1Ch
		db    2
		db    2
		db    5
		db  0Fh
		db    2
		db  17h
		db  28h	; (
		db  2Ah	; *
		db  13h
		db  2Ah	; *
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  23h	; #
		db  0Eh
		db  1Ch
		db  28h	; (
		db  17h
		db  23h	; #
		db  25h	; %
		db  13h
		db  28h	; (
		db    0
		db  54h	; T
		db  4Dh	; M
		db  50h	; P
		db    0
		db  2Eh	; .
		db  24h	; $
		db  24h	; $
		db  24h	; $
		dd    0
		db    0
		db    0
word_13974	dw 0
word_13976	dw 22E3h
seg_13978	dw seg seg000
aOutOfMemory	db 'Out of memory',0
word_13988	dw 1000h
		public __ctype
; unsigned __int8 _ctype[257]
__ctype		db    0, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 21h, 21h,	21h, 21h, 21h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 81h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 12h, 12h, 12h,	12h, 12h, 12h, 12h
		db  12h, 12h, 12h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 14h, 14h,	14h, 14h, 14h, 14h
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	40h, 40h, 40h, 40h
		db  40h, 40h, 18h, 18h,	18h, 18h, 18h, 18h
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	40h, 40h, 40h, 40h
		db  20h,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0
		db 0
off_13A8C	dd unk_13ABC
		dd unk_13ABE
		dd unk_13ABF
		dd unk_13AC0
		dd unk_13AC1
		dd unk_13AC2
		dd unk_13AC3
		dd unk_13AC4
		dd unk_13AC5
		dd unk_13AC6
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
		db  7Fh	; 
unk_13ABC	db  2Eh	; .
		db    0
unk_13ABE	db    0
unk_13ABF	db    0
unk_13AC0	db    0
unk_13AC1	db    0
unk_13AC2	db    0
unk_13AC3	db    0
unk_13AC4	db    0
unk_13AC5	db    0
unk_13AC6	db    0
		db    0
		db  28h	; (
		db  6Eh	; n
		db  75h	; u
		db  6Ch	; l
		db  6Ch	; l
		db  29h	; )
		db    0
		db    0
		db  14h
		db  14h
		db    1
		db  14h
		db  15h
		db  14h
		db  14h
		db  14h
		db  14h
		db    2
		db    0
		db  14h
		db    3
		db    4
		db  14h
		db    9
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  0Fh
		db  17h
		db  0Fh
		db    8
		db  14h
		db  14h
		db  14h
		db    7
		db  14h
		db  16h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  0Dh
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  10h
		db  0Ah
		db  0Fh
		db  0Fh
		db  0Fh
		db    8
		db  0Ah
		db  14h
		db  14h
		db    6
		db  14h
		db  12h
		db  0Bh
		db  0Eh
		db  14h
		db  14h
		db  11h
		db  14h
		db  0Ch
		db  14h
		db  14h
		db  0Dh
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		dd    0
		dd    0
		db    0
		db    0
		db    0
		dd @terminate$qv	; terminate(void)
		dd @unexpected$qv	; unexpected(void)
word_13B42	dw 0
word_13B44	dw 0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		db    0
		db    0
word_13C58	dw 0
word_13C5A	dw 0
byte_13C5C	db 0
byte_13C5D	db 0
word_13C5E	dw 0
word_13C60	dw 0
		dd    0
word_13C66	dw 0
word_13C68	dw 0
		dd    0
		dd    0
		dd    0
		db    2
		db    4
		db    8
		db  0Bh
		db  0Fh
		db  16h
		db    0
		db  15h
		db  8Ch	; Œ
		db  0Bh
		db    0
		db    0
dword_13C82	dd 0
		dd    0
		dd    0
		dd    0
		db  0Dh
		db    0
		db    0
		db    0
		db  5Ch	; \
		db    0
word_13C98	dw 0
word_13C9A	dw 0
word_13C9C	dw 30h
aNotype		db '<notype>',0
aBccxh1		db '**BCCxh1',0
aPrintScanfFloa	db 'print scanf : floating point formats not linked',0Dh,0Ah,0
word_13CE2	dw 0
word_13CE4	dw 0
word_13CE6	dw 0
word_13CE8	dw 0
word_13CEA	dw 0
word_13CEC	dw 0
word_13CEE	dw 0
word_13CF0	dw 0
dword_13CF2	dd 0
word_13CF6	dw 1
word_13CF8	dw 0
word_13CFA	dw 1
word_13CFC	dw 3Fh
word_13CFE	dw 40h
word_13D00	dw 3Fh
aStringReferenc	db 'String reference out of range',0
aStringRefere_0	db 'String reference out of range',0
aStringRefere_1	db 'String reference out of range',0
word_13D5C	dw 952h
word_13D5E	dw 0
word_13D60	dw 0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
byte_13D76	db 0
word_13D77	dw 0
byte_13D79	db 0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		db    0
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
word_13DB5	dw 808h
word_13DB7	dw 808h
		db 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,0
		db    8
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db    8
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		dd    0
aPath		db 'PATH',0
		db '/\',0
		db    0
a_bat		db '.BAT',0
a_com		db '.COM',0
a_exe		db '.EXE',0
a_bat_0		db '.BAT',0
aComspec	db 'COMSPEC',0
aC_1		db '/c',0
off_13E8C	dw offset sub_161E
		db  12h
		db  8Fh	; 
		db  17h
		db  8Fh	; 
		db  17h
		db  8Fh	; 
		db  17h
		db  8Fh	; 
		db    0
		db  10h
		db  24h	; $
		db  13h
		db    0
		db    0
		db    1
		db  20h
		dd @string@contains$xqnxc ; string::contains(char *)
		db    0
		db    2
		db  73h	; s
		db  26h	; &
		db    0
		db    0
		db    0
		db  10h
		db  8Ah	; Š
		db  2Fh	; /
		db    0
		db    0
		db    0
		db  0Fh
		db  6Bh	; k
		db  3Ah	; :
		db    0
		db    0
		db    0
		db  10h
		db  36h	; 6
		db  94h	; ”
		db    0
		db    0
		db    0
		db  10h
		db 0ABh	; «
		db  95h	; •
		db    0
		db    0
		db    1
		db  10h
		dd sub_99C9
		db    0
		db  0Fh
		dd sub_9B78
		db    0
		db  10h
		db  8Bh	; ‹
		db  15h
		db    0
		db    0
		db    1
		db  20h
		dd loc_2491
; char word_13ED8[]
word_13ED8	dw ?
word_13EDA	dw ?
; char word_13EDC[]
word_13EDC	dw ?
word_13EDE	dw ?
; char word_13EE0[]
word_13EE0	dw ?
word_13EE2	dw ?
; char word_13EE4[]
word_13EE4	dw ?
word_13EE6	dw ?
; char word_13EE8[]
word_13EE8	dw ?
word_13EEA	dw ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
byte_14020	db ?
byte_14021	db ?
byte_14022	db ?
		db ?
; void (*font)(void)
font		dd ?
; void (*off_14028)(void)
off_14028	dd ?
; void (*off_1402C)(void)
off_1402C	dd ?
; int word_14030
word_14030	dw ?
; int word_14032
word_14032	dw ?
; void (*off_14034)(void)
off_14034	dd ?
		db    ?	;
byte_14039	db ?
byte_1403A	db ?
byte_1403B	db ?
byte_1403C	db ?
byte_1403D	db ?
byte_1403E	db ?
byte_1403F	db ?
byte_14040	db ?
byte_14041	db ?
byte_14042	db ?
		db ?
word_14044	dw ?
word_14046	dw ?
; void (__interrupt far	*off_14048)()
off_14048	dw ?
word_1404A	dw ?
dword_1404C	dd ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
; void (__interrupt far	*off_14150)()
off_14150	dd ?
word_14154	dw ?
word_14156	dw ?
		db    ?	;
byte_14159	db ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
unk_141AA	db    ?	;
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		db    ?	;
		db    ?	;
		db    ?	;
; void (*off_1464A)(void)
off_1464A	dw ?
word_1464C	dw ?
dword_1464E	dd ?
dword_14652	dd ?
dword_14656	dd ?
dword_1465A	dd ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
dword_14692	dd ?
word_14696	dw ?
word_14698	dw ?
word_1469A	dw ?
word_1469C	dw ?
word_1469E	dw ?
word_146A0	dw ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		dd    ?
		db    ?	;
		db    ?	;
dword_14740	dd ?
		dd ?
word_14748	dw ?
word_1474A	dw ?
byte_1474C	db ?
		db ?
byte_1474E	db ?
		db ?
dword_14750	dd ?
dword_14754	dd ?
		dd ?
		dd ?
dseg		ends

; ===========================================================================

; Segment type:	Uninitialized
seg018		segment	byte stack 'STACK' use16
		assume cs:seg018
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		db 80h dup(?)
seg018		ends


		end start
