;
; +-------------------------------------------------------------------------+
; |   This file has been generated by The Interactive Disassembler (IDA)    |
; |        Copyright (c) 2009 by Hex-Rays, <support@hex-rays.com>           |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	CE44AA7A114237C6B3CD67EEA9C0225A

; File Name   :	th03/MAINL.EXE
; Format      :	MS-DOS executable (EXE)
; Base Address:	0h Range: 0h-10CF0h Loaded length: F72Ch
; Entry	Point :	0:0
; OS type	  :  MS	DOS
; Application type:  Executable	16bit

		.386
		.model large

include ReC98.inc

; ===========================================================================

; Segment type:	Pure code
seg000		segment	word public 'CODE' use16
		assume cs:seg000
		assume es:nothing, ss:seg005, ds:dseg, fs:nothing, gs:nothing

include libs/BorlandC/c0.asm
		db 0
include libs/master.lib/bfnt_entry_pat.asm
include libs/master.lib/bfnt_extend_header_skip.asm
include libs/master.lib/bfnt_header_read.asm
include libs/master.lib/bfnt_header_analysis.asm
include libs/master.lib/bcloser.asm
include libs/master.lib/bfill.asm
include libs/master.lib/bfnt_palette_set.asm
include libs/master.lib/bgetc.asm
include libs/master.lib/palette_black_in.asm
include libs/master.lib/palette_black_out.asm
include libs/master.lib/bopenr.asm
include libs/master.lib/bread.asm
include libs/master.lib/bseek.asm
include libs/master.lib/bseek_.asm
include libs/master.lib/dos_axdx.asm
include libs/master.lib/dos_filesize.asm
include libs/master.lib/dos_keyclear.asm
include libs/master.lib/dos_setvect.asm
include libs/master.lib/egc.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_786		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	ax, 0
		mov	bx, word_E946
		cmp	bx, 0FFFFh
		jnz	short loc_7D6
		mov	ax, 3D02h
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	dos_axdx
		or	ax, dx
		mov	word_E946, ax
		mov	cx, ax
		xor	ax, ax
		mov	word_F804, ax
		mov	word_F802, ax
		mov	word_F806, ax
		mov	word_F808, ax
		mov	word_F7FE, ax
		mov	word_F800, ax
		inc	dx
		jz	short loc_7D6
		mov	bx, cx
		xor	cx, cx
		mov	dx, cx
		mov	ax, 4202h
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from end of file
		mov	word_F7FE, ax
		mov	word_F800, dx
		mov	ax, 1

loc_7D6:
		pop	bp
		retf	4
sub_786		endp


; =============== S U B	R O U T	I N E =======================================


sub_7DA		proc far
		mov	bx, word_E946
		cmp	bx, 0FFFFh
		jz	short locret_844
		mov	ax, word_F802
		cmp	word_F804, ax
		jnb	short loc_818
		push	ds
		mov	cx, word_F802
		lds	dx, dword_F7FA
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jb	short loc_80B
		add	word_F7FE, ax
		adc	word_F800, 0
		cmp	word_F802, ax
		jz	short loc_811

loc_80B:
		mov	word_F808, 1

loc_811:
		mov	word_F802, 0
		retf
; ---------------------------------------------------------------------------

loc_818:
		cmp	word_F804, 0
		jz	short locret_844
		mov	dx, ax
		mov	cx, 0
		add	dx, word_F7FE
		mov	word_F804, cx
		mov	word_F802, cx
		adc	cx, word_F800
		mov	ax, 4200h
		mov	bx, word_E946
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from beginning of	file
		mov	word_F7FE, ax
		mov	word_F800, dx

locret_844:
		retf
sub_7DA		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_846		proc far
		push	cs
		call	near ptr sub_7DA
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		mov	word_E946, 0FFFFh
		retf
sub_846		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_856		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	ax, 0
		mov	bx, word_E946
		cmp	bx, 0FFFFh
		jnz	short loc_892
		mov	cx, 20h	; ' '
		mov	ah, 3Ch	; '<'
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		nopcall	dos_axdx
		or	ax, dx
		mov	word_E946, ax
		xor	ax, ax
		mov	word_F804, ax
		mov	word_F802, ax
		mov	word_F806, ax
		mov	word_F808, ax
		mov	word_F7FE, ax
		mov	word_F800, ax
		mov	ax, dx
		inc	ax

loc_892:
		pop	bp
		retf	4
sub_856		endp


; =============== S U B	R O U T	I N E =======================================


sub_896		proc far
		mov	bx, sp
		push	word ptr ss:[bx+6]
		push	word ptr ss:[bx+4]
		nop
		call	dos_ropen
		jb	short loc_8AC
		xchg	ax, bx
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle

loc_8AC:
		sbb	ax, ax
		inc	ax
		retf	4
sub_896		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_8B2		proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_E944, 0
		jz	short loc_936
		mov	bx, [bp+arg_0]
		les	di, [bp+arg_2]

loc_8C4:
		mov	ax, word_F804
		cmp	word_F802, ax
		jb	short loc_8FA
		add	word_F7FE, ax
		adc	word_F800, 0
		push	bx
		push	ds
		mov	cx, word_E944
		mov	bx, word_E946
		lds	dx, dword_F7FA
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		pop	bx
		cmc
		sbb	dx, dx
		and	ax, dx
		mov	word_F804, ax
		jz	short loc_955
		mov	word_F802, 0

loc_8FA:
		mov	si, word_F804
		sub	si, word_F802
		sub	si, bx
		sbb	ax, ax
		and	si, ax
		add	si, bx
		mov	ax, es
		or	ax, di
		jz	short loc_92B
		or	si, si
		jz	short loc_92B
		push	si
		push	ds
		mov	cx, si
		mov	ax, word_F802
		lds	si, dword_F7FA
		add	si, ax
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		pop	si

loc_92B:
		add	word_F802, si
		sub	bx, si
		jnz	short loc_8C4
		jmp	short loc_95B
; ---------------------------------------------------------------------------
		nop

loc_936:
		push	ds
		mov	cx, [bp+arg_0]
		mov	bx, word_E946
		lds	dx, [bp+arg_2]
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		add	word_F7FE, ax
		adc	word_F800, 0
		mov	bx, cx
		sub	bx, ax
		jz	short loc_95B

loc_955:
		mov	word_F806, 1

loc_95B:
		mov	ax, [bp+arg_0]
		sub	ax, bx
		pop	di
		pop	si
		pop	bp
		retf	6
sub_8B2		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_966		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	bx, word_E946
		cmp	bx, 0FFFFh
		jnz	short loc_99D
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		call	dos_ropen
		sbb	bx, bx
		or	ax, bx
		mov	word_E946, ax
		xor	ax, ax
		mov	word_F804, ax
		mov	word_F7FE, ax
		mov	word_F800, ax
		mov	word_F802, ax
		mov	word_F806, ax
		mov	word_F808, ax
		lea	ax, [bx+1]

loc_99D:
		pop	bp
		retf	4
sub_966		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_9A2		proc far
		push	cs
		call	near ptr sub_7DA
		cmp	bx, 0FFFFh
		jz	short locret_9D3
		push	bp
		mov	bp, sp
		mov	al, [bp+6]
		mov	ah, 42h	; 'B'
		mov	dx, [bp+8]
		mov	cx, [bp+0Ah]
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method:
					; 0-from beginnig,1-from current,2-from	end
		pop	bp
		mov	ax, 4201h
		mov	dx, 0
		mov	cx, dx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from present location
		mov	word_F806, 0
		mov	word_F7FE, ax
		mov	word_F800, dx

locret_9D3:
		retf	6
sub_9A2		endp

; ---------------------------------------------------------------------------
		mov	ax, word_F802
		xor	dx, dx
		add	ax, word_F7FE
		adc	dx, word_F800
		retf

; =============== S U B	R O U T	I N E =======================================


sub_9E4		proc far
		push	word_E946
		call	dos_filesize
		jb	short loc_9EF
		retf
; ---------------------------------------------------------------------------

loc_9EF:
		mov	ax, dx
		retf
sub_9E4		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9F2		proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_E944, 0
		jz	short loc_A68
		mov	bx, [bp+arg_0]
		mov	si, word ptr [bp+arg_2]

loc_A04:
		mov	cx, word_E944
		sub	cx, word_F802
		sub	cx, bx
		sbb	ax, ax
		and	cx, ax
		add	cx, bx
		les	di, dword_F7FA
		add	di, word_F802
		sub	bx, cx
		add	word_F802, cx
		push	ds
		mov	ds, word ptr [bp+arg_2+2]
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		or	ax, ax
		jns	short loc_A5E
		push	ds
		push	bx
		mov	cx, word_E944
		mov	bx, word_E946
		lds	dx, dword_F7FA
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	bx
		pop	ds
		jb	short loc_A7A
		cmp	word_E944, ax
		jnz	short loc_A7A
		mov	word_F802, 0
		add	word_F7FE, ax
		adc	word_F800, 0

loc_A5E:
		or	bx, bx
		jnz	short loc_A04
		mov	ax, 1
		jmp	short loc_A90
; ---------------------------------------------------------------------------
		nop

loc_A68:
		push	ds
		mov	cx, [bp+arg_0]
		mov	bx, word_E946
		lds	dx, [bp+arg_2]
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jnb	short loc_A82

loc_A7A:
		mov	word_F808, 1
		xor	ax, ax

loc_A82:
		add	word_F7FE, ax
		adc	word_F800, 0
		add	ax, 0FFFFh
		sbb	ax, ax

loc_A90:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf	6
sub_9F2		endp

include libs/master.lib/dos_close.asm
include libs/master.lib/dos_ropen.asm
include libs/master.lib/grcg_boxfill.asm
include libs/master.lib/grcg_byteboxfill_x.asm
include libs/master.lib/grcg_setcolor.asm

; =============== S U B	R O U T	I N E =======================================


sub_C66		proc near
		out	0A0h, al	; PIC 2	 same as 0020 for PIC 1
		mov	al, ah
		jmp	short $+2
		jmp	short $+2
		out	0A0h, al	; PIC 2	 same as 0020 for PIC 1
		retn
sub_C66		endp

; ---------------------------------------------------------------------------
		db 0

; =============== S U B	R O U T	I N E =======================================


sub_C72		proc far
		xor	ax, ax
		cmp	word_E94A, ax
		jnz	short locret_C95
		mov	ax, 200h
		push	ax
		nop
		call	hmem_alloc
		or	ax, ax
		jz	short locret_C95
		mov	word_E94A, ax
		push	ax
		xor	ax, ax
		push	ax
		push	cs
		call	near ptr sub_D90
		mov	ax, 1

locret_C95:
		retf
sub_C72		endp


; =============== S U B	R O U T	I N E =======================================


sub_C96		proc far
		mov	ax, word_E94A
		test	ax, ax
		jz	short locret_CB1
		push	ax
		push	ax
		xor	ax, ax
		mov	word_E94A, ax
		push	ax
		push	cs
		call	near ptr sub_DFE
		nop
		call	hmem_free
		mov	ax, 1

locret_CB1:
		retf
sub_C96		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB2		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		sub	sp, 20h
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		call	dos_ropen
		mov	bp, ax
		mov	ax, 0
		jb	short loc_D3F
		mov	ax, 2000h
		push	ax
		nop
		call	smem_wget
		mov	si, ax
		mov	ax, 0
		jb	short loc_D37
		mov	ax, sp
		push	bp
		push	ss
		push	ax
		nopcall	bfnt_header_read
		jb	short loc_D2D
		mov	di, sp
		push	ss
		pop	es
		cmp	byte ptr es:[di+5], 0
		jnz	short loc_D2D
		add	di, 8
		push	si
		mov	si, 55Ch
		mov	cx, 4
		repe cmpsw
		pop	si
		jnz	short loc_D2D
		mov	ax, sp
		push	bp
		push	ss
		push	ax
		nopcall	bfnt_extend_header_skip
		push	ds
		mov	ds, si
		mov	bx, bp
		xor	dx, dx
		mov	cx, 2000h
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		cmp	ax, 2000h
		jnz	short loc_D2D
		push	si
		xor	ax, ax
		push	ax
		push	cs
		call	near ptr sub_DFE
		mov	ax, 1
		jmp	short loc_D2F
; ---------------------------------------------------------------------------

loc_D2D:
		xor	ax, ax

loc_D2F:
		push	ax
		push	si
		nop
		call	smem_release
		pop	ax

loc_D37:
		push	ax
		mov	bx, bp
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		pop	ax

loc_D3F:
		add	sp, 20h
		pop	di
		pop	si
		pop	bp
		retf	4
sub_CB2		endp


; =============== S U B	R O U T	I N E =======================================


sub_D48		proc near
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	cx, 10h
		mov	bx, 0

loc_D54:
		mov	al, bl
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, bl
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		stosw
		inc	bx
		loop	loc_D54
		retn
sub_D48		endp

; ---------------------------------------------------------------------------
		nop
		push	di
		mov	dx, sp
		cli
		add	sp, 6
		pop	di
		pop	es
		pop	ax
		mov	sp, dx
		sti
		mov	ah, 0
		add	ax, 5680h
		and	al, 7Fh
		push	ax
		mov	al, 0Bh
		out	68h, al
		pop	ax
		call	sub_D48
		mov	al, 0Ah
		out	68h, al
		pop	di
		retf	6
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D90		proc far
		push	di
		mov	di, sp
		les	di, ss:[di+6]
		mov	al, 0Bh
		out	68h, al
		mov	dx, 0

loc_D9E:
		mov	ax, dx
		adc	ax, 5680h
		and	al, 7Fh
		call	sub_D48
		inc	dl
		jnz	short loc_D9E
		mov	al, 0Ah
		out	68h, al
		pop	di
		retf	4
sub_D90		endp


; =============== S U B	R O U T	I N E =======================================


sub_DB4		proc near
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	cx, 10h
		mov	bx, 0

loc_DC0:
		mov	al, bl
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		lodsw
		out	0A9h, al	; Interrupt Controller #2, 8259A
		mov	al, bl
		out	0A5h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A9h, al	; Interrupt Controller #2, 8259A
		inc	bx
		loop	loc_DC0
		retn
sub_DB4		endp

; ---------------------------------------------------------------------------
		nop
		push	ds
		push	si
		mov	dx, sp
		cli
		add	sp, 8
		pop	si
		pop	ds
		pop	ax
		mov	sp, dx
		sti
		mov	ah, 0
		add	ax, 5680h
		and	al, 7Fh
		push	ax
		mov	al, 0Bh
		out	68h, al
		pop	ax
		call	sub_DB4
		mov	al, 0Ah
		out	68h, al
		pop	si
		pop	ds
		retf	6
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_DFE		proc far
		push	ds
		push	si
		mov	si, sp
		lds	si, ss:[si+8]
		mov	al, 0Bh
		out	68h, al
		mov	dx, 0

loc_E0D:
		mov	ax, dx
		adc	ax, 5680h
		and	al, 7Fh
		call	sub_DB4
		inc	dl
		jnz	short loc_E0D
		mov	al, 0Ah
		out	68h, al
		pop	si
		pop	ds
		retf	4
sub_DFE		endp

include libs/master.lib/graph_400line.asm
include libs/master.lib/graph_clear.asm
include libs/master.lib/graph_copy_page.asm
include libs/master.lib/graph_extmode.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F58		proc far
					; sub_A64D+33FP

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	di
		mov	cx, [bp+arg_6]
		mov	di, [bp+arg_4]
		mov	dx, [bp+arg_0]
		mov	bp, [bp+arg_2]
		adc	bp, 5680h
		and	bp, 0FF7Fh
		pushf
		mov	al, 0C0h ; 'À'
		cli
		out	7Ch, al
		popf
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		mov	al, 0Bh
		out	68h, al
		mov	ax, di
		shl	ax, 2
		add	di, ax
		shl	di, 4
		mov	ax, cx
		and	cx, 7
		shr	ax, 3
		add	di, ax
		mov	es, graph_VramSeg
		assume es:nothing
		mov	ax, bp
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	dx, 10h
		xor	ch, ch

loc_FB8:
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, ch
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	bh, al
		mov	bl, 0
		shr	ax, cl
		shr	bx, cl
		xchg	al, ah
		stosw
		mov	es:[di], bl
		add	di, 4Eh	; 'N'
		inc	ch
		dec	dx
		jnz	short loc_FB8
		mov	al, 0Ah
		out	68h, al
		xor	al, al
		out	7Ch, al
		pop	di
		pop	bp
		retf	8
sub_F58		endp

; ---------------------------------------------------------------------------
		nop

include libs/master.lib/graph_pi_free.asm
include libs/master.lib/graph_pi_load_pack.asm

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_1632

loc_162C:
		pop	di
		pop	si
		pop	bp
		retf	0Ah
; END OF FUNCTION CHUNK	FOR sub_1632

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1632	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

; FUNCTION CHUNK AT 162C SIZE 00000006 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_6]
		sub	ax, ClipYT
		cmp	ax, ClipYH
		ja	short loc_162C
		mov	cx, [bp+arg_0]
		sar	cx, 3
		jle	short loc_162C
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_8]
		sar	di, 3
		jns	short loc_1662
		add	cx, di
		jle	short loc_162C
		shl	di, 2
		add	si, di
		xor	di, di

loc_1662:
		cmp	di, 50h	; 'P'
		jge	short loc_162C
		add	cx, di
		cmp	cx, 50h	; 'P'
		jl	short loc_1671
		mov	cx, 50h	; 'P'

loc_1671:
		sub	cx, di
		imul	ax, 50h
		add	di, ax
		push	ds
		mov	es, ClipYT_seg
		assume es:nothing
		mov	ds, [bp+arg_4]
		mov	bp, cx
		cld
		nop

loc_1684:
		mov	cl, 2
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		mov	ax, cs:[bx+1AAAh]
		mov	dx, cs:[bx+1AACh]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1AAAh]
		or	dx, cs:[bx+1AACh]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1AAAh]
		or	dx, cs:[bx+1AACh]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1AAAh]
		or	dx, cs:[bx+1AACh]
		inc	si
		mov	es:[di], al
		mov	bx, es
		mov	es:[di-8000h], ah
		add	bh, 10h
		mov	es, bx
		assume es:nothing
		mov	es:[di], dl
		add	bh, 28h	; '('
		mov	es, bx
		assume es:nothing
		mov	es:[di], dh
		sub	bh, 38h	; '8'
		mov	es, bx
		assume es:nothing
		inc	di
		dec	bp
		jnz	short loc_1684
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ah
sub_1632	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1700	proc far
					; sub_A64D+2F0P

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	bx, [bp+arg_0]
		mov	dx, graph_VramLines
		sub	bx, dx
		sbb	ax, ax
		and	bx, ax
		add	bx, dx
		sub	dx, bx
		mov	bp, bx
		mov	cx, graph_VramZoom
		shl	bx, cl
		shl	dx, cl
		mov	cl, 4

loc_1720:
		jmp	short $+2
		in	al, 0A0h	; PIC 2	 same as 0020 for PIC 1
		test	al, cl
		jz	short loc_1720
		mov	al, 70h	; 'p'
		out	0A2h, al	; Interrupt Controller #2, 8259A
		mov	ax, bp
		shl	ax, 1
		shl	ax, 1
		add	ax, bp
		shl	ax, 1
		shl	ax, 1
		shl	ax, 1
		call	sub_C66
		mov	ax, dx
		shl	ax, cl
		or	ah, ch
		call	sub_C66
		xor	ax, ax
		call	sub_C66
		mov	ax, bx
		shl	ax, cl
		or	ah, ch
		call	sub_C66
		pop	bp
		retf	2
sub_1700	endp

include libs/master.lib/graph_show.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_175E	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	cx, [bp+arg_2]
		mov	bp, [bp+arg_0]
		mov	ax, cx
		or	ax, bp
		jz	short loc_17C5
		mov	ax, cx
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	bx, ax
		mov	ax, bp
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	dx, ax
		cmp	dx, bx
		jz	short loc_179A
		jl	short loc_179E
		mov	ax, bx
		mov	bx, dx
		xor	dh, dh
		mov	dl, ah
		mov	ah, al
		mov	al, dh
		div	bx
		mov	bx, 41Ch
		xlat
		jmp	short loc_17B2
; ---------------------------------------------------------------------------
		nop

loc_179A:
		mov	al, 20h	; ' '
		jmp	short loc_17B2
; ---------------------------------------------------------------------------

loc_179E:
		mov	ax, dx
		xor	dh, dh
		mov	dl, ah
		mov	ah, al
		mov	al, dh
		div	bx
		mov	bx, 41Ch
		xlat
		neg	al
		add	al, 40h	; '@'

loc_17B2:
		xor	ah, ah
		or	bp, bp
		jge	short loc_17BD
		neg	ax
		add	ax, 80h	; '€'

loc_17BD:
		or	cx, cx
		jge	short loc_17C3
		neg	al

loc_17C3:
		xor	ah, ah

loc_17C5:
		pop	bp
		retf	4
sub_175E	endp

include libs/master.lib/js_end.asm
include libs/master.lib/palette_show.asm
include libs/master.lib/pfclose.asm

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	es, word ptr [bp+6]
		call	word ptr es:2
		pop	bp
		retf	2
; ---------------------------------------------------------------------------
		nop
		cmp	word ptr es:1Ah, 0
		jz	short loc_1922
		dec	word ptr es:1Ah
		add	word ptr es:12h, 1
		adc	word ptr es:14h, 0
		mov	ax, es:1Ch
		retn
; ---------------------------------------------------------------------------

loc_1922:
		call	word ptr es:4
		test	ah, ah
		jnz	short locret_1951
		cmp	ax, es:1Ch
		mov	es:1Ch,	ax
		jnz	short locret_1951
		push	ax
		call	word ptr es:4
		test	ah, ah
		jnz	short loc_1950
		mov	es:1Ah,	ax
		sub	word ptr es:12h, 1
		sbb	word ptr es:14h, 0

loc_1950:
		pop	ax

locret_1951:
		retn

; =============== S U B	R O U T	I N E =======================================


sub_1952	proc near
		mov	ax, es:0Ah
		mov	dx, es:0Ch
		cmp	dx, es:8
		jb	short loc_196F
		ja	short loc_196B
		cmp	ax, es:6
		jb	short loc_196F

loc_196B:
		mov	ax, 0FFFFh
		retn
; ---------------------------------------------------------------------------

loc_196F:
		add	ax, 1
		adc	dx, 0
		mov	es:0Ah,	ax
		mov	es:0Ch,	dx
		add	word ptr es:12h, 1
		adc	word ptr es:14h, 0
		push	es
		push	word ptr es:0
		call	bgetc
		pop	es
		retn
sub_1952	endp

; ---------------------------------------------------------------------------
		call	sub_1952
		or	ah, ah
		jnz	short locret_19A2
		xor	al, es:1Eh

locret_19A2:
		retn
; ---------------------------------------------------------------------------
		db 0
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		cld
		mov	si, [bp+8]
		mov	di, [bp+0Ah]
		test	si, si
		jz	short loc_19C7

loc_19B4:
		mov	es, word ptr [bp+6]
		call	word ptr es:2
		inc	ah
		jz	short loc_19C7
		mov	es, word ptr [bp+0Ch]
		stosb
		dec	si
		jnz	short loc_19B4

loc_19C7:
		mov	ax, di
		sub	ax, [bp+0Ah]
		pop	di
		pop	si
		pop	bp
		retf	8
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	es, word ptr [bp+6]
		xor	ax, ax
		mov	es:1Ah,	ax
		mov	word ptr es:1Ch, 0FFFFh
		mov	es:0Ah,	ax
		mov	es:0Ch,	ax
		mov	es:12h,	ax
		mov	es:14h,	ax
		push	word ptr es:0
		push	word ptr es:10h
		push	word ptr es:0Eh
		push	ax
		call	bseek_
		pop	bp
		retf	2
; ---------------------------------------------------------------------------
		nop
		push	bp
		mov	bp, sp
		push	di
		mov	es, word ptr [bp+0Ah]
		inc	word ptr [bp+8]
		mov	di, [bp+6]
		or	di, di
		jz	short loc_1A2B

loc_1A1F:
		call	word ptr es:2
		test	ah, ah
		jnz	short loc_1A30
		dec	di
		jnz	short loc_1A1F

loc_1A2B:
		dec	word ptr [bp+8]
		jnz	short loc_1A1F

loc_1A30:
		mov	ax, es:12h
		mov	dx, es:14h
		pop	di
		pop	bp
		retf	6

; =============== S U B	R O U T	I N E =======================================


sub_1A3E	proc far
		mov	ax, 4E35h
		mul	word ptr dword_E9A6+2
		mov	cx, ax
		mov	ax, 15Ah
		mul	word ptr dword_E9A6
		add	cx, ax
		mov	ax, 4E35h
		mul	word ptr dword_E9A6
		add	ax, 1
		adc	dx, cx
		mov	word ptr dword_E9A6, ax
		mov	ax, dx
		mov	word ptr dword_E9A6+2, ax
		and	ah, 7Fh
		retf
sub_1A3E	endp


; =============== S U B	R O U T	I N E =======================================


sub_1A68	proc far
		mov	bx, sp
		push	word ptr ss:[bx+6]
		push	word ptr ss:[bx+4]
		nop
		call	dos_ropen
		jb	short locret_1AA7
		mov	bx, ax
		mov	dx, 141Eh
		mov	cx, 30h	; '0'
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		sbb	cx, cx
		push	bx
		mov	bx, 2Fh	; '/'

loc_1A8B:
		mov	al, [bx+141Eh]
		shl	al, 4
		or	[bx+141Eh], al
		dec	bx
		jns	short loc_1A8B
		pop	bx
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		mov	ax, 0
		jcxz	short locret_1AA7
		mov	ax, 0FFF3h
		stc

locret_1AA7:
		retf	4
sub_1A68	endp

include libs/master.lib/rottbl.asm
include libs/master.lib/smem_release.asm
include libs/master.lib/smem_wget.asm

; =============== S U B	R O U T	I N E =======================================


sub_1EF6	proc near
		mov	dx, 188h

loc_1EF9:
		in	al, dx
		test	al, 80h
		jnz	short loc_1EF9
		mov	al, bh
		out	dx, al

loc_1F01:
		in	al, dx
		test	al, 80h
		jnz	short loc_1F01
		inc	dx
		inc	dx
		mov	al, bl
		out	dx, al
		retn
sub_1EF6	endp


; =============== S U B	R O U T	I N E =======================================


sub_1F0C	proc near
		mov	dx, 188h

loc_1F0F:
		in	al, dx
		test	al, 80h
		jnz	short loc_1F0F
		mov	al, bh
		out	dx, al

loc_1F17:
		in	al, dx
		test	al, 80h
		jnz	short loc_1F17
		inc	dx
		inc	dx
		in	al, dx
		retn
sub_1F0C	endp

include libs/BorlandC/text_clear.asm
include libs/master.lib/text_fillca.asm
include libs/master.lib/vsync.asm
include libs/master.lib/vsync_wait.asm
include libs/master.lib/palette_white_in.asm
include libs/master.lib/palette_white_out.asm
include libs/master.lib/hmem_lallocate.asm
include libs/master.lib/mem_assign_dos.asm
include libs/master.lib/mem_assign.asm
include libs/master.lib/memheap.asm

; =============== S U B	R O U T	I N E =======================================


sub_235A	proc far
		cmp	mem_TopSeg, 0
		jz	short loc_2375
		mov	ax, mem_TopSeg
		mov	es, ax
		xor	ax, ax
		cmp	mem_MyOwn, ax
		mov	mem_TopSeg, ax
		jz	short loc_2375
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed

loc_2375:
		mov	ax, 1
		retf
sub_235A	endp

; ---------------------------------------------------------------------------
		xor	ax, ax
		stc
		retf

include libs/master.lib/super_free.asm
include libs/master.lib/super_entry_pat.asm
include libs/master.lib/super_entry_at.asm
include libs/master.lib/super_entry_bfnt.asm
include libs/master.lib/super_cancel_pat.asm
include libs/master.lib/super_put.asm

; =============== S U B	R O U T	I N E =======================================


sub_276E	proc far
		push	si
		push	di
		mov	ah, 52h
		int	21h		; DOS -	2+ internal - GET LIST OF LISTS
					; Return: ES:BX	-> DOS list of lists
		cld
		mov	bx, es:[bx-2]

loc_2779:
		mov	es, bx
		assume es:nothing
		inc	bx
		mov	ax, es:1
		or	ax, ax
		jz	short loc_2791
		mov	di, 10h
		mov	cx, 0Ah
		mov	si, 882h
		repe cmpsb
		jz	short loc_27A2

loc_2791:
		mov	ax, es:3
		add	bx, ax
		mov	al, es:0
		cmp	al, 4Dh	; 'M'
		jz	short loc_2779
		mov	bx, 0

loc_27A2:
		mov	ax, bx
		mov	ResPalSeg, ax
		pop	di
		pop	si
		retf
sub_276E	endp

; ---------------------------------------------------------------------------
		db 56h,	57h, 90h, 0Eh, 0E8h, 0BDh, 0FFh, 0Bh, 0C0h, 0B8h
		db 2, 0, 75h, 64h, 0B8h, 0, 58h, 0CDh, 21h, 8Bh, 0D0h
		db 0B8h, 1, 58h, 0BBh, 1, 0, 0CDh, 21h,	0B4h, 48h, 0BBh
		db 4, 0, 0CDh, 21h, 0B9h, 2 dup(0), 72h, 40h, 8Ch, 0CBh
		db 3Bh,	0D8h, 73h, 15h,	8Eh, 0C0h, 0B4h, 49h, 0CDh, 21h
		db 0B8h, 1, 58h, 0BBh, 2, 0, 0CDh, 21h,	0B4h, 48h, 0BBh
		db 4, 0, 0CDh, 21h, 8Bh, 0C8h, 0A3h, 0ACh, 5, 49h, 8Eh
		db 0C1h, 0B8h, 2 dup(0FFh), 26h, 0A3h, 1, 0, 41h, 8Eh
		db 0C1h, 0FCh, 33h, 0FFh, 0BEh,	82h, 8,	0B9h, 0Ah, 0, 0F3h
		db 0A4h, 33h, 0C0h, 3 dup(0ABh), 0B9h, 1, 0, 0B8h, 1, 58h
		db 8Bh,	0DAh, 0CDh, 21h, 8Bh, 0C1h, 5Fh, 5Eh, 0CBh, 90h

; =============== S U B	R O U T	I N E =======================================


sub_2820	proc far
		push	si
		push	di
		cld
		mov	ax, ResPalSeg
		or	ax, ax
		jz	short loc_284C
		mov	es, ax
		mov	ax, PaletteTone
		mov	es:0Ah,	al
		mov	si, 141Eh
		mov	di, 10h
		mov	cx, 10h

loc_283C:
		lodsw
		xchg	ah, al
		shr	ax, 4
		and	al, 0Fh
		stosw
		lodsb
		shr	al, 4
		stosb
		loop	loc_283C

loc_284C:
		pop	di
		pop	si
		retf
sub_2820	endp

; ---------------------------------------------------------------------------
		nop
; ---------------------------------------------------------------------------
dword_2850	dd 0
byte_2854	db 0, 90h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2856	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		cld
		mov	ax, word ptr cs:dword_2850
		or	ax, word ptr cs:dword_2850+2
		jz	short loc_2868
		jmp	loc_28E9
; ---------------------------------------------------------------------------

loc_2868:
		push	di
		push	si
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_966
		push	10h
		call	hmem_allocbyte
		mov	di, ax
		push	ax
		push	0
		push	10h
		push	cs
		call	near ptr sub_8B2
		mov	ax, di
		mov	es, ax
		mov	di, es:0
		mov	si, es:6
		push	ax
		call	hmem_free
		push	di
		call	hmem_allocbyte
		mov	word_100F6, ax
		push	ax
		push	0
		push	di
		push	cs
		call	near ptr sub_8B2
		push	cs
		call	near ptr sub_846
		mov	cx, di
		mov	ax, word_100F6
		mov	es, ax
		mov	ax, si
		xor	bx, bx

loc_28B7:
		xor	es:[bx], al
		sub	al, es:[bx]
		inc	bx
		loop	loc_28B7
		pop	si
		pop	di
		mov	ax, 3521h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr cs:dword_2850,	bx
		mov	word ptr cs:dword_2850+2, es
		mov	word_100F2, 0
		mov	word_100F4, 0FFFFh
		push	ds
		push	cs
		pop	ds
		assume ds:seg000
		mov	dx, 294Ah
		mov	ax, 2521h
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		assume ds:dseg

loc_28E9:
		push	si
		push	di
		push	ds
		mov	cx, 0FFFFh
		mov	al, 0
		les	di, [bp+arg_0]
		repne scasb
		not	cx
		sub	di, cx
		mov	si, di
		mov	di, 1C82h
		push	ds
		push	es
		pop	ds
		pop	es
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	4
sub_2856	endp


; =============== S U B	R O U T	I N E =======================================


sub_2912	proc far
		mov	ax, word ptr cs:dword_2850
		or	ax, word ptr cs:dword_2850+2
		jz	short locret_2949
		push	ds
		lds	dx, cs:dword_2850
		mov	ax, 2521h
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		xor	ax, ax
		mov	word ptr cs:dword_2850,	ax
		mov	word ptr cs:dword_2850+2, ax
		cmp	word_100F2, ax
		jz	short locret_2949
		push	word_100F2
		call	pfclose
		push	word_100F6
		call	hmem_free

locret_2949:
		retf
sub_2912	endp

; ---------------------------------------------------------------------------
		cmp	cs:byte_2854, 0
		jz	short loc_2957
		jmp	cs:dword_2850
; ---------------------------------------------------------------------------

loc_2957:
		pusha
		push	ds
		push	es
		mov	bp, sp
		mov	di, seg	dseg
		mov	ds, di
		inc	cs:byte_2854
		push	word ptr [bp+18h]
		popf
		mov	cs:byte_29AE, ah
		mov	si, 297Eh

loc_2972:
		add	si, 4
		cmp	ah, cs:[si]
		jnz	short loc_2972
		mov	di, word_100F4
		jmp	word ptr cs:[si+2]
; ---------------------------------------------------------------------------
		db  3Dh	; =
		db    0
		db 0B2h	; ²
		db  29h	; )
		db  3Eh	; >
		db    0
		db 0E7h	; ç
		db  29h	; )
		db  3Fh	; ?
		db    0
		db    5
		db  2Ah	; *
		db  42h	; B
		db    0
		db  19h
		db  2Ah	; *
		db  46h	; F
		db    0
		db  7Ah	; z
		db  2Ah	; *
		db  40h	; @
		db    0
		db  7Eh	; ~
		db  2Ah	; *
		db  45h	; E
		db    0
		db  7Eh	; ~
		db  2Ah	; *
		db  4Ch	; L
		db    0
		db  5Ch	; \
		db  2Ah	; *
		db  57h	; W
		db    0
		db  7Eh	; ~
		db  2Ah	; *
		db  5Ch	; \
		db    0
		db  7Eh	; ~
		db  2Ah	; *
		db  44h	; D
		db    0
		db  68h	; h
		db  2Ah	; *
byte_29AE	db 0
		db 0
		db 82h,	2Ah, 0A8h, 0Fh,	74h, 3,	0E9h, 0C9h, 0, 0Bh, 0FFh
		db 78h,	3, 0E9h, 0C2h, 0, 1Eh, 68h, 82h, 1Ch, 0FFh, 76h
		db 2, 52h, 0Eh,	0E8h, 4Ah, 1, 0Bh, 0C0h, 75h, 3, 0E9h
		db 0AFh, 0, 0A3h, 2, 1Dh, 8Eh, 0C0h, 26h, 8Eh, 6, 2 dup(0)
		db 26h,	0A1h, 2	dup(0),	0A3h, 4, 1Dh, 0E9h, 0B6h, 0, 3Bh
		db 0DFh, 74h, 3, 0E9h, 94h, 0, 0FFh, 36h, 2, 1Dh, 0Eh
		db 0E8h, 0E4h, 0EEh, 0C7h, 6, 2, 1Dh, 2	dup(0),	0C7h, 6
		db 4, 1Dh, 2 dup(0FFh),	0E9h, 98h, 0, 3Bh, 0DFh, 75h, 79h
		db 0FFh, 76h, 2, 52h, 51h, 0FFh, 36h, 2, 1Dh, 0Eh, 0E8h
		db 8Eh,	0EFh, 0E9h, 84h, 0, 3Bh, 0DFh, 75h, 65h, 0Bh, 0C9h
		db 7Ch,	73h, 3Ch, 1, 74h, 28h, 7Ch, 1Ah, 8Eh, 6, 2, 1Dh
		db 26h,	8Bh, 2 dup(16h), 0, 26h, 8Bh, 0Eh, 18h,	0, 26h
		db 2Bh,	16h, 12h, 0, 26h, 1Bh, 0Eh, 14h, 0, 0EBh, 0Ch
		db 51h,	52h, 0FFh, 36h,	2, 1Dh,	0Eh, 0E8h, 87h,	0EFh, 5Ah
		db 59h,	0FFh, 36h, 2, 1Dh, 51h,	52h, 0Eh, 0E8h,	0B7h, 0EFh
		db 89h,	56h, 0Eh, 0EBh,	41h, 2Eh, 0C5h,	16h, 50h, 28h
		db 0B8h, 21h, 25h, 0CDh, 21h, 0EBh, 1Ah, 8Ah, 0C8h, 0B8h
		db 1, 0, 0D3h, 0E0h, 2Eh, 85h, 6, 78h, 2Ah, 75h, 8, 0EBh
		db 0Ah,	0CFh, 14h, 8Bh,	0CFh, 74h, 16h,	3Bh, 0DFh, 74h
		db 12h,	2Eh, 0FEh, 0Eh,	54h, 28h, 0FFh,	76h, 18h, 9Dh
		db 7, 1Fh, 61h,	0FAh, 2Eh, 0FFh, 2Eh, 50h, 28h,	80h, 4Eh
		db 18h,	1, 0B8h, 1, 0, 0EBh, 4,	80h, 66h, 18h, 0FEh, 89h
		db 46h,	12h, 2Eh, 0FEh,	0Eh, 54h, 28h, 7, 1Fh, 61h, 0CFh
		db 0

; =============== S U B	R O U T	I N E =======================================


sub_2AAE	proc far
		mov	cx, 100h
		mov	dx, 188h

loc_2AB4:
		in	al, dx
		inc	al
		jnz	short loc_2ABF
		loop	loc_2AB4
		xor	ax, ax
		jmp	short loc_2AD3
; ---------------------------------------------------------------------------

loc_2ABF:
		pushf
		cli
		mov	bh, 7
		call	sub_1F0C
		and	al, 3Fh
		or	al, 80h
		mov	bl, al
		call	sub_1EF6
		popf
		mov	ax, 1

loc_2AD3:
		mov	word_E960, ax
		retf
sub_2AAE	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_2AD8	proc near
		mov	bh, 0Fh
		call	sub_1EF6
		mov	dx, 188h
		mov	al, 0Eh
		out	dx, al
		inc	dx
		inc	dx
		in	al, dx
		not	al
		retn
sub_2AD8	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_2AEA	proc far
		push	bp
		push	si
		push	di
		xor	bp, bp
		cmp	word_E960, 0
		jz	short loc_2B03
		pushf
		cli
		mov	bl, 80h	; '€'
		call	sub_2AD8
		and	ax, 3Fh
		mov	si, ax
		popf

loc_2B03:
		or	word_F80A, si
		pop	di
		pop	si
		pop	bp
		retf
sub_2AEA	endp

; ---------------------------------------------------------------------------
		nop
		xchg	dx, bx
		out	dx, al
		xchg	dx, bx
		in	al, dx
		not	al
		retn
; ---------------------------------------------------------------------------
		db 0
		db 0C8h, 3 dup(0), 56h,	57h, 0C7h, 6, 56h, 8, 7, 0, 6Ah
		db 1Fh,	0Eh, 0E8h, 86h,	0F6h, 0Fh, 82h,	0F6h, 0, 8Bh, 0F0h
		db 0FFh, 76h, 0Ch, 0FFh, 76h, 0Ah, 0Eh,	0E8h, 80h, 0DAh
		db 0Bh,	0C0h, 0Fh, 84h,	0DDh, 0, 8Eh, 0C6h, 26h, 0A3h
		db 2 dup(0), 0A1h, 6, 1Dh, 8Eh,	0E0h, 33h, 0C0h, 8Bh, 0F8h
		db 64h,	8Ah, 5,	0BBh, 2, 0, 0Ah, 0C0h, 74h, 18h, 0BBh
		db 3, 0, 3, 0DFh, 0FFh,	76h, 8,	0FFh, 76h, 6, 0Fh, 0A0h
		db 53h,	0E8h, 0C8h, 0, 75h, 7, 83h, 0C7h, 20h, 0EBh, 0DEh
		db 8Bh,	0C3h, 8Eh, 0C6h, 64h, 8Bh, 45h,	14h, 64h, 8Bh
		db 55h,	16h, 26h, 0A3h,	0Eh, 0,	26h, 89h, 16h, 10h, 0
		db 26h,	0FFh, 36h, 2 dup(0), 52h, 50h, 6Ah, 0, 0Eh, 0E8h
		db 0EDh, 0DAh, 0B8h, 52h, 19h, 64h, 8Ah, 55h, 2, 8Eh, 0C6h
		db 0Ah,	0D2h, 74h, 8, 26h, 88h,	16h, 1Eh, 0, 0B8h, 96h
		db 19h,	26h, 0A3h, 4, 0, 8Eh, 0C1h, 64h, 8Bh, 5, 8Eh, 0C6h
		db 3Dh,	88h, 0F3h, 74h,	0Ah, 3Dh, 2 dup(95h), 74h, 0Fh
		db 0B8h, 5, 0, 0EBh, 4Fh, 26h, 0A1h, 4,	0, 26h,	0A3h, 2
		db 0, 0EBh, 15h, 26h, 0C7h, 6, 2, 0, 4,	19h, 26h, 0C7h
		db 6, 1Ah, 3 dup(0), 26h, 0C7h,	6, 1Ch,	0, 2 dup(0FFh)
		db 64h,	8Bh, 5Dh, 10h, 64h, 8Bh, 55h, 12h, 33h,	0C0h, 26h
		db 89h,	1Eh, 6,	0, 26h,	0A3h, 8, 0, 26h, 89h, 2	dup(16h)
		db 0, 26h, 0A3h, 18h, 0, 26h, 0A3h, 0Ah, 0, 26h, 0A3h
		db 0Ch,	0, 26h,	0A3h, 12h, 0, 26h, 0A3h, 14h, 0, 8Bh, 0C6h
		db 0EBh, 1Ah, 0A3h, 0B2h, 5, 26h, 0FFh,	36h, 2 dup(0)
		db 0Eh,	0E8h, 57h, 0D8h, 56h, 0Eh, 0E8h, 92h, 0F6h, 0EBh
		db 5, 0C6h, 6, 0B2h, 5,	3, 33h,	0C0h, 5Fh, 5Eh,	0C9h, 0CAh
		db 8, 0, 90h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2C30	proc near

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	ds
		cld
		les	bx, [bp+arg_4]
		lds	si, [bp+arg_0]

loc_2C3C:
		mov	ah, es:[bx]
		inc	bx
		lodsb
		sub	al, 61h	; 'a'
		cmp	al, 19h
		ja	short loc_2C49
		sub	al, 20h	; ' '

loc_2C49:
		sub	ah, 61h	; 'a'
		cmp	ah, 19h
		ja	short loc_2C54
		sub	ah, 20h	; ' '

loc_2C54:
		cmp	ah, al
		jnz	short loc_2C5E
		add	al, 61h	; 'a'
		jnz	short loc_2C3C
		jmp	short loc_2C60
; ---------------------------------------------------------------------------

loc_2C5E:
		xor	ax, ax

loc_2C60:
		test	ax, ax
		pop	ds
		pop	si
		pop	bp
		retn	8
sub_2C30	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_2C6E

loc_2C68:
		pop	di
		pop	si
		pop	bp
		retf	0Ah
; END OF FUNCTION CHUNK	FOR sub_2C6E

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2C6E	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

; FUNCTION CHUNK AT 2C68 SIZE 00000006 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_6]
		mov	cx, [bp+arg_0]
		sar	cx, 3
		jle	short loc_2C68
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_8]
		sar	di, 3
		jns	short loc_2C94
		add	cx, di
		jle	short loc_2C68
		shl	di, 2
		add	si, di
		xor	di, di

loc_2C94:
		cmp	di, 50h	; 'P'
		jge	short loc_2C68
		add	cx, di
		cmp	cx, 50h	; 'P'
		jl	short loc_2CA3
		mov	cx, 50h	; 'P'

loc_2CA3:
		sub	cx, di
		imul	ax, 50h
		add	di, ax
		push	ds
		mov	es, ClipYT_seg
		mov	ds, [bp+arg_4]
		mov	bp, cx
		cld
		nop

loc_2CB6:
		mov	cl, 2
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		mov	ax, cs:[bx+1AAAh]
		mov	dx, cs:[bx+1AACh]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1AAAh]
		or	dx, cs:[bx+1AACh]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1AAAh]
		or	dx, cs:[bx+1AACh]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1AAAh]
		or	dx, cs:[bx+1AACh]
		inc	si
		mov	es:[di], al
		mov	bx, es
		mov	es:[di-8000h], ah
		add	bh, 10h
		mov	es, bx
		assume es:nothing
		mov	es:[di], dl
		add	bh, 28h	; '('
		mov	es, bx
		assume es:nothing
		mov	es:[di], dh
		sub	bh, 38h	; '8'
		mov	es, bx
		assume es:nothing
		inc	di
		dec	bp
		jnz	short loc_2CB6
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ah
sub_2C6E	endp

include libs/BorlandC/__abort.asm
include libs/BorlandC/stpcpy.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; void abort(void)
_abort		proc far
					; ___call_terminate+6Ep ...
		push	si
		push	di
		mov	ax, 16h
		push	ax
		nop
		call	raise
		pop	cx
		nop
		push	cs
		call	near ptr __abort
_abort		endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

include libs/BorlandC/atexit.asm
include libs/BorlandC/del.asm
include libs/BorlandC/delarray.asm
include libs/BorlandC/dosenv.asm
include libs/BorlandC/dosgdriv.asm
include libs/BorlandC/errormsg.asm
include libs/BorlandC/exit.asm
include libs/BorlandC/f_scopy.asm
include libs/BorlandC/getvect.asm
include libs/BorlandC/H_LDIV.ASM
include libs/BorlandC/H_LLSH.ASM
include libs/BorlandC/H_PADD.ASM
include libs/BorlandC/__IOERROR.ASM
include libs/BorlandC/_isatty.asm
include libs/BorlandC/lseek.asm

; ---------------------------------------------------------------------------
		dd byte_349E
		db 4, 0, 0FAh, 0FFh, 0Ah dup(0), 0DCh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	73h, 32h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 24h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 3281h
		nopcall	___InitExceptBlocks
		xor	ax, ax
		push	ax
		push	ax
		push	ax
		push	ax
		mov	ax, 5
		push	ax
		mov	ax, seg	seg000
		push	ax
		mov	ax, 3379h
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	ds
		mov	ax, 0EEAh
		push	ax
		push	ss
		lea	ax, [bp-6]
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		mov	ax, word_F2DE
		mov	[bp-2],	ax
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp-6]
		push	ss
		push	ax
		push	cs
		mov	ax, 349Eh
		push	ax
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_new_handler(void (*)(void))
@set_new_handler$qnqv$v	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	dx, seg_F2E2
		mov	ax, word_F2E0
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	seg_F2E2, dx
		mov	word_F2E0, ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_new_handler$qnqv$v	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; operator new(unsigned	int)
@$bnew$qui	proc far
					; xmsg::xmsg(string &)+21p ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		cmp	[bp+arg_0], 0
		jz	short loc_3345
		mov	ax, [bp+arg_0]
		jmp	short loc_3348
; ---------------------------------------------------------------------------

loc_3345:
		mov	ax, 1

loc_3348:
		mov	[bp+arg_0], ax
		jmp	short loc_3351
; ---------------------------------------------------------------------------

loc_334D:
		call	dword ptr word_F2E0

loc_3351:
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jnz	short loc_336D
		mov	ax, word_F2E0
		or	ax, seg_F2E2
		jnz	short loc_334D

loc_336D:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@$bnew$qui	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+0Ah]
		mov	ax, es:[bx+4]
		les	bx, [bp+6]
		mov	es:[bx+4], ax
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		dd byte_349E
		db 2 dup(0), 0EAh, 0Eh
		dw seg dseg
		dd byte_3464
		db 4, 0, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	0BCh, 33h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::contains(char	const *)const
@string@contains$xqnxc proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
driver		= byte ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 33D4h
		nopcall	___InitExceptBlocks
		mov	[bp+var_16], 6
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 0EF4h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		call	@string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ds
		mov	ax, 0EEAh
		push	ax
		nop
		push	cs
		call	near ptr @xalloc@$bctr$qmx6stringui ; xalloc::xalloc(string &,uint)
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 10h
		push	[bp+var_22]
		nopcall	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@contains$xqnxc endp

; ---------------------------------------------------------------------------

loc_343D:
		push	si
		push	di
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 0EEAh
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
byte_3464	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
		db 0Dh dup(0), 1, 0, 1,	0, 7, 3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_349E	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 0E0h, 34h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 2Dh,	35h
		dw seg seg000
		db 2 dup(0), 3,	0Dh dup(0)
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_3527
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_3525
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nopcall	@$bdele$qnv
		pop	cx
		pop	cx
		jmp	short loc_3529
; ---------------------------------------------------------------------------

loc_3525:
		jmp	short loc_3529
; ---------------------------------------------------------------------------

loc_3527:
		xor	ax, ax

loc_3529:
					; seg000:loc_3525j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 0ECh, 55h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)

include libs/BorlandC/N_LXMUL.ASM
include libs/BorlandC/N_PCMP.ASM
include libs/BorlandC/setupio.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl tolower(int ch)
_tolower	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_0]
		cmp	dx, 0FFFFh
		jnz	short loc_3653
		mov	ax, 0FFFFh
		jmp	short loc_366D
; ---------------------------------------------------------------------------

loc_3653:
		mov	al, dl
		mov	ah, 0
		mov	bx, ax
		test	(__ctype+1)[bx], 4
		jz	short loc_3669
		mov	al, dl
		mov	ah, 0
		add	ax, 20h	; ' '
		jmp	short loc_366D
; ---------------------------------------------------------------------------

loc_3669:
		mov	al, dl
		mov	ah, 0

loc_366D:
		pop	di
		pop	si
		pop	bp
		retf
_tolower	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3671	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_0]
		cmp	dx, 0FFFFh
		jnz	short loc_3683
		mov	ax, 0FFFFh
		jmp	short loc_369D
; ---------------------------------------------------------------------------

loc_3683:
		mov	al, dl
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0F05h], 8
		jz	short loc_3699
		mov	al, dl
		mov	ah, 0
		add	ax, 0FFE0h
		jmp	short loc_369D
; ---------------------------------------------------------------------------

loc_3699:
		mov	al, dl
		mov	ah, 0

loc_369D:
		pop	di
		pop	si
		pop	bp
		retf
sub_3671	endp

include libs/BorlandC/xxas.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; terminate(void)
@terminate$qv	proc near
		push	si
		push	di
		nop
		push	cs
		call	near ptr _abort
@terminate$qv	endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_terminate(void (*)(void))
@set_terminate$qnqv$v proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_3770
		les	bx, ss:16h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+0Ch], dx
		mov	es:[bx+0Ah], ax

loc_3770:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_terminate$qnqv$v endp

; ---------------------------------------------------------------------------
		dd 0
		dd loc_380A
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 7Ch,	37h
		dw seg seg000
		db 0
		db    0
		db 4, 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

___call_terminate proc far
					; sub_6361+272p ...

var_26		= dword	ptr -26h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_12		= word ptr -12h

		push	bp
		mov	bp, sp
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 3794h
		nopcall	___InitExceptBlocks
		mov	[bp+var_22], ds
		nop
		push	cs
		call	near ptr _flushall
		les	bx, ss:16h
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax
		mov	[bp+var_12], 6
		les	bx, ss:16h
		cmp	word ptr es:[bx+12h], 0
		jnz	short loc_37EE
		les	bx, ss:16h
		mov	word ptr es:[bx+12h], ds

loc_37EE:
		les	bx, ss:16h
		mov	ax, es:[bx+12h]
		mov	[bp+var_20], ax
		mov	ds, [bp+var_20]
		call	[bp+var_26]
		mov	ds, [bp+var_22]
		mov	[bp+var_12], 0
		jmp	short loc_3812
; ---------------------------------------------------------------------------

loc_380A:
		mov	ds, [bp+var_22]
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_3812:
		nop
		push	cs
		call	near ptr _abort
___call_terminate endp

; ---------------------------------------------------------------------------
		push	word ptr [bp-1Eh]
		nopcall	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; unexpected(void)
@unexpected$qv	proc near
		push	si
		push	di
		push	cs
		call	near ptr ___call_terminate
@unexpected$qv	endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_unexpected(void (*)(void))
@set_unexpected$qnqv$v proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_3864
		les	bx, ss:16h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+10h], dx
		mov	es:[bx+0Eh], ax

loc_3864:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_unexpected$qnqv$v endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

___call_unexpected proc	far

var_6		= dword	ptr -6
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		les	bx, ss:16h
		cmp	word ptr es:[bx+14h], 0
		jnz	short loc_38A0
		les	bx, ss:16h
		mov	word ptr es:[bx+14h], ds

loc_38A0:
		les	bx, ss:16h
		mov	ax, es:[bx+14h]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		call	[bp+var_6]
		pop	ds
		nop
		push	cs
		call	near ptr _abort
___call_unexpected endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __GetPolymorphicDTC(void *, unsigned int)
@__GetPolymorphicDTC$qnvui proc	far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_38D3
		xor	ax, ax
		jmp	short loc_390D
; ---------------------------------------------------------------------------

loc_38D3:
		les	bx, [bp+arg_0]
		add	bx, [bp+arg_4]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx+1Ah]

loc_390D:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetPolymorphicDTC$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __GetPolymorphicDTCfar(void *, unsigned int)
@__GetPolymorphicDTCfar$qnvui proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_3927
		xor	ax, ax
		jmp	short loc_3965
; ---------------------------------------------------------------------------

loc_3927:
		les	bx, [bp+arg_0]
		add	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx+1Ah]

loc_3965:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetPolymorphicDTCfar$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

__ExceptInit	proc far
		push	si
		push	di
		mov	word ptr ss:12h, 0
		mov	word ptr ss:10h, 0
		mov	word ptr ss:18h, ds
		mov	word ptr ss:16h, 1006h
		mov	word ptr ss:1Ah, 0FEEDh
		mov	ax, ds
		mov	word_F40A, ax
		mov	word_F408, ax
		mov	dx, ss:18h
		mov	ax, ss:16h
		add	ax, 0A8h ; '¨'
		les	bx, ss:16h
		mov	es:[bx+22h], dx
		mov	es:[bx+20h], ax
		mov	word ptr ss:14h, 0FFFFh
		pop	di
		pop	si
		retf
__ExceptInit	endp

include libs/BorlandC/cputype.asm
include libs/BorlandC/FARHEAP.ASM
include libs/BorlandC/fbrk.asm
include libs/BorlandC/signal.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far _access(char *pathname, char)
__access	proc far

pathname	= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax		; func
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		call	__chmod
		add	sp, 6
		mov	dx, ax
		cmp	dx, 0FFFFh
		jnz	short loc_42F0
		jmp	short loc_4308
; ---------------------------------------------------------------------------

loc_42F0:
		test	[bp+arg_4], 2
		jz	short loc_42FB
		test	dl, 1
		jnz	short loc_42FF

loc_42FB:
		xor	ax, ax
		jmp	short loc_4308
; ---------------------------------------------------------------------------

loc_42FF:
		mov	_errno, 5
		mov	ax, 0FFFFh

loc_4308:
		pop	di
		pop	si
		pop	bp
		retf
__access	endp

; ---------------------------------------------------------------------------
		db 50h,	51h, 52h, 53h, 54h, 55h, 56h, 57h, 1Eh,	6, 8Bh
		db 0ECh, 0A1h, 58h, 11h, 0Bh, 6, 5Ah, 11h, 75h

; =============== S U B	R O U T	I N E =======================================


sub_4320	proc near
		daa
		mov	si, 0FFFFh
		push	ds
		mov	ax, 6300h
		clc
		int	21h		; DOS -	3.2+ only - GET	DOUBLE BYTE CHARACTER SET LEAD TABLE
		mov	ax, ds
		pop	ds
		jb	short loc_433B
		mov	dx, ds
		cmp	ax, dx
		jz	short loc_433B
		cmp	si, 0FFFFh
		jnz	short loc_4341

loc_433B:
		mov	si, 115Ch
		mov	ax, seg	dseg

loc_4341:
		mov	word ptr dword_F548, si
		mov	word ptr dword_F548+2, ax
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retn
sub_4320	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4355	proc far
					; sub_475F+284p ...

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	al, [bp+arg_0]
		xor	cx, cx
		les	bx, dword_F548

loc_4363:
		mov	dx, es:[bx]
		or	dx, dx
		jz	short loc_4375
		cmp	al, dl
		jb	short loc_4375
		inc	bx
		inc	bx
		cmp	al, dh
		ja	short loc_4363
		inc	cx

loc_4375:
		xchg	ax, cx
		pop	di
		pop	si
		pop	bp
		retf
sub_4355	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_437A	proc far
					; sub_475F+1AEp ...

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		xor	cx, cx
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_4390:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_439D
		xor	cx, cx
		jmp	short loc_43CB
; ---------------------------------------------------------------------------

loc_439D:
		cmp	cx, 1
		jnz	short loc_43A7
		mov	cx, 2
		jmp	short loc_43BE
; ---------------------------------------------------------------------------

loc_43A7:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr sub_4355
		pop	cx
		or	ax, ax
		jz	short loc_43BC
		mov	cx, 1
		jmp	short loc_43BE
; ---------------------------------------------------------------------------

loc_43BC:
		xor	cx, cx

loc_43BE:
		mov	ax, word ptr [bp+var_4]
		cmp	ax, [bp+arg_4]
		jnb	short loc_43CB
		inc	word ptr [bp+var_4]
		jmp	short loc_4390
; ---------------------------------------------------------------------------

loc_43CB:
		or	cx, cx
		jnz	short loc_43D4
		mov	ax, 1
		jmp	short loc_43D6
; ---------------------------------------------------------------------------

loc_43D4:
		xor	ax, ax

loc_43D6:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_437A	endp

include libs/BorlandC/chmoda.asm
include libs/BorlandC/fflush.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int flushall(void)
_flushall	proc far
					; _fflush+12p

var_8		= word ptr -8
var_6		= word ptr -6
stream		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	[bp+var_8], 0
		mov	ax, __nfile
		mov	[bp+var_6], ax
		mov	word ptr [bp+stream+2],	ds
		mov	word ptr [bp+stream], 0CD4h
		jmp	short loc_4507
; ---------------------------------------------------------------------------

loc_44EB:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 3
		jz	short loc_4503
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		call	_fflush
		pop	cx
		pop	cx
		inc	[bp+var_8]

loc_4503:
		add	word ptr [bp+stream], 14h

loc_4507:
		mov	ax, [bp+var_6]
		dec	[bp+var_6]
		or	ax, ax
		jnz	short loc_44EB
		mov	ax, [bp+var_8]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_flushall	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_451A	proc near

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jge	short loc_4537
		mov	cx, es:[bx+6]
		add	cx, es:[bx]
		inc	cx
		mov	ax, cx
		jmp	short loc_4544
; ---------------------------------------------------------------------------

loc_4537:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax

loc_4544:
		mov	[bp+var_2], ax
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+2], 40h
		jnz	short loc_4598
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Eh]
		mov	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		cmp	word ptr es:[bx], 0
		jge	short loc_4591
		jmp	short loc_4579
; ---------------------------------------------------------------------------

loc_456A:
		dec	word ptr [bp+var_6]
		les	bx, [bp+var_6]
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_4579
		inc	[bp+var_2]

loc_4579:
		mov	ax, cx
		dec	cx
		or	ax, ax
		jnz	short loc_456A
		jmp	short loc_4598
; ---------------------------------------------------------------------------

loc_4582:
		les	bx, [bp+var_6]
		inc	word ptr [bp+var_6]
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_4591
		inc	[bp+var_2]

loc_4591:
		mov	ax, cx
		dec	cx
		or	ax, ax
		jnz	short loc_4582

loc_4598:
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	4
sub_451A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl fseek(FILE *stream, __int32 offset, int whence)
_fseek		proc far

stream		= dword	ptr  6
_offset		= dword	ptr  0Ah
whence		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		nop
		call	_fflush
		pop	cx
		pop	cx
		or	ax, ax
		jz	short loc_45BE
		mov	ax, 0FFFFh
		jmp	short loc_4621
; ---------------------------------------------------------------------------

loc_45BE:
		cmp	[bp+whence], 1
		jnz	short loc_45DB
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jle	short loc_45DB
		push	word ptr [bp+stream+2]
		push	bx
		call	sub_451A
		cwd
		sub	word ptr [bp+_offset], ax
		sbb	word ptr [bp+_offset+2],	dx

loc_45DB:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FE5Fh
		mov	word ptr es:[bx], 0
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		push	[bp+whence]	; fromwhere
		push	word ptr [bp+_offset+2]
		push	word ptr [bp+_offset] ; offset
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		cmp	dx, 0FFFFh
		jnz	short loc_461F
		cmp	ax, 0FFFFh
		jnz	short loc_461F
		mov	ax, 0FFFFh
		jmp	short loc_4621
; ---------------------------------------------------------------------------

loc_461F:
		xor	ax, ax

loc_4621:
		pop	di
		pop	si
		pop	bp
		retf
_fseek		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __int32 __cdecl ftell(FILE *stream)
_ftell		proc far

var_8		= word ptr -8
var_6		= word ptr -6
_offset		= dword	ptr -4
stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, 1
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	word ptr [bp+_offset+2],	dx
		mov	word ptr [bp+_offset], ax
		cmp	dx, 0FFFFh
		jnz	short loc_4659
		cmp	ax, 0FFFFh
		jnz	short loc_4659
		jmp	loc_46FA
; ---------------------------------------------------------------------------

loc_4659:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jl	short loc_4665
		jmp	loc_46EA
; ---------------------------------------------------------------------------

loc_4665:
		mov	al, es:[bx+4]
		cbw
		add	ax, ax
		mov	bx, ax
		test	byte ptr [bx+0E67h], 8
		jz	short loc_46D8
		mov	ax, 2
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		mov	bx, word ptr [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		cmp	dx, 0FFFFh
		jnz	short loc_46A0
		cmp	ax, 0FFFFh
		jnz	short loc_46A0
		jmp	short loc_4700
; ---------------------------------------------------------------------------

loc_46A0:
		xor	ax, ax
		push	ax		; fromwhere
		push	word ptr [bp+_offset+2]
		push	word ptr [bp+_offset] ; offset
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		cmp	dx, 0FFFFh
		jnz	short loc_46CC
		cmp	ax, 0FFFFh
		jnz	short loc_46CC
		mov	dx, 0FFFFh
		mov	ax, 0FFFFh
		jmp	short loc_4700
; ---------------------------------------------------------------------------

loc_46CC:
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr [bp+_offset+2],	dx
		mov	word ptr [bp+_offset], ax

loc_46D8:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream]
		call	sub_451A
		cwd
		add	word ptr [bp+_offset], ax
		adc	word ptr [bp+_offset+2],	dx
		jmp	short loc_46FA
; ---------------------------------------------------------------------------

loc_46EA:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream]
		call	sub_451A
		cwd
		sub	word ptr [bp+_offset], ax
		sbb	word ptr [bp+_offset+2],	dx

loc_46FA:
		mov	dx, word ptr [bp+_offset+2]
		mov	ax, word ptr [bp+_offset]

loc_4700:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_ftell		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4706	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		cmp	ax, 5Ch	; '\'
		jz	short loc_4718
		cmp	ax, 2Fh	; '/'
		jnz	short loc_471D

loc_4718:
		mov	ax, 1
		jmp	short loc_471F
; ---------------------------------------------------------------------------

loc_471D:
		xor	ax, ax

loc_471F:
		pop	di
		pop	si
		pop	bp
		retn	2
sub_4706	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_4725	proc near
					; sub_475F+15Bp ...

arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		mov	ah, 0
		push	ax
		call	sub_4706
		or	ax, ax
		jz	short loc_4757
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		nop
		push	cs
		call	near ptr sub_437A
		add	sp, 8
		or	ax, ax
		jz	short loc_4757
		mov	ax, 1
		jmp	short loc_4759
; ---------------------------------------------------------------------------

loc_4757:
		xor	ax, ax

loc_4759:
		pop	di
		pop	si
		pop	bp
		retn	8
sub_4725	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_475F	proc far

drive		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
src		= dword	ptr -0Ch
dest		= dword	ptr -8
s		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 12h
		push	si
		push	di
		mov	ax, 0A1h ; '¡'
		push	ax
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+s+2], dx
		mov	word ptr [bp+s], ax
		or	ax, dx
		jnz	short loc_477E
		jmp	loc_49C1
; ---------------------------------------------------------------------------

loc_477E:
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+src]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+0F05h], 0Ch
		jz	short loc_47BE
		mov	bx, word ptr [bp+src]
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jnz	short loc_47BE
		mov	al, es:[bx]
		cbw
		mov	[bp+var_10], ax
		push	ax
		nop
		push	cs
		call	near ptr sub_3671
		pop	cx
		add	ax, 0FFC0h
		mov	[bp+drive], ax
		add	word ptr [bp+src], 2
		jmp	short loc_47D4
; ---------------------------------------------------------------------------

loc_47BE:
		push	ss
		lea	ax, [bp+drive]
		push	ax		; drive
		nop
		call	__dos_getdrive
		pop	cx
		pop	cx
		mov	ax, [bp+drive]
		add	ax, 41h	; 'A'
		dec	ax
		mov	[bp+var_10], ax

loc_47D4:
		les	bx, [bp+src]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_4706
		or	ax, ax
		jnz	short loc_483C
		mov	ax, 0A1h ; '¡'
		push	ax		; len
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; buf
		push	[bp+drive]	; drive
		nopcall	__getdcwd
		add	sp, 8
		or	ax, dx
		jnz	short loc_480C
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	loc_49C1
; ---------------------------------------------------------------------------

loc_480C:
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	dx, word ptr [bp+s+2]
		add	ax, word ptr [bp+s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		push	dx
		push	word ptr [bp+s]
		dec	ax
		push	dx
		push	ax
		call	sub_4725
		or	ax, ax
		jnz	short loc_485E
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		jmp	short loc_485B
; ---------------------------------------------------------------------------

loc_483C:
		mov	dx, word ptr [bp+s+2]
		mov	ax, word ptr [bp+s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_10]
		mov	es:[bx], al
		inc	word ptr [bp+dest]
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 3Ah ;	':'

loc_485B:
		inc	word ptr [bp+dest]

loc_485E:
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	dx, word ptr [bp+s+2]
		mov	ax, word ptr [bp+s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax

loc_4884:
					; sub_475F+298j ...
		les	bx, [bp+src]
		inc	word ptr [bp+src]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_E], ax
		or	ax, ax
		jz	short loc_48A0
		push	ax
		call	sub_4706
		or	ax, ax
		jnz	short loc_48A0
		jmp	loc_49D2
; ---------------------------------------------------------------------------

loc_48A0:
					; sub_475F+13Cj
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_48C7
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		mov	ax, word ptr [bp+dest]
		add	ax, 0FFFEh
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_4725
		or	ax, ax
		jz	short loc_48C7
		sub	word ptr [bp+dest], 2
		jmp	short loc_493E
; ---------------------------------------------------------------------------

loc_48C7:
					; sub_475F+160j
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_493E
		cmp	byte ptr es:[bx-2], 2Eh	; '.'
		jnz	short loc_493E
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		mov	ax, word ptr [bp+dest]
		add	ax, 0FFFDh
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_4725
		or	ax, ax
		jz	short loc_493E
		sub	word ptr [bp+dest], 3
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_4927
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr sub_437A
		add	sp, 8
		or	ax, ax
		jz	short loc_4927
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	loc_49C1
; ---------------------------------------------------------------------------

loc_4927:
					; sub_475F+1B6j ...
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		dec	word ptr [bp+dest]
		mov	ax, word ptr [bp+dest]
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_4725
		or	ax, ax
		jz	short loc_4927

loc_493E:
					; sub_475F+170j ...
		cmp	[bp+var_E], 0
		jz	short loc_4947
		jmp	loc_49C7
; ---------------------------------------------------------------------------

loc_4947:
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_4725
		or	ax, ax
		jz	short loc_495F
		dec	word ptr [bp+dest]

loc_495F:
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_498D
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr sub_437A
		add	sp, 8
		or	ax, ax
		jz	short loc_498D
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		inc	word ptr [bp+dest]

loc_498D:
					; sub_475F+222j
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		inc	ax
		mov	dx, ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_49AF
		jmp	loc_4A33
; ---------------------------------------------------------------------------

loc_49AF:
		cmp	dx, [bp+arg_8]
		jbe	short loc_4A0C
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_49C1:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_4A42
; ---------------------------------------------------------------------------

loc_49C7:
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		jmp	short loc_4A06
; ---------------------------------------------------------------------------

loc_49D2:
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+dest]
		push	[bp+var_E]
		nop
		push	cs
		call	near ptr sub_4355
		pop	cx
		or	ax, ax
		jnz	short loc_49EE
		jmp	loc_4884
; ---------------------------------------------------------------------------

loc_49EE:
		les	bx, [bp+src]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_49FA
		jmp	loc_4884
; ---------------------------------------------------------------------------

loc_49FA:
		mov	al, es:[bx]
		les	bx, [bp+dest]
		mov	es:[bx], al
		inc	word ptr [bp+src]

loc_4A06:
		inc	word ptr [bp+dest]
		jmp	loc_4884
; ---------------------------------------------------------------------------

loc_4A0C:
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; src
		push	[bp+arg_2]
		push	[bp+arg_0]	; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 0Ch
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		jmp	short loc_4A42
; ---------------------------------------------------------------------------

loc_4A33:
		push	dx
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _realloc
		add	sp, 6

loc_4A42:
					; sub_475F+2D2j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_475F	endp

include libs/BorlandC/getdcwd.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; char *__cdecl	getenv(const char *name)
_getenv		proc far
					; sub_9399+126p

var_4		= dword	ptr -4
_name		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	di, [bp+_name]
		mov	ax, es
		or	ax, di
		jz	short loc_4B16
		mov	al, 0
		mov	ah, es:[di]
		mov	cx, 0FFFFh
		cld
		repne scasb
		not	cx
		dec	cx
		jz	short loc_4B16
		les	di, environ@
		mov	word ptr [bp+var_4+2], es
		mov	bx, es
		or	bx, di
		mov	word ptr [bp+var_4], di
		jnz	short loc_4B23

loc_4B16:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_4B4F
; ---------------------------------------------------------------------------

loc_4B1C:
		add	word ptr [bp+var_4], 4
		les	di, [bp+var_4]

loc_4B23:
		les	di, es:[di]
		mov	bx, es
		or	bx, di
		jz	short loc_4B16
		mov	al, es:[di]
		or	al, al
		jz	short loc_4B16
		cmp	ah, al
		jnz	short loc_4B1C
		mov	bx, cx
		cmp	byte ptr es:[bx+di], 3Dh ; '='
		jnz	short loc_4B1C
		push	ds
		lds	si, [bp+_name]
_getenv		endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_4B43	proc far
		repe cmpsb
		pop	ds
		xchg	cx, bx
		jnz	short loc_4B1C
		inc	di
		mov	ax, di
		mov	dx, es

loc_4B4F:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_4B43	endp ; sp-analysis failed

include libs/BorlandC/memcmp.asm
include libs/BorlandC/memcpy.asm
include libs/BorlandC/memset.asm
include libs/BorlandC/movmem.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl _searchenv(const	char *file, const char *varname, char *pathname)
__searchenv	proc far

var_4		= dword	ptr -4
src		= dword	ptr  6
varname		= dword	ptr  0Ah
pathname	= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	word ptr [bp+varname+2]
		push	word ptr [bp+varname] ;	name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jnz	short loc_4C87
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 1168h

loc_4C87:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		nop
		push	cs
		call	near ptr sub_4CA7
		add	sp, 0Ch
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__searchenv	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_4CA7(char *src,	__int32, char *pathname)
sub_4CA7	proc far

var_4		= word ptr -4
var_2		= word ptr -2
src		= dword	ptr  6
arg_4		= dword	ptr  0Ah
pathname	= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, 50h	; 'P'
		push	ax		; len
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; buf
		xor	ax, ax
		push	ax		; drive
		nopcall	__getdcwd
		add	sp, 8
		or	ax, dx
		jnz	short loc_4CCC
		xor	dx, dx
		jmp	short loc_4CDB
; ---------------------------------------------------------------------------

loc_4CCC:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	dx, ax

loc_4CDB:
		les	bx, [bp+pathname]
		add	bx, dx
		mov	byte ptr es:[bx], 0
		or	dx, dx
		jz	short loc_4D30
		mov	bx, dx
		add	bx, word ptr [bp+pathname]
		mov	bl, es:[bx-1]
		mov	al, bl
		cmp	al, 5Ch	; '\'
		jz	short loc_4D01
		cmp	bl, 2Fh	; '/'
		jz	short loc_4D01
		cmp	bl, 3Ah	; ':'
		jnz	short loc_4D1D

loc_4D01:
		mov	ax, word ptr [bp+pathname]
		add	ax, dx
		dec	ax
		push	word ptr [bp+pathname+2]
		push	ax
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname]
		nop
		push	cs
		call	near ptr sub_437A
		add	sp, 8
		or	ax, ax
		jnz	short loc_4D30

loc_4D1D:
		push	ds
		mov	ax, 116Ah
		push	ax		; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8

loc_4D30:
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8
		xor	ax, ax
		push	ax		; char
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		or	ax, ax
		jz	short loc_4DA4
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_4D6B
		les	bx, [bp+pathname]
		mov	byte ptr es:[bx], 0
		jmp	short loc_4DE3
; ---------------------------------------------------------------------------

loc_4D6B:
		xor	dx, dx
		jmp	short loc_4D83
; ---------------------------------------------------------------------------

loc_4D6F:
		les	bx, [bp+pathname]
		add	bx, dx
		push	es
		les	si, [bp+arg_4]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+arg_4]
		inc	dx

loc_4D83:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 3Bh ;	';'
		jz	short loc_4D92
		cmp	byte ptr es:[bx], 0
		jnz	short loc_4D6F

loc_4D92:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_4D9E
		jmp	loc_4CDB
; ---------------------------------------------------------------------------

loc_4D9E:
		inc	word ptr [bp+arg_4]
		jmp	loc_4CDB
; ---------------------------------------------------------------------------

loc_4DA4:
		mov	ax, 50h	; 'P'
		push	ax
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname]
		xor	ax, ax
		push	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_475F
		add	sp, 0Ah
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_4DE3
		push	[bp+var_2]
		push	[bp+var_4]	; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	[bp+var_2]
		push	[bp+var_4]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 0Ch

loc_4DE3:
					; sub_4CA7+11Bj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_4CA7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl setvbuf(FILE *stream, char *buf, int type, size_t	size)
_setvbuf	proc far

stream		= dword	ptr  6
buf		= dword	ptr  0Ah
_type		= word ptr  0Eh
_size		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+stream]
		mov	ax, es:[bx+12h]
		cmp	ax, word ptr [bp+stream]
		jz	short loc_4DFD
		jmp	loc_4ED4
; ---------------------------------------------------------------------------

loc_4DFD:
		cmp	[bp+_type], 2
		jle	short loc_4E06
		jmp	loc_4ED4
; ---------------------------------------------------------------------------

loc_4E06:
		cmp	[bp+_size], 7FFFh
		jbe	short loc_4E10
		jmp	loc_4ED4
; ---------------------------------------------------------------------------

loc_4E10:
		cmp	word_F55E, 0
		jnz	short loc_4E26
		cmp	word ptr [bp+stream], 0CE8h
		jnz	short loc_4E26
		mov	word_F55E, 1
		jmp	short loc_4E3A
; ---------------------------------------------------------------------------

loc_4E26:
		cmp	word_F55C, 0
		jnz	short loc_4E3A
		cmp	word ptr [bp+stream], 0CD4h
		jnz	short loc_4E3A
		mov	word_F55C, 1

loc_4E3A:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jz	short loc_4E57
		mov	ax, 1
		push	ax		; whence
		xor	ax, ax
		push	ax
		push	ax		; offset
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fseek
		add	sp, 0Ah

loc_4E57:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 4
		jz	short loc_4E70
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_4E70:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FFF3h
		mov	word ptr es:[bx+6], 0
		mov	dx, word ptr [bp+stream+2]
		mov	ax, word ptr [bp+stream]
		add	ax, 5
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		cmp	[bp+_type], 2
		jz	short loc_4F04
		cmp	[bp+_size], 0
		jbe	short loc_4F04
		mov	word ptr _exitbuf+2, seg seg000
		mov	word ptr _exitbuf, 5212h
		mov	ax, word ptr [bp+buf]
		or	ax, word ptr [bp+buf+2]
		jnz	short loc_4ED9
		push	[bp+_size]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+buf+2], dx
		mov	word ptr [bp+buf], ax
		or	ax, dx
		jz	short loc_4ED4
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 4
		jmp	short loc_4ED9
; ---------------------------------------------------------------------------

loc_4ED4:
		mov	ax, 0FFFFh
		jmp	short loc_4F06
; ---------------------------------------------------------------------------

loc_4ED9:
		les	bx, [bp+stream]
		mov	dx, word ptr [bp+buf+2]
		mov	ax, word ptr [bp+buf]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	ax, [bp+_size]
		mov	es:[bx+6], ax
		cmp	[bp+_type], 1
		jnz	short loc_4F04
		or	word ptr es:[bx+2], 8

loc_4F04:
		xor	ax, ax

loc_4F06:
		pop	di
		pop	si
		pop	bp
		retf
_setvbuf	endp

include libs/BorlandC/_strcat.asm
include libs/BorlandC/_strcmp.asm
include libs/BorlandC/_strcpy.asm
include libs/BorlandC/_stricmp.asm
include libs/BorlandC/_strlen.asm
include libs/BorlandC/strrchr.asm
include libs/BorlandC/write.asm
include libs/BorlandC/writea.asm
include libs/BorlandC/xfflush.asm
include libs/BorlandC/xalloc.asm
include libs/BorlandC/xmsg.asm
include libs/BorlandC/xx.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __stdcall	_DOSCMD(int, int, char *s, int,	int)
__DOSCMD	proc near

dest		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
s		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Eh
		push	si
		push	di
		mov	[bp+var_2], 3
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jz	short loc_8984
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_2], ax

loc_8984:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_89AE
; ---------------------------------------------------------------------------

loc_8992:
		les	bx, [bp+var_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_2], ax
		add	word ptr [bp+var_6], 4

loc_89AE:
		les	bx, [bp+var_6]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_8992
		push	[bp+var_2]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		or	ax, dx
		jnz	short loc_89D4
		xor	dx, dx
		xor	ax, ax
		jmp	loc_8A8A
; ---------------------------------------------------------------------------

loc_89D4:
		mov	dx, word ptr [bp+var_A+2]
		mov	ax, word ptr [bp+var_A]
		inc	ax
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jz	short loc_8A17
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]

loc_8A17:
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_8A65
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_8A59
; ---------------------------------------------------------------------------

loc_8A2D:
		les	bx, [bp+var_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]
		add	word ptr [bp+var_6], 4

loc_8A59:
		les	bx, [bp+var_6]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_8A2D

loc_8A65:
		les	bx, [bp+dest]
		mov	byte ptr es:[bx-1], 0Dh
		mov	byte ptr es:[bx], 0
		mov	ax, word ptr [bp+dest]
		xor	dx, dx
		sub	ax, word ptr [bp+var_A]
		sbb	dx, 0
		add	al, 0FEh ; 'þ'
		les	bx, [bp+var_A]
		mov	es:[bx], al
		mov	dx, word ptr [bp+var_A+2]
		mov	ax, word ptr [bp+var_A]

loc_8A8A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Ch
__DOSCMD	endp

include libs/BorlandC/exec.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int execl(char *path,	char *arg0, ...)
_execl		proc far

s		= dword	ptr  6
arg0		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ss		; int
		lea	ax, [bp+arg0]
		push	ax		; int
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		mov	ax, 8BF9h
		push	ax		; int
		call	sub_9399
		add	sp, 10h
		pop	di
		pop	si
		pop	bp
		retf
_execl		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl setblock(unsigned	int __psp, unsigned int newsize)
_setblock	proc far

___psp		= word ptr  6
newsize		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ah, 4Ah	; 'J'
		mov	bx, [bp+newsize]
		mov	es, [bp+___psp]
		int	21h		; DOS -	2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
					; ES = segment address of block	to change
					; BX = new size	in paragraphs
		jb	short loc_8E70
		mov	ax, 0FFFFh
		jmp	short loc_8E76
; ---------------------------------------------------------------------------

loc_8E70:
		push	bx
		push	ax
		call	__IOERROR
		pop	ax

loc_8E76:
		pop	di
		pop	si
		pop	bp
		retf
_setblock	endp

include libs/BorlandC/setenvp.asm

unknown_libname_2:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_D811
		db 4 dup(0), 0D7h, 8Eh
		dw seg seg000
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_8F2C
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_8F2A
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nopcall	@$bdele$qnv
		pop	cx
		pop	cx
		jmp	short loc_8F2E
; ---------------------------------------------------------------------------

loc_8F2A:
		jmp	short loc_8F2E
; ---------------------------------------------------------------------------

loc_8F2C:
		xor	ax, ax

loc_8F2E:
					; seg000:loc_8F2Aj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_3:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_D9B9
		dd byte_D96B
		db 4 dup(0), 0B4h, 1
		dw seg seg003
		db 87h,	20h, 0FCh, 0FFh, 6 dup(0), 37h,	8Fh
		dw seg seg000
		db 0DEh, 0FFh, 2 dup(0), 5, 3 dup(0), 2	dup(0FFh), 6, 0
		db 5, 3	dup(0),	43h, 8Fh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_8FAE
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_8FAC
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nopcall	@$bdele$qnv
		pop	cx
		pop	cx
		jmp	short loc_8FB0
; ---------------------------------------------------------------------------

loc_8FAC:
		jmp	short loc_8FB0
; ---------------------------------------------------------------------------

loc_8FAE:
		xor	ax, ax

loc_8FB0:
					; seg000:loc_8FACj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_8FFB
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_8FF9
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nopcall	@$bdele$qnv
		pop	cx
		pop	cx
		jmp	short loc_8FFD
; ---------------------------------------------------------------------------

loc_8FF9:
		jmp	short loc_8FFD
; ---------------------------------------------------------------------------

loc_8FFB:
		xor	ax, ax

loc_8FFD:
					; seg000:loc_8FF9j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_4:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		db 4 dup(0), 6,	90h
		dw seg seg000
		db 0E2h, 0FFh, 0FCh, 0Bh
		dw seg seg003
		dd 0
		dd byte_E362
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FCh, 0Bh
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 8Ah, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 10h, 90h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 18h, 90h,	6, 0, 5
		db 0, 1, 0, 30h, 90h, 0FCh, 0Bh
		dw seg seg003
		db 4 dup(0), 0C2h, 0Bh
		dw seg seg003
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FCh, 0Bh
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 8Ah, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 54h, 90h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 5Ch, 90h,	6, 0, 5
		db 0, 1, 0, 74h, 90h, 0FCh, 0Bh
		dw seg seg003
		dd 0
		dd byte_E362
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FCh, 0Bh
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 8Ah, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 98h, 90h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 0A0h, 90h, 6, 0
		db 5, 0, 1, 0, 0B8h, 90h, 4 dup(0), 0DCh, 90h
		dw seg seg000
		db 0E2h, 0FFh, 48h, 0Bh
		dw seg seg003
		dd byte_E39C
		db 4 dup(0), 0E6h, 90h
		dw seg seg000
		db 0E2h, 0FFh, 4 dup(0), 0F8h, 90h
		dw seg seg000
		db 0E2h, 0FFh, 48h, 0Bh
		dw seg seg003
		dd byte_E29A
		db 4 dup(0), 2,	91h
		dw seg seg000
		db 0E2h, 0FFh, 4 dup(0), 14h, 91h
		dw seg seg000
		db 0E2h, 0FFh, 48h, 0Bh
		dw seg seg003
		dd byte_E29A
		db 4 dup(0), 1Eh, 91h
		dw seg seg000
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_91AC
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_91AA
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nopcall	@$bdele$qnv
		pop	cx
		pop	cx
		jmp	short loc_91AE
; ---------------------------------------------------------------------------

loc_91AA:
		jmp	short loc_91AE
; ---------------------------------------------------------------------------

loc_91AC:
		xor	ax, ax

loc_91AE:
					; seg000:loc_91AAj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_91F9
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_91F7
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nopcall	@$bdele$qnv
		pop	cx
		pop	cx
		jmp	short loc_91FB
; ---------------------------------------------------------------------------

loc_91F7:
		jmp	short loc_91FB
; ---------------------------------------------------------------------------

loc_91F9:
		xor	ax, ax

loc_91FB:
					; seg000:loc_91F7j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9246
		nopcall	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9244
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nopcall	@$bdele$qnv
		pop	cx
		pop	cx
		jmp	short loc_9248
; ---------------------------------------------------------------------------

loc_9244:
		jmp	short loc_9248
; ---------------------------------------------------------------------------

loc_9246:
		xor	ax, ax

loc_9248:
					; seg000:loc_9244j
		pop	di
		pop	si
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_924C	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		cmp	ah, 81h	; ''
		jb	short loc_9286
		cmp	ah, 0A0h ; ' '
		jb	short loc_9268
		cmp	ah, 0E0h ; 'à'
		jb	short loc_9286
		cmp	ah, 0F0h ; 'ð'
		jnb	short loc_9286

loc_9268:
		cmp	al, 40h	; '@'
		jb	short loc_9286
		cmp	al, 0FDh ; 'ý'
		jnb	short loc_9286
		cmp	al, 7Fh	; ''
		jz	short loc_9286
		cmp	al, 80h	; '€'
		adc	al, 61h	; 'a'
		jb	short loc_927C
		sub	al, 0A2h ; '¢'

loc_927C:
		rcl	ah, 1
		and	ah, 7Fh
		add	ax, 1F21h
		jmp	short loc_9288
; ---------------------------------------------------------------------------

loc_9286:
		xor	ax, ax

loc_9288:
		pop	di
		pop	si
		pop	bp
		retf
sub_924C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_928C	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_92FD
; ---------------------------------------------------------------------------

loc_92A2:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		push	ax
		nop
		push	cs
		call	near ptr sub_4355
		pop	cx
		or	ax, ax
		jz	short loc_92C1
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_92FA
		jmp	short loc_9306
; ---------------------------------------------------------------------------

loc_92C1:
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_92E0
; ---------------------------------------------------------------------------

loc_92CF:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		les	bx, [bp+var_8]
		cmp	al, es:[bx]
		jz	short loc_92E9
		inc	word ptr [bp+var_8]

loc_92E0:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_92CF

loc_92E9:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_92FA
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_930A
; ---------------------------------------------------------------------------

loc_92FA:
		inc	word ptr [bp+var_4]

loc_92FD:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_92A2

loc_9306:
		xor	dx, dx
		xor	ax, ax

loc_930A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_928C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_9310(int, int, char *pathname, char *src, int)
sub_9310	proc far

dest		= byte ptr -50h
arg_0		= word ptr  6
arg_2		= word ptr  8
pathname	= dword	ptr  0Ah
src		= dword	ptr  0Eh
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 50h
		push	si
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 10h
		cmp	[bp+arg_C], 0
		jz	short loc_9364
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		push	ds
		mov	ax, 12F0h
		push	ax		; varname
		push	ss
		lea	ax, [bp+dest]
		push	ax		; file
		nop
		push	cs
		call	near ptr __searchenv
		add	sp, 0Ch
		les	bx, [bp+pathname]
		cmp	byte ptr es:[bx], 0
		jz	short loc_9391
		jmp	short loc_938C
; ---------------------------------------------------------------------------

loc_9364:
		push	ss
		lea	ax, [bp+dest]
		push	ax		; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	ax, 4
		push	ax		; char
		push	ss
		lea	ax, [bp+dest]
		push	ax		; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		or	ax, ax
		jnz	short loc_9391

loc_938C:
		mov	ax, 1
		jmp	short loc_9393
; ---------------------------------------------------------------------------

loc_9391:
		xor	ax, ax

loc_9393:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_9310	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_9399(int, char *s, int, int, int, int, int)
sub_9399	proc near

pathname	= word ptr -9Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= dword	ptr -14h
s1		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
s		= dword	ptr  6
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 9Ch
		push	si
		push	di
		les	bx, [bp+s]
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		cmp	ax, 61h	; 'a'
		jb	short loc_93B3
		sub	dx, 20h	; ' '

loc_93B3:
		cmp	dx, 41h	; 'A'
		jb	short loc_93C7
		cmp	dx, 5Ah	; 'Z'
		ja	short loc_93C7
		les	bx, [bp+s]
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jz	short loc_93DD

loc_93C7:
		push	ds
		mov	ax, 12F5h
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		push	cs
		call	near ptr sub_928C
		add	sp, 8
		or	ax, dx
		jz	short loc_93E2

loc_93DD:
		mov	[bp+arg_E], 0

loc_93E2:
		mov	[bp+var_1A], 0
		mov	ax, 2Eh	; '.'
		push	ax		; char
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr strrchr
		add	sp, 6
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		or	ax, dx
		jz	short loc_9441
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 12F8h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_9310
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_9428
		jmp	loc_94AC
; ---------------------------------------------------------------------------

loc_9428:
		push	ds
		mov	ax, 12F9h
		push	ax		; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		nop
		push	cs
		call	near ptr _stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_94AC
		jmp	short loc_94A7
; ---------------------------------------------------------------------------

loc_9441:
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 12FEh
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_9310
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_94AC
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 1303h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_9310
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_94AC
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 1308h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_9310
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jz	short loc_94AC

loc_94A7:
		mov	[bp+var_1A], 1

loc_94AC:
		cmp	[bp+var_18], 0
		jz	short loc_94CE
		cmp	[bp+var_1A], 0
		jz	short loc_94D7
		push	ds
		mov	ax, 130Dh
		push	ax		; name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jnz	short loc_94D7

loc_94CE:
		mov	_errno, 2
		jmp	loc_959D
; ---------------------------------------------------------------------------

loc_94D7:
					; sub_9399+133j
		cmp	[bp+var_1A], 0
		jz	short loc_94F0
		push	[bp+var_2]
		push	[bp+var_4]
		push	ds
		mov	ax, 1315h
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		jmp	short loc_9504
; ---------------------------------------------------------------------------

loc_94F0:
		push	ss		; int
		lea	ax, [bp+pathname]
		push	ax		; int
		xor	ax, ax
		push	ax
		push	ax		; s
		mov	ax, [bp+arg_6]
		add	ax, 4
		push	[bp+arg_8]	; int
		push	ax		; int

loc_9504:
		call	__DOSCMD
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jnz	short loc_951E
		mov	_errno, 8
		; Hack (jmp loc_959D)
		db 0e9h, 07fh, 000h
; ---------------------------------------------------------------------------

loc_951E:
		mov	ax, [bp+var_8]
		inc	ax
		push	[bp+var_6]
		push	ax		; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		cmp	ax, 80h	; '€'
		jb	short loc_9547
		mov	_errno, 14h
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	short loc_959D
; ---------------------------------------------------------------------------

loc_9547:
		mov	ax, [bp+arg_A]
		or	ax, [bp+arg_C]
		jnz	short loc_955C
		mov	dx, word ptr environ@+2
		mov	ax, word ptr environ@
		mov	[bp+arg_C], dx
		mov	[bp+arg_A], ax

loc_955C:
		push	[bp+arg_C]	; int
		push	[bp+arg_A]	; int
		cmp	[bp+var_1A], 0
		jz	short loc_9570
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		jmp	short loc_9576
; ---------------------------------------------------------------------------

loc_9570:
		mov	dx, ss
		lea	ax, [bp+pathname]

loc_9576:
		push	dx
		push	ax		; s
		push	ss
		lea	ax, [bp+var_14]
		push	ax		; __int32
		call	__DOSENV
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		or	ax, dx
		jnz	short loc_95A2
		mov	_errno, 8
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_959D:
					; sub_9399+182j ...
		mov	ax, 0FFFFh
		jmp	short loc_95ED
; ---------------------------------------------------------------------------

loc_95A2:
		call	_exitbuf
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_6]
		push	[bp+var_8]
		cmp	[bp+var_1A], 0
		jz	short loc_95C0
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		jmp	short loc_95C6
; ---------------------------------------------------------------------------

loc_95C0:
		mov	dx, ss
		lea	ax, [bp+pathname]

loc_95C6:
		push	dx
		push	ax
		call	[bp+arg_0]
		add	sp, 0Ch
		mov	[bp+var_16], ax
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		nop
		push	cs
		call	near ptr _farfree
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 8
		mov	ax, [bp+var_16]

loc_95ED:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_9399	endp

seg000		ends

; ===========================================================================

; Segment type:	Pure code
seg001		segment	byte public 'CODE' use16
		assume cs:seg001
		;org 3
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_95F3	proc near

var_8		= byte ptr -8
var_3		= word ptr -3

		enter	8, 0
		push	si
		push	ds
		push	offset aYume_cfg ; "YUME.CFG"
		call	sub_966
		push	ss
		lea	ax, [bp+var_8]
		push	ax
		push	8
		call	sub_8B2
		call	sub_846
		mov	si, [bp+var_3]
		mov	word ptr dword_105DA+2,	si
		mov	word ptr dword_105DA, 0
		mov	ax, si
		pop	si
		leave
		retn
sub_95F3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9624	proc near

var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	2, 0
		push	ds
		push	offset aLogo0_rgb ; "logo0.rgb"
		call	sub_1A68
		call	far ptr	palette_show
		push	0
		push	ds
		push	offset aLogo_cd2 ; "logo.cd2"
		call	sub_D114
		push	5
		push	ds
		push	offset aLogo5_cdg ; "logo5.cdg"
		push	0
		call	sub_CF1E
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+17h], 0
		jnz	short loc_965E
		mov	al, byte_F7E3
		jmp	short loc_9661
; ---------------------------------------------------------------------------

loc_965E:
		mov	al, byte_F7E4

loc_9661:
		mov	[bp+var_1], al
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+17h], 0
		jnz	short loc_969A
		cmp	byte ptr es:[bx+33h], 6
		jnz	short loc_967C
		mov	[bp+var_2], 9
		jmp	short loc_96B7
; ---------------------------------------------------------------------------

loc_967C:
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+33h], 7
		jnz	short loc_968D
		mov	[bp+var_2], 0Ah
		jmp	short loc_96B7
; ---------------------------------------------------------------------------

loc_968D:
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+17h], 0
		jnz	short loc_96AA
		jmp	short loc_96A5
; ---------------------------------------------------------------------------

loc_969A:
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+17h], 0
		jnz	short loc_96AA

loc_96A5:
		mov	al, byte_F7E4
		jmp	short loc_96AD
; ---------------------------------------------------------------------------

loc_96AA:
		mov	al, byte_F7E3

loc_96AD:
		mov	ah, 0
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_2], al

loc_96B7:
		push	6
		push	ds
		mov	al, [bp+var_1]
		mov	ah, 0
		cwd
		sub	ax, dx
		mov	bx, ax
		sar	bx, 1
		add	bx, bx
		push	word ptr [bx+90h]
		mov	al, [bp+var_1]
		mov	ah, 0
		and	ax, 1
		push	ax
		call	sub_CFA8
		mov	al, [bp+var_1]
		mov	ah, 0
		cwd
		sub	ax, dx
		mov	bx, ax
		sar	bx, 1
		shl	bx, 2
		push	large dword ptr	[bx+0A2h]
		call	sub_966
		mov	al, [bp+var_2]
		mov	ah, 0
		imul	ax, 0B4h
		cwde
		push	eax
		push	0
		call	sub_9A2
		push	ds
		push	offset unk_F72C
		push	3Ch ; '<'
		call	sub_8B2
		mov	byte_F768, 0
		push	ds
		push	offset unk_F769
		push	3Ch ; '<'
		call	sub_8B2
		mov	byte_F7A5, 0
		push	ds
		push	offset unk_F7A6
		push	3Ch ; '<'
		call	sub_8B2
		mov	byte_F7E2, 0
		call	sub_846
		leave
		retn
sub_9624	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_973E	proc near
		push	bp
		mov	bp, sp
		push	large 500110h
		push	2Fh ; '/'
		push	ds
		push	offset unk_F72C
		call	sub_D197
		push	large 500120h
		push	2Fh ; '/'
		push	ds
		push	offset unk_F769
		call	sub_D197
		push	large 500130h
		push	2Fh ; '/'
		push	ds
		push	offset unk_F7A6
		call	sub_D197
		pop	bp
		retn
sub_973E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9776	proc near
					; _main:loc_9E89p ...
		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_9785
; ---------------------------------------------------------------------------

loc_977E:
		push	si
		call	sub_D130
		inc	si

loc_9785:
		cmp	si, 20h	; ' '
		jl	short loc_977E
		pop	si
		pop	bp
		retn
sub_9776	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_978D	proc near
		push	bp
		mov	bp, sp
		push	si
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	PaletteTone, 0
		call	far ptr	palette_show
		call	graph_show
		push	large 160012Ch
		push	0
		call	far ptr	loc_D712
		push	0
		call	sub_CEC2
		push	2
		call	palette_black_in
		push	large 60010h
		call	sub_D3FC
		mov	si, 1
		jmp	short loc_97FC
; ---------------------------------------------------------------------------

loc_97E8:
		push	large 160012Ch
		push	si
		call	far ptr	loc_D712
		push	6
		call	sub_CB52
		inc	si

loc_97FC:
		cmp	si, 5
		jl	short loc_97E8
		push	large 0A0040h
		call	sub_D3FC
		mov	PaletteTone, 0C8h	; 'È'
		call	far ptr	palette_show
		push	large 0E00040h
		push	6
		call	far ptr	loc_D712
		push	large 160012Ch
		push	5
		call	far ptr	loc_D712
		push	ds
		push	offset aLogo1_rgb ; "logo1.rgb"
		call	sub_1A68
		call	far ptr	palette_show
		call	sub_9776
		push	large 0B0004h
		call	sub_D3FC
		push	1
		call	palette_white_in
		push	8
		call	sub_CB52
		call	sub_973E
		call	sub_9887
		or	ax, ax
		jnz	short loc_9868
		call	sub_990C

loc_9868:
		call	sub_D5A2
		cmp	word_100FC, 0
		jnz	short loc_987D
		push	1
		call	sub_CB52
		jmp	short loc_9868
; ---------------------------------------------------------------------------

loc_987D:
		push	1
		call	palette_black_out
		pop	si
		pop	bp
		retn
sub_978D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9887	proc near

var_2		= word ptr -2

		enter	2, 0
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+28h], 1
		jnz	short loc_98A1
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+17h], 0
		jz	short loc_98A6

loc_98A1:
		mov	ax, 1
		leave
		retn
; ---------------------------------------------------------------------------

loc_98A6:
		les	bx, dword_105DA
		mov	al, es:[bx+33h]
		mov	ah, 0
		add	bx, ax
		mov	al, es:[bx+29h]
		mov	bx, word ptr dword_105DA
		mov	es:[bx+0Dh], al
		cmp	byte ptr es:[bx+33h], 7
		jnz	short loc_98CA
		mov	ax, 3
		leave
		retn
; ---------------------------------------------------------------------------

loc_98CA:
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+33h], 8
		jnz	short loc_98DA
		mov	ax, 4
		leave
		retn
; ---------------------------------------------------------------------------

loc_98DA:
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+33h], 9
		jnz	short loc_98EA
		mov	ax, 5
		leave
		retn
; ---------------------------------------------------------------------------

loc_98EA:
		les	bx, dword_105DA
		mov	al, es:[bx+0Dh]
		mov	ah, 0
		dec	ax
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 7
		jl	short loc_9908
		mov	byte ptr es:[bx+0Dh], 1

loc_9908:
		xor	ax, ax
		leave
		retn
sub_9887	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_990C	proc near

var_1		= byte ptr -1

		enter	2, 0
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, byte_F7E3
		mov	[bp+var_1], al
		push	0
		push	ds
		mov	ah, 0
		cwd
		sub	ax, dx
		mov	bx, ax
		sar	bx, 1
		add	bx, bx
		push	word ptr [bx+90h]
		mov	al, [bp+var_1]
		mov	ah, 0
		and	ax, 1
		push	ax
		call	sub_CF1E
		les	bx, dword_105DA
		mov	al, es:[bx+0Dh]
		add	al, 0FFh
		mov	[bp+var_1], al
		push	1
		push	ds
		mov	ah, 0
		cwd
		sub	ax, dx
		mov	bx, ax
		sar	bx, 1
		add	bx, bx
		push	word ptr [bx+90h]
		mov	al, [bp+var_1]
		mov	ah, 0
		and	ax, 1
		push	ax
		call	sub_CF1E
		mov	al, [bp+var_1]
		mov	ah, 0
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_1], al
		mov	byte_F7E5, 1
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+28h], 1
		jz	short loc_9997
		mov	bx, word_E504
		mov	al, [bx+4]
		add	al, 4
		jmp	short loc_99CB
; ---------------------------------------------------------------------------

loc_9997:
		cmp	[bp+var_1], 7
		jnz	short loc_99A8
		mov	bx, word_E504
		mov	al, [bx+4]
		add	al, 2
		jmp	short loc_99CB
; ---------------------------------------------------------------------------

loc_99A8:
		cmp	[bp+var_1], 8
		jnz	short loc_99B7
		mov	bx, word_E504
		inc	byte ptr [bx+4]
		jmp	short loc_99F1
; ---------------------------------------------------------------------------

loc_99B7:
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+33h], 6
		jnz	short loc_99D4
		mov	bx, word_E504
		mov	al, [bx+4]
		add	al, 3

loc_99CB:
		mov	bx, word_E504
		mov	[bx+4],	al
		jmp	short loc_99F1
; ---------------------------------------------------------------------------

loc_99D4:
		push	2
		push	ds
		push	word_E502
		les	bx, dword_105DA
		mov	al, es:[bx+33h]
		mov	ah, 0
		inc	ax
		push	ax
		call	sub_CF1E
		mov	byte_F7E5, 0

loc_99F1:
		push	0
		push	ds
		push	offset aStnx0_pi ; "stnx0.pi"
		call	sub_D4AB
		push	large 0
		push	0
		call	sub_CD2F
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		push	0
		push	ds
		push	word_E504
		call	sub_D4AB
		push	large 0
		push	0
		call	sub_CD2F
		leave
		retn
sub_990C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9A2C	proc near
					; _main+199p

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		push	si
		mov	si, 3A3h
		mov	[bp+var_2], 3AAh
		mov	PaletteTone, 0
		call	far ptr	palette_show
		push	0
		call	sub_CD0A
		push	0
		call	graph_copy_page
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		push	large 600060h
		push	0
		call	far ptr	loc_C9D4
		push	large 1600060h
		push	1
		call	far ptr	loc_CA88
		cmp	byte_F7E5, 0
		jnz	short loc_9A8E
		push	large 180002Eh
		push	2
		call	far ptr	loc_C9D4

loc_9A8E:
		push	0
		call	sub_D130
		push	1
		call	sub_D130
		push	2
		call	sub_D130
		les	bx, dword_105DA
		mov	al, es:[bx+0Ch]
		mov	ah, 0
		dec	ax
		cwd
		sub	ax, dx
		sar	ax, 1
		add	ax, ax
		mov	[bp+var_4], ax
		push	large 500124h
		push	2Fh ; '/'
		mov	bx, [bp+var_4]
		shl	bx, 2
		push	large CHAR_TITLE[bx]
		call	sub_D197
		push	large 800134h
		push	2Fh ; '/'
		mov	bx, [bp+var_4]
		shl	bx, 2
		push	large CHAR_NAME[bx]
		call	sub_D197
		les	bx, dword_105DA
		mov	al, es:[bx+0Dh]
		mov	ah, 0
		dec	ax
		cwd
		sub	ax, dx
		sar	ax, 1
		add	ax, ax
		mov	[bp+var_4], ax
		push	large 1500124h
		push	2Fh ; '/'
		mov	bx, [bp+var_4]
		shl	bx, 2
		push	large CHAR_TITLE[bx]
		call	sub_D197
		push	large 1800134h
		push	2Fh ; '/'
		mov	bx, [bp+var_4]
		shl	bx, 2
		push	large CHAR_NAME[bx]
		call	sub_D197
		push	1
		call	palette_black_in
		mov	vsync_Count1, 0
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		push	0
		call	sub_9D20
		push	1
		call	sub_9D20
		push	0
		push	ds
		push	offset aEn2_pi	; "EN2.pi"
		call	sub_D4AB
		push	large 118h
		push	0
		call	sub_CDB7
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		les	bx, dword_105DA
		mov	al, es:[bx+0Dh]
		mov	ah, 0
		dec	ax
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_4], ax
		mov	bx, [bp+var_4]
		cmp	bx, 8
		ja	short loc_9BC2
		add	bx, bx
		jmp	cs:off_9C9F[bx]

loc_9B97:
					; seg001:06B1o	...
		push	0
		push	ds
		push	offset aEnemy00_pi ; "ENEMY00.pi"
		jmp	short loc_9BBD
; ---------------------------------------------------------------------------

loc_9B9F:
		push	0
		push	ds
		push	offset aEnemy01_pi ; "ENEMY01.pi"
		jmp	short loc_9BBD
; ---------------------------------------------------------------------------

loc_9BA7:
		push	0
		push	ds
		push	offset aEnemy02_pi ; "ENEMY02.pi"
		jmp	short loc_9BBD
; ---------------------------------------------------------------------------

loc_9BAF:
		push	0
		push	ds
		push	offset aEnemy03_pi ; "ENEMY03.pi"
		jmp	short loc_9BBD
; ---------------------------------------------------------------------------

loc_9BB7:
		push	0
		push	ds
		push	offset aEnemy04_pi ; "ENEMY04.pi"

loc_9BBD:
					; sub_9A2C+179j ...
		call	sub_D4AB

loc_9BC2:
		push	large 130h
		push	0
		call	sub_CDB7
		les	bx, dword_105DA
		mov	al, es:[bx+0Dh]
		mov	ah, 0
		dec	ax
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_4], ax
		cmp	[bp+var_4], 0Ah
		jl	short loc_9BFB
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	al, [si]
		mov	[si], al
		mov	ax, [bp+var_4]
		cwd
		idiv	bx
		mov	[bp+var_4], dx

loc_9BFB:
		mov	al, [si+1]
		add	al, byte ptr [bp+var_4]
		mov	[si+1],	al
		push	100h
		call	sub_CEC2
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+33h], 6
		jz	short loc_9C1E
		push	600h
		push	ds
		push	si
		jmp	short loc_9C25
; ---------------------------------------------------------------------------

loc_9C1E:
		push	600h
		push	ds
		push	[bp+var_2]

loc_9C25:
		call	sub_C880
		add	sp, 6
		push	0B00h
		push	ds
		push	offset aYume_efc ; "YUME.EFC"
		call	sub_C880
		add	sp, 6
		mov	word_100FC, 0

loc_9C42:
		cmp	vsync_Count1, 20h ; ' '
		jbe	short loc_9C42
		jmp	short loc_9C50
; ---------------------------------------------------------------------------

loc_9C4B:
		call	sub_D5A2

loc_9C50:
		cmp	vsync_Count1, 60h ; '`'
		ja	short loc_9C5E
		cmp	word_100FC, 0
		jz	short loc_9C4B

loc_9C5E:
		push	1
		call	palette_white_out
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		push	1
		call	palette_white_in
		push	large 200005h
		call	text_fillca
		push	0
		call	sub_CD0A
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		call	sub_2820
		pop	si
		leave
		retn
sub_9A2C	endp

; ---------------------------------------------------------------------------
off_9C9F	dw offset loc_9B97
		dw offset loc_9B97
		dw offset loc_9B9F
		dw offset loc_9BA7
		dw offset loc_9B9F
		dw offset loc_9BA7
		dw offset loc_9B97
		dw offset loc_9BAF
		dw offset loc_9BB7

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9CB1	proc near

arg_0		= dword	ptr  4
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_4]
		push	0
		push	large [bp+arg_0]
		call	sub_D4AB
		mov	ax, si
		imul	ax, 140h
		push	ax
		push	large 0C80000h
		call	sub_CDB7
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+2], 65h	; 'e'
		mov	byte ptr es:[bx+3], 78h	; 'x'
		push	0
		push	word ptr [bp+arg_0+2]
		push	bx
		call	sub_D4AB
		mov	ax, si
		imul	ax, 140h
		push	ax
		push	large 0D00000h
		call	sub_CDB7
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		pop	si
		pop	bp
		retn	6
sub_9CB1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9D20	proc near
					; sub_9A2C+120p

var_E		= byte ptr -0Eh
var_D		= byte ptr -0Dh
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	0Eh, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		xor	si, si
		jmp	short loc_9D35
; ---------------------------------------------------------------------------

loc_9D2D:
		mov	al, [si+116h]
		mov	[bp+si+var_E], al
		inc	si

loc_9D35:
		cmp	si, 0Ch
		jl	short loc_9D2D
		les	bx, dword_105DA
		add	bx, di
		mov	al, es:[bx+0Ch]
		mov	ah, 0
		dec	ax
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0Ah
		jl	short loc_9D65
		mov	bx, 0Ah
		cwd
		idiv	bx
		add	al, [bp+var_E]
		mov	[bp+var_E], al
		mov	ax, [bp+var_2]
		cwd
		idiv	bx
		mov	[bp+var_2], dx

loc_9D65:
		mov	al, [bp+var_D]
		add	al, byte ptr [bp+var_2]
		mov	[bp+var_D], al
		push	di
		push	ss
		lea	ax, [bp+var_E]
		push	ax
		call	sub_9CB1
		pop	di
		pop	si
		leave
		retn	2
sub_9D20	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl main(int argc, const char	**argv,	const char **envp)
_main		proc far

var_2		= byte ptr -2
var_1		= byte ptr -1
_argc		= word ptr  6
_argv		= dword	ptr  8
_envp		= dword	ptr  0Ch

		enter	2, 0
		call	sub_95F3
		or	ax, ax
		jz	locret_9F8B
		push	ds
		push	offset aCOul	; "–²Žž‹ó1.dat"
		call	sub_CEE0
		call	sub_276E
		mov	byte_10061, 0
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+15h], 0
		jz	short loc_9DAD
		call	sub_C80C

loc_9DAD:
		call	sub_C72
		push	ds
		push	offset aMikoft_bft ; "MIKOFT.bft"
		call	sub_CB2
		push	0B00h
		push	ds
		push	offset aYume_efc ; "YUME.EFC"
		call	sub_C880
		add	sp, 6
		call	sub_CE3E
		call	sub_D784
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+35h], 0
		jz	short loc_9E04
		call	sub_B7D2
		call	text_clear
		call	sub_C96
		call	sub_C990
		push	large 0
		push	ds
		push	offset path	; "op"
		push	ds
		push	offset path	; "op"
		call	_execl
		add	sp, 0Ch

loc_9E04:
		les	bx, dword_105DA
		mov	al, es:[bx+0Ch]
		add	al, 0FFh
		mov	byte_F7E3, al
		mov	al, es:[bx+0Dh]
		add	al, 0FFh
		mov	byte_F7E4, al
		cmp	byte ptr es:[bx+33h], 0
		jz	loc_9F85
		cmp	byte ptr es:[bx+28h], 1
		jnz	short loc_9E3F
		call	sub_9887
		mov	[bp+var_1], al
		cmp	[bp+var_1], 4
		jz	short loc_9E89
		cmp	[bp+var_1], 5
		jnz	short loc_9E3F
		call	sub_B972

loc_9E3F:
		push	600h
		push	ds
		push	offset aWin_m	; "win.m"
		call	sub_C880
		add	sp, 6
		call	sub_9624
		call	sub_978D
		push	100h
		call	sub_CEC2
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+28h], 1
		jnz	loc_9F58
		call	sub_9887
		mov	[bp+var_1], al
		cmp	[bp+var_1], 0
		jnz	short loc_9E7B

loc_9E75:
		call	sub_9A2C
		jmp	loc_9F1E
; ---------------------------------------------------------------------------

loc_9E7B:
		cmp	[bp+var_1], 3
		jz	short loc_9E89
		cmp	[bp+var_1], 4
		jnz	loc_9F38

loc_9E89:
		call	sub_9776
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		mov	al, byte_F7E3
		mov	ah, 0
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_2], al
		cmp	[bp+var_2], 0Ah
		jb	short loc_9EDC
		les	bx, off_E4B6
		mov	al, es:[bx+1]
		mov	dl, [bp+var_2]
		mov	dh, 0
		mov	bx, 0Ah
		push	ax
		mov	ax, dx
		cwd
		idiv	bx
		pop	dx
		add	dl, al
		mov	bx, word ptr off_E4B6
		mov	es:[bx+1], dl
		mov	al, [bp+var_2]
		mov	ah, 0
		mov	bx, 0Ah
		cwd
		idiv	bx
		mov	[bp+var_2], dl

loc_9EDC:
		les	bx, off_E4B6
		mov	al, [bp+var_2]
		add	es:[bx+2], al
		cmp	[bp+var_1], 4
		jnz	short loc_9EF1
		inc	byte ptr es:[bx+5]

loc_9EF1:
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		call	graph_show
		push	large [off_E4B6]
		call	sub_A12E
		call	sub_AC6E
		call	sub_A174
		call	sub_990C
		call	sub_9A2C
		call	sub_C96

loc_9F1E:
		call	sub_D16F
		push	large 0
		push	ds
		push	offset aMain	; "main"
		push	ds
		push	offset aMain	; "main"

loc_9F2E:
		call	_execl
		add	sp, 0Ch
		leave
		retf
; ---------------------------------------------------------------------------

loc_9F38:
		call	sub_9776
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		call	sub_B7D2
		call	sub_9F8D
		or	ax, ax
		jnz	short loc_9F85
		call	sub_B92E
		jmp	short loc_9F69
; ---------------------------------------------------------------------------

loc_9F58:
		call	sub_9776
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free

loc_9F69:
		call	text_clear
		call	sub_C96
		call	sub_C990
		push	large 0
		push	ds
		push	offset path	; "op"
		push	ds
		push	offset path	; "op"
		jmp	short loc_9F2E
; ---------------------------------------------------------------------------

loc_9F85:
		call	sub_990C
		jmp	loc_9E75
; ---------------------------------------------------------------------------

locret_9F8B:
		leave
		retf
_main		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9F8D	proc near

var_6		= dword	ptr -6
var_2		= word ptr -2

		enter	6, 0
		push	si
		push	di
		mov	si, 1
		mov	[bp+var_2], 0
		mov	word ptr [bp+var_6+2], ds
		mov	word ptr [bp+var_6], 8D8h
		xor	di, di
		jmp	short loc_9FB3
; ---------------------------------------------------------------------------

loc_9FA7:
		les	bx, dword_105DA
		add	bx, di
		mov	byte ptr es:[bx+18h], 0
		inc	di

loc_9FB3:
		cmp	di, 10h
		jl	short loc_9FA7
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+36h], 0
		jnz	short loc_9FC8
		xor	ax, ax
		jmp	loc_A12A
; ---------------------------------------------------------------------------

loc_9FC8:
		push	large 0C00110h
		push	0
		call	far ptr	loc_D712
		push	large 1600110h
		push	3
		call	far ptr	loc_D712
		les	bx, dword_105DA
		mov	al, es:[bx+36h]
		les	bx, [bp+var_6]
		add	al, es:[bx]
		mov	es:[bx], al
		push	large 2400173h
		push	2Fh ; '/'
		push	word ptr [bp+var_6+2]
		push	bx
		call	sub_D197
		push	1
		call	palette_black_in

loc_A00B:
		call	sub_D5A2
		test	byte ptr word_100FC, 4
		jnz	short loc_A01E
		test	byte ptr word_100FC, 8
		jz	short loc_A056

loc_A01E:
		cmp	[bp+var_2], 0
		jnz	short loc_A05B
		mov	ax, 1
		sub	ax, si
		mov	si, ax
		push	large 0C00110h
		add	ax, ax
		mov	dx, 2
		sub	dx, ax
		push	dx
		call	far ptr	loc_D712
		push	large 1600110h
		mov	ax, si
		add	ax, ax
		inc	ax
		push	ax
		call	far ptr	loc_D712
		mov	[bp+var_2], 1
		jmp	short loc_A05B
; ---------------------------------------------------------------------------

loc_A056:
		mov	[bp+var_2], 0

loc_A05B:
		test	byte ptr word_100FC+1, 20h
		jnz	short loc_A069
		test	byte ptr word_100FC, 20h
		jz	short loc_A0B0

loc_A069:
		cmp	si, 1
		jnz	short loc_A0C5
		push	large 0C00000h
		call	grcg_setcolor
		push	large 2400173h
		push	large 2500183h
		call	grcg_boxfill
		call	grcg_off
		les	bx, dword_105DA
		dec	byte ptr es:[bx+36h]
		les	bx, [bp+var_6]
		dec	byte ptr es:[bx]
		push	large 2400173h
		push	2Fh ; '/'
		push	word ptr [bp+var_6+2]
		push	bx
		call	sub_D197
		jmp	short loc_A0C5
; ---------------------------------------------------------------------------

loc_A0B0:
		test	byte ptr word_100FC+1, 10h
		jz	short loc_A0BB
		xor	si, si
		jmp	short loc_A0C5
; ---------------------------------------------------------------------------

loc_A0BB:
		push	1
		call	sub_CB52
		jmp	loc_A00B
; ---------------------------------------------------------------------------

loc_A0C5:
					; sub_9F8D+121j ...
		push	203h
		call	sub_CEC2
		push	1
		call	palette_black_out
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	PaletteTone, 0
		call	far ptr	palette_show
		push	0
		push	ds
		push	offset aOver_pi	; "over.pi"
		call	sub_D4AB
		push	0
		call	sub_CD0A
		push	large 0
		push	0
		call	sub_CD2F
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		push	100h
		call	sub_CEC2
		les	bx, dword_105DA
		dec	byte ptr es:[bx+33h]
		mov	byte ptr es:[bx+34h], 2
		mov	ax, si

loc_A12A:
		pop	di
		pop	si
		leave
		retn
sub_9F8D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A12E	proc near

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		push	si
		call	sub_A174
		push	large [bp+arg_0]
		call	sub_966
		or	ax, ax
		jnz	short loc_A147
		mov	ax, 1
		jmp	short loc_A16F
; ---------------------------------------------------------------------------

loc_A147:
		call	sub_9E4
		mov	si, ax
		push	ax
		call	hmem_allocbyte
		mov	word ptr dword_105C6+2,	ax
		mov	word ptr dword_105C6, 0
		push	ax
		push	word ptr dword_105C6
		push	si
		call	sub_8B2
		call	sub_846
		xor	ax, ax

loc_A16F:
		pop	si
		pop	bp
		retn	4
sub_A12E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A174	proc near
		push	bp
		mov	bp, sp
		cmp	dword_105C6, 0
		jz	short loc_A191
		push	word ptr dword_105C6+2
		call	hmem_free
		mov	dword_105C6, 0

loc_A191:
		pop	bp
		retn
sub_A174	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A193	proc near
		push	bp
		mov	bp, sp
		call	egc_on
		mov	ax, 0FFF0h
		mov	dx, 4A0h
		out	dx, ax
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0FFFFh
		mov	dx, 4A8h
		out	dx, ax
		mov	ax, 0
		mov	dx, 4ACh
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		pop	bp
		retn
sub_A193	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A1C7	proc near
					; sub_A64D+513p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		push	di
		mov	ax, [bp+arg_2]
		sar	ax, 3
		mov	dx, [bp+arg_0]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+arg_0]
		shl	dx, 4
		add	ax, dx
		mov	si, ax
		call	sub_A193
		xor	di, di
		jmp	short loc_A225
; ---------------------------------------------------------------------------

loc_A1EC:
		mov	[bp+var_2], 0
		jmp	short loc_A21B
; ---------------------------------------------------------------------------

loc_A1F3:
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		les	bx, dword_10050
		add	bx, si
		mov	ax, es:[bx]
		mov	[bp+var_4], ax
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	bx, word ptr dword_10050
		add	bx, si
		mov	ax, [bp+var_4]
		mov	es:[bx], ax
		add	[bp+var_2], 2
		add	si, 2

loc_A21B:
		cmp	[bp+var_2], 28h	; '('
		jl	short loc_A1F3
		inc	di
		add	si, 28h	; '('

loc_A225:
		cmp	di, 0C8h ; 'È'
		jl	short loc_A1EC
		call	egc_off
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		pop	di
		pop	si
		leave
		retn	4
sub_A1C7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A23C	proc near

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	8, 0
		push	si
		push	di
		mov	eax, dword_102FE
		mov	[bp+var_8], eax
		cmp	[bp+arg_2], 1
		jnz	short loc_A257
		add	word ptr [bp+var_8], 0A0h ; ' '
		jmp	short loc_A26F
; ---------------------------------------------------------------------------

loc_A257:
		cmp	[bp+arg_2], 2
		jnz	short loc_A264
		add	word ptr [bp+var_8], 0FA00h
		jmp	short loc_A26F
; ---------------------------------------------------------------------------

loc_A264:
		cmp	[bp+arg_2], 3
		jnz	short loc_A26F
		add	word ptr [bp+var_8], 0FAA0h

loc_A26F:
		mov	eax, [bp+var_8]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_8]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_8]
		and	dx, 0Fh
		mov	word ptr [bp+var_8+2], ax
		mov	word ptr [bp+var_8], dx
		mov	dx, 0A4h ; '¤'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	ax, [bp+arg_6]
		sar	ax, 3
		mov	dx, [bp+arg_4]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+arg_4]
		shl	dx, 4
		add	ax, dx
		mov	si, ax
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		xor	di, di
		jmp	loc_A34E
; ---------------------------------------------------------------------------

loc_A2B4:
		push	large 190h
		push	large [bp+var_8]
		push	140h
		call	sub_2C6E
		call	sub_A193
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		mov	bx, [bp+arg_0]
		shl	bx, 3
		mov	ax, di
		and	ax, 3
		add	ax, ax
		add	bx, ax
		mov	ax, [bx+8E2h]
		mov	dx, 4A8h
		out	dx, ax
		mov	[bp+var_4], 7D00h
		mov	[bp+var_2], 0
		jmp	short loc_A31E
; ---------------------------------------------------------------------------

loc_A301:
		les	bx, dword_10050
		add	bx, [bp+var_4]
		mov	ax, es:[bx]
		mov	bx, word ptr dword_10050
		add	bx, si
		mov	es:[bx], ax
		inc	[bp+var_2]
		add	si, 2
		add	[bp+var_4], 2

loc_A31E:
		cmp	[bp+var_2], 14h
		jl	short loc_A301
		call	egc_off
		add	si, 28h	; '('
		add	word ptr [bp+var_8], 140h
		mov	eax, [bp+var_8]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_8]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_8]
		and	dx, 0Fh
		mov	word ptr [bp+var_8+2], ax
		mov	word ptr [bp+var_8], dx
		inc	di

loc_A34E:
		cmp	di, 0C8h ; 'È'
		jl	loc_A2B4
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	sub_A1C7
		pop	di
		pop	si
		leave
		retn	8
sub_A23C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A36B	proc near
					; sub_AC6E+2Dp

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	8, 0
		push	si
		push	di
		call	sub_A43C
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	3C00h
		call	hmem_allocbyte
		mov	word ptr dword_105CA+2,	ax
		mov	word ptr dword_105CA, 0
		xor	si, si
		mov	di, 140h
		mov	[bp+var_4], 0
		jmp	loc_A430
; ---------------------------------------------------------------------------

loc_A398:
		mov	[bp+var_2], 50h	; 'P'
		mov	[bp+var_6], 0
		jmp	loc_A424
; ---------------------------------------------------------------------------

loc_A3A5:
		mov	ax, [bp+var_2]
		sar	ax, 3
		mov	dx, di
		shl	dx, 6
		add	ax, dx
		mov	dx, di
		shl	dx, 4
		add	ax, dx
		mov	[bp+var_8], ax
		les	bx, dword_10050
		add	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, si
		add	dx, dx
		les	bx, dword_105CA
		add	bx, dx
		mov	es:[bx], ax
		inc	si
		les	bx, dword_10054
		add	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, si
		add	dx, dx
		les	bx, dword_105CA
		add	bx, dx
		mov	es:[bx], ax
		inc	si
		les	bx, dword_10058
		add	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, si
		add	dx, dx
		les	bx, dword_105CA
		add	bx, dx
		mov	es:[bx], ax
		inc	si
		les	bx, dword_1005C
		add	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, si
		add	dx, dx
		les	bx, dword_105CA
		add	bx, dx
		mov	es:[bx], ax
		inc	si
		add	[bp+var_6], 2
		add	[bp+var_2], 10h

loc_A424:
		cmp	[bp+var_6], 3Ch	; '<'
		jl	loc_A3A5
		inc	[bp+var_4]
		inc	di

loc_A430:
		cmp	[bp+var_4], 40h	; '@'
		jl	loc_A398
		pop	di
		pop	si
		leave
		retn
sub_A36B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A43C	proc near
		push	bp
		mov	bp, sp
		cmp	dword_105CA, 0
		jz	short loc_A459
		push	word ptr dword_105CA+2
		call	hmem_free
		mov	dword_105CA, 0

loc_A459:
		pop	bp
		retn
sub_A43C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A45B	proc near

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	6, 0
		push	si
		push	di
		xor	cx, cx
		mov	si, 140h
		mov	[bp+var_4], 0
		jmp	loc_A4FE
; ---------------------------------------------------------------------------

loc_A46E:
		mov	[bp+var_2], 50h	; 'P'
		mov	[bp+var_6], 0
		jmp	short loc_A4F4
; ---------------------------------------------------------------------------

loc_A47A:
		mov	ax, [bp+var_2]
		sar	ax, 3
		mov	dx, si
		shl	dx, 6
		add	ax, dx
		mov	dx, si
		shl	dx, 4
		add	ax, dx
		mov	di, ax
		mov	ax, cx
		add	ax, ax
		les	bx, dword_105CA
		add	bx, ax
		mov	ax, es:[bx]
		les	bx, dword_10050
		add	bx, di
		mov	es:[bx], ax
		inc	cx
		mov	ax, cx
		add	ax, ax
		les	bx, dword_105CA
		add	bx, ax
		mov	ax, es:[bx]
		les	bx, dword_10054
		add	bx, di
		mov	es:[bx], ax
		inc	cx
		mov	ax, cx
		add	ax, ax
		les	bx, dword_105CA
		add	bx, ax
		mov	ax, es:[bx]
		les	bx, dword_10058
		add	bx, di
		mov	es:[bx], ax
		inc	cx
		mov	ax, cx
		add	ax, ax
		les	bx, dword_105CA
		add	bx, ax
		mov	ax, es:[bx]
		les	bx, dword_1005C
		add	bx, di
		mov	es:[bx], ax
		inc	cx
		add	[bp+var_6], 2
		add	[bp+var_2], 10h

loc_A4F4:
		cmp	[bp+var_6], 3Ch	; '<'
		jl	short loc_A47A
		inc	[bp+var_4]
		inc	si

loc_A4FE:
		cmp	[bp+var_4], 40h	; '@'
		jl	loc_A46E
		pop	di
		pop	si
		leave
		retn
sub_A45B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A50A	proc near

var_2		= byte ptr -2
var_1		= byte ptr -1
arg_0		= dword	ptr  4

		enter	2, 0
		les	bx, dword_105C6
		mov	cl, es:[bx]
		inc	word ptr dword_105C6
		les	bx, dword_105C6
		mov	al, es:[bx]
		mov	[bp+var_1], al
		inc	word ptr dword_105C6
		les	bx, dword_105C6
		mov	al, es:[bx]
		mov	[bp+var_2], al
		inc	word ptr dword_105C6
		mov	al, cl
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0F05h], 2
		jnz	short loc_A554
		les	bx, [bp+arg_0]
		mov	ax, word_105D8
		mov	es:[bx], ax
		sub	word ptr dword_105C6, 3
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_A554:
		mov	al, [bp+var_1]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0F05h], 2
		jnz	short loc_A578
		mov	al, cl
		mov	ah, 0
		add	ax, 0FFD0h
		les	bx, [bp+arg_0]
		mov	es:[bx], ax
		sub	word ptr dword_105C6, 2
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_A578:
		mov	al, [bp+var_2]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0F05h], 2
		jnz	short loc_A5A8
		mov	al, cl
		mov	ah, 0
		add	ax, 0FFD0h
		imul	ax, 0Ah
		mov	dl, [bp+var_1]
		mov	dh, 0
		add	ax, dx
		add	ax, 0FFD0h
		les	bx, [bp+arg_0]
		mov	es:[bx], ax
		dec	word ptr dword_105C6
		leave
		retn	4
; ---------------------------------------------------------------------------

loc_A5A8:
		mov	al, cl
		mov	ah, 0
		add	ax, 0FFD0h
		imul	ax, 64h
		mov	dl, [bp+var_1]
		mov	dh, 0
		add	dx, 0FFD0h
		imul	dx, 0Ah
		add	ax, dx
		mov	dl, [bp+var_2]
		mov	dh, 0
		add	ax, dx
		add	ax, 0FFD0h
		les	bx, [bp+arg_0]
		mov	es:[bx], ax
		leave
		retn	4
sub_A50A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A5D3	proc near
					; sub_A64D+4C2p

arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		les	bx, dword_105C6
		cmp	byte ptr es:[bx], 2Ch ;	','
		jnz	short loc_A5EF
		inc	word ptr dword_105C6
		push	large [bp+arg_0]
		call	sub_A50A
		pop	bp
		retn	4
; ---------------------------------------------------------------------------

loc_A5EF:
		les	bx, [bp+arg_0]
		mov	ax, word_105D8
		mov	es:[bx], ax
		pop	bp
		retn	4
sub_A5D3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A5FC	proc near
					; sub_AC6E+EDp
		push	bp
		mov	bp, sp
		add	word_105D0, 10h
		cmp	word_105D0, 230h
		jl	short loc_A64B
		add	word_105D2, 10h
		mov	word_105D0, 90h	; ''
		cmp	word_105D2, 180h
		jl	short loc_A64B
		cmp	byte_105CE, 0
		jnz	short loc_A62D
		push	0
		call	sub_D6C5

loc_A62D:
		mov	word_105D0, 50h	; 'P'
		mov	word_105D2, 140h
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_A45B
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_A45B

loc_A64B:
		pop	bp
		retn
sub_A5FC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A64D	proc near

var_16		= byte ptr -16h
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  4

		enter	16h, 0
		push	si
		mov	al, [bp+arg_0]
		mov	ah, 0
		push	ax		; ch
		call	_tolower
		pop	cx
		mov	[bp+arg_0], al
		mov	ah, 0
		mov	[bp+var_6], ax
		mov	cx, 10h		; switch 16 cases
		mov	bx, offset word_AC2E

loc_A66C:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_6]
		jz	short loc_A67C
		add	bx, 2
		loop	loc_A66C
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A67C:
		jmp	word ptr cs:[bx+20h] ; switch jump

loc_A680:
		add	word_105D2, 10h	; jumptable 0000A67C case 110
		mov	word_105D0, 50h	; 'P'
		cmp	word_105D2, 180h
		jl	loc_AC1E	; default

loc_A695:
		les	bx, dword_105C6	; jumptable 0000A67C case 115
		mov	al, es:[bx]
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 2Dh	; '-'
		jz	short loc_A6C4
		mov	word_105D8, 0
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		cmp	byte_105CE, 0
		jnz	short loc_A6C8
		push	[bp+var_2]
		call	sub_D6C5
		jmp	short loc_A6C8
; ---------------------------------------------------------------------------

loc_A6C4:
		inc	word ptr dword_105C6

loc_A6C8:
		mov	word_105D0, 50h	; 'P'
		mov	word_105D2, 140h
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_A45B
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_A45B
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A6E9:
		mov	word_105D8, 0Fh	; jumptable 0000A67C case 99
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		mov	al, byte ptr [bp+var_2]
		mov	byte_105D6, al
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A700:
		mov	word_105D8, 2	; jumptable 0000A67C case 98
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		mov	bx, [bp+var_2]
		cmp	bx, 3
		ja	loc_AC1E	; default
		add	bx, bx
		jmp	cs:off_AC26[bx]

loc_A71F:
		mov	byte_105D7, 0
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A727:
		mov	byte_105D7, 10h
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A72F:
		mov	byte_105D7, 20h	; ' '
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A737:
		mov	byte_105D7, 30h	; '0'
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A73F:
		les	bx, dword_105C6	; jumptable 0000A67C case 119
		mov	al, es:[bx]
		mov	ah, 0
		push	ax		; ch
		call	_tolower
		pop	cx
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 6Fh	; 'o'
		jz	short loc_A75E
		cmp	[bp+arg_0], 69h	; 'i'
		jnz	short loc_A78C

loc_A75E:
		inc	word ptr dword_105C6
		mov	word_105D8, 1
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		cmp	[bp+arg_0], 69h	; 'i'
		jnz	short loc_A781
		push	[bp+var_2]
		call	palette_white_in
		jmp	loc_AB90
; ---------------------------------------------------------------------------

loc_A781:
		push	[bp+var_2]
		call	palette_white_out
		jmp	loc_AB90
; ---------------------------------------------------------------------------

loc_A78C:
		mov	word_105D8, 40h	; '@'
		cmp	[bp+arg_0], 6Dh	; 'm'
		jz	short loc_A7CF
		cmp	[bp+arg_0], 6Bh	; 'k'
		jnz	short loc_A7A2
		inc	word ptr dword_105C6

loc_A7A2:
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		cmp	byte_105CE, 0
		jnz	loc_AC1E	; default
		cmp	[bp+arg_0], 6Bh	; 'k'
		jz	short loc_A7C4
		push	[bp+var_2]
		call	sub_CB52
		jmp	loc_AB90
; ---------------------------------------------------------------------------

loc_A7C4:
		push	[bp+var_2]
		call	sub_D47A
		jmp	loc_AB90
; ---------------------------------------------------------------------------

loc_A7CF:
		inc	word ptr dword_105C6
		les	bx, dword_105C6
		mov	al, es:[bx]
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 6Bh	; 'k'
		jnz	short loc_A7E7
		inc	word ptr dword_105C6

loc_A7E7:
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		push	ss
		lea	ax, [bp+var_4]
		push	ax
		call	sub_A5D3
		cmp	byte_105CE, 0
		jnz	loc_AC1E	; default
		cmp	[bp+arg_0], 6Bh	; 'k'
		jz	short loc_A814
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_D3FC
		jmp	loc_AB63
; ---------------------------------------------------------------------------

loc_A814:
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_D42D
		jmp	loc_AB63
; ---------------------------------------------------------------------------

loc_A822:
		les	bx, dword_105C6	; jumptable 0000A67C case 118
		cmp	byte ptr es:[bx], 70h ;	'p'
		jz	short loc_A843
		mov	word_105D8, 1
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		mov	ax, [bp+var_2]
		mov	word_105D4, ax
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A843:
		inc	word ptr dword_105C6
		mov	word_105D8, 0
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		mov	dx, 0A4h ; '¤'
		mov	al, byte ptr [bp+var_2]
		out	dx, al		; Interrupt Controller #2, 8259A
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A85F:
		mov	word_105D8, 64h	; 'd' ; jumptable 0000A67C case 116
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		cmp	byte_105CE, 0
		jnz	short loc_A87B
		push	1
		call	sub_CB52

loc_A87B:
		mov	ax, [bp+var_2]
		mov	PaletteTone, ax
		call	far ptr	palette_show
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A889:
		les	bx, dword_105C6	; jumptable 0000A67C case 102
		mov	al, es:[bx]
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 6Dh	; 'm'
		jz	short loc_A8D5
		cmp	[bp+arg_0], 69h	; 'i'
		jz	short loc_A8A7
		cmp	[bp+arg_0], 6Fh	; 'o'
		jnz	loc_AC1E	; default

loc_A8A7:
		inc	word ptr dword_105C6
		mov	word_105D8, 1
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		cmp	[bp+arg_0], 69h	; 'i'
		jnz	short loc_A8CA
		push	[bp+var_2]
		call	palette_black_in
		jmp	loc_AB90
; ---------------------------------------------------------------------------

loc_A8CA:
		push	[bp+var_2]
		call	palette_black_out
		jmp	loc_AB90
; ---------------------------------------------------------------------------

loc_A8D5:
		inc	word ptr dword_105C6
		mov	word_105D8, 1
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		mov	ax, [bp+var_2]
		add	ax, 200h
		push	ax
		jmp	loc_AB8B
; ---------------------------------------------------------------------------

loc_A8F1:
		les	bx, dword_105C6	; jumptable 0000A67C case 103
		cmp	byte ptr es:[bx], 61h ;	'a'
		jz	short loc_A945
		mov	word_105D8, 8
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		mov	[bp+var_4], 0
		jmp	short loc_A933
; ---------------------------------------------------------------------------

loc_A910:
		test	byte ptr [bp+var_4], 1
		jz	short loc_A91A
		push	4
		jmp	short loc_A91D
; ---------------------------------------------------------------------------

loc_A91A:
		push	18Ch

loc_A91D:
		call	sub_1700
		cmp	byte_105CE, 0
		jnz	short loc_A930
		push	1
		call	sub_CB52

loc_A930:
		inc	[bp+var_4]

loc_A933:
		mov	ax, [bp+var_4]
		cmp	ax, [bp+var_2]
		jle	short loc_A910
		push	0
		call	sub_1700
		jmp	loc_AB90
; ---------------------------------------------------------------------------

loc_A945:
		inc	word ptr dword_105C6
		mov	word_105D8, 0
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	word_105D0
		push	word_105D2
		mov	ax, [bp+var_2]
		dec	ax
		push	ax
		mov	al, byte_105D6
		mov	ah, 0
		push	ax
		call	sub_F58
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	word_105D0
		push	word_105D2
		push	[bp+var_2]
		mov	al, byte_105D6
		mov	ah, 0
		push	ax
		call	sub_F58
		call	sub_A5FC
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A997:
		mov	word_105D8, 0	; jumptable 0000A67C case 107
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		cmp	byte_105CE, 0
		jnz	loc_AC1E	; default
		push	0
		call	sub_D6C5
		jmp	loc_AB90
; ---------------------------------------------------------------------------

loc_A9B8:
		mov	dx, 0A6h ; '¦'  ; jumptable 0000A67C case 64
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_A9D1:
		les	bx, dword_105C6	; jumptable 0000A67C case 112
		mov	al, es:[bx]
		mov	[bp+arg_0], al
		inc	word ptr dword_105C6
		cmp	[bp+arg_0], 3Dh	; '='
		jz	short loc_A9EB
		cmp	[bp+arg_0], 40h	; '@'
		jnz	short loc_AA1B

loc_A9EB:
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		cmp	[bp+arg_0], 3Dh	; '='
		jnz	short loc_A9FE
		push	0
		call	sub_CD0A

loc_A9FE:
		push	large 0
		push	0
		call	sub_CD2F
		push	0
		call	graph_copy_page
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_A36B
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_AA1B:
		cmp	[bp+arg_0], 2Dh	; '-'
		jnz	short loc_AA32
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_AA32:
		cmp	[bp+arg_0], 70h	; 'p'
		jnz	short loc_AA42
		push	0
		call	sub_CD0A
		jmp	loc_AB90
; ---------------------------------------------------------------------------

loc_AA42:
		cmp	[bp+arg_0], 2Ch	; ','
		jz	short loc_AA4F
		dec	word ptr dword_105C6
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_AA4F:
		mov	[bp+var_2], 0
		jmp	short loc_AA84
; ---------------------------------------------------------------------------

loc_AA56:
		les	bx, dword_105C6
		mov	al, es:[bx]
		mov	[bp+arg_0], al
		inc	word ptr dword_105C6
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0F05h], 20h
		jnz	short loc_AA8A
		cmp	[bp+arg_0], 20h	; ' '
		jz	short loc_AA8A
		lea	bx, [bp+var_16]
		add	bx, [bp+var_2]
		mov	al, [bp+arg_0]
		mov	ss:[bx], al
		inc	[bp+var_2]

loc_AA84:
		cmp	[bp+var_2], 0Ch
		jl	short loc_AA56

loc_AA8A:
					; sub_A64D+426j
		lea	bx, [bp+var_16]
		add	bx, [bp+var_2]
		mov	byte ptr ss:[bx], 0
		push	0
		push	ss
		lea	ax, [bp+var_16]
		push	ax
		call	sub_D4AB
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_AAA3:
		mov	word_105D8, 4	; jumptable 0000A67C case 61
		les	bx, dword_105C6
		mov	al, es:[bx]
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 3Dh	; '='
		jz	short loc_AAF8
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		mov	dx, 0A4h ; '¤'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		cmp	[bp+var_2], 4
		jge	short loc_AAD5
		jmp	short loc_AB44
; ---------------------------------------------------------------------------

loc_AAD5:
		push	large 0C00000h
		call	grcg_setcolor
		push	large 140040h
		push	large 3B0107h
		call	grcg_byteboxfill_x
		call	grcg_off
		jmp	short loc_AB54
; ---------------------------------------------------------------------------

loc_AAF8:
		inc	word ptr dword_105C6
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		mov	word_105D8, 1
		push	ss
		lea	ax, [bp+var_4]
		push	ax
		call	sub_A5D3
		xor	si, si
		jmp	short loc_AB33
; ---------------------------------------------------------------------------

loc_AB16:
		push	large 0A00040h
		push	[bp+var_2]
		push	si
		call	sub_A23C
		cmp	byte_105CE, 0
		jnz	short loc_AB32
		push	[bp+var_4]
		call	sub_CB52

loc_AB32:
		inc	si

loc_AB33:
		cmp	si, 4
		jl	short loc_AB16
		mov	dx, 0A4h ; '¤'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A

loc_AB44:
		push	large 0A00040h
		push	0
		push	[bp+var_2]
		call	sub_D4F1

loc_AB54:
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 0A00040h
		call	sub_A1C7

loc_AB63:
					; sub_A64D+1D2j
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_AB66:
		les	bx, dword_105C6	; jumptable 0000A67C case 109
		mov	al, es:[bx]
		mov	[bp+arg_0], al
		cmp	[bp+arg_0], 24h	; '$'
		jnz	short loc_AB7F
		inc	word ptr dword_105C6
		push	100h
		jmp	short loc_AB8B
; ---------------------------------------------------------------------------

loc_AB7F:
		cmp	[bp+arg_0], 2Ah	; '*'
		jnz	short loc_AB93
		inc	word ptr dword_105C6

loc_AB89:
		push	0

loc_AB8B:
					; sub_A64D+530j
		call	sub_CEC2

loc_AB90:
					; sub_A64D+13Cj ...
		jmp	loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_AB93:
		cmp	[bp+arg_0], 2Ch	; ','
		jnz	loc_AC1E	; default
		inc	word ptr dword_105C6
		mov	[bp+var_2], 0
		jmp	short loc_ABD4
; ---------------------------------------------------------------------------

loc_ABA6:
		les	bx, dword_105C6
		mov	al, es:[bx]
		mov	[bp+arg_0], al
		inc	word ptr dword_105C6
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0F05h], 20h
		jnz	short loc_ABDA
		cmp	[bp+arg_0], 20h	; ' '
		jz	short loc_ABDA
		lea	bx, [bp+var_16]
		add	bx, [bp+var_2]
		mov	al, [bp+arg_0]
		mov	ss:[bx], al
		inc	[bp+var_2]

loc_ABD4:
		cmp	[bp+var_2], 0Ch
		jl	short loc_ABA6

loc_ABDA:
					; sub_A64D+576j
		lea	bx, [bp+var_16]
		add	bx, [bp+var_2]
		mov	byte ptr ss:[bx], 0
		push	100h
		call	sub_CEC2
		push	600h
		push	ss
		lea	ax, [bp+var_16]
		push	ax
		call	sub_C880
		add	sp, 6
		jmp	short loc_AB89
; ---------------------------------------------------------------------------

loc_ABFE:
		push	ss		; jumptable 0000A67C case 101
		lea	ax, [bp+var_2]
		push	ax
		call	sub_A50A
		call	sub_CE3E
		push	[bp+var_2]
		call	sub_CE4A
		call	sub_CE86
		jmp	short loc_AC1E	; default
; ---------------------------------------------------------------------------

loc_AC1A:
		mov	al, 0FFh	; jumptable 0000A67C case 36
		jmp	short loc_AC20
; ---------------------------------------------------------------------------

loc_AC1E:
		mov	al, 0		; default

loc_AC20:
		pop	si
		leave
		retn	2
sub_A64D	endp

; ---------------------------------------------------------------------------
		db 0
off_AC26	dw offset loc_A71F
		dw offset loc_A727
		dw offset loc_A72F
		dw offset loc_A737
word_AC2E	dw    24h,   3Dh,   40h,   62h
		dw    63h,   65h,   66h,   67h ; value table for switch	statement
		dw    6Bh,   6Dh,   6Eh,   70h
		dw    73h,   74h,   76h,   77h
		dw offset loc_AC1A	; jump table for switch	statement
		dw offset loc_AAA3
		dw offset loc_A9B8
		dw offset loc_A700
		dw offset loc_A6E9
		dw offset loc_ABFE
		dw offset loc_A889
		dw offset loc_A8F1
		dw offset loc_A997
		dw offset loc_AB66
		dw offset loc_A680
		dw offset loc_A9D1
		dw offset loc_A695
		dw offset loc_A85F
		dw offset loc_A822
		dw offset loc_A73F

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AC6E	proc near

var_6		= dword	ptr -6
var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	6, 0
		push	si
		mov	word ptr [bp+var_6+2], ds
		mov	word ptr [bp+var_6], 902h
		mov	word_105D0, 50h	; 'P'
		mov	word_105D2, 140h
		mov	word_105D4, 1
		mov	byte_105D6, 0Fh
		mov	byte_105D7, 20h	; ' '
		mov	[bp+var_2], 0
		call	sub_A36B
		mov	byte_105CE, 0

loc_ACA3:
		call	sub_D5A2
		test	byte ptr word_100FC+1, 10h
		jz	short loc_ACB6
		mov	byte_105CE, 1
		jmp	short loc_ACBB
; ---------------------------------------------------------------------------

loc_ACB6:
		mov	byte_105CE, 0

loc_ACBB:
		les	bx, dword_105C6
		mov	al, es:[bx]
		mov	[bp+var_1], al
		inc	word ptr dword_105C6
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+0F05h], 20h
		jnz	short loc_ACA3
		cmp	[bp+var_1], 20h	; ' '
		jz	short loc_ACA3
		cmp	[bp+var_1], 5Ch	; '\'
		jnz	short loc_ACFB
		les	bx, dword_105C6
		mov	al, es:[bx]
		mov	[bp+var_1], al
		inc	word ptr dword_105C6
		push	word ptr [bp+var_1]
		call	sub_A64D
		cmp	al, 0FFh
		jnz	short loc_ACA3
		jmp	loc_ADA0
; ---------------------------------------------------------------------------

loc_ACFB:
		les	bx, [bp+var_6]
		mov	al, [bp+var_1]
		mov	es:[bx], al
		les	bx, dword_105C6
		mov	al, es:[bx]
		mov	[bp+var_1], al
		les	bx, [bp+var_6]
		mov	es:[bx+1], al
		inc	word ptr dword_105C6
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	word_105D0
		push	word_105D2
		mov	al, byte_105D6
		or	al, byte_105D7
		mov	ah, 0
		push	ax
		push	word ptr [bp+var_6+2]
		push	bx
		call	sub_D197
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	word_105D0
		push	word_105D2
		mov	al, byte_105D6
		or	al, byte_105D7
		mov	ah, 0
		push	ax
		push	large [bp+var_6]
		call	sub_D197
		call	sub_A5FC
		cmp	byte_105CE, 0
		jnz	loc_ACA3
		cmp	word_100FC, 0
		jnz	short loc_AD7A
		push	word_105D4
		call	sub_CB52
		jmp	loc_ACA3
; ---------------------------------------------------------------------------

loc_AD7A:
		mov	ax, word_105D4
		mov	bx, 3
		cwd
		idiv	bx
		mov	si, ax
		test	[bp+var_2], 1
		jnz	short loc_AD8F
		or	si, si
		jz	short loc_AD9A

loc_AD8F:
		or	si, si
		jnz	short loc_AD94
		inc	si

loc_AD94:
		push	si
		call	sub_CB52

loc_AD9A:
		inc	[bp+var_2]
		jmp	loc_ACA3
; ---------------------------------------------------------------------------

loc_ADA0:
		call	sub_A45B
		call	sub_A43C
		pop	si
		leave
		retn
sub_AC6E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_ADA9	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		mov	si, 21EEh
		xor	dx, dx
		jmp	short loc_ADD1
; ---------------------------------------------------------------------------

loc_ADB5:
		mov	al, [si+1]
		mov	[bp+var_1], al
		mov	al, byte_106AB
		ror	[bp+var_1], 3
		xor	[bp+var_1], al
		mov	al, byte_106AA
		add	al, [bp+var_1]
		add	al, [si]
		mov	[si], al
		inc	dx
		inc	si

loc_ADD1:
		cmp	dx, 0CBh ; 'Ë'
		jl	short loc_ADB5
		mov	al, byte_106AA
		add	al, byte_106AB
		add	al, [si]
		mov	[si], al
		pop	si
		leave
		retn
sub_ADA9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_ADE5	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		push	di
		mov	[bp+var_1], 29h	; ')'
		xor	si, si
		jmp	short loc_AE26
; ---------------------------------------------------------------------------

loc_ADF3:
		xor	di, di
		jmp	short loc_AE02
; ---------------------------------------------------------------------------

loc_ADF7:
		mov	bx, si
		shl	bx, 3
		mov	byte ptr [bx+di+21F0h],	2Ah ; '*'
		inc	di

loc_AE02:
		cmp	di, 8
		jl	short loc_ADF7
		xor	di, di
		jmp	short loc_AE16
; ---------------------------------------------------------------------------

loc_AE0B:
		mov	bx, si
		imul	bx, 0Ah
		mov	byte ptr [bx+di+2242h],	20h ; ' '
		inc	di

loc_AE16:
		cmp	di, 0Ah
		jl	short loc_AE0B
		mov	byte ptr [si+22A6h], 0
		mov	byte ptr [si+22B0h], 21h ; '!'
		inc	si

loc_AE26:
		cmp	si, 0Ah
		jl	short loc_ADF3
		mov	byte_10636, 21h	; '!'
		mov	di, 1
		jmp	short loc_AE45
; ---------------------------------------------------------------------------

loc_AE35:
		mov	bx, di
		imul	bx, 0Ah
		mov	al, [bp+var_1]
		mov	[bx+2245h], al
		inc	di
		dec	[bp+var_1]

loc_AE45:
		cmp	di, 0Ah
		jl	short loc_AE35
		mov	byte_10630, 12h
		xor	si, si
		jmp	short loc_AE5B
; ---------------------------------------------------------------------------

loc_AE53:
		push	si
		call	sub_AEF0
		call	sub_ADA9
		inc	si

loc_AE5B:
		cmp	si, 4
		jl	short loc_AE53
		pop	di
		pop	si
		leave
		retn
sub_ADE5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AE64	proc near
		push	bp
		mov	bp, sp
		push	si
		xor	cx, cx
		mov	si, 21F0h
		xor	dx, dx
		jmp	short loc_AE79
; ---------------------------------------------------------------------------

loc_AE71:
		mov	al, [si]
		mov	ah, 0
		add	cx, ax
		inc	dx
		inc	si

loc_AE79:
		cmp	dx, 0CCh ; 'Ì'
		jl	short loc_AE71
		cmp	word_105DE, cx
		jz	short loc_AE89
		mov	al, 1
		jmp	short loc_AE8B
; ---------------------------------------------------------------------------

loc_AE89:
		mov	al, 0

loc_AE8B:
		pop	si
		pop	bp
		retn
sub_AE64	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AE8E	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	ds
		push	word_ED66
		call	sub_896
		or	ax, ax
		jnz	short loc_AEB0
		push	ds
		push	word_ED66
		call	sub_856
		call	sub_846
		jmp	short loc_AEE9
; ---------------------------------------------------------------------------

loc_AEB0:
		push	ds
		push	word_ED66
		call	sub_966
		mov	ax, [bp+arg_0]
		imul	ax, 0CEh
		movzx	eax, ax
		push	eax
		push	0
		call	sub_9A2
		push	ds
		push	offset word_105DE
		push	0CEh ; 'Î'
		call	sub_8B2
		call	sub_846
		call	sub_ADA9
		call	sub_AE64
		or	al, al
		jz	short loc_AEEC

loc_AEE9:
		call	sub_ADE5

loc_AEEC:
		pop	bp
		retn	2
sub_AE8E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AEF0	proc near

var_4		= word ptr -4
var_1		= byte ptr -1
arg_0		= word ptr  4

		enter	4, 0
		push	si
		push	di
		mov	[bp+var_4], 0
		call	sub_1A3E
		mov	byte_106AA, al
		call	sub_1A3E
		mov	byte_106AB, al
		call	sub_1A3E
		mov	byte_10631, al
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+33h], 63h ; 'c'
		jnz	short loc_AF2A
		cmp	byte ptr es:[bx+36h], 3
		jnz	short loc_AF2A
		mov	byte_10630, 63h	; 'c'

loc_AF2A:
		mov	si, 21F0h
		xor	di, di
		jmp	short loc_AF3A
; ---------------------------------------------------------------------------

loc_AF31:
		mov	al, [si]
		mov	ah, 0
		add	[bp+var_4], ax
		inc	di
		inc	si

loc_AF3A:
		cmp	di, 0CCh ; 'Ì'
		jl	short loc_AF31
		mov	ax, [bp+var_4]
		mov	word_105DE, ax
		mov	si, 22BAh
		dec	si
		mov	al, byte_106AB
		mov	[bp+var_1], al
		mov	di, 0CBh ; 'Ë'
		jmp	short loc_AF73
; ---------------------------------------------------------------------------

loc_AF55:
		mov	al, [si]
		mov	dl, byte_106AA
		add	dl, [bp+var_1]
		sub	al, dl
		mov	[si], al
		mov	al, [si]
		mov	[bp+var_1], al
		mov	al, byte_106AB
		ror	[bp+var_1], 3
		xor	[bp+var_1], al
		dec	di
		dec	si

loc_AF73:
		or	di, di
		jge	short loc_AF55
		push	ds
		push	word_ED66
		call	sub_786
		mov	ax, [bp+arg_0]
		imul	ax, 0CEh
		movzx	eax, ax
		push	eax
		push	0
		call	sub_9A2
		push	ds
		push	offset word_105DE
		push	0CEh ; 'Î'
		call	sub_9F2
		call	sub_846
		pop	di
		pop	si
		leave
		retn	2
sub_AEF0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AFAC	proc near
		push	bp
		mov	bp, sp
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aRegib_pi ; "regib.pi"
		call	sub_D4AB
		push	0
		call	sub_CD0A
		push	large 0
		push	0
		call	sub_CD2F
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		les	bx, dword_105DA
		mov	al, es:[bx+0Bh]
		mov	bx, word_ED68
		add	[bx+3],	al
		push	0
		push	ds
		push	bx
		push	0
		call	sub_CF1E
		push	large 1400138h
		push	0
		call	far ptr	loc_C9D4
		push	0
		call	sub_D130
		push	ds
		push	offset aRegi2_bft ; "regi2.bft"
		call	super_entry_bfnt
		push	ds
		push	offset aRegi1_bft ; "regi1.bft"
		call	super_entry_bfnt
		push	1
		call	graph_copy_page
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		pop	bp
		retn
sub_AFAC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B03D	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	si, si
		jmp	short loc_B091
; ---------------------------------------------------------------------------

loc_B046:
		mov	cx, 7
		jmp	short loc_B08C
; ---------------------------------------------------------------------------

loc_B04B:
		les	bx, dword_105DA
		add	bx, cx
		mov	al, es:[bx+18h]
		mov	ah, 0
		add	ax, 20h	; ' '
		mov	bx, si
		imul	bx, 0Ah
		add	bx, cx
		mov	dl, [bx+2243h]
		mov	dh, 0
		cmp	ax, dx
		jg	short loc_B0A1
		les	bx, dword_105DA
		add	bx, cx
		mov	al, es:[bx+18h]
		mov	ah, 0
		add	ax, 20h	; ' '
		mov	bx, si
		imul	bx, 0Ah
		add	bx, cx
		mov	dl, [bx+2243h]
		mov	dh, 0
		cmp	ax, dx
		jl	short loc_B090
		dec	cx

loc_B08C:
		or	cx, cx
		jge	short loc_B04B

loc_B090:
		inc	si

loc_B091:
		cmp	si, 0Ah
		jl	short loc_B046
		cmp	si, 0Ah
		jnz	short loc_B0A1
		mov	ax, 0FFFFh
		jmp	loc_B183
; ---------------------------------------------------------------------------

loc_B0A1:
		cmp	si, 9
		jge	short loc_B100
		mov	di, 8
		jmp	short loc_B0FC
; ---------------------------------------------------------------------------

loc_B0AB:
		xor	cx, cx
		jmp	short loc_B0C6
; ---------------------------------------------------------------------------

loc_B0AF:
		mov	bx, di
		shl	bx, 3
		add	bx, cx
		mov	al, [bx+21F0h]
		mov	bx, di
		shl	bx, 3
		add	bx, cx
		mov	[bx+21F8h], al
		inc	cx

loc_B0C6:
		cmp	cx, 8
		jl	short loc_B0AF
		xor	cx, cx
		jmp	short loc_B0E6
; ---------------------------------------------------------------------------

loc_B0CF:
		mov	bx, di
		imul	bx, 0Ah
		add	bx, cx
		mov	al, [bx+2242h]
		mov	bx, di
		imul	bx, 0Ah
		add	bx, cx
		mov	[bx+224Ch], al
		inc	cx

loc_B0E6:
		cmp	cx, 0Ah
		jl	short loc_B0CF
		mov	al, [di+22B0h]
		mov	[di+22B1h], al
		mov	al, [di+22A6h]
		mov	[di+22A7h], al
		dec	di

loc_B0FC:
		cmp	di, si
		jge	short loc_B0AB

loc_B100:
		xor	cx, cx
		jmp	short loc_B111
; ---------------------------------------------------------------------------

loc_B104:
		mov	bx, si
		shl	bx, 3
		add	bx, cx
		mov	byte ptr [bx+21F0h], 0Eh
		inc	cx

loc_B111:
		cmp	cx, 8
		jl	short loc_B104
		mov	cx, 1
		jmp	short loc_B133
; ---------------------------------------------------------------------------

loc_B11B:
		les	bx, dword_105DA
		add	bx, cx
		mov	al, es:[bx+17h]
		add	al, 20h	; ' '
		mov	bx, si
		imul	bx, 0Ah
		add	bx, cx
		mov	[bx+2242h], al
		inc	cx

loc_B133:
		cmp	cx, 9
		jl	short loc_B11B
		les	bx, dword_105DA
		mov	al, 23h	; '#'
		sub	al, es:[bx+36h]
		mov	bx, si
		imul	bx, 0Ah
		mov	[bx+2242h], al
		mov	bx, word ptr dword_105DA
		cmp	byte ptr es:[bx+33h], 63h ; 'c'
		jnz	short loc_B15D
		mov	byte ptr [si+22B0h], 30h ; '0'
		jmp	short loc_B16B
; ---------------------------------------------------------------------------

loc_B15D:
		les	bx, dword_105DA
		mov	al, es:[bx+33h]
		add	al, 20h	; ' '
		mov	[si+22B0h], al

loc_B16B:
		les	bx, dword_105DA
		mov	al, es:[bx+0Ch]
		mov	ah, 0
		dec	ax
		cwd
		sub	ax, dx
		sar	ax, 1
		inc	al
		mov	[si+22A6h], al
		mov	ax, si

loc_B183:
		pop	di
		pop	si
		pop	bp
		retn
sub_B03D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B187	proc near

var_2		= word ptr -2

		enter	2, 0
		push	si
		push	di
		mov	[bp+var_2], 0
		mov	di, 140h
		jmp	short loc_B1B5
; ---------------------------------------------------------------------------

loc_B197:
		mov	si, 40h	; '@'
		jmp	short loc_B1AC
; ---------------------------------------------------------------------------

loc_B19C:
		push	si
		push	di
		push	[bp+var_2]
		call	super_put
		add	si, 20h	; ' '
		inc	[bp+var_2]

loc_B1AC:
		cmp	si, 240h
		jl	short loc_B19C
		add	di, 18h

loc_B1B5:
		cmp	di, 170h
		jle	short loc_B197
		pop	di
		pop	si
		leave
		retn
sub_B187	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B1BF	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		mov	si, [bp+arg_2]
		mov	ax, si
		mov	bx, 10h
		cwd
		idiv	bx
		shl	dx, 5
		add	dx, 40h	; '@'
		mov	[bp+var_2], dx
		mov	ax, si
		cwd
		idiv	bx
		imul	ax, 18h
		add	ax, 140h
		mov	[bp+var_4], ax
		push	[bp+var_2]
		push	ax
		push	si
		push	[bp+arg_0]
		call	sub_B2AD
		pop	si
		leave
		retn	4
sub_B1BF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B1F6	proc near
					; sub_B46B+23Bp ...

var_14		= dword	ptr -14h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	14h, 0
		push	si
		mov	si, [bp+arg_0]
		mov	ax, [bp+arg_2]
		sar	ax, 3
		mov	dx, si
		shl	dx, 6
		add	ax, dx
		mov	dx, si
		shl	dx, 4
		add	ax, dx
		mov	cx, ax
		mov	[bp+var_4], 0
		jmp	loc_B29F
; ---------------------------------------------------------------------------

loc_B21F:
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		les	bx, dword_10050
		add	bx, cx
		mov	eax, es:[bx]
		mov	[bp+var_14], eax
		les	bx, dword_10054
		add	bx, cx
		mov	eax, es:[bx]
		mov	[bp+var_10], eax
		les	bx, dword_10058
		add	bx, cx
		mov	eax, es:[bx]
		mov	[bp+var_C], eax
		les	bx, dword_1005C
		add	bx, cx
		mov	eax, es:[bx]
		mov	[bp+var_8], eax
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		les	bx, dword_10050
		add	bx, cx
		mov	eax, [bp+var_14]
		mov	es:[bx], eax
		les	bx, dword_10054
		add	bx, cx
		mov	eax, [bp+var_10]
		mov	es:[bx], eax
		les	bx, dword_10058
		add	bx, cx
		mov	eax, [bp+var_C]
		mov	es:[bx], eax
		les	bx, dword_1005C
		add	bx, cx
		mov	eax, [bp+var_8]
		mov	es:[bx], eax
		add	cx, 50h	; 'P'
		inc	[bp+var_4]

loc_B29F:
		cmp	[bp+var_4], 20h	; ' '
		jb	loc_B21F
		pop	si
		leave
		retn	4
sub_B1F6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B2AD	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_6]
		mov	si, [bp+arg_2]
		cmp	[bp+arg_0], 0
		jz	short loc_B2C1
		add	si, 31h	; '1'

loc_B2C1:
		push	di
		push	[bp+arg_4]
		push	si
		call	super_put
		mov	ax, [bp+arg_2]
		mov	bx, 10h
		cwd
		idiv	bx
		cmp	dx, 0Eh
		jnz	short loc_B2E9
		lea	ax, [di+20h]
		push	ax
		push	[bp+arg_4]
		lea	ax, [si+1]
		push	ax
		call	super_put

loc_B2E9:
		pop	di
		pop	si
		pop	bp
		retn	8
sub_B2AD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B2EF	proc near

var_7		= byte ptr -7
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	8, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_0]
		cmp	word_106AC, di
		jnz	short loc_B306
		mov	ax, 1
		jmp	short loc_B308
; ---------------------------------------------------------------------------

loc_B306:
		xor	ax, ax

loc_B308:
		mov	[bp+var_6], ax
		cmp	word_106AC, di
		jnz	short loc_B315
		mov	al, 0Fh
		jmp	short loc_B317
; ---------------------------------------------------------------------------

loc_B315:
		mov	al, 4

loc_B317:
		mov	[bp+var_7], al
		cmp	word_106AC, 0FFFFh
		jnz	short loc_B32A
		mov	[bp+var_6], 1
		mov	[bp+var_7], 0Fh

loc_B32A:
		cmp	di, 9
		jz	short loc_B339
		push	si
		push	[bp+arg_2]
		lea	ax, [di+21h]
		push	ax
		jmp	short loc_B351
; ---------------------------------------------------------------------------

loc_B339:
		lea	ax, [si-8]
		push	ax
		push	[bp+arg_2]
		push	21h ; '!'
		push	[bp+var_6]
		call	sub_B2AD
		lea	ax, [si+8]
		push	ax
		push	[bp+arg_2]
		push	20h ; ' '

loc_B351:
		push	[bp+var_6]
		call	sub_B2AD
		add	si, 30h	; '0'
		mov	[bp+var_2], 7
		jmp	short loc_B38F
; ---------------------------------------------------------------------------

loc_B361:
		mov	bx, di
		shl	bx, 3
		add	bx, [bp+var_2]
		cmp	byte ptr [bx+21F0h], 0Eh
		jz	short loc_B389
		push	si
		push	[bp+arg_2]
		mov	bx, di
		shl	bx, 3
		add	bx, [bp+var_2]
		mov	al, [bx+21F0h]
		mov	ah, 0
		push	ax
		push	[bp+var_6]
		call	sub_B2AD

loc_B389:
		dec	[bp+var_2]
		add	si, 18h

loc_B38F:
		cmp	[bp+var_2], 0
		jge	short loc_B361
		add	si, 10h
		mov	[bp+var_4], 20h	; ' '
		mov	[bp+var_2], 9
		jmp	short loc_B3E0
; ---------------------------------------------------------------------------

loc_B3A4:
		cmp	[bp+var_4], 20h	; ' '
		jnz	short loc_B3BB
		mov	bx, di
		imul	bx, 0Ah
		add	bx, [bp+var_2]
		mov	al, [bx+2242h]
		mov	ah, 0
		mov	[bp+var_4], ax

loc_B3BB:
		cmp	[bp+var_4], 20h	; ' '
		jz	short loc_B3DA
		push	si
		push	[bp+arg_2]
		mov	bx, di
		imul	bx, 0Ah
		add	bx, [bp+var_2]
		mov	al, [bx+2242h]
		mov	ah, 0
		push	ax
		push	[bp+var_6]
		call	sub_B2AD

loc_B3DA:
		dec	[bp+var_2]
		add	si, 10h

loc_B3E0:
		cmp	[bp+var_2], 0
		jge	short loc_B3A4
		add	si, 10h
		push	si
		mov	ax, [bp+arg_2]
		add	ax, 8
		push	ax
		mov	al, [bp+var_7]
		mov	ah, 0
		or	ax, 20h
		push	ax
		mov	al, [di+22A6h]
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		push	large dword ptr	[bx+906h]
		call	sub_D197
		add	si, 70h	; 'p'
		push	si
		push	[bp+arg_2]
		mov	al, [di+22B0h]
		mov	ah, 0
		push	ax
		push	[bp+var_6]
		call	sub_B2AD
		pop	di
		pop	si
		leave
		retn	6
sub_B2EF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B429	proc near
					; sub_B7D2:loc_B835p ...
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	0
		call	graph_copy_page
		xor	si, si
		mov	di, 68h	; 'h'
		jmp	short loc_B447
; ---------------------------------------------------------------------------

loc_B43C:
		push	18h
		push	di
		push	si
		call	sub_B2EF
		inc	si
		add	di, 14h

loc_B447:
		cmp	si, 0Ah
		jl	short loc_B43C
		pop	di
		pop	si
		pop	bp
		retn
sub_B429	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B450	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		push	18h
		mov	ax, si
		imul	ax, 14h
		add	ax, 68h	; 'h'
		push	ax
		push	si
		call	sub_B2EF
		pop	si
		pop	bp
		retn	2
sub_B450	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B46B	proc near

var_F		= byte ptr -0Fh
var_E		= byte ptr -0Eh
var_D		= byte ptr -0Dh
var_C		= byte ptr -0Ch
var_B		= byte ptr -0Bh
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	10h, 0
		push	si
		mov	[bp+var_2], 0
		lea	ax, [bp+var_A]
		push	ss
		push	ax
		push	ds
		push	offset unk_ED6A
		mov	cx, 8
		call	SCOPY@
		mov	[bp+var_B], 0
		mov	[bp+var_C], 1
		mov	[bp+var_D], 0
		mov	[bp+var_E], 7
		mov	[bp+var_F], 0
		mov	ax, word_106AC
		imul	ax, 14h
		add	ax, 68h	; 'h'
		mov	si, ax
		jmp	loc_B743
; ---------------------------------------------------------------------------

loc_B4A8:
		call	sub_D5A2
		test	byte ptr word_100FC, 1
		jz	short loc_B4F2
		cmp	[bp+var_A], 0
		jz	short loc_B4CD
		cmp	[bp+var_A], 1Eh
		jl	short loc_B4ED
		mov	ax, [bp+var_A]
		mov	bx, 4
		cwd
		idiv	bx
		or	dx, dx
		jnz	short loc_B4ED

loc_B4CD:
		cmp	[bp+var_2], 2Dh	; '-'
		jz	short loc_B4ED
		push	[bp+var_2]
		push	0
		call	sub_B1BF
		sub	[bp+var_2], 10h
		cmp	[bp+var_2], 0
		jge	short loc_B4E9
		add	[bp+var_2], 30h	; '0'

loc_B4E9:
		mov	[bp+var_C], 1

loc_B4ED:
		inc	[bp+var_A]
		jmp	short loc_B4F7
; ---------------------------------------------------------------------------

loc_B4F2:
		mov	[bp+var_A], 0

loc_B4F7:
		test	byte ptr word_100FC, 2
		jz	short loc_B53C
		cmp	[bp+var_8], 0
		jz	short loc_B517
		cmp	[bp+var_8], 1Eh
		jl	short loc_B537
		mov	ax, [bp+var_8]
		mov	bx, 4
		cwd
		idiv	bx
		or	dx, dx
		jnz	short loc_B537

loc_B517:
		cmp	[bp+var_2], 2Dh	; '-'
		jz	short loc_B537
		push	[bp+var_2]
		push	0
		call	sub_B1BF
		add	[bp+var_2], 10h
		cmp	[bp+var_2], 30h	; '0'
		jl	short loc_B533
		sub	[bp+var_2], 30h	; '0'

loc_B533:
		mov	[bp+var_C], 1

loc_B537:
		inc	[bp+var_8]
		jmp	short loc_B541
; ---------------------------------------------------------------------------

loc_B53C:
		mov	[bp+var_8], 0

loc_B541:
		test	byte ptr word_100FC, 4
		jz	short loc_B59A
		cmp	[bp+var_6], 0
		jz	short loc_B561
		cmp	[bp+var_6], 1Eh
		jl	short loc_B595
		mov	ax, [bp+var_6]
		mov	bx, 4
		cwd
		idiv	bx
		or	dx, dx
		jnz	short loc_B595

loc_B561:
		push	[bp+var_2]
		push	0
		call	sub_B1BF
		mov	ax, [bp+var_2]
		mov	bx, 10h
		cwd
		idiv	bx
		or	dx, dx
		jnz	short loc_B57C
		add	[bp+var_2], 0Eh
		jmp	short loc_B591
; ---------------------------------------------------------------------------

loc_B57C:
		cmp	[bp+var_2], 1Eh
		jz	short loc_B588
		cmp	[bp+var_2], 0Eh
		jnz	short loc_B58E

loc_B588:
		sub	[bp+var_2], 2
		jmp	short loc_B591
; ---------------------------------------------------------------------------

loc_B58E:
		dec	[bp+var_2]

loc_B591:
					; sub_B46B+121j
		mov	[bp+var_C], 1

loc_B595:
		inc	[bp+var_6]
		jmp	short loc_B59F
; ---------------------------------------------------------------------------

loc_B59A:
		mov	[bp+var_6], 0

loc_B59F:
		test	byte ptr word_100FC, 8
		jz	short loc_B5F9
		cmp	[bp+var_4], 0
		jz	short loc_B5BF
		cmp	[bp+var_4], 1Eh
		jl	short loc_B5F4
		mov	ax, [bp+var_4]
		mov	bx, 4
		cwd
		idiv	bx
		or	dx, dx
		jnz	short loc_B5F4

loc_B5BF:
		push	[bp+var_2]
		push	0
		call	sub_B1BF
		mov	ax, [bp+var_2]
		mov	bx, 10h
		cwd
		idiv	bx
		cmp	dx, 0Eh
		jnz	short loc_B5DB
		sub	[bp+var_2], 0Eh
		jmp	short loc_B5F0
; ---------------------------------------------------------------------------

loc_B5DB:
		cmp	[bp+var_2], 0Ch
		jz	short loc_B5E7
		cmp	[bp+var_2], 1Ch
		jnz	short loc_B5ED

loc_B5E7:
		add	[bp+var_2], 2
		jmp	short loc_B5F0
; ---------------------------------------------------------------------------

loc_B5ED:
		inc	[bp+var_2]

loc_B5F0:
					; sub_B46B+180j
		mov	[bp+var_C], 1

loc_B5F4:
					; sub_B46B+152j
		inc	[bp+var_4]
		jmp	short loc_B5FE
; ---------------------------------------------------------------------------

loc_B5F9:
		mov	[bp+var_4], 0

loc_B5FE:
		test	byte ptr word_100FC+1, 20h
		jnz	short loc_B60C
		test	byte ptr word_100FC, 20h
		jz	short loc_B683

loc_B60C:
		cmp	[bp+var_D], 0
		jnz	short loc_B67D
		cmp	[bp+var_2], 1Eh
		jnz	short loc_B64B
		mov	al, [bp+var_E]
		mov	ah, 0
		mov	dx, 7
		sub	dx, ax
		imul	dx, 18h
		add	dx, 48h	; 'H'
		push	dx
		push	si
		call	sub_B1F6
		mov	bx, word_106AC
		shl	bx, 3
		mov	al, [bp+var_E]
		mov	ah, 0
		add	bx, ax
		mov	byte ptr [bx+21F0h], 0Eh
		cmp	[bp+var_E], 7
		jnb	short loc_B679
		inc	[bp+var_E]
		jmp	short loc_B679
; ---------------------------------------------------------------------------

loc_B64B:
		cmp	[bp+var_2], 2Eh	; '.'
		jnz	short loc_B657
		mov	[bp+var_B], 1
		jmp	short loc_B679
; ---------------------------------------------------------------------------

loc_B657:
		mov	bx, word_106AC
		shl	bx, 3
		mov	al, [bp+var_E]
		mov	ah, 0
		add	bx, ax
		mov	al, byte ptr [bp+var_2]
		mov	[bx+21F0h], al
		cmp	[bp+var_E], 0
		jnz	short loc_B676
		mov	[bp+var_B], 1

loc_B676:
		dec	[bp+var_E]

loc_B679:
					; sub_B46B+1DEj ...
		mov	[bp+var_C], 1

loc_B67D:
		mov	[bp+var_D], 1
		jmp	short loc_B687
; ---------------------------------------------------------------------------

loc_B683:
		mov	[bp+var_D], 0

loc_B687:
		test	byte ptr word_100FC, 10h
		jz	short loc_B6CF
		cmp	[bp+var_F], 0
		jnz	short loc_B6C9
		mov	al, [bp+var_E]
		mov	ah, 0
		mov	dx, 7
		sub	dx, ax
		imul	dx, 18h
		add	dx, 48h	; 'H'
		push	dx
		push	si
		call	sub_B1F6
		mov	bx, word_106AC
		shl	bx, 3
		mov	al, [bp+var_E]
		mov	ah, 0
		add	bx, ax
		mov	byte ptr [bx+21F0h], 0Eh
		cmp	[bp+var_E], 7
		jnb	short loc_B6C5
		inc	[bp+var_E]

loc_B6C5:
		mov	[bp+var_C], 1

loc_B6C9:
		mov	[bp+var_F], 1
		jmp	short loc_B6D3
; ---------------------------------------------------------------------------

loc_B6CF:
		mov	[bp+var_F], 0

loc_B6D3:
		cmp	[bp+var_C], 1
		jnz	short loc_B73C
		push	[bp+var_2]
		push	1
		call	sub_B1BF
		mov	al, [bp+var_E]
		mov	ah, 0
		mov	dx, 7
		sub	dx, ax
		imul	dx, 18h
		add	dx, 48h	; 'H'
		push	dx
		push	si
		call	sub_B1F6
		mov	bx, word_106AC
		shl	bx, 3
		mov	al, [bp+var_E]
		mov	ah, 0
		add	bx, ax
		mov	byte ptr [bx+21F0h], 0Eh
		push	word_106AC
		call	sub_B450
		mov	ax, [bp+var_2]
		mov	bx, 10h
		cwd
		idiv	bx
		cmp	dx, 0Eh
		jz	short loc_B738
		mov	al, [bp+var_E]
		mov	ah, 0
		mov	dx, 7
		sub	dx, ax
		imul	dx, 18h
		add	dx, 48h	; 'H'
		push	dx
		push	si
		push	[bp+var_2]
		push	0
		call	sub_B2AD

loc_B738:
		mov	[bp+var_C], 0

loc_B73C:
		push	1
		call	sub_CB52

loc_B743:
		cmp	[bp+var_B], 0
		jz	loc_B4A8
		pop	si
		leave
		retn
sub_B46B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B74E	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		push	di
		xor	cx, cx
		jmp	short loc_B769
; ---------------------------------------------------------------------------

loc_B758:
		mov	bx, word_106AC
		shl	bx, 3
		add	bx, cx
		cmp	byte ptr [bx+21F0h], 0Eh
		jnz	short loc_B7A2
		inc	cx

loc_B769:
		cmp	cx, 8
		jl	short loc_B758

loc_B76E:
		les	bx, dword_105DA
		mov	al, es:[bx+0Ch]
		mov	ah, 0
		dec	ax
		cwd
		sub	ax, dx
		sar	ax, 1
		shl	ax, 3
		add	ax, 92Eh
		mov	di, ax
		mov	cx, 7
		jmp	short loc_B79C
; ---------------------------------------------------------------------------

loc_B78B:
		mov	bx, word_106AC
		shl	bx, 3
		add	bx, cx
		mov	al, [di]
		mov	[bx+21F0h], al
		dec	cx
		inc	di

loc_B79C:
		or	cx, cx
		jge	short loc_B78B
		jmp	short loc_B7CE
; ---------------------------------------------------------------------------

loc_B7A2:
		mov	bx, word_106AC
		shl	bx, 3
		mov	al, [bx+21F0h]
		mov	[bp+var_1], al
		xor	cx, cx
		jmp	short loc_B7C7
; ---------------------------------------------------------------------------

loc_B7B4:
		mov	bx, word_106AC
		shl	bx, 3
		add	bx, cx
		mov	al, [bx+21F0h]
		cmp	al, [bp+var_1]
		jnz	short loc_B7CE
		inc	cx

loc_B7C7:
		cmp	cx, 8
		jl	short loc_B7B4
		jmp	short loc_B76E
; ---------------------------------------------------------------------------

loc_B7CE:
		pop	di
		pop	si
		leave
		retn
sub_B74E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B7D2	proc near
		push	bp
		mov	bp, sp
		les	bx, dword_105DA
		mov	eax, es:[bx+10h]
		mov	dword_E9A6, eax
		push	600h
		push	ds
		push	offset aScore_m	; "score.m"
		call	sub_C880
		add	sp, 6
		push	0
		call	sub_CEC2
		les	bx, dword_105DA
		mov	al, es:[bx+0Bh]
		mov	ah, 0
		push	ax
		call	sub_AE8E
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+33h], 0FFh
		jnz	short loc_B819
		mov	word_106AC, 0FFFFh
		jmp	short loc_B81F
; ---------------------------------------------------------------------------

loc_B819:
		call	sub_B03D
		mov	word_106AC, ax

loc_B81F:
		call	sub_AFAC
		cmp	word_106AC, 0FFFFh
		jnz	short loc_B835
		call	sub_B429
		push	2
		call	palette_black_in
		jmp	short loc_B858
; ---------------------------------------------------------------------------

loc_B835:
		call	sub_B429
		push	1
		call	graph_copy_page
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_B187
		push	2
		call	palette_black_in
		call	sub_B46B
		call	sub_B74E
		call	sub_B429

loc_B858:
		push	0
		call	sub_D6C5
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+36h], 0
		jz	short loc_B871
		cmp	byte ptr es:[bx+33h], 63h ; 'c'
		jnz	short loc_B879

loc_B871:
		push	210h
		call	sub_CEC2

loc_B879:
		push	2
		call	palette_black_out
		les	bx, dword_105DA
		mov	al, es:[bx+0Bh]
		mov	ah, 0
		push	ax
		call	sub_AEF0
		call	super_free
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	PaletteTone, 0
		call	far ptr	palette_show
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+36h], 0
		jz	short loc_B8F1
		cmp	byte ptr es:[bx+33h], 63h ; 'c'
		jz	short loc_B8F1
		push	0
		push	ds
		push	offset aConti_pi ; "conti.pi"
		call	sub_D4AB
		push	0
		call	sub_CD0A
		push	large 0
		push	0
		call	sub_CD2F
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		push	0
		push	ds
		push	offset aConti_cd2 ; "conti.cd2"
		call	sub_D02E
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_B8F1:
		push	0
		push	ds
		push	offset aOver_pi_0 ; "over.pi"
		call	sub_D4AB
		push	0
		call	sub_CD0A
		push	large 0
		push	0
		call	sub_CD2F
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		push	0FFh
		call	sub_C864
		pop	cx
		push	100h
		call	sub_CEC2
		pop	bp
		retn
sub_B7D2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B92E	proc near
		push	bp
		mov	bp, sp
		push	100h
		call	sub_CEC2
		push	600h
		push	ds
		push	offset aOver_m	; "over.m"
		call	sub_C880
		add	sp, 6
		push	0
		call	sub_CEC2
		push	1
		call	palette_black_in
		push	large 30040h
		call	sub_D3FC
		push	1
		call	palette_black_out
		push	100h
		call	sub_CEC2
		pop	bp
		retn
sub_B92E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B972	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	0
		call	sub_D130
		push	1
		call	sub_D130
		push	2
		call	sub_D130
		push	ds
		push	offset unk_10316
		push	large [dword_102FE]
		call	graph_pi_free
		les	bx, dword_105DA
		mov	al, es:[bx+0Ch]
		mov	ah, 0
		dec	ax
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	[bp+var_1], al
		cmp	[bp+var_1], 0Ah
		jl	short loc_B9DD
		les	bx, off_EE4E
		mov	al, es:[bx+1]
		push	ax
		mov	al, [bp+var_1]
		cbw
		mov	bx, 0Ah
		cwd
		idiv	bx
		pop	dx
		add	dl, al
		mov	bx, word ptr off_EE4E
		mov	es:[bx+1], dl
		mov	al, [bp+var_1]
		cbw
		mov	bx, 0Ah
		cwd
		idiv	bx
		mov	[bp+var_1], dl

loc_B9DD:
		les	bx, off_EE4E
		mov	al, [bp+var_1]
		add	es:[bx+2], al
		mov	PaletteTone, 0
		call	far ptr	palette_show
		push	60h ; '`'
		call	sub_CB52
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		call	graph_show
		push	large [off_EE4E]
		call	sub_A12E
		call	sub_AC6E
		call	sub_A174
		call	sub_C40D
		les	bx, dword_105DA
		mov	byte ptr es:[bx+33h], 63h ; 'c'
		call	sub_B7D2
		les	bx, dword_105DA
		cmp	byte ptr es:[bx+36h], 3
		jnz	short loc_BA66
		cmp	byte ptr es:[bx+0Ch], 0Fh
		jnb	short loc_BA66
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	ds
		push	offset a@99ed_txt ; "@99ED.TXT"
		call	sub_A12E
		call	sub_AC6E
		call	sub_A174

loc_BA66:
		call	text_clear
		call	sub_C96
		call	sub_C990
		push	large 0
		push	ds
		push	offset aOp_0	; "op"
		push	ds
		push	offset aOp_0	; "op"
		call	_execl
		add	sp, 0Ch
		leave
		retn
sub_B972	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BA8A	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_4]
		sar	ax, 3
		mov	dx, [bp+arg_2]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+arg_2]
		shl	dx, 4
		add	ax, dx
		mov	di, ax
		mov	si, [bp+arg_0]
		shl	si, 4
		add	si, 0A62h
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		mov	cx, [bp+arg_4]
		; Hack (and cx, 7)
		db 081h
		db 0e1h
		db 007h
		db 000h
		mov	bx, 8

loc_BAC0:
		mov	ax, [si]
		ror	ax, cl
		or	es:[di], ax
		add	di, 50h	; 'P'
		add	si, 2
		dec	bx
		jnz	short loc_BAC0
		pop	di
		pop	si
		pop	bp
		retn	6
sub_BA8A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BAD6	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	4, 0
		push	si
		push	di
		mov	bx, [bp+arg_0]
		shl	bx, 4
		mov	ax, [bx+1D10h]
		mov	[bp+var_2], ax
		mov	bx, [bp+arg_0]
		shl	bx, 4
		mov	ax, [bx+1D12h]
		mov	[bp+var_4], ax
		mov	ax, [bp+var_2]
		cwd
		sub	ax, dx
		sar	ax, 1
		sub	[bp+arg_4], ax
		mov	ax, [bp+var_4]
		cwd
		sub	ax, dx
		sar	ax, 1
		add	ax, 0FFFEh
		add	[bp+arg_2], ax
		mov	ax, [bp+arg_4]
		sar	ax, 3
		mov	dx, [bp+arg_2]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+arg_2]
		shl	dx, 4
		add	ax, dx
		mov	di, ax
		mov	ax, 0E000h
		mov	es, ax
		assume es:nothing
		mov	dx, [bp+var_2]
		shr	dx, 4
		mov	si, 50h	; 'P'
		sub	si, dx
		sub	si, dx
		xor	ax, ax
		mov	cx, dx
		rep stosw
		add	di, si
		mov	cx, dx
		rep stosw
		add	di, si
		mov	cx, dx
		rep stosw
		pop	di
		pop	si
		leave
		retn	6
sub_BAD6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BB51	proc near
		push	bp
		mov	bp, sp
		push	di
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		xor	ax, ax
		mov	di, ax
		mov	cx, 3E80h
		rep stosw
		pop	di
		pop	bp
		retn
sub_BB51	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BB66	proc near
		push	bp
		mov	bp, sp
		push	si
		mov	si, 22C2h
		xor	ax, ax
		jmp	short loc_BB78
; ---------------------------------------------------------------------------

loc_BB71:
		mov	byte ptr [si], 0
		inc	ax
		add	si, 10h

loc_BB78:
		cmp	ax, 50h	; 'P'
		jl	short loc_BB71
		pop	si
		pop	bp
		retn
sub_BB66	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BB80	proc near

var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	2, 0
		push	si
		push	di
		mov	si, 22C2h
		xor	di, di
		jmp	loc_BC1A
; ---------------------------------------------------------------------------

loc_BB8E:
		cmp	byte ptr [si], 0
		jnz	loc_BC16
		mov	ax, di
		shl	ax, 3
		cmp	ax, word_10BB2
		jg	short loc_BC16
		mov	byte ptr [si], 1
		test	di, 3
		jz	short loc_BBBE
		call	sub_1A3E
		mov	bx, 2780h
		cwd
		idiv	bx
		mov	[si+2],	dx
		mov	word ptr [si+4], 0
		jmp	short loc_BBD1
; ---------------------------------------------------------------------------

loc_BBBE:
		mov	word ptr [si+2], 2780h
		call	sub_1A3E
		mov	bx, 1880h
		cwd
		idiv	bx
		mov	[si+4],	dx

loc_BBD1:
		call	sub_1A3E
		mov	bx, 20h	; ' '
		cwd
		idiv	bx
		add	dl, 50h	; 'P'
		mov	[bp+var_1], dl
		call	sub_1A3E
		mov	bx, 40h	; '@'
		cwd
		idiv	bx
		add	dl, 30h	; '0'
		mov	[bp+var_2], dl
		call	sub_1A3E
		and	ax, 3
		mov	[si+0Ah], ax
		push	ds
		lea	ax, [si+6]
		push	ax
		push	ds
		lea	ax, [si+8]
		push	ax
		push	word ptr [bp+var_1]
		mov	al, [bp+var_2]
		mov	ah, 0
		push	ax
		call	sub_C8F0

loc_BC16:
		inc	di
		add	si, 10h

loc_BC1A:
		mov	al, byte_106B0
		mov	ah, 0
		cmp	ax, di
		jg	loc_BB8E
		pop	di
		pop	si
		leave
		retn
sub_BB80	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BC29	proc near
		push	bp
		mov	bp, sp
		push	si
		mov	si, 22C2h
		xor	dx, dx
		jmp	short loc_BC63
; ---------------------------------------------------------------------------

loc_BC34:
		cmp	byte ptr [si], 0
		jz	short loc_BC5F
		mov	byte ptr [si], 1
		mov	ax, [si+6]
		add	[si+2],	ax
		mov	ax, [si+8]
		add	[si+4],	ax
		cmp	word ptr [si+2], 0
		jg	short loc_BC53
		add	word ptr [si+2], 2780h

loc_BC53:
		cmp	word ptr [si+4], 1880h
		jl	short loc_BC5F
		sub	word ptr [si+4], 1880h

loc_BC5F:
		inc	dx
		add	si, 10h

loc_BC63:
		mov	al, byte_106B0
		mov	ah, 0
		cmp	ax, dx
		jg	short loc_BC34
		pop	si
		pop	bp
		retn
sub_BC29	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BC6F	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, 22C2h
		xor	di, di
		jmp	short loc_BC98
; ---------------------------------------------------------------------------

loc_BC7B:
		cmp	byte ptr [si], 0
		jz	short loc_BC94
		mov	ax, [si+2]
		sar	ax, 4
		push	ax
		mov	ax, [si+4]
		sar	ax, 4
		push	ax
		push	word ptr [si+0Ah]
		call	sub_BA8A

loc_BC94:
		inc	di
		add	si, 10h

loc_BC98:
		mov	al, byte_106B0
		mov	ah, 0
		cmp	ax, di
		jg	short loc_BC7B
		pop	di
		pop	si
		pop	bp
		retn
sub_BC6F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BCA5	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	byte_EC70, 0
		jnz	short loc_BCB9
		mov	ax, word_10BB2
		cmp	ax, [bp+arg_0]
		jle	short loc_BCCF
		jmp	short loc_BCCA
; ---------------------------------------------------------------------------

loc_BCB9:
		mov	ah, 5
		int	60h		; - FTP	Packet Driver -	BASIC FUNC - TERMINATE DRIVER FOR HANDLE
					; BX = handle
					; Return: CF set on error, DH =	error code
					; CF clear if successful
		cmp	ax, [bp+arg_2]
		jb	short loc_BCCF
		cmp	word_10BB2, 0C0h ; 'À'
		jle	short loc_BCCF

loc_BCCA:
		mov	ax, 1
		jmp	short loc_BCD1
; ---------------------------------------------------------------------------

loc_BCCF:
		xor	ax, ax

loc_BCD1:
		pop	bp
		retn	4
sub_BCA5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BCD5	proc near
		push	bp
		mov	bp, sp
		call	sub_BB80
		call	sub_BC29
		call	sub_BC6F
		cmp	byte_10BB6, 0
		jz	short loc_BCFE
		cmp	vsync_Count1, 1
		jbe	short loc_BCFE
		mov	byte_10BB5, 0
		mov	byte_106B0, 32h	; '2'
		mov	byte_10BB6, 0

loc_BCFE:
		cmp	vsync_Count1, 0
		jz	short loc_BCFE
		mov	vsync_Count1, 0
		mov	dx, 0A4h ; '¤'
		mov	al, byte_10BB4
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, 1
		sub	al, byte_10BB4
		mov	byte_10BB4, al
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		pop	bp
		retn
sub_BCD5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BD21	proc near

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	6, 0
		push	si
		push	di
		mov	bx, [bp+arg_2]
		shl	bx, 4
		mov	ax, [bx+1D10h]
		mov	[bp+var_4], ax
		mov	bx, [bp+arg_2]
		shl	bx, 4
		mov	ax, [bx+1D12h]
		mov	[bp+var_6], ax
		mov	ax, [bp+var_4]
		cwd
		sub	ax, dx
		sar	ax, 1
		sub	[bp+arg_6], ax
		mov	ax, [bp+var_6]
		cwd
		sub	ax, dx
		sar	ax, 1
		sub	[bp+arg_4], ax
		cmp	byte_10BC7, 0
		jz	short loc_BD65
		cmp	byte_10BB5, 0
		jnz	short loc_BD75

loc_BD65:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		call	far ptr	loc_D712
		jmp	short loc_BD83
; ---------------------------------------------------------------------------

loc_BD75:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		call	far ptr	loc_C9D4

loc_BD83:
		and	[bp+arg_0], 7
		cmp	[bp+arg_0], 0
		jz	short loc_BDEE
		mov	bx, 10h
		mov	ax, [bp+var_4]
		cwd
		idiv	bx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_4]
		add	[bp+var_6], ax
		mov	ax, [bp+arg_6]
		sar	ax, 3
		mov	dx, [bp+arg_4]
		shl	dx, 6
		add	ax, dx
		mov	dx, [bp+arg_4]
		shl	dx, 4
		add	ax, dx
		mov	[bp+var_2], ax
		mov	ax, 0E000h
		mov	es, ax
		assume es:nothing
		mov	bx, [bp+arg_0]
		shl	bx, 3
		add	bx, 0AA2h
		mov	dx, [bp+arg_4]

loc_BDCA:
		mov	si, dx
		; Hack (and si, 3)
		db 081h
		db 0e6h
		db 003h
		db 000h
		shl	si, 1
		mov	ax, [bx+si]
		not	ax
		mov	di, [bp+var_2]
		mov	cx, [bp+var_4]

loc_BDDC:
		and	es:[di], ax
		add	di, 2
		loop	loc_BDDC
		add	[bp+var_2], 50h	; 'P'
		inc	dx
		cmp	dx, [bp+var_6]
		jb	short loc_BDCA

loc_BDEE:
		pop	di
		pop	si
		leave
		retn	8
sub_BD21	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BDF4	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_0]
		call	sub_BB51
		mov	ax, word_10BB2
		cmp	ax, word_10BBE
		jg	loc_BEC1
		push	140h
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+27D8h]
		push	di
		call	sub_BAD6
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		mov	ax, [bx+27D8h]
		cmp	ax, word_10BC0
		jle	short loc_BE66
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	dx, word_10BBC
		mov	bx, ax
		sub	[bx+27D8h], dx
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		mov	ax, [bx+27D8h]
		cmp	ax, word_10BC0
		jge	short loc_BE66
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	dx, word_10BC0
		mov	bx, ax
		mov	[bx+27D8h], dx

loc_BE66:
		mov	ax, word_10BBE
		mov	bx, 8
		cwd
		idiv	bx
		push	ax
		mov	ax, word_10BB2
		cwd
		pop	bx
		idiv	bx
		mov	dx, 7
		sub	dx, ax
		mov	si, dx
		or	si, si
		jge	short loc_BE84
		xor	si, si

loc_BE84:
		cmp	byte_10BB5, 0
		jz	short loc_BEA7
		cmp	byte_10BC6, 0
		jz	short loc_BEA7
		push	large 1F800C8h
		mov	al, byte_10BC6
		mov	ah, 0
		push	ax
		push	si
		call	sub_BD21
		mov	byte_10BC7, 1

loc_BEA7:
		push	140h
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+27D8h]
		push	di
		push	si
		call	sub_BD21
		mov	byte_10BC7, 0

loc_BEC1:
		pop	di
		pop	si
		pop	bp
		retn	2
sub_BDF4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BEC7	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_0]
		call	sub_BB51
		cmp	word_10BB2, 0A1h ; '¡'
		jg	loc_BF78
		cmp	word_10BB2, 0A0h ; ' '
		jge	short loc_BF57
		push	140h
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+27D8h]
		push	di
		call	sub_BAD6
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		dec	word ptr [bx+27D8h]
		mov	ax, word_10BB2
		mov	bx, 14h
		cwd
		idiv	bx
		mov	si, ax
		cmp	si, 7
		jle	short loc_BF18
		mov	si, 7

loc_BF18:
		cmp	byte_10BB5, 0
		jz	short loc_BF3B
		cmp	byte_10BC6, 0
		jz	short loc_BF3B
		push	large 1F800C8h
		mov	al, byte_10BC6
		mov	ah, 0
		push	ax
		push	si
		call	sub_BD21
		mov	byte_10BC7, 1

loc_BF3B:
		push	140h
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+27D8h]
		push	di
		push	si
		call	sub_BD21
		mov	byte_10BC7, 0
		jmp	short loc_BF78
; ---------------------------------------------------------------------------

loc_BF57:
		push	large 0C00000h
		call	grcg_setcolor
		push	large 10008h
		push	large 4E0187h
		call	grcg_byteboxfill_x
		call	grcg_off

loc_BF78:
		pop	di
		pop	si
		pop	bp
		retn	2
sub_BEC7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BF7E	proc near
					; sub_C40D+33Ep

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		cmp	word_10BB2, 0A0h ; ' '
		jg	short loc_BFAD
		mov	ax, word_10BB2
		mov	bx, 14h
		cwd
		idiv	bx
		mov	dx, 7
		sub	dx, ax
		mov	si, dx
		or	si, si
		jge	short loc_BFA0
		xor	si, si

loc_BFA0:
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	si
		call	sub_BD21

loc_BFAD:
		pop	si
		pop	bp
		retn	6
sub_BF7E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BFB2	proc near
					; sub_C40D+2A4p ...

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_4]
		cmp	word_10BBC, 2
		jnz	short loc_BFE3
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		mov	word ptr [bx+27D8h], 108h
		mov	al, byte_10BB4
		mov	ah, 0
		xor	ax, 1
		add	ax, ax
		mov	bx, ax
		mov	word ptr [bx+27D8h], 107h
		jmp	short loc_C00E
; ---------------------------------------------------------------------------

loc_BFE3:
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	dx, 118h
		sub	dx, word_10BC4
		mov	bx, ax
		mov	[bx+27D8h], dx
		mov	al, byte_10BB4
		mov	ah, 0
		xor	ax, 1
		add	ax, ax
		mov	dx, 118h
		sub	dx, word_10BC4
		mov	bx, ax
		mov	[bx+27D8h], dx

loc_C00E:
		mov	word_10BB2, 0

loc_C014:
		push	si
		call	sub_BDF4
		call	sub_BCD5
		inc	word_10BB2
		push	[bp+arg_2]
		push	100h
		call	sub_BCA5
		or	ax, ax
		jz	short loc_C014
		mov	word_10BB2, 0

loc_C032:
		push	si
		call	sub_BEC7
		call	sub_BCD5
		inc	word_10BB2
		push	[bp+arg_0]
		push	100h
		call	sub_BCA5
		or	ax, ax
		jz	short loc_C032
		push	large 0C00000h
		call	grcg_setcolor
		push	large 10008h
		push	large 4E0187h
		call	grcg_byteboxfill_x
		call	grcg_off
		call	sub_BCD5
		push	large 0C00000h
		call	grcg_setcolor
		push	large 10008h
		push	large 4E0187h
		call	grcg_byteboxfill_x
		call	grcg_off
		call	sub_BCD5
		pop	si
		pop	bp
		retn	6
sub_BFB2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C097	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_4]
		cmp	word_10BBC, 2
		jnz	short loc_C0C9
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		mov	word ptr [bx+27D8h], 108h
		mov	al, byte_10BB4
		mov	ah, 0
		xor	ax, 1
		add	ax, ax
		mov	bx, ax
		mov	word ptr [bx+27D8h], 107h
		jmp	short loc_C0D6
; ---------------------------------------------------------------------------

loc_C0C9:
		mov	ax, 118h
		sub	ax, word_10BC4
		mov	word_10BC8, ax
		mov	word_10BCA, ax

loc_C0D6:
		mov	word_10BB2, 0

loc_C0DC:
		push	si
		call	sub_BDF4
		mov	byte_10BC7, 1
		push	140h
		push	word_10BC2
		lea	ax, [si-1]
		push	ax
		push	0
		call	sub_BD21
		mov	byte_10BC7, 0
		call	sub_BCD5
		inc	word_10BB2
		push	[bp+arg_2]
		push	100h
		call	sub_BCA5
		or	ax, ax
		jz	short loc_C0DC
		mov	word_10BB2, 0

loc_C114:
		cmp	word_10BB2, 0A1h ; '¡'
		jg	short loc_C12A
		push	140h
		push	word_10BC2
		lea	ax, [si-1]
		push	ax
		call	sub_BAD6

loc_C12A:
		push	si
		call	sub_BEC7
		cmp	word_10BB2, 0A1h ; '¡'
		jg	short loc_C199
		mov	ax, word_10BB2
		dec	ax
		mov	bx, 14h
		cwd
		idiv	bx
		mov	di, ax
		cmp	di, 7
		jle	short loc_C14A
		mov	di, 7

loc_C14A:
		cmp	byte_10BB4, 0
		jnz	short loc_C155
		dec	word_10BC2

loc_C155:
		mov	byte_10BC7, 1
		cmp	word_10BB2, 0A0h ; ' '
		jge	short loc_C173
		push	140h
		push	word_10BC2
		lea	ax, [si-1]
		push	ax
		push	di
		call	sub_BD21
		jmp	short loc_C194
; ---------------------------------------------------------------------------

loc_C173:
		push	large 0C00000h
		call	grcg_setcolor
		push	large 10008h
		push	large 4E0187h
		call	grcg_byteboxfill_x
		call	grcg_off

loc_C194:
		mov	byte_10BC7, 0

loc_C199:
		call	sub_BCD5
		inc	word_10BB2
		push	[bp+arg_0]
		push	100h
		call	sub_BCA5
		or	ax, ax
		jz	loc_C114
		push	large 0C00000h
		call	grcg_setcolor
		push	large 10008h
		push	large 4E0187h
		call	grcg_byteboxfill_x
		call	grcg_off
		call	sub_BCD5
		push	large 0C00000h
		call	grcg_setcolor
		push	large 10008h
		push	large 4E0187h
		call	grcg_byteboxfill_x
		call	grcg_off
		call	sub_BCD5
		pop	di
		pop	si
		pop	bp
		retn	6
sub_C097	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C1FD	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		cmp	word_10BBC, 2
		jnz	short loc_C22A
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		mov	word ptr [bx+27D8h], 108h
		mov	al, byte_10BB4
		mov	ah, 0
		xor	ax, 1
		add	ax, ax
		mov	bx, ax
		mov	word ptr [bx+27D8h], 107h
		jmp	short loc_C237
; ---------------------------------------------------------------------------

loc_C22A:
		mov	ax, 118h
		sub	ax, word_10BC4
		mov	word_10BC8, ax
		mov	word_10BCA, ax

loc_C237:
		mov	word_10BB2, 0

loc_C23D:
		push	[bp+arg_4]
		call	sub_BDF4
		call	sub_BCD5
		inc	word_10BB2
		push	[bp+arg_2]
		push	100h
		call	sub_BCA5
		or	ax, ax
		jz	short loc_C23D
		mov	word_10BB2, 0

loc_C25D:
		call	sub_BB51
		call	sub_BCD5
		inc	word_10BB2
		push	[bp+arg_0]
		push	100h
		call	sub_BCA5
		or	ax, ax
		jz	short loc_C25D
		mov	al, byte_10BB4
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		mov	ax, [bx+27D8h]
		mov	word_10BC2, ax
		pop	bp
		retn	6
sub_C1FD	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C288	proc near
					; sub_C40D+369p

var_4		= word ptr -4
var_2		= word ptr -2

		enter	4, 0
		push	si
		push	di
		push	large 16000AEh
		push	2Fh ; '/'
		mov	al, byte_10BD7
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		push	large dword ptr	[bx+0AE2h]
		call	sub_D197
		push	large 16800C7h
		push	2Fh ; '/'
		mov	al, byte_10BD6
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		push	large dword ptr	[bx+0B06h]
		call	sub_D197
		mov	si, 198h
		mov	[bp+var_4], 0
		mov	[bp+var_2], 8
		jmp	short loc_C319
; ---------------------------------------------------------------------------

loc_C2D5:
		mov	bx, [bp+var_2]
		mov	al, [bx+27DCh]
		mov	ah, 0
		mov	di, ax
		cmp	[bp+var_4], 0
		jnz	short loc_C2F7
		or	di, di
		jz	short loc_C2F7
		mov	ax, [bp+var_2]
		shl	ax, 3
		sub	si, ax
		mov	[bp+var_4], 1

loc_C2F7:
		cmp	[bp+var_4], 0
		jz	short loc_C316
		push	si
		push	large 0E0002Fh
		mov	bx, di
		shl	bx, 2
		push	large dword ptr	[bx+0B16h]
		call	sub_D197
		add	si, 10h

loc_C316:
		dec	[bp+var_2]

loc_C319:
		cmp	[bp+var_2], 0
		jg	short loc_C2D5
		mov	al, byte_10BCC
		mov	ah, 0
		mov	di, ax
		push	si
		push	large 0E0002Fh
		mov	bx, di
		shl	bx, 2
		push	large dword ptr	[bx+0B16h]
		call	sub_D197
		push	large 19800F8h
		push	2Fh ; '/'
		mov	bx, di
		shl	bx, 2
		push	large dword ptr	[bx+0B16h]
		call	sub_D197
		mov	al, byte_10BD8
		mov	ah, 0
		mov	bx, 64h	; 'd'
		cwd
		idiv	bx
		mov	di, ax
		mov	si, 198h
		mov	[bp+var_4], 0
		or	di, di
		jz	short loc_C38D
		sub	si, 10h
		mov	[bp+var_4], 1
		push	si
		push	large 123002Fh
		mov	bx, di
		shl	bx, 2
		push	large dword ptr	[bx+0B16h]
		call	sub_D197
		add	si, 10h

loc_C38D:
		mov	al, byte_10BD8
		mov	ah, 0
		mov	bx, 64h	; 'd'
		cwd
		idiv	bx
		mov	bx, 0Ah
		mov	ax, dx
		cwd
		idiv	bx
		mov	di, ax
		or	di, di
		jz	short loc_C3B4
		cmp	[bp+var_4], 0
		jnz	short loc_C3B4
		mov	[bp+var_4], 1
		sub	si, 8

loc_C3B4:
					; sub_C288+122j
		cmp	[bp+var_4], 0
		jz	short loc_C3D3
		push	si
		push	large 123002Fh
		mov	bx, di
		shl	bx, 2
		push	large dword ptr	[bx+0B16h]
		call	sub_D197
		add	si, 10h

loc_C3D3:
		mov	al, byte_10BD8
		mov	ah, 0
		mov	bx, 0Ah
		cwd
		idiv	bx
		mov	di, dx
		push	si
		push	large 123002Fh
		mov	bx, di
		shl	bx, 2
		push	large dword ptr	[bx+0B16h]
		call	sub_D197
		lea	ax, [si+10h]
		push	ax
		push	large 123002Fh
		push	ds
		push	offset aU_	; "“_"
		call	sub_D197
		pop	di
		pop	si
		leave
		retn
sub_C288	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C40D	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	210h
		call	sub_CEC2
		push	4
		call	palette_black_out
		push	0FFh
		call	sub_C864
		pop	cx
		push	100h
		call	sub_CEC2
		mov	byte_106B0, 50h	; 'P'
		mov	si, 1
		jmp	short loc_C44B
; ---------------------------------------------------------------------------

loc_C43C:
		les	bx, dword_105DA
		assume es:nothing
		add	bx, si
		mov	al, es:[bx+17h]
		mov	[si+27DCh], al
		inc	si

loc_C44B:
		cmp	si, 9
		jl	short loc_C43C
		les	bx, dword_105DA
		mov	al, 3
		sub	al, es:[bx+36h]
		mov	byte_10BCC, al
		mov	al, es:[bx+0Ch]
		mov	ah, 0
		dec	ax
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	byte_10BD7, al
		mov	al, es:[bx+0Bh]
		mov	byte_10BD6, al
		mov	al, es:[bx+38h]
		mov	byte_10BD8, al
		mov	al, byte_10BD3
		mov	ah, 0
		cmp	ax, 3
		jz	short loc_C48B
		cmp	ax, 4
		jz	short loc_C49E
		jmp	short loc_C4B1
; ---------------------------------------------------------------------------

loc_C48B:
		mov	al, byte_10BD2
		mov	ah, 0
		cwd
		sub	ax, dx
		sar	ax, 1
		add	al, byte_10BD8
		add	al, 2
		mov	byte_10BD8, al

loc_C49E:
		mov	al, byte_10BD2
		mov	ah, 0
		cwd
		sub	ax, dx
		sar	ax, 1
		add	al, byte_10BD8
		add	al, 7
		mov	byte_10BD8, al

loc_C4B1:
		cmp	byte_10BD3, 5
		jb	short loc_C4C0
		mov	al, byte_10BD8
		add	al, 0Fh
		mov	byte_10BD8, al

loc_C4C0:
		cmp	byte_10BD4, 0
		jz	short loc_C4CC
		mov	byte_10BD8, 64h	; 'd'

loc_C4CC:
		cmp	byte_10BD8, 64h	; 'd'
		jbe	short loc_C4D8
		mov	byte_10BD8, 64h	; 'd'

loc_C4D8:
		push	600h
		push	ds
		push	offset aEd_m	; "ed.m"
		call	sub_C880
		add	sp, 6
		mov	PaletteTone, 0
		call	far ptr	palette_show
		push	ds
		push	offset aEdbk1_rgb ; "edbk1.rgb"
		call	sub_1A68
		call	far ptr	palette_show
		push	large 0C00008h
		call	grcg_setcolor
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 0
		push	large 4F018Fh
		call	grcg_byteboxfill_x
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 0
		push	large 4F018Fh
		call	grcg_byteboxfill_x
		push	large 0C00000h
		call	grcg_setcolor
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 10008h
		push	large 4E0187h
		call	grcg_byteboxfill_x
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 10008h
		push	large 4E0187h
		call	grcg_byteboxfill_x
		call	grcg_off
		mov	dx, 0A4h ; '¤'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aStf1_cdg ; "stf1.cdg"
		push	0
		call	sub_CFA8
		push	1
		push	ds
		push	offset aStf11_cdg ; "stf11.cdg"
		push	0
		call	sub_CFA8
		push	2
		push	ds
		push	offset aStf3_cdg ; "stf3.cdg"
		push	0
		call	sub_CF1E
		push	3
		push	ds
		push	offset aStf4_cdg ; "stf4.cdg"
		push	0
		call	sub_CF1E
		push	4
		push	ds
		push	offset aStf5_cdg ; "stf5.cdg"
		push	0
		call	sub_CFA8
		push	5
		push	ds
		push	offset aStf6_cdg ; "stf6.cdg"
		push	0
		call	sub_CFA8
		push	6
		push	ds
		push	offset aStf7_cdg ; "stf7.cdg"
		push	0
		call	sub_CFA8
		push	7
		push	ds
		push	offset aStf8_cdg ; "stf8.cdg"
		push	0
		call	sub_CFA8
		push	8
		push	ds
		push	offset aStf9_cdg ; "stf9.cdg"
		push	0
		call	sub_CFA8
		push	9
		push	ds
		push	offset aStf10_cdg ; "stf10.cdg"
		push	0
		call	sub_CFA8
		push	0Ah
		push	ds
		push	offset aStf2_cdg ; "stf2.cdg"
		push	0
		call	sub_CFA8
		push	0Bh
		push	ds
		push	offset aStf12_cdg ; "stf12.cdg"
		push	0
		call	sub_CFA8
		call	sub_BB66
		mov	word_10BB2, 0
		les	bx, dword_105DA
		mov	eax, es:[bx+10h]
		mov	dword_E9A6, eax
		mov	byte_10BB4, 0
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show
		push	0
		call	sub_CEC2
		mov	byte_10BB6, 1
		mov	byte_10BB5, 1
		push	1
		call	sub_CB52
		mov	vsync_Count1, 0

loc_C657:
		call	sub_BB51
		call	sub_BCD5
		inc	word_10BB2
		push	large 40100h
		call	sub_BCA5
		or	ax, ax
		jz	short loc_C657
		mov	byte_10BC7, 0
		mov	word_10BC4, 0
		mov	word_10BC0, 0C8h ; 'È'
		mov	word_10BBC, 2
		mov	word_10BBE, 41h	; 'A'
		mov	byte_10BC6, 0
		push	large 8
		push	0Ah
		call	sub_BFB2
		mov	word_10BBC, 1
		mov	word_10BBE, 0A1h ; '¡'
		mov	byte_10BB6, 0
		push	large 10010h
		push	14h
		call	sub_BFB2
		mov	word_10BC4, 20h	; ' '
		mov	word_10BC0, 0A8h ; '¨'
		push	large 20016h
		push	18h
		call	sub_C1FD
		mov	byte_10BC6, 7
		mov	word_10BC0, 0D8h ; 'Ø'
		mov	word_10BC4, 0FFF0h
		push	large 30020h
		push	22h ; '"'
		call	sub_C097
		mov	byte_10BC6, 0
		mov	word_10BC0, 0C8h ; 'È'
		mov	word_10BC4, 0
		push	large 40024h
		push	26h ; '&'
		call	sub_BFB2
		push	large 0B002Ah
		push	2Ch ; ','
		call	sub_BFB2
		push	large 50030h
		push	32h ; '2'
		call	sub_BFB2
		push	large 60036h
		push	38h ; '8'
		call	sub_BFB2
		push	large 0A003Ch
		push	3Eh ; '>'
		call	sub_BFB2
		mov	word_10BB2, 0

loc_C735:
		call	sub_BB51
		push	large 1400080h
		push	8
		call	sub_BF7E
		push	large 0C000F0h
		push	9
		call	sub_BF7E
		call	sub_BCD5
		inc	word_10BB2
		push	large 420100h
		call	sub_BCA5
		or	ax, ax
		jz	short loc_C735
		mov	al, 1
		sub	al, byte_10BB4
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_C288
		mov	dx, 0A6h ; '¦'
		mov	al, byte_10BB4
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_C288
		mov	word_10BB2, 0
		xor	di, di

loc_C781:
					; sub_C40D+39Aj ...
		call	sub_D5A2
		call	sub_BB51
		call	sub_BCD5
		inc	word_10BB2
		or	di, di
		jz	short loc_C7AB
		mov	PaletteTone, di
		call	far ptr	palette_show
		test	byte ptr word_10BB2, 1
		jz	short loc_C781
		dec	di
		or	di, di
		jnz	short loc_C781
		jmp	short loc_C7CD
; ---------------------------------------------------------------------------

loc_C7AB:
		cmp	word_100FC, 0
		jz	short loc_C781
		cmp	word_10BB2, 100h
		jle	short loc_C781
		push	208h
		call	sub_CEC2
		mov	di, 64h	; 'd'
		mov	word_10BB2, 0
		jmp	short loc_C781
; ---------------------------------------------------------------------------

loc_C7CD:
		xor	si, si
		jmp	short loc_C7D8
; ---------------------------------------------------------------------------

loc_C7D1:
		push	si
		call	sub_D130
		inc	si

loc_C7D8:
		cmp	si, 20h	; ' '
		jl	short loc_C7D1
		pop	di
		pop	si
		pop	bp
		retn
sub_C40D	endp

seg001		ends

; ===========================================================================

; Segment type:	Pure code
seg002		segment	byte public 'CODE' use16
		assume cs:seg002
		;org 1
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		db 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C7E2	proc far
		push	bp
		mov	bp, sp
		mov	dword_10050, 0A8000000h
		mov	dword_10054, 0B0000000h
		mov	dword_10058, 0B8000000h
		mov	dword_1005C, 0E0000000h
		pop	bp
		retf
sub_C7E2	endp

; ---------------------------------------------------------------------------
		db 0

; =============== S U B	R O U T	I N E =======================================


sub_C80C	proc far
		mov	ah, 9
		int	60h
		xor	bx, bx
		cmp	al, 0FFh
		jz	short loc_C81E
		inc	bx
		mov	byte_10060, 1
		jmp	short loc_C822
; ---------------------------------------------------------------------------

loc_C81E:
		mov	bl, byte_10061

loc_C822:
		mov	byte_EC70, bl
		mov	ax, bx
		retf
sub_C80C	endp

; ---------------------------------------------------------------------------
		nop
		mov	byte_10062, 60h	; '`'
		mov	byte_10061, 0
		mov	byte_10060, 0
		mov	byte_10063, 0
		xor	ax, ax
		mov	es, ax
		les	bx, dword ptr es:[0180h]
		assume es:nothing
		cmp	byte ptr es:[bx+2], 50h	; 'P'
		jnz	short loc_C860
		cmp	byte ptr es:[bx+3], 4Dh	; 'M'
		jnz	short loc_C860
		cmp	byte ptr es:[bx+4], 44h	; 'D'
		jnz	short loc_C860
		mov	ax, 1
		retf
; ---------------------------------------------------------------------------

loc_C860:
		xor	ax, ax
		retf
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C864	proc far
					; sub_C40D+17P

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp

loc_C867:
		mov	ah, 8
		cmp	byte_10061, 1
		jz	short loc_C874
		int	60h
		jmp	short loc_C876
; ---------------------------------------------------------------------------

loc_C874:
		int	61h		; reserved for user interrupt

loc_C876:
		cmp	al, [bp+arg_0]
		jz	short loc_C87D
		jmp	short loc_C867
; ---------------------------------------------------------------------------

loc_C87D:
		pop	bp
		retf
sub_C864	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C880	proc far
					; sub_9A2C+208P ...

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	ds
		mov	cx, 0Dh
		xor	si, si

loc_C88A:
		les	bx, [bp+arg_0]
		add	bx, si
		mov	al, es:[bx]
		mov	[si+1C74h], al
		inc	si
		loop	loc_C88A
		mov	ax, [bp+arg_4]
		cmp	ax, 600h
		jnz	short loc_C8C1
		cmp	byte_10061, 0
		jz	short loc_C8C1
		xor	bx, bx

loc_C8AA:
		inc	bx
		cmp	byte ptr [bx+1C74h], 0
		jnz	short loc_C8AA
		mov	byte ptr [bx+1C74h], 6Dh ; 'm'
		mov	byte ptr [bx+1C75h], 64h ; 'd'
		mov	byte ptr [bx+1C76h], 0

loc_C8C1:
		mov	dx, 1C74h
		mov	ax, 3D00h
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read
		mov	bx, ax
		mov	ax, [bp+arg_4]
		cmp	ax, 600h
		jnz	short loc_C8DE
		cmp	byte_10061, 0
		jz	short loc_C8DE
		int	61h		; reserved for user interrupt
		jmp	short loc_C8E0
; ---------------------------------------------------------------------------

loc_C8DE:
		int	60h

loc_C8E0:
		mov	ax, 3F00h
		mov	cx, 5000h
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		pop	si
		pop	bp
		retf
sub_C880	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C8F0	proc far

arg_0		= word ptr  6
arg_2		= byte ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		mov	dl, [bp+arg_2]
		mov	si, [bp+arg_0]
		movsx	eax, si
		mov	dh, 0
		add	dx, dx
		mov	bx, dx
		movsx	edx, word ptr [bx+63Ah]
		movsx	ecx, word ptr [bx+5BAh]
		imul	eax, edx
		sar	eax, 8
		les	bx, [bp+arg_8]
		mov	es:[bx], ax
		movsx	eax, si
		imul	eax, ecx
		sar	eax, 8
		les	bx, [bp+arg_4]
		mov	es:[bx], ax
		pop	si
		pop	bp
		retf	0Ch
sub_C8F0	endp

; ---------------------------------------------------------------------------
		nop
		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+6]
		mov	ax, [bp+12h]
		sub	ax, [bp+16h]
		push	ax
		mov	ax, [bp+14h]
		sub	ax, [bp+18h]
		push	ax
		call	sub_175E
		add	al, [bp+10h]
		mov	dl, al
		movsx	eax, si
		mov	dh, 0
		add	dx, dx
		mov	bx, dx
		movsx	edx, word ptr [bx+63Ah]
		movsx	ecx, word ptr [bx+5BAh]
		imul	eax, edx
		sar	eax, 8
		les	bx, [bp+0Ch]
		mov	es:[bx], ax
		movsx	eax, si
		imul	eax, ecx
		sar	eax, 8
		les	bx, [bp+8]
		mov	es:[bx], ax
		pop	si
		pop	bp
		retf	14h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C990	proc far
		push	bp
		mov	bp, sp
		call	sub_2912
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		call	vsync_end
		call	sub_235A
		call	text_clear
		call	js_end
		call	egc_start
		pop	bp
		retf
sub_C990	endp

; ---------------------------------------------------------------------------
		db 0
; ---------------------------------------------------------------------------

loc_C9D4:
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	large 0C00000h
		call	grcg_setcolor
		mov	si, [bp+6]
		shl	si, 4
		add	si, 1D0Eh
		mov	ax, [si+0Eh]
		mov	cs:word_CA4C, ax
		mov	ax, [bp+0Ah]
		sar	ax, 3
		add	ax, [si+6]
		mov	di, ax
		mov	cs:word_CA45, ax
		mov	ax, [si+8]
		mov	cs:word_CA37, ax
		mov	cs:word_CA51, ax
		shl	ax, 2
		add	ax, 50h	; 'P'
		mov	cs:word_CA33, ax
		jmp	short $+2
		mov	ax, [bp+8]
		mov	bx, ax
		shl	ax, 2
		add	ax, bx
		add	ax, 0A800h
		mov	es, ax
		push	ds
		mov	ax, [si+0Ch]
		mov	ds, ax
		xor	si, si
; ---------------------------------------------------------------------------
		db 0BAh
word_CA33	dw 1234h
		db 0FCh, 0B9h
word_CA37	dw 1234h
		db 0F3h, 66h, 0A5h, 2Bh, 0FAh, 79h, 0F6h, 32h, 0C0h, 0E6h
		db 7Ch,	0BBh
word_CA45	dw 1234h
		db 8Bh,	0FBh, 33h, 0F6h, 0B8h
word_CA4C	dw 1234h
		db 8Eh,	0D8h, 0B9h
word_CA51	dw 1234h
		db 66h,	8Bh, 4,	66h, 26h, 9, 5,	83h, 0C6h, 4, 83h, 0C7h
		db 4, 0E2h, 0F1h, 2Bh, 0FAh, 79h, 0EAh,	8Bh, 0FBh, 8Ch
		db 0C0h, 5, 0, 8, 8Eh, 0C0h, 3Dh, 0, 0C0h, 72h,	0DCh, 3Dh
		db 0, 0C8h, 73h, 7, 5, 0, 20h, 8Eh, 0C0h, 0EBh,	0D0h, 1Fh
		db 5Fh,	5Eh, 5Dh, 0CAh,	6, 0, 90h
; ---------------------------------------------------------------------------

loc_CA88:
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	large 0C00000h
		call	grcg_setcolor
		mov	si, [bp+6]
		shl	si, 4
		add	si, 1D0Eh
		mov	ax, [bp+0Ah]
		sar	ax, 3
		add	ax, [si+6]
		mov	bx, [si+8]
		shl	bx, 2
		add	ax, bx
		dec	ax
		mov	di, ax
		mov	cs:word_CB09, ax
		mov	cs:word_CB31, ax
		mov	cs:word_CAF3, bx
		mov	cs:word_CB1F, bx
		mov	ax, 50h	; 'P'
		sub	ax, bx
		mov	cs:word_CAEF, ax
		mov	cs:word_CB1B, ax
		jmp	short $+2
		mov	ax, [bp+8]
		mov	bx, ax
		shl	ax, 2
		add	ax, bx
		add	ax, 0A800h
		mov	es, ax
		mov	bx, 20D6h
		mov	fs, word ptr [si+0Ch]
		xor	si, si
; ---------------------------------------------------------------------------
		db 0BAh
word_CAEF	dw 1234h
; ---------------------------------------------------------------------------
		nop
; ---------------------------------------------------------------------------
		db 0B9h
word_CAF3	dw 1234h
		db 64h,	8Ah, 4,	0D7h, 26h, 88h,	5, 46h,	4Fh, 0E2h, 0F5h
		db 2Bh,	0FAh, 79h, 0EEh, 32h, 0C0h, 0E6h, 7Ch, 0BFh
word_CB09	dw 1234h
		db 8Bh,	76h, 6,	0C1h, 0E6h, 4, 81h, 0C6h, 0Eh, 1Dh, 8Eh
		db 64h,	0Eh, 33h, 0F6h,	0BAh
word_CB1B	dw 1234h
; ---------------------------------------------------------------------------
		nop
; ---------------------------------------------------------------------------
		db 0B9h
word_CB1F	dw 4D2h
		db 64h,	8Ah, 4,	0D7h, 26h, 8, 5, 46h, 4Fh, 0E2h, 0F5h
		db 2Bh,	0FAh, 79h, 0EEh, 0BFh
word_CB31	dw 1234h
		db 8Ch,	0C0h, 5, 0, 8, 8Eh, 0C0h, 3Dh, 0, 0C0h,	72h, 0DFh
		db 3Dh,	0, 0C8h, 73h, 7, 5, 0, 20h, 8Eh, 0C0h, 0EBh, 0D3h
		db 5Fh,	5Eh, 5Dh, 0CAh,	6, 0, 90h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB52	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	vsync_Count1, 0

loc_CB5B:
		mov	ax, vsync_Count1
		cmp	ax, [bp+arg_0]
		jb	short loc_CB5B
		pop	bp
		retf	2
sub_CB52	endp

; ---------------------------------------------------------------------------
		db 0

; =============== S U B	R O U T	I N E =======================================


sub_CB68	proc far
		xor	ax, ax
		mov	word_100F8, ax
		mov	word_100FA, ax
		mov	word_100FC, ax
		mov	word_F80A, ax
		jmp	short $+2
		mov	bl, 2
		xor	ax, ax
		mov	es, ax

loc_CB7E:
		mov	ah, byte ptr es:[531h]
		test	ah, 4
		jz	short loc_CB8D
		or	word_100FC, 1

loc_CB8D:
		test	ah, 20h
		jz	short loc_CB97
		or	word_100FC, 2

loc_CB97:
		test	ah, 8
		jz	short loc_CBA6
		or	word_100FA, 20h
		or	word_100FC, 4

loc_CBA6:
		test	ah, 10h
		jz	short loc_CBB5
		or	word_100FA, 10h
		or	word_100FC, 8

loc_CBB5:
		mov	ah, byte ptr es:[533h]
		test	ah, 1
		jz	short loc_CBC9
		or	word_100FA, 8
		or	word_100FC, 8

loc_CBC9:
		test	ah, 4
		jz	short loc_CBDA
		or	word_100FA, 200h
		or	word_100FC, 200h

loc_CBDA:
		test	ah, 8
		jz	short loc_CBE9
		or	word_100FA, 2
		or	word_100FC, 2

loc_CBE9:
		test	ah, 10h
		jz	short loc_CBFA
		or	word_100FA, 800h
		or	word_100FC, 800h

loc_CBFA:
		mov	ah, byte ptr es:[532h]
		test	ah, 40h
		jz	short loc_CC0E
		or	word_100FA, 4
		or	word_100FC, 4

loc_CC0E:
		test	ah, 4
		jz	short loc_CC1F
		or	word_100FA, 100h
		or	word_100FC, 100h

loc_CC1F:
		test	ah, 8
		jz	short loc_CC2E
		or	word_100FA, 1
		or	word_100FC, 1

loc_CC2E:
		test	ah, 10h
		jz	short loc_CC3F
		or	word_100FA, 400h
		or	word_100FC, 400h

loc_CC3F:
		mov	ah, byte ptr es:[52Fh]
		test	ah, 2
		jz	short loc_CC53
		or	word_100F8, 20h
		or	word_100FC, 20h

loc_CC53:
		test	ah, 4
		jz	short loc_CC62
		or	word_100F8, 10h
		or	word_100FC, 10h

loc_CC62:
		test	ah, 10h
		jz	short loc_CC6D
		or	word_100F8, 200h

loc_CC6D:
		test	ah, 20h
		jz	short loc_CC77
		or	word_100F8, 2

loc_CC77:
		test	ah, 40h
		jz	short loc_CC82
		or	word_100F8, 800h

loc_CC82:
		mov	ah, byte ptr es:[52Eh]
		test	ah, 1
		jz	short loc_CC91
		or	word_100F8, 4

loc_CC91:
		test	ah, 4
		jz	short loc_CC9B
		or	word_100F8, 8

loc_CC9B:
		mov	ah, byte ptr es:[52Ch]
		test	ah, 8
		jz	short loc_CCAB
		or	word_100F8, 100h

loc_CCAB:
		test	ah, 10h
		jz	short loc_CCB5
		or	word_100F8, 1

loc_CCB5:
		test	ah, 20h
		jz	short loc_CCC0
		or	word_100F8, 400h

loc_CCC0:
		test	ah, 1
		jz	short loc_CCCB
		or	word_100FC, 4000h

loc_CCCB:
		mov	ah, byte ptr es:[52Ah]
		test	ah, 1
		jz	short loc_CCDB
		or	word_100FC, 1000h

loc_CCDB:
		mov	ah, byte ptr es:[52Dh]
		test	ah, 10h
		jz	short loc_CCEB
		or	word_100FC, 2000h

loc_CCEB:
		mov	ah, byte ptr es:[530h]
		test	ah, 10h
		jz	short loc_CCFA
		or	word_100FC, 20h

loc_CCFA:
		dec	bl
		jz	short locret_CD08
		mov	cx, 400h

loc_CD01:
		out	5Fh, al
		loop	loc_CD01
		jmp	loc_CB7E
; ---------------------------------------------------------------------------

locret_CD08:
		retf
sub_CB68	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CD0A	proc far
					; sub_9A2C+258P ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	30h ; '0'       ; n
		push	ds
		mov	ax, [bp+arg_0]
		imul	ax, 48h
		add	ax, 1F3Eh
		push	ax		; src
		push	ds
		push	offset Palettes	; dest
		call	_memcpy
		add	sp, 0Ah
		call	far ptr	palette_show
		pop	bp
		retf	2
sub_CD0A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CD2F	proc far
					; sub_990C+119P ...

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	6, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		mov	bx, di
		shl	bx, 2
		mov	ax, [bx+1F10h]
		mov	dx, [bx+1F0Eh]
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		mov	[bp+var_6], 0
		jmp	short loc_CDA3
; ---------------------------------------------------------------------------

loc_CD55:
		push	[bp+arg_4]
		push	si
		push	large [bp+var_4]
		mov	bx, di
		imul	bx, 48h
		push	word ptr [bx+1F3Ah]
		call	sub_1632
		inc	si
		cmp	si, 190h
		jl	short loc_CD76
		sub	si, 190h

loc_CD76:
		mov	bx, di
		imul	bx, 48h
		mov	ax, [bx+1F3Ah]
		shr	ax, 1
		add	word ptr [bp+var_4], ax
		mov	eax, [bp+var_4]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_4]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_4]
		and	dx, 0Fh
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		inc	[bp+var_6]

loc_CDA3:
		mov	bx, di
		imul	bx, 48h
		mov	ax, [bx+1F3Ch]
		cmp	ax, [bp+var_6]
		ja	short loc_CD55
		pop	di
		pop	si
		leave
		retf	6
sub_CD2F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CDB7	proc far
					; sub_9A2C+19EP ...

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	6, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		mov	bx, di
		shl	bx, 2
		mov	ax, [bx+1F10h]
		mov	dx, [bx+1F0Eh]
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		mov	[bp+var_6], 0
		jmp	short loc_CE2A
; ---------------------------------------------------------------------------

loc_CDDD:
		push	[bp+arg_4]
		push	si
		push	large [bp+var_4]
		mov	bx, di
		imul	bx, 48h
		push	word ptr [bx+1F3Ah]
		call	sub_1632
		inc	si
		cmp	si, 190h
		jl	short loc_CDFE
		sub	si, 190h

loc_CDFE:
		mov	bx, di
		imul	bx, 48h
		mov	ax, [bx+1F3Ah]
		add	word ptr [bp+var_4], ax
		mov	eax, [bp+var_4]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_4]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_4]
		and	dx, 0Fh
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		add	[bp+var_6], 2

loc_CE2A:
		mov	bx, di
		imul	bx, 48h
		mov	ax, [bx+1F3Ch]
		cmp	ax, [bp+var_6]
		ja	short loc_CDDD
		pop	di
		pop	si
		leave
		retf	6
sub_CDB7	endp


; =============== S U B	R O U T	I N E =======================================


sub_CE3E	proc far
		mov	byte_EC7D, 0
		mov	byte_EC7C, 0FFh
		retf
sub_CE3E	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CE4A	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	dx, [bp+arg_0]
		cmp	byte_10060, 0
		jz	short loc_CE82
		cmp	byte_EC7C, 0FFh
		jnz	short loc_CE66
		mov	byte_EC7C, dl
		pop	bp
		retf	2
; ---------------------------------------------------------------------------

loc_CE66:
		mov	al, byte_EC7C
		mov	ah, 0
		mov	bx, ax
		mov	al, [bx+896h]
		mov	bx, dx
		cmp	al, [bx+896h]
		ja	short loc_CE82
		mov	byte_EC7C, dl
		mov	byte_EC7D, 0

loc_CE82:
		pop	bp
		retf	2
sub_CE4A	endp


; =============== S U B	R O U T	I N E =======================================


sub_CE86	proc far
		cmp	byte_10060, 0
		jz	short locret_CEC1
		cmp	byte_EC7C, 0FFh
		jz	short locret_CEC1
		cmp	byte_EC7D, 0
		jnz	short loc_CEA2
		mov	ah, 0Ch
		mov	al, byte_EC7C
		int	60h		; - Banyan VINES, 3com - GET STATION ADDRESS
					; Return: AL = status, 00h successful, ES:SI ->	6-byte station address
					; 02h semaphore	service	is unavailable

loc_CEA2:
		inc	byte_EC7D
		mov	al, byte_EC7C
		mov	ah, 0
		mov	bx, ax
		mov	al, [bx+8B7h]
		cmp	al, byte_EC7D
		jnb	short locret_CEC1
		mov	byte_EC7D, 0
		mov	byte_EC7C, 0FFh

locret_CEC1:
		retf
sub_CE86	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CEC2	proc far
					; sub_9A2C+1DBP ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	byte_EC70, 0
		jz	short loc_CEDC
		mov	ax, [bp+arg_0]
		cmp	byte_10061, 1
		jz	short loc_CEDA
		int	60h
		jmp	short loc_CEDC
; ---------------------------------------------------------------------------

loc_CEDA:
		int	61h		; reserved for user interrupt

loc_CEDC:
		pop	bp
		retf	2
sub_CEC2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CEE0	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	4650h
		call	mem_assign_dos
		or	ax, ax
		jz	short loc_CEF6
		mov	ax, 1
		pop	bp
		retf	4
; ---------------------------------------------------------------------------

loc_CEF6:
		nop
		push	cs
		call	near ptr sub_C7E2
		call	vsync_start
		call	egc_start
		call	graph_400line
		call	sub_2AAE
		push	large [bp+arg_0]
		call	sub_2856
		xor	ax, ax
		pop	bp
		retf	4
sub_CEE0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CF1E	proc far

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= word ptr  0Ch

		enter	4, 0
		push	si
		push	di
		mov	di, [bp+arg_6]
		push	di
		nop
		push	cs
		call	near ptr sub_D130
		mov	ax, di
		shl	ax, 4
		add	ax, 1D0Eh
		mov	si, ax
		push	large [bp+arg_2]
		call	sub_966
		push	ds
		push	si
		push	10h
		call	sub_8B2
		mov	ax, [si]
		imul	ax, 5
		movzx	eax, ax
		mov	[bp+var_4], eax
		movsx	eax, [bp+arg_0]
		imul	eax, [bp+var_4]
		push	eax
		push	1
		call	sub_9A2
		push	word ptr [si]
		call	hmem_allocbyte
		mov	[si+0Ch], ax
		push	word ptr [si+0Ch]
		push	0
		push	word ptr [si]
		call	sub_8B2
		mov	ax, [si]
		shl	ax, 2
		push	ax
		call	hmem_allocbyte
		mov	[si+0Eh], ax
		push	word ptr [si+0Eh]
		push	0
		mov	ax, [si]
		shl	ax, 2
		push	ax
		call	sub_8B2
		call	sub_846
		pop	di
		pop	si
		leave
		retf	8
sub_CF1E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CFA8	proc far
					; sub_C40D+172P ...

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= word ptr  0Ch

		enter	4, 0
		push	si
		push	di
		mov	di, [bp+arg_6]
		push	di
		nop
		push	cs
		call	near ptr sub_D130
		mov	ax, di
		shl	ax, 4
		add	ax, 1D0Eh
		mov	si, ax
		push	large [bp+arg_2]
		call	sub_966
		push	ds
		push	si
		push	10h
		call	sub_8B2
		mov	ax, [si]
		imul	ax, 5
		movzx	eax, ax
		mov	[bp+var_4], eax
		movsx	eax, [bp+arg_0]
		imul	eax, [bp+var_4]
		push	eax
		push	1
		call	sub_9A2
		movzx	eax, word ptr [si]
		push	eax
		push	1
		call	sub_9A2
		mov	word ptr [si+0Ch], 0
		mov	ax, [si]
		shl	ax, 2
		push	ax
		call	hmem_allocbyte
		mov	[si+0Eh], ax
		push	word ptr [si+0Eh]
		push	0
		mov	ax, [si]
		shl	ax, 2
		push	ax
		call	sub_8B2
		call	sub_846
		pop	di
		pop	si
		leave
		retf	8
sub_CFA8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D02E	proc far
					; sub_D114+10p

var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		enter	2, 0
		push	si
		push	di
		push	large [bp+arg_0]
		call	sub_966
		push	[bp+arg_4]
		nop
		push	cs
		call	near ptr sub_D130
		mov	ax, [bp+arg_4]
		shl	ax, 4
		add	ax, 1D0Eh
		mov	si, ax
		push	ds
		push	ax
		push	10h
		call	sub_8B2
		mov	di, si
		mov	[bp+var_2], 1
		jmp	short loc_D071
; ---------------------------------------------------------------------------

loc_D062:
		mov	ax, [bp+arg_4]
		add	ax, [bp+var_2]
		push	ax
		nop
		push	cs
		call	near ptr sub_D130
		inc	[bp+var_2]

loc_D071:
		mov	al, [di+0Ah]
		mov	ah, 0
		cmp	ax, [bp+var_2]
		jg	short loc_D062
		mov	[bp+var_2], 0
		jmp	short loc_D0FD
; ---------------------------------------------------------------------------

loc_D082:
		mov	ax, [di]
		mov	[si], ax
		mov	ax, [di+2]
		mov	[si+2],	ax
		mov	ax, [di+4]
		mov	[si+4],	ax
		mov	ax, [di+6]
		mov	[si+6],	ax
		mov	ax, [di+8]
		mov	[si+8],	ax
		mov	al, [di+0Ah]
		mov	[si+0Ah], al
		mov	byte ptr [si+0Bh], 0
		cmp	byte_EC84, 0
		jnz	short loc_D0C7
		push	word ptr [si]
		call	hmem_allocbyte
		mov	[si+0Ch], ax
		push	word ptr [si+0Ch]
		push	0
		push	word ptr [si]
		call	sub_8B2
		jmp	short loc_D0D9
; ---------------------------------------------------------------------------

loc_D0C7:
		mov	word ptr [si+0Ch], 0
		movzx	eax, word ptr [si]
		push	eax
		push	1
		call	sub_9A2

loc_D0D9:
		mov	ax, [si]
		shl	ax, 2
		push	ax
		call	hmem_allocbyte
		mov	[si+0Eh], ax
		push	word ptr [si+0Eh]
		push	0
		mov	ax, [si]
		shl	ax, 2
		push	ax
		call	sub_8B2
		inc	[bp+var_2]
		add	si, 10h

loc_D0FD:
		mov	al, [di+0Ah]
		mov	ah, 0
		cmp	ax, [bp+var_2]
		jg	loc_D082
		call	sub_846
		pop	di
		pop	si
		leave
		retf	6
sub_D02E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D114	proc far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		mov	byte_EC84, 1
		push	[bp+arg_4]
		push	large [bp+arg_0]
		push	cs
		call	near ptr sub_D02E
		mov	byte_EC84, 0
		pop	bp
		retf	6
sub_D114	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D130	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		shl	ax, 4
		add	ax, 1D0Eh
		mov	di, ax
		xor	si, si
		jmp	short loc_D164
; ---------------------------------------------------------------------------

loc_D144:
		mov	bx, si
		add	bx, bx
		cmp	word ptr [bx+di+0Ch], 0
		jz	short loc_D163
		mov	bx, si
		add	bx, bx
		push	word ptr [bx+di+0Ch]
		call	hmem_free
		mov	bx, si
		add	bx, bx
		mov	word ptr [bx+di+0Ch], 0

loc_D163:
		inc	si

loc_D164:
		cmp	si, 2
		jl	short loc_D144
		pop	di
		pop	si
		pop	bp
		retf	2
sub_D130	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D16F	proc far
		push	bp
		mov	bp, sp
		call	sub_2912
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		call	vsync_end
		call	sub_235A
		call	js_end
		call	egc_start
		pop	bp
		retf
sub_D16F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D197	proc far

var_32		= byte ptr -32h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		enter	32h, 0
		push	si
		push	di
		mov	di, [bp+arg_8]
		mov	ax, [bp+arg_4]
		sar	ax, 4
		and	ax, 3
		mov	[bp+var_E], ax
		mov	ax, [bp+arg_4]
		sar	ax, 6
		and	ax, 7
		mov	[bp+var_10], ax
		push	0C0h ; 'À'
		mov	ax, [bp+arg_4]
		and	ax, 0Fh
		push	ax
		call	grcg_setcolor
		mov	dx, 68h	; 'h'
		mov	al, 0Bh
		out	dx, al
		jmp	loc_D3E0
; ---------------------------------------------------------------------------

loc_D1D0:
		mov	ax, [bp+arg_6]
		imul	ax, 50h
		push	ax
		mov	ax, di
		mov	bx, 8
		cwd
		idiv	bx
		pop	dx
		add	dx, ax
		mov	word ptr [bp+var_8+2], 0A800h
		mov	word ptr [bp+var_8], dx
		mov	ax, di
		cwd
		idiv	bx
		mov	[bp+var_C], dx
		les	bx, [bp+arg_0]
		assume es:nothing
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+11EFh], 4
		jz	short loc_D225
		mov	bx, word ptr [bp+arg_0]
		mov	al, es:[bx]
		cbw
		shl	ax, 8
		mov	dl, es:[bx+1]
		mov	dh, 0
		add	ax, dx
		push	ax
		call	sub_924C
		pop	cx
		mov	[bp+var_2], ax
		add	word ptr [bp+arg_0], 2
		jmp	short loc_D26B
; ---------------------------------------------------------------------------

loc_D225:
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		mov	ah, 0
		mov	bx, ax
		test	byte ptr [bx+11EFh], 3
		jz	short loc_D243
		mov	bx, word ptr [bp+arg_0]
		mov	al, es:[bx]
		mov	ah, 0
		add	ax, 2980h
		jmp	short loc_D25E
; ---------------------------------------------------------------------------

loc_D243:
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+0F05h], 5Eh
		jz	short loc_D263
		mov	bx, word ptr [bp+arg_0]
		mov	al, es:[bx]
		mov	ah, 0
		add	ax, 2900h

loc_D25E:
		mov	[bp+var_2], ax
		jmp	short loc_D268
; ---------------------------------------------------------------------------

loc_D263:
		mov	[bp+var_2], 2B21h

loc_D268:
		inc	word ptr [bp+arg_0]

loc_D26B:
		mov	al, byte ptr [bp+var_2]
		and	al, 0FFh
		mov	dx, 0A1h ; '¡'
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	ax, [bp+var_2]
		shr	ax, 8
		sub	al, 20h	; ' '
		mov	dx, 0A3h ; '£'
		out	dx, al		; Interrupt Controller #2, 8259A
		cmp	[bp+var_2], 2921h
		jb	short loc_D2CC
		cmp	[bp+var_2], 2B7Eh
		ja	short loc_D2CC
		cmp	di, 278h
		jg	loc_D3EB
		mov	[bp+var_12], 0
		jmp	short loc_D2BF
; ---------------------------------------------------------------------------

loc_D29D:
		mov	al, byte ptr [bp+var_12]
		or	al, 20h
		mov	dx, 0A5h ; '¥'
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A9h ; '©'
		in	al, dx		; Interrupt Controller #2, 8259A
		mov	ah, 0
		shl	ax, 8
		mov	bx, [bp+var_12]
		add	bx, bx
		lea	dx, [bp+var_32]
		add	bx, dx
		mov	ss:[bx], ax
		inc	[bp+var_12]

loc_D2BF:
		cmp	[bp+var_12], 10h
		jl	short loc_D29D
		mov	[bp+var_A], 0
		jmp	short loc_D322
; ---------------------------------------------------------------------------

loc_D2CC:
		cmp	di, 270h
		jg	loc_D3EB
		mov	[bp+var_12], 0
		jmp	short loc_D317
; ---------------------------------------------------------------------------

loc_D2DB:
		mov	al, byte ptr [bp+var_12]
		or	al, 20h
		mov	dx, 0A5h ; '¥'
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A9h ; '©'
		in	al, dx		; Interrupt Controller #2, 8259A
		mov	ah, 0
		shl	ax, 8
		mov	bx, [bp+var_12]
		add	bx, bx
		lea	dx, [bp+var_32]
		add	bx, dx
		mov	ss:[bx], ax
		mov	dx, 0A5h ; '¥'
		mov	al, byte ptr [bp+var_12]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A9h ; '©'
		in	al, dx		; Interrupt Controller #2, 8259A
		mov	ah, 0
		mov	bx, [bp+var_12]
		add	bx, bx
		lea	dx, [bp+var_32]
		add	bx, dx
		add	ss:[bx], ax
		inc	[bp+var_12]

loc_D317:
		cmp	[bp+var_12], 10h
		jl	short loc_D2DB
		mov	[bp+var_A], 1

loc_D322:
		mov	[bp+var_12], 0
		jmp	loc_D3C7
; ---------------------------------------------------------------------------

loc_D32A:
		mov	bx, [bp+var_12]
		add	bx, bx
		lea	ax, [bp+var_32]
		add	bx, ax
		mov	ax, ss:[bx]
		mov	[bp+var_4], ax
		mov	ax, [bp+var_E]
		cmp	ax, 1
		jz	short loc_D34E
		cmp	ax, 2
		jz	short loc_D364
		cmp	ax, 3
		jz	short loc_D35A
		jmp	short loc_D37A
; ---------------------------------------------------------------------------

loc_D34E:
		mov	si, [bp+var_4]
		mov	ax, si
		add	ax, ax
		or	[bp+var_4], ax
		jmp	short loc_D37A
; ---------------------------------------------------------------------------

loc_D35A:
		mov	si, [bp+var_4]
		mov	ax, si
		add	ax, ax
		or	[bp+var_4], ax

loc_D364:
		mov	si, [bp+var_4]
		mov	ax, si
		add	ax, ax
		or	[bp+var_4], ax
		xor	si, [bp+var_4]
		mov	ax, si
		add	ax, ax
		not	ax
		and	[bp+var_4], ax

loc_D37A:
					; sub_D197+1C1j
		cmp	[bp+var_C], 0
		jz	short loc_D3AD
		mov	cl, byte ptr [bp+var_C]
		add	cl, 8
		mov	ax, [bp+var_4]
		shr	ax, cl
		les	bx, [bp+var_8]
		mov	es:[bx], al
		mov	ax, [bp+var_4]
		mov	cl, byte ptr [bp+var_C]
		shr	ax, cl
		mov	es:[bx+1], al
		mov	cl, 8
		sub	cl, byte ptr [bp+var_C]
		mov	al, byte ptr [bp+var_4]
		shl	al, cl
		mov	es:[bx+2], al
		jmp	short loc_D3C0
; ---------------------------------------------------------------------------

loc_D3AD:
		mov	ax, [bp+var_4]
		shr	ax, 8
		les	bx, [bp+var_8]
		mov	es:[bx], al
		mov	al, byte ptr [bp+var_4]
		mov	es:[bx+1], al

loc_D3C0:
		add	word ptr [bp+var_8], 50h ; 'P'
		inc	[bp+var_12]

loc_D3C7:
		cmp	[bp+var_12], 10h
		jl	loc_D32A
		cmp	[bp+var_A], 0
		jz	short loc_D3D8
		add	di, 8

loc_D3D8:
		mov	ax, [bp+var_10]
		add	ax, 8
		add	di, ax

loc_D3E0:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jnz	loc_D1D0

loc_D3EB:
					; sub_D197+139j
		mov	dx, 68h	; 'h'
		mov	al, 0Ah
		out	dx, al
		call	grcg_off
		pop	di
		pop	si
		leave
		retf	0Ah
sub_D197	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D3FC	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		cmp	byte_EC70, 0
		jnz	short loc_D412
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr sub_CB52
		pop	bp
		retf	4
; ---------------------------------------------------------------------------

loc_D412:
		mov	ah, 5
		cmp	byte_10061, 1
		jz	short loc_D41F
		int	60h		; - FTP	Packet Driver -	BASIC FUNC - TERMINATE DRIVER FOR HANDLE
					; BX = handle
					; Return: CF set on error, DH =	error code
					; CF clear if successful
		jmp	short loc_D424
; ---------------------------------------------------------------------------

loc_D41F:
		mov	dx, 0C0h ; 'À'
		int	61h		; reserved for user interrupt

loc_D424:
		cmp	ax, [bp+arg_2]
		jb	short loc_D412
		pop	bp
		retf	4
sub_D3FC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D42D	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		cmp	byte_EC70, 0
		jnz	short loc_D443
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr sub_D47A
		pop	bp
		retf	4
; ---------------------------------------------------------------------------

loc_D443:
		mov	ah, 5
		cmp	byte_10061, 1
		jz	short loc_D450
		int	60h		; - FTP	Packet Driver -	BASIC FUNC - TERMINATE DRIVER FOR HANDLE
					; BX = handle
					; Return: CF set on error, DH =	error code
					; CF clear if successful
		jmp	short loc_D455
; ---------------------------------------------------------------------------

loc_D450:
		mov	dx, 0C0h ; 'À'
		int	61h		; reserved for user interrupt

loc_D455:
		nop
		push	cs
		call	near ptr sub_D5A2
		test	byte ptr word_100FC, 20h
		jnz	short loc_D468
		test	byte ptr word_100FC+1, 20h
		jz	short loc_D46F

loc_D468:
		mov	ax, 1
		pop	bp
		retf	4
; ---------------------------------------------------------------------------

loc_D46F:
		cmp	ax, [bp+arg_2]
		jb	short loc_D443
		xor	ax, ax
		pop	bp
		retf	4
sub_D42D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D47A	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	vsync_Count1, 0

loc_D483:
		nop
		push	cs
		call	near ptr sub_D5A2
		test	byte ptr word_100FC, 20h
		jnz	short loc_D496
		test	byte ptr word_100FC+1, 20h
		jz	short loc_D49D

loc_D496:
		mov	ax, 1
		pop	bp
		retf	2
; ---------------------------------------------------------------------------

loc_D49D:
		mov	ax, vsync_Count1
		cmp	ax, [bp+arg_0]
		jb	short loc_D483
		xor	ax, ax
		pop	bp
		retf	2
sub_D47A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D4AB	proc far
					; sub_990C+10FP ...

var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		enter	2, 0
		push	si
		mov	si, [bp+arg_4]
		mov	ax, si
		imul	ax, 48h
		add	ax, 1F26h
		push	ds
		push	ax
		mov	bx, si
		shl	bx, 2
		push	large dword ptr	[bx+1F0Eh]
		call	graph_pi_free
		push	large [bp+arg_0]
		mov	ax, si
		imul	ax, 48h
		add	ax, 1F26h
		push	ds
		push	ax
		mov	ax, si
		shl	ax, 2
		add	ax, 1F0Eh
		push	ds
		push	ax
		call	graph_pi_load_pack
		mov	[bp+var_2], ax
		pop	si
		leave
		retf	6
sub_D4AB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D4F1	proc far

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		enter	6, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_0]
		mov	bx, [bp+arg_2]
		shl	bx, 2
		mov	ax, [bx+1F10h]
		mov	dx, [bx+1F0Eh]
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		cmp	di, 1
		jnz	short loc_D51D
		add	word ptr [bp+var_4], 0A0h ; ' '
		jmp	short loc_D533
; ---------------------------------------------------------------------------

loc_D51D:
		cmp	di, 2
		jnz	short loc_D529
		add	word ptr [bp+var_4], 0FA00h
		jmp	short loc_D533
; ---------------------------------------------------------------------------

loc_D529:
		cmp	di, 3
		jnz	short loc_D533
		add	word ptr [bp+var_4], 0FAA0h

loc_D533:
		mov	eax, [bp+var_4]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_4]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_4]
		and	dx, 0Fh
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		mov	[bp+var_6], 0
		jmp	short loc_D595
; ---------------------------------------------------------------------------

loc_D556:
		push	[bp+arg_6]
		push	si
		push	large [bp+var_4]
		push	140h
		call	sub_1632
		inc	si
		cmp	si, 190h
		jl	short loc_D571
		sub	si, 190h

loc_D571:
		add	word ptr [bp+var_4], 140h
		mov	eax, [bp+var_4]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_4]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_4]
		and	dx, 0Fh
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		inc	[bp+var_6]

loc_D595:
		cmp	[bp+var_6], 0C8h ; 'È'
		jl	short loc_D556
		pop	di
		pop	si
		leave
		retf	8
sub_D4F1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D5A2	proc far
					; sub_9A2C:loc_9C4BP ...
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_CB68
		cmp	word_E960, 0
		jz	short loc_D5BD
		call	sub_2AEA
		mov	ax, word_F80A
		or	word_100FC, ax

loc_D5BD:
		mov	ax, word_100F8
		or	word_100FC, ax
		pop	bp
		retf
sub_D5A2	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_CB68
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_CB68
		cmp	word_E960, 0
		jz	short loc_D5F0
		call	sub_2AEA
		mov	ax, word_F80A
		mov	word_100F8, ax
		mov	ax, word_100FC
		mov	word_100FA, ax

loc_D5F0:
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_CB68
		cmp	word_E960, 0
		jz	short loc_D612
		call	sub_2AEA
		mov	ax, word_F80A
		mov	word_100FA, ax
		mov	ax, word_100FC
		mov	word_100F8, ax

loc_D612:
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_CB68
		mov	ax, word_100FC
		or	word_100F8, ax
		cmp	word_E960, 0
		jz	short loc_D636
		call	sub_2AEA
		mov	ax, word_F80A
		or	word_100F8, ax

loc_D636:
		mov	word_100FA, 0
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_CB68
		mov	ax, word_100FC
		or	ax, word_100F8
		mov	word_100FA, ax
		cmp	word_E960, 0
		jz	short loc_D663
		call	sub_2AEA
		mov	ax, word_F80A
		or	word_100FA, ax

loc_D663:
		mov	word_100F8, 0
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_CB68
		test	byte ptr word_100FC+1, 10h
		jnz	short loc_D681
		test	byte ptr word_100FC+1, 20h
		jz	short loc_D687

loc_D681:
		mov	word_100FC, 1000h

loc_D687:
		mov	word_100F8, 0
		mov	word_100FA, 0
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_CB68
		cmp	word_E960, 0
		jz	short loc_D6B0
		call	sub_2AEA
		mov	ax, word_F80A
		or	word_100FC, ax

loc_D6B0:
		mov	ax, word_100F8
		or	word_100FC, ax
		mov	word_100F8, 0
		mov	word_100FA, 0
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D6C5	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_0]
		xor	di, di

loc_D6CF:
		push	cs
		call	near ptr sub_D5A2
		cmp	word_100FC, 0
		jz	short loc_D6E3
		push	1
		nop
		push	cs
		call	near ptr sub_CB52
		jmp	short loc_D6CF
; ---------------------------------------------------------------------------

loc_D6E3:
		or	si, si
		jnz	short loc_D707
		mov	si, 270Fh
		jmp	short loc_D707
; ---------------------------------------------------------------------------

loc_D6EC:
		push	cs
		call	near ptr sub_D5A2
		cmp	word_100FC, 0
		jnz	short loc_D70B
		inc	di
		push	1
		nop
		push	cs
		call	near ptr sub_CB52
		cmp	si, 270Fh
		jnz	short loc_D707
		xor	di, di

loc_D707:
		cmp	di, si
		jl	short loc_D6EC

loc_D70B:
		pop	di
		pop	si
		pop	bp
		retf	2
sub_D6C5	endp

; ---------------------------------------------------------------------------
		db 0
; ---------------------------------------------------------------------------

loc_D712:
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+6]
		shl	si, 4
		add	si, 1D0Eh
		mov	ax, [bp+0Ah]
		sar	ax, 3
		add	ax, [si+6]
		mov	di, ax
		mov	ax, [si+8]
		mov	cs:word_D759, ax
		jmp	short $+2
		shl	ax, 2
		add	ax, 50h	; 'P'
		mov	dx, ax
		mov	ax, [bp+8]
		mov	bx, ax
		shl	ax, 2
		add	ax, bx
		add	ax, 0A800h
		mov	es, ax
		push	ds
		mov	ax, [si+0Eh]
		mov	ds, ax
		xor	si, si
		mov	bx, di
		cld
		nop
; ---------------------------------------------------------------------------
		db 0B9h
word_D759	dw 1234h
		db 0F3h, 66h, 0A5h, 2Bh, 0FAh, 79h, 0F6h, 8Bh, 0FBh, 8Ch
		db 0C0h, 5, 0, 8, 8Eh, 0C0h, 3Dh, 0, 0C0h, 72h,	0E8h, 3Dh
		db 0, 0C8h, 73h, 7, 5, 0, 20h, 8Eh, 0C0h, 0EBh,	0DCh, 1Fh
		db 5Fh,	5Eh, 5Dh, 0CAh,	6, 0, 90h

; =============== S U B	R O U T	I N E =======================================


sub_D784	proc far
		push	di
		xor	ax, ax
		mov	di, 20D6h
		xor	dl, dl
		jmp	short loc_D799
; ---------------------------------------------------------------------------

loc_D78E:
		xor	dl, dl
		mov	cx, 8

loc_D793:
		rol	al, 1
		rcr	dl, 1
		loop	loc_D793

loc_D799:
		mov	[di], dl
		inc	di
		inc	al
		jnz	short loc_D78E
		pop	di
		retf
sub_D784	endp

seg002		ends

; ===========================================================================

; Segment type:	Pure code
seg003		segment	byte public 'CODE' use16
		assume cs:seg003
		;org 2
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::string(string	const &)
@string@$bctr$qmx6string proc far
					; xmsg::xmsg(xmsg &)+56P ...

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 8EDFh
		call	___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_D7D1
		mov	ax, 4
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_D7EB

loc_D7D1:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, es:[bx]
		inc	word ptr es:[bx]

loc_D7EB:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bctr$qmx6string endp

; ---------------------------------------------------------------------------
byte_D811	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 0E5h, 8Eh
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0B3h, 0
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0), 4, 0, 3, 0,	26h, 0,	2 dup(0FFh)
		db 3, 0, 2Ch, 0, 30h, 0Dh dup(0), 1, 0,	1, 0, 0ECh, 55h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far string__string(__int32, char *s)
@string@$bctr$qnxc proc	far
					; string::assert_element(uint)+5Ap ...

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
src		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 8F51h
		call	___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_D8BA
		mov	ax, 4
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_D92E

loc_D8BA:
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jz	short loc_D91E
		mov	[bp+var_16], 0Eh
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, word ptr [bp+src]
		or	ax, word ptr [bp+src+2]
		jz	short loc_D8F0
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; s
		call	_strlen
		pop	cx
		pop	cx
		jmp	short loc_D8F2
; ---------------------------------------------------------------------------

loc_D8F0:
		xor	ax, ax

loc_D8F2:
		push	ax		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		nop
		push	cs
		call	near ptr @TStringRef@$bctr$qnxcuit1uiui	; TStringRef::TStringRef(char *,uint,char *,uint,uint)
		add	sp, 12h
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_D91E:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_D92E:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		call	___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bctr$qnxc endp

; ---------------------------------------------------------------------------
		db 4, 0, 90h, 20h, 0Ah,	0, 93h,	2
		dw seg seg003
aTstringref	db 'TStringRef *',0
byte_D96B	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 67h,	8Fh
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLengther	db 'string::lengtherror',0
		dd byte_D9FB
		db 2 dup(0), 3,	0Dh dup(0)
byte_D9B9	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 0B4h, 8Fh
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 5Bh,	2
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0)
byte_D9FB	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 0ECh, 55h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 0Ch, 0
		db 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 32h, 0, 3Eh, 0Dh dup(0)
		db 1, 0, 1, 0, 0AAh, 6
		dw seg seg003
		db 5, 0, 42h, 0, 54h, 53h, 74h,	72h, 69h, 6Eh, 67h, 52h
		db 65h,	66h, 2 dup(0), 0D9h, 2
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0), 2, 0, 3, 0,	1Ah, 0,	2 dup(0FFh)
		db 1, 0, 26h, 0, 2Ah, 0Dh dup(0), 54h, 52h, 65h, 66h, 65h
		db 72h,	65h, 6Eh, 63h, 65h, 0Ah	dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far string___string(void (*driver)(void), char)
@string@$bdtr$qv proc far
					; xmsg::~xmsg(void)+3FP ...

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 900Ah
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_DB1F
		les	bx, [bp+driver]
		les	bx, es:[bx]
		dec	word ptr es:[bx]
		mov	ax, es:[bx]
		or	ax, ax
		jnz	short loc_DB0C
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+driver]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		nop
		push	cs
		call	near ptr sub_DE4A
		add	sp, 6

loc_DB0C:
		test	[bp+arg_4], 1
		jz	short loc_DB1F
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	@$bdele$qnv
		pop	cx
		pop	cx

loc_DB1F:
					; string::~string(void)+69j
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bdtr$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::assert_element(unsigned int)const
@string@assert_element$xqui proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 903Eh
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jbe	short loc_DB5A
		mov	ax, 1
		jmp	short loc_DB5C
; ---------------------------------------------------------------------------

loc_DB5A:
		xor	ax, ax

loc_DB5C:
		or	ax, ax
		jnz	short loc_DBDD
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9130h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 1194h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFCh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_DBDD:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@assert_element$xqui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::assert_index(unsigned	int)const
@string@assert_index$xqui proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9082h
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jb	short loc_DC18
		mov	ax, 1
		jmp	short loc_DC1A
; ---------------------------------------------------------------------------

loc_DC18:
		xor	ax, ax

loc_DC1A:
		or	ax, ax
		jnz	short loc_DC9B
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9130h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 11B2h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFCh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_DC9B:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@assert_index$xqui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; TSubString::assert_element(unsigned int)const
@TSubString@assert_element$xqui	proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 90C6h
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jbe	short loc_DCD3
		mov	ax, 1
		jmp	short loc_DCD5
; ---------------------------------------------------------------------------

loc_DCD3:
		xor	ax, ax

loc_DCD5:
		or	ax, ax
		jnz	short loc_DD56
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9130h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 11D0h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFCh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_DD56:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@TSubString@assert_element$xqui	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far TStringRef__TStringRef(__int32, void *src, size_t n, int, int, int,	int)
@TStringRef@$bctr$qnxcuit1uiui proc far

arg_0		= dword	ptr  6
src		= dword	ptr  0Ah
n		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_DD88
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jnz	short loc_DD88
		jmp	loc_DE2E
; ---------------------------------------------------------------------------

loc_DD88:
					; TStringRef::TStringRef(char *,uint,char *,uint,uint)+1Fj
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 1
		mov	word ptr es:[bx+0Ah], 0
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		mov	es:[bx+6], ax
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_10]
		push	ax
		nop
		push	cs
		call	near ptr sub_DFE2
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		call	_malloc
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_DDE2
		push	ds
		mov	ax, 0EEAh
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_DDE2:
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2] ; dest
		call	_memcpy
		push	[bp+arg_E]	; n
		push	[bp+arg_C]
		push	[bp+arg_A]	; src
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		add	ax, [bp+n]
		push	word ptr es:[bx+4]
		push	ax		; dest
		call	_memcpy
		add	sp, 14h
		les	bx, [bp+arg_0]
		les	bx, es:[bx+2]
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		add	bx, ax
		mov	byte ptr es:[bx], 0

loc_DE2E:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@TStringRef@$bctr$qnxcuit1uiui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far sub_DE4A(void (*driver)(void), char)
sub_DE4A	proc far

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::~TStringRef(void)
@TStringRef@$bdtr$qv:
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 90E0h
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_DE9C
		les	bx, [bp+driver]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_farfree
		pop	cx
		pop	cx
		test	[bp+arg_4], 1
		jz	short loc_DE9C
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	@$bdele$qnv
		pop	cx
		pop	cx

loc_DE9C:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_DE4A	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::reserve(unsigned int)
@TStringRef@reserve$qui:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 90F2h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		or	word ptr es:[bx+0Ah], 1
		mov	ax, [bp+0Ah]
		inc	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_DFE2
		pop	cx
		mov	[bp-20h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-20h]
		cmp	ax, word_F582
		jbe	short loc_DF0A
		mov	ax, [bp-20h]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp-20h]
		mov	es:[bx+8], ax

loc_DF0A:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::check_freeboard(void)
@TStringRef@check_freeboard$qv:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 90FCh
		call	___InitExceptBlocks
		les	bx, [bp+6]
		push	word ptr es:[bx+6]
		nop
		push	cs
		call	near ptr sub_DFE2
		pop	cx
		mov	[bp-20h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-20h]
		cmp	ax, word_F582
		jbe	short loc_DF72
		mov	ax, [bp-20h]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp-20h]
		mov	es:[bx+8], ax

loc_DF72:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_DF80	proc far

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::grow_to(unsigned int)
@TStringRef@grow_to$qui:
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 910Eh
		call	___InitExceptBlocks
		les	bx, [bp+arg_0]
		mov	ax, [bp+arg_4]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_DFD4
		push	ds
		mov	ax, 0EEAh
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_DFD4:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_DF80	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_DFE2	proc far
					; seg003:072Cp	...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; TStringRef::round_capacity(unsigned int)
@TStringRef@round_capacity$qui:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9118h
		call	___InitExceptBlocks
		mov	ax, word_F57E
		mov	[bp+var_20], ax
		mov	cx, word_F580
		mov	ax, [bp+arg_0]
		sub	ax, [bp+var_20]
		add	ax, cx
		dec	ax
		xor	dx, dx
		div	cx
		imul	cx
		add	ax, [bp+var_20]
		push	ax
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_DFE2	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::splice(unsigned int, unsigned int, char const *, unsigned	int)
@TStringRef@splice$quiuinxcui:
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 912Ah
		call	___InitExceptBlocks
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		add	ax, [bp+12h]
		sub	ax, [bp+0Ch]
		mov	[bp-24h], ax
		push	ax
		push	cs
		call	near ptr sub_DFE2
		pop	cx
		mov	[bp-26h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		cmp	ax, [bp-26h]
		jnb	short loc_E069
		push	word ptr [bp-26h]
		push	word ptr [bp+8]
		push	bx
		push	cs
		call	near ptr sub_DF80
		add	sp, 6
		jmp	short loc_E0D8
; ---------------------------------------------------------------------------

loc_E069:
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-26h]
		cmp	ax, word_F582
		jbe	short loc_E0D8
		test	byte ptr es:[bx+0Ah], 1
		jnz	short loc_E0D8
		mov	ax, [bp-26h]
		inc	ax
		push	ax
		call	_malloc
		pop	cx
		mov	[bp-20h], dx
		mov	[bp-22h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_E0AA
		push	ds
		mov	ax, 0EEAh
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_E0AA:
		cmp	word ptr [bp+0Ah], 0
		jz	short loc_E0CC
		push	word ptr [bp+0Ah]
		les	bx, [bp+6]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		push	word ptr [bp-20h]
		push	word ptr [bp-22h]
		call	_memcpy
		add	sp, 0Ah

loc_E0CC:
		les	bx, [bp+6]
		mov	ax, [bp-26h]
		mov	es:[bx+8], ax
		jmp	short loc_E0E9
; ---------------------------------------------------------------------------

loc_E0D8:
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	[bp-20h], dx
		mov	[bp-22h], ax

loc_E0E9:
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, [bp-20h]
		jnz	short loc_E106
		cmp	ax, [bp-22h]
		jnz	short loc_E106
		mov	ax, [bp+12h]
		cmp	ax, [bp+0Ch]
		jz	short loc_E138

loc_E106:
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		sub	ax, [bp+0Ah]
		sub	ax, [bp+0Ch]
		push	ax
		mov	ax, es:[bx+2]
		add	ax, [bp+0Ah]
		add	ax, [bp+0Ch]
		push	word ptr es:[bx+4]
		push	ax
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		add	ax, [bp+12h]
		push	word ptr [bp-20h]
		push	ax
		call	_memmove
		add	sp, 0Ah

loc_E138:
		cmp	word ptr [bp+12h], 0
		jz	short loc_E17C
		mov	ax, [bp+0Eh]
		or	ax, [bp+10h]
		jz	short loc_E163
		push	word ptr [bp+12h]
		push	word ptr [bp+10h]
		push	word ptr [bp+0Eh]
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		push	word ptr [bp-20h]
		push	ax
		call	_memmove
		add	sp, 0Ah
		jmp	short loc_E17C
; ---------------------------------------------------------------------------

loc_E163:
		push	word ptr [bp+12h]
		mov	ax, 20h	; ' '
		push	ax
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		push	word ptr [bp-20h]
		push	ax
		call	_memset
		add	sp, 8

loc_E17C:
		les	bx, [bp+6]
		mov	ax, [bp-24h]
		mov	es:[bx+6], ax
		push	es
		les	ax, [bp-22h]
		mov	dx, es
		pop	es
		add	ax, es:[bx+6]
		mov	bx, ax
		mov	es, dx
		mov	byte ptr es:[bx], 0
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, [bp-20h]
		jnz	short loc_E1AE
		cmp	ax, [bp-22h]
		jz	short loc_E1D1

loc_E1AE:
		les	bx, [bp+6]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_farfree
		pop	cx
		pop	cx
		les	bx, [bp+6]
		mov	dx, [bp-20h]
		mov	ax, [bp-22h]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax

loc_E1D1:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::set_case_sensitive(int)
@string@set_case_sensitive$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F578
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F578, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::set_paranoid_check(int)
@string@set_paranoid_check$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F57A
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F57A, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::skip_whitespace(int)
@string@skip_whitespace$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F57C
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F57C, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::initial_capacity(unsigned int)
@string@initial_capacity$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F57E
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F57E, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::resize_increment(unsigned int)
@string@resize_increment$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F580
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F580, ax
		cmp	word_F580, 0
		jnz	short loc_E274
		mov	word_F580, 1

loc_E274:
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::max_waste(unsigned int)
@string@max_waste$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_F582
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_F582, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
byte_E29A	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 65h,	91h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLength_0	db 'string::lengtherror',0
		dd byte_E32A
		db 2 dup(0), 3,	0Dh dup(0), 6, 0, 3, 0,	26h, 0,	2 dup(0FFh)
		db 7, 0, 2Eh, 0, 3Ah, 0Dh dup(0), 2, 0,	2, 0, 0B2h, 91h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 8Ah,	0Bh
		dw seg seg003
		dw 0
		db 3, 0Dh dup(0)
byte_E32A	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 0ECh, 55h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)
byte_E362	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
		db 0Dh dup(0), 1, 0, 1,	0, 7, 3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_E39C	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 0FFh, 91h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringOutofran	db 'string::outofrange',0
		db 0
		dd byte_E32A
		db 0
		db    0
		db 3, 13h dup(0)
seg003		ends

; ===========================================================================

; Segment type:	Pure data
dseg		segment	para public 'DATA' use16
		assume cs:dseg

include libs/BorlandC/c0[data].asm

		db  22h	; "
		db    1
		db  2Bh	; +
		db    1
		db  34h	; 4
		db    1
		db  3Dh	; =
		db    1
		db  46h	; F
		db    1
		db  4Fh	; O
		db    1
		db  58h	; X
		db    1
		db  61h	; a
		db    1
		db  6Ah	; j
		db    1
		dd a@00tx_txt		; "@00TX.TXT"
		dd a@01tx_txt		; "@01TX.TXT"
		dd a@02tx_txt		; "@02TX.TXT"
		dd a@03tx_txt		; "@03TX.TXT"
		dd a@04tx_txt		; "@04TX.TXT"
		dd a@05tx_txt		; "@05TX.TXT"
		dd a@06tx_txt		; "@06TX.TXT"
		dd a@07tx_txt		; "@07TX.TXT"
		dd a@08tx_txt		; "@08TX.TXT"
off_E4B6	dd a@00dm0_txt
					; "@00DM0.TXT"
CHAR_TITLE		dd TITLE_REIMU		; "   –²‚Æ“`“‚ð•ÛŽç‚·‚é›Þ—   "
CHAR_NAME		dd NAME_REIMU		; "   ”Ž—í@èË–²"
		dd TITLE_MIMA		; " ‹v‰“‚Ì–²‚É‰^–½‚ð”C‚¹‚é¸_ "
		dd NAME_MIMA		; "	–£ –‚"
		dd TITLE_MARISA	; "   –‚–@‚Æg–²‚©‚ç‚È‚é‘¶Ý   "
		dd NAME_MARISA		; "  –¶‰J@–‚—¹ "
		dd TITLE_ELLEN		; "‚Í‚½‚ç‚«‚à‚Ì‚Å—ö‚ð–²Œ©‚é–‚—"
		dd NAME_ELLEN		; "@@ƒGƒŒƒ“"
		dd TITLE_KOTOHIME		; "	’e–‹‚É”ü‚ð–²‚Ý‚é•P     "
		dd NAME_KOTOHIME		; "    ¬“e•P"
		dd TITLE_KANA			; "	–²‚ðŽ¸‚Á‚½­—‘›—ì     "
		dd NAME_KANA	; "ƒJƒiEƒAƒiƒxƒ‰ƒ‹"
		dd TITLE_RIKAKO		; "  @@@–²‚ð’T‚·‰ÈŠw	       "
		dd NAME_RIKAKO	; "@’©‘q@—Žq"
		dd TITLE_CHIYURI		; "@  Žž‚ð‚©‚¯‚é–²Œ¶‚ÌZl    "
		dd NAME_CHIYURI	; " –k”’‰Í@‚¿‚ä‚è"
		dd TITLE_YUMEMI	; "@  @@@–²Œ¶“`à@@@    "
		dd NAME_YUMEMI		; " @‰ªè@–²”ü"
word_E502	dw 38Ah
word_E504	dw 391h
a0016_pi	db '0016.pi',0
		db    0
		db    0
		db    0
		db    0
a00sl_cd2	db '00sl.cd2',0
a02sl_cd2	db '02sl.cd2',0
a04sl_cd2	db '04sl.cd2',0
a06sl_cd2	db '06sl.cd2',0
a08sl_cd2	db '08sl.cd2',0
a10sl_cd2	db '10sl.cd2',0
a12sl_cd2	db '12sl.cd2',0
a14sl_cd2	db '14sl.cd2',0
a16sl_cd2	db '16sl.cd2',0
a@00tx_txt	db '@00TX.TXT',0
a@01tx_txt	db '@01TX.TXT',0
a@02tx_txt	db '@02TX.TXT',0
a@03tx_txt	db '@03TX.TXT',0
a@04tx_txt	db '@04TX.TXT',0
a@05tx_txt	db '@05TX.TXT',0
a@06tx_txt	db '@06TX.TXT',0
a@07tx_txt	db '@07TX.TXT',0
a@08tx_txt	db '@08TX.TXT',0
a@00dm0_txt	db '@00DM0.TXT',0
TITLE_REIMU		db '   –²‚Æ“`“‚ð•ÛŽç‚·‚é›Þ—   ',0
NAME_REIMU	db '   ”Ž—í@èË–²',0
TITLE_MIMA	db ' ‹v‰“‚Ì–²‚É‰^–½‚ð”C‚¹‚é¸_ ',0
NAME_MIMA		db '     –£ –‚',0
TITLE_MARISA	db '   –‚–@‚Æg–²‚©‚ç‚È‚é‘¶Ý   ',0
NAME_MARISA	db '  –¶‰J@–‚—¹ ',0
TITLE_ELLEN	db '‚Í‚½‚ç‚«‚à‚Ì‚Å—ö‚ð–²Œ©‚é–‚—',0
NAME_ELLEN	db '@@ƒGƒŒƒ“',0
TITLE_KOTOHIME		db '     ’e–‹‚É”ü‚ð–²‚Ý‚é•P     ',0
NAME_KOTOHIME		db '    ¬“e•P',0
TITLE_KANA		db '     –²‚ðŽ¸‚Á‚½­—‘›—ì     ',0
NAME_KANA	db 'ƒJƒiEƒAƒiƒxƒ‰ƒ‹',0
TITLE_RIKAKO	db '  @@@–²‚ð’T‚·‰ÈŠw        ',0
NAME_RIKAKO	db '@’©‘q@—Žq',0
TITLE_CHIYURI		db '@  Žž‚ð‚©‚¯‚é–²Œ¶‚ÌZl    ',0
NAME_CHIYURI	db ' –k”’‰Í@‚¿‚ä‚è',0
TITLE_YUMEMI	db '@  @@@–²Œ¶“`à@@@    ',0
NAME_YUMEMI	db ' @‰ªè@–²”ü',0
aYume_cfg	db 'YUME.CFG',0
aLogo0_rgb	db 'logo0.rgb',0
aLogo_cd2	db 'logo.cd2',0
aLogo5_cdg	db 'logo5.cdg',0
aLogo1_rgb	db 'logo1.rgb',0
aSt_cd2		db 'st.cd2',0
aStnx1_pi	db 'stnx1.pi',0
aStnx0_pi	db 'stnx0.pi',0
a00mm_m		db '00mm.m',0
aDec_m		db 'dec.m',0
aEn2_pi		db 'EN2.pi',0
aEnemy00_pi	db 'ENEMY00.pi',0
aEnemy01_pi	db 'ENEMY01.pi',0
aEnemy02_pi	db 'ENEMY02.pi',0
aEnemy03_pi	db 'ENEMY03.pi',0
aEnemy04_pi	db 'ENEMY04.pi',0
aYume_efc	db 'YUME.EFC',0
aCOul		db '–²Žž‹ó1.dat',0
aMikoft_bft	db 'MIKOFT.bft',0
; char path[]
path		db 'op',0
aWin_m		db 'win.m',0
; char aMain[]
aMain		db 'main',0
		dd 0
		db    1
		db    1
		db    1
		db    1
		db    1
		db    1
		db    2
		db    2
		db    2
		db    2
		db    2
		db    2
		db    3
		db    3
		db    3
		db    3
		db    3
		db    3
		db    3
		db    4
		db    4
		db    4
		db    4
		db    4
		db    4
		db    5
		db    5
		db    5
		db    5
		db    5
		db    5
		db    6
		db    6
		db    6
		db    6
		db    6
		db    6
		db    6
		db    7
		db    7
		db    7
		db    7
		db    7
		db    7
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Bh
		db  0Bh
		db  0Bh
		db  0Bh
		db  0Bh
		db  0Bh
		db  0Bh
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Dh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Fh
		db  0Fh
		db  0Fh
		db  0Fh
		db  0Fh
		db  0Fh
		db  0Fh
		db  10h
		db  10h
		db  10h
		db  10h
		db  10h
		db  10h
		db  10h
		db  11h
		db  11h
		db  11h
		db  11h
		db  11h
		db  11h
		db  11h
		db  11h
		db  12h
		db  12h
		db  12h
		db  12h
		db  12h
		db  12h
		db  12h
		db  13h
		db  13h
		db  13h
		db  13h
		db  13h
		db  13h
		db  13h
		db  13h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  14h
		db  15h
		db  15h
		db  15h
		db  15h
		db  15h
		db  15h
		db  15h
		db  15h
		db  15h
		db  16h
		db  16h
		db  16h
		db  16h
		db  16h
		db  16h
		db  16h
		db  16h
		db  17h
		db  17h
		db  17h
		db  17h
		db  17h
		db  17h
		db  17h
		db  17h
		db  17h
		db  18h
		db  18h
		db  18h
		db  18h
		db  18h
		db  18h
		db  18h
		db  18h
		db  18h
		db  19h
		db  19h
		db  19h
		db  19h
		db  19h
		db  19h
		db  19h
		db  19h
		db  19h
		db  19h
		db  1Ah
		db  1Ah
		db  1Ah
		db  1Ah
		db  1Ah
		db  1Ah
		db  1Ah
		db  1Ah
		db  1Ah
		db  1Bh
		db  1Bh
		db  1Bh
		db  1Bh
		db  1Bh
		db  1Bh
		db  1Bh
		db  1Bh
		db  1Bh
		db  1Bh
		db  1Ch
		db  1Ch
		db  1Ch
		db  1Ch
		db  1Ch
		db  1Ch
		db  1Ch
		db  1Ch
		db  1Ch
		db  1Ch
		db  1Ch
		db  1Dh
		db  1Dh
		db  1Dh
		db  1Dh
		db  1Dh
		db  1Dh
		db  1Dh
		db  1Dh
		db  1Dh
		db  1Dh
		db  1Dh
		db  1Eh
		db  1Eh
		db  1Eh
		db  1Eh
		db  1Eh
		db  1Eh
		db  1Eh
		db  1Eh
		db  1Eh
		db  1Eh
		db  1Eh
		db  1Fh
		db  1Fh
		db  1Fh
		db  1Fh
		db  1Fh
		db  1Fh
		db  1Fh
		db  1Fh
		db  1Fh
		db  1Fh
		db  1Fh
		db  1Fh
		db  20h
		db  20h
		db  20h
		db  20h
		db  20h
		db  20h
include libs/master.lib/bfnt_id[data].asm
include libs/master.lib/clip[data].asm
include libs/master.lib/edges[data].asm
word_E944	dw 0
word_E946	dw 0FFFFh
include libs/master.lib/dos_ropen[data].asm
word_E94A	dw 0
		db  10h
		db    0
		db  10h
		db    0
		db    0
		db    0
		db 0FFh
		db    0
include libs/master.lib/grp[data].asm
		db    0
word_E960	dw 0
					; sub_2AEA+5r ...
		db 0
		db    0
		db    0
		db    0
		db    0
		db    0
include libs/master.lib/pal[data].asm
include libs/master.lib/pf[data].asm
		db    0
dword_E9A6	dd 1
include libs/master.lib/sin8[data].asm
include libs/master.lib/tx[data].asm
include libs/master.lib/vs[data].asm
include libs/master.lib/wordmask[data].asm
include libs/master.lib/mem[data].asm
include libs/master.lib/super_entry_bfnt[data].asm
include libs/master.lib/superpa[data].asm
byte_EC70	db 0
					; sub_C80C:loc_C822w ...
		db 0
aPal98Grb	db 'pal98 grb',0
byte_EC7C	db 0FFh
byte_EC7D	db 0
a_exe		db '.exe',0
		db 0
byte_EC84	db 0
		db 0
		db    0
		db    0
		db  20h
		db  10h
		db    2
		db  12h
		db  12h
		db  12h
		db  40h	; @
		db  10h
		db  11h
		db    2
		db  11h
		db  20h
		db  12h
		db  12h
		db  12h
		db  12h
		db  20h
		db  20h
		db  12h
		db  12h
		db  0Eh
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  24h	; $
		db  10h
		db    4
		db  10h
		db    8
		db  0Ah
		db  30h	; 0
		db  50h	; P
		db  18h
		db  11h
		db  0Bh
		db    4
		db  50h	; P
		db  10h
		db  30h	; 0
		db  4Ah	; J
		db  32h	; 2
		db  20h
		db  18h
		db  44h	; D
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  30h	; 0
		db    0
aOver_pi	db 'over.pi',0
		db 0
		db    0
		db  11h
		db  11h
		db    0
		db    0
		db  44h	; D
		db  44h	; D
		db  88h	; ˆ
		db  88h	; ˆ
		db  11h
		db  11h
		db  22h	; "
		db  22h	; "
		db  44h	; D
		db  44h	; D
		db 0AAh	; ª
		db 0AAh	; ª
		db  55h	; U
		db  55h	; U
		db 0AAh	; ª
		db 0AAh	; ª
		db  55h	; U
		db  55h	; U
		db 0EEh	; î
		db 0EEh	; î
		db  77h	; w
		db  77h	; w
		db 0BBh	; »
		db 0BBh	; »
		db 0DDh	; Ý
		db 0DDh	; Ý
		db  20h
		db  20h
		db    0
		db    0
		dd aNoEntry		; "  No	Entry! "
		dd aB@b@sCB@b@		; "@@èË–²@@"
		dd aB@b@cgcvb@b@	; "@@–£–‚@@"
		dd aB@cvcanB@		; " @–‚—¹@ "
		dd aB@gggmgub@		; " @ƒGƒŒƒ“@ "
		dd aB@pmuexpb@		; " @¬“e•P@ "
		dd aB@Gjgi		; " @ ƒJƒi    "
		dd aB@canboq		; " @—Žq   "
		dd aB@vVfvsb@		; " @‚¿‚ä‚è@ "
		dd aB@CF		; " @ –²”ü@  "
		db  14h
		db    4
		db    8
		db  0Ch
		db  17h
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Ch
		db    8
		db  0Ch
		db    0
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Ch
		db    0
		db  14h
		db    8
		db  15h
		db    0
		db  0Eh
		db  0Eh
		db    4
		db  0Bh
		db    4
		db  10h
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Ah
		db  11h
		db  16h
		db  11h
		db    7
		db    8
		db  0Ch
		db    4
		db  0Ah
		db    0
		db  10h
		db    0
		db  0Eh
		db  0Eh
		db  0Eh
		db  0Eh
		db  14h
		db    8
		db  0Ah
		db    0
		db  0Ah
		db  11h
		db  0Eh
		db  0Eh
		db    2
		db    7
		db    8
		db  1Bh
		db  17h
		db  14h
		db    8
		db  0Eh
		db  1Bh
		db  17h
		db  0Ch
		db    4
		db  0Ch
		db    8
		db  0Eh
		db  0Eh
word_ED66	dw 0A04h
word_ED68	dw 0A0Dh
unk_ED6A	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
aNoEntry	db '  No Entry! ',0
aB@b@sCB@b@	db '@@èË–²@@',0
aB@b@cgcvb@b@	db '@@–£–‚@@',0
aB@cvcanB@	db ' @–‚—¹@ ',0
aB@gggmgub@	db ' @ƒGƒŒƒ“@ ',0
aB@pmuexpb@	db ' @¬“e•P@ ',0
aB@Gjgi		db ' @ ƒJƒi    ',0
aB@canboq	db ' @—Žq   ',0
aB@vVfvsb@	db ' @‚¿‚ä‚è@ ',0
aB@CF		db ' @ –²”ü@  ',0
aYume_nem	db 'YUME.NEM',0
aRft0_cdg	db 'rft0.cdg',0
aRegib_pi	db 'regib.pi',0
aRegi2_bft	db 'regi2.bft',0
aRegi1_bft	db 'regi1.bft',0
aScore_m	db 'score.m',0
aConti_pi	db 'conti.pi',0
aConti_cd2	db 'conti.cd2',0
aOver_pi_0	db 'over.pi',0
aOver_m		db 'over.m',0
		db 0
off_EE4E	dd a@00ed_txt
					; "@00ED.TXT"
		db  3Ch	; <
		db    0
		db  7Eh	; ~
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db  7Eh	; ~
		db    0
		db  3Ch	; <
		db    0
		db    0
		db    0
		db  18h
		db    0
		db  3Ch	; <
		db    0
		db  7Eh	; ~
		db    0
		db  7Eh	; ~
		db    0
		db  3Ch	; <
		db    0
		db  18h
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  18h
		db    0
		db  3Ch	; <
		db    0
		db  3Ch	; <
		db    0
		db  18h
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  18h
		db    0
		db  18h
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		db  22h	; "
		db  22h	; "
		db  55h	; U
		db  55h	; U
		db  88h	; ˆ
		db  88h	; ˆ
		db  55h	; U
		db  55h	; U
		db 0AAh	; ª
		db 0AAh	; ª
		db  55h	; U
		db  55h	; U
		db 0AAh	; ª
		db 0AAh	; ª
		db  55h	; U
		db  55h	; U
		db 0EEh	; î
		db 0EEh	; î
		db  55h	; U
		db  55h	; U
		db 0BBh	; »
		db 0BBh	; »
		db  55h	; U
		db  55h	; U
		db 0EEh	; î
		db 0EEh	; î
		db  77h	; w
		db  77h	; w
		db 0BBh	; »
		db 0BBh	; »
		db 0DDh	; Ý
		db 0DDh	; Ý
		db 0FFh
		db 0FFh
		db  55h	; U
		db  55h	; U
		db 0FFh
		db 0FFh
		db  55h	; U
		db  55h	; U
		db 0FFh
		db 0FFh
		db 0EEh	; î
		db 0EEh	; î
		db 0FFh
		db 0FFh
		db 0BBh	; »
		db 0BBh	; »
		db 0FFh
		db 0FFh
		db  77h	; w
		db  77h	; w
		db 0FFh
		db 0FFh
		db 0FFh
		db 0FFh
		dd aFocab@sC_0		; "   ”Ž—í@èË–²"
		dd aCgCv_0		; "	–£ –‚"
		dd aCIjb@cvcan_0	; "  –¶‰J@–‚—¹ "
		dd aB@b@gggmgu_0	; "@@ƒGƒŒƒ“"
		dd aPmuexp_0		; "    ¬“e•P"
		dd aGjgibegagigx_0	; "ƒJƒiEƒAƒiƒxƒ‰ƒ‹"
		dd aB@tisqb@canb_0	; "@’©‘q@—Žq"
		dd aCkftiB@vVfvs_0	; " –k”’‰Í@‚¿‚ä‚è"
		dd aB@iknsb@cF_0	; " @‰ªè@–²”ü"
		dd aVdvbvuvs		; "   ‚d‚‚“‚™"
		dd aVmvpvtvnvbvm	; " ‚m‚‚’‚‚‚Œ"
		dd aVgvbvtvd		; "   ‚g‚‚’‚„"
		dd aVkvxvovbvfvivg	; "‚k‚•‚Ž‚‚”‚‰‚ƒ"
		dd aVo			; "‚O"
		dd aVp			; "‚P"
		dd aVq			; "‚Q"
		dd aVr			; "‚R"
		dd aVs			; "‚S"
		dd aVt			; "‚T"
		dd aVu			; "‚U"
		dd aVv			; "‚V"
		dd aVw			; "‚W"
		dd aVx			; "‚X"
a@00ed_txt	db '@00ED.TXT',0
a@99ed_txt	db '@99ED.TXT',0
; char aOp_0[]
aOp_0		db 'op',0
					; sub_B972+10Bo
aFocab@sC_0	db '   ”Ž—í@èË–²',0
aCgCv_0		db '     –£ –‚',0
aCIjb@cvcan_0	db '  –¶‰J@–‚—¹ ',0
aB@b@gggmgu_0	db '@@ƒGƒŒƒ“',0
aPmuexp_0	db '    ¬“e•P',0
aGjgibegagigx_0	db 'ƒJƒiEƒAƒiƒxƒ‰ƒ‹',0
aB@tisqb@canb_0	db '@’©‘q@—Žq',0
aCkftiB@vVfvs_0	db ' –k”’‰Í@‚¿‚ä‚è',0
aB@iknsb@cF_0	db ' @‰ªè@–²”ü',0
aVdvbvuvs	db '   ‚d‚‚“‚™',0
aVmvpvtvnvbvm	db ' ‚m‚‚’‚‚‚Œ',0
aVgvbvtvd	db '   ‚g‚‚’‚„',0
aVkvxvovbvfvivg	db '‚k‚•‚Ž‚‚”‚‰‚ƒ',0
aVo		db '‚O',0
aVp		db '‚P',0
aVq		db '‚Q',0
aVr		db '‚R',0
aVs		db '‚S',0
aVt		db '‚T',0
aVu		db '‚U',0
aVv		db '‚V',0
aVw		db '‚W',0
aVx		db '‚X',0
aU_		db '“_',0
aEd_m		db 'ed.m',0
aEdbk1_rgb	db 'edbk1.rgb',0
aStf1_cdg	db 'stf1.cdg',0
aStf11_cdg	db 'stf11.cdg',0
aStf3_cdg	db 'stf3.cdg',0
aStf4_cdg	db 'stf4.cdg',0
aStf5_cdg	db 'stf5.cdg',0
aStf6_cdg	db 'stf6.cdg',0
aStf7_cdg	db 'stf7.cdg',0
aStf8_cdg	db 'stf8.cdg',0
aStf9_cdg	db 'stf9.cdg',0
aStf10_cdg	db 'stf10.cdg',0
aStf2_cdg	db 'stf2.cdg',0
aStf12_cdg	db 'stf12.cdg',0
aAbnormalProgra	db 'Abnormal program termination',0Dh,0Ah,0
		db 0
include libs/BorlandC/atexit[data].asm
include libs/BorlandC/exit[data].asm
include libs/BorlandC/files[data].asm
include libs/BorlandC/__IOERROR[data].asm
		db    0
		db    0
		db    0
		db    0
		db    0
word_F2DE	dw 0
word_F2E0	dw 328Fh
					; set_new_handler(void (*)(void))+1Fw ...
seg_F2E2	dw seg seg000
					; set_new_handler(void (*)(void))+1Bw ...
aOutOfMemory	db 'Out of memory',0
__stklen	dw 1000h
		public __ctype
; unsigned __int8 _ctype[257]
__ctype		db    0, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 21h, 21h,	21h, 21h, 21h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 81h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 12h, 12h, 12h,	12h, 12h, 12h, 12h
		db  12h, 12h, 12h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 14h, 14h,	14h, 14h, 14h, 14h
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	40h, 40h, 40h, 40h
		db  40h, 40h, 18h, 18h,	18h, 18h, 18h, 18h
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	40h, 40h, 40h, 40h
		db  20h,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0
		db 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		dd @terminate$qv	; terminate(void)
		dd @unexpected$qv	; unexpected(void)
word_F408	dw 0
word_F40A	dw 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
include libs/BorlandC/cputype[data].asm
include libs/BorlandC/fbrk[data].asm
include libs/BorlandC/signal[data].asm
dword_F548	dd 0
					; sub_4355+Ar ...
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  5Ch	; \
		db    0
word_F55C	dw 0
					; _setvbuf+4Bw
word_F55E	dw 0
					; _setvbuf+35w
include libs/BorlandC/sysnerr[data].asm
include libs/BorlandC/xx[data].asm
include libs/BorlandC/setenvp[data].asm
word_F578	dw 1
word_F57A	dw 0
word_F57C	dw 1
word_F57E	dw 3Fh
word_F580	dw 40h
word_F582	dw 3Fh
aStringReferenc	db 'String reference out of range',0
aStringRefere_0	db 'String reference out of range',0
aStringRefere_1	db 'String reference out of range',0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    8
		db    0
		db    8
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db    8
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db  0Ah
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db    9
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db  0Ch
		db    0
		db    0
		db    0
		db    0
aPath		db 'PATH',0
		db '/\',0
		db    0
a_bat		db '.BAT',0
a_com		db '.COM',0
a_exe_0		db '.EXE',0
a_bat_0		db '.BAT',0
aComspec	db 'COMSPEC',0
aC		db '/c',0

InitStart	label byte
		db    1
		db  20h
		dd @string@contains$xqnxc ; string::contains(char *)
include libs/BorlandC/setupio[initdata].asm
include libs/BorlandC/cputype[initdata].asm
		db    0
		db  0Fh
		db  0Ch
		db  43h	; C
		db    0
		db    0
include libs/BorlandC/setenvp[initdata].asm
InitEnd	label byte

ExitStart	label byte
		db    1
		db  20h
		dd loc_343D
ExitEnd	label byte

bdata@	label byte
; TODO: Missing clip[bss].asm (8 bytes) somewhere in there...
unk_F72C	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
byte_F768	db ?
unk_F769	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
byte_F7A5	db ?
unk_F7A6	db    ?	;
					; sub_973E+2Eo
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
byte_F7E2	db ?
byte_F7E3	db ?
					; sub_9624:loc_96AAr ...
byte_F7E4	db ?
					; sub_9624:loc_96A5r ...
byte_F7E5	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
dword_F7FA	dd ?
word_F7FE	dw ?
word_F800	dw ?
word_F802	dw ?
word_F804	dw ?
word_F806	dw ?
word_F808	dw ?
					; sub_7DA:loc_80Bw ...
word_F80A	dw ?
					; sub_CB68+Bw ...
		db    ?	;
		db    ?	;
include libs/master.lib/pal[bss].asm
include libs/master.lib/vs[bss].asm
include libs/master.lib/vsync[bss].asm
include libs/master.lib/mem[bss].asm
include libs/master.lib/superpa[bss].asm
dword_10050	dd ?
dword_10054	dd ?
dword_10058	dd ?
dword_1005C	dd ?
byte_10060	db ?
byte_10061	db ?
					; sub_C80C:loc_C81Er ...
byte_10062	db ?
byte_10063	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
word_100F2	dw ?
word_100F4	dw ?
word_100F6	dw ?
word_100F8	dw ?
word_100FA	dw ?
word_100FC	dw ?
					; sub_9A2C+210w ...
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
dword_102FE	dd ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
unk_10316	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
dword_105C6	dd ?
dword_105CA	dd ?
byte_105CE	db ?
		db ?
word_105D0	dw ?
word_105D2	dw ?
word_105D4	dw ?
					; sub_AC6E+19w	...
byte_105D6	db ?
					; sub_A64D+31Dr ...
byte_105D7	db ?
					; sub_A64D:loc_A727w ...
word_105D8	dw ?
dword_105DA	dd ?
word_105DE	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
byte_10630	db ?
byte_10631	db ?
		dd    ?	;
byte_10636	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
byte_106AA	db ?
byte_106AB	db ?
word_106AC	dw ?
		dw ?
byte_106B0	db ?
					; sub_BC29:loc_BC63r ...
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
word_10BB2	dw ?
byte_10BB4	db ?
byte_10BB5	db ?
byte_10BB6	db ?
		dd    ?	;
		db    ?	;
word_10BBC	dw ?
word_10BBE	dw ?
					; sub_BDF4:loc_BE66r ...
word_10BC0	dw ?
word_10BC2	dw ?
word_10BC4	dw ?
byte_10BC6	db ?
byte_10BC7	db ?
word_10BC8	dw ?
word_10BCA	dw ?
byte_10BCC	db ?
		dd    ?	;
		db    ?	;
byte_10BD2	db ?
					; sub_C40D:loc_C49Er
byte_10BD3	db ?
					; sub_C40D:loc_C4B1r
byte_10BD4	db ?
		db ?
byte_10BD6	db ?
byte_10BD7	db ?
byte_10BD8	db ?
					; sub_C288:loc_C38Dr ...
		db    ?	;
include libs/BorlandC/atexit[bss].asm
include libs/BorlandC/sigdata[bss].asm
		dd    ?	;
include libs/BorlandC/signal[bss].asm
include libs/BorlandC/xx[bss].asm
edata@	label byte

dseg		ends

; ===========================================================================

; Segment type:	Uninitialized
seg005		segment	byte stack 'STACK' use16
		assume cs:seg005
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		db 80h dup(?)
seg005		ends


		end startx
