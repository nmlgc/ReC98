;
; +-------------------------------------------------------------------------+
; |   This file has been generated by The Interactive Disassembler (IDA)    |
; |        Copyright (c) 2009 by Hex-Rays, <support@hex-rays.com>           |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	492DA6ACEE8714C252630BCE0D3C12FD

; File Name   :	th04/OP.EXE
; Format      :	MS-DOS executable (EXE)
; Base Address:	0h Range: 0h-133E0h Loaded length: 11A40h
; Entry	Point :	0:0
; OS type	  :  MS	DOS
; Application type:  Executable	16bit

		.386
		.model large

include ReC98.inc

; ===========================================================================

; Segment type:	Pure code
seg000		segment	word public 'CODE' use16
		assume cs:seg000
		assume es:nothing, ss:seg005, ds:dseg, fs:nothing, gs:nothing

include libs/BorlandC/c0.asm
		db 0
include libs/master.lib/bfnt_entry_pat.asm
include libs/master.lib/bfnt_extend_header_skip.asm
include libs/master.lib/bfnt_header_read.asm
include libs/master.lib/bfnt_header_analysis.asm
include libs/master.lib/atrtcmod.asm
include libs/master.lib/bcloser.asm
include libs/master.lib/bfill.asm
include libs/master.lib/bfnt_palette_set.asm
include libs/master.lib/bgetc.asm
include libs/master.lib/palette_black_in.asm
include libs/master.lib/palette_black_out.asm
include libs/master.lib/bopenr.asm
include libs/master.lib/bread.asm
include libs/master.lib/bseek.asm
include libs/master.lib/bseek_.asm
include libs/master.lib/dos_axdx.asm
include libs/master.lib/dos_keyclear.asm
include libs/master.lib/dos_puts2.asm
include libs/master.lib/dos_read.asm
include libs/master.lib/dos_seek.asm
include libs/master.lib/dos_setvect.asm
include libs/master.lib/egc.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_89A		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	ax, 0
		mov	bx, word_F882
		cmp	bx, 0FFFFh
		jnz	short loc_8EA
		mov	ax, 3D02h
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	dos_axdx
		or	ax, dx
		mov	word_F882, ax
		mov	cx, ax
		xor	ax, ax
		mov	word_10DCC, ax
		mov	word_10DCA, ax
		mov	word_10DCE, ax
		mov	word_10DD0, ax
		mov	word_10DC6, ax
		mov	word_10DC8, ax
		inc	dx
		jz	short loc_8EA
		mov	bx, cx
		xor	cx, cx
		mov	dx, cx
		mov	ax, 4202h
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from end of file
		mov	word_10DC6, ax
		mov	word_10DC8, dx
		mov	ax, 1

loc_8EA:
		pop	bp
		retf	4
sub_89A		endp


; =============== S U B	R O U T	I N E =======================================


sub_8EE		proc far
		mov	bx, word_F882
		cmp	bx, 0FFFFh
		jz	short locret_958
		mov	ax, word_10DCA
		cmp	word_10DCC, ax
		jnb	short loc_92C
		push	ds
		mov	cx, word_10DCA
		lds	dx, dword_10DC2
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jb	short loc_91F
		add	word_10DC6, ax
		adc	word_10DC8, 0
		cmp	word_10DCA, ax
		jz	short loc_925

loc_91F:
		mov	word_10DD0, 1

loc_925:
		mov	word_10DCA, 0
		retf
; ---------------------------------------------------------------------------

loc_92C:
		cmp	word_10DCC, 0
		jz	short locret_958
		mov	dx, ax
		mov	cx, 0
		add	dx, word_10DC6
		mov	word_10DCC, cx
		mov	word_10DCA, cx
		adc	cx, word_10DC8
		mov	ax, 4200h
		mov	bx, word_F882
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from beginning of	file
		mov	word_10DC6, ax
		mov	word_10DC8, dx

locret_958:
		retf
sub_8EE		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_95A		proc far
		push	cs
		call	near ptr sub_8EE
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		mov	word_F882, 0FFFFh
		retf
sub_95A		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_96A		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	ax, 0
		mov	bx, word_F882
		cmp	bx, 0FFFFh
		jnz	short loc_9A6
		mov	cx, 20h	; ' '
		mov	ah, 3Ch	; '<'
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		nopcall	dos_axdx
		or	ax, dx
		mov	word_F882, ax
		xor	ax, ax
		mov	word_10DCC, ax
		mov	word_10DCA, ax
		mov	word_10DCE, ax
		mov	word_10DD0, ax
		mov	word_10DC6, ax
		mov	word_10DC8, ax
		mov	ax, dx
		inc	ax

loc_9A6:
		pop	bp
		retf	4
sub_96A		endp


; =============== S U B	R O U T	I N E =======================================


sub_9AA		proc far
		mov	bx, sp
		push	word ptr ss:[bx+6]
		push	word ptr ss:[bx+4]
		nop
		call	dos_ropen
		jb	short loc_9C0
		xchg	ax, bx
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle

loc_9C0:
		sbb	ax, ax
		inc	ax
		retf	4
sub_9AA		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9C6		proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_F880, 0
		jz	short loc_A4A
		mov	bx, [bp+arg_0]
		les	di, [bp+arg_2]

loc_9D8:
		mov	ax, word_10DCC
		cmp	word_10DCA, ax
		jb	short loc_A0E
		add	word_10DC6, ax
		adc	word_10DC8, 0
		push	bx
		push	ds
		mov	cx, word_F880
		mov	bx, word_F882
		lds	dx, dword_10DC2
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		pop	bx
		cmc
		sbb	dx, dx
		and	ax, dx
		mov	word_10DCC, ax
		jz	short loc_A69
		mov	word_10DCA, 0

loc_A0E:
		mov	si, word_10DCC
		sub	si, word_10DCA
		sub	si, bx
		sbb	ax, ax
		and	si, ax
		add	si, bx
		mov	ax, es
		or	ax, di
		jz	short loc_A3F
		or	si, si
		jz	short loc_A3F
		push	si
		push	ds
		mov	cx, si
		mov	ax, word_10DCA
		lds	si, dword_10DC2
		add	si, ax
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		pop	si

loc_A3F:
		add	word_10DCA, si
		sub	bx, si
		jnz	short loc_9D8
		jmp	short loc_A6F
; ---------------------------------------------------------------------------
		nop

loc_A4A:
		push	ds
		mov	cx, [bp+arg_0]
		mov	bx, word_F882
		lds	dx, [bp+arg_2]
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		add	word_10DC6, ax
		adc	word_10DC8, 0
		mov	bx, cx
		sub	bx, ax
		jz	short loc_A6F

loc_A69:
		mov	word_10DCE, 1

loc_A6F:
		mov	ax, [bp+arg_0]
		sub	ax, bx
		pop	di
		pop	si
		pop	bp
		retf	6
sub_9C6		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A7A		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	bx, word_F882
		cmp	bx, 0FFFFh
		jnz	short loc_AB1
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		call	dos_ropen
		sbb	bx, bx
		or	ax, bx
		mov	word_F882, ax
		xor	ax, ax
		mov	word_10DCC, ax
		mov	word_10DC6, ax
		mov	word_10DC8, ax
		mov	word_10DCA, ax
		mov	word_10DCE, ax
		mov	word_10DD0, ax
		lea	ax, [bx+1]

loc_AB1:
		pop	bp
		retf	4
sub_A7A		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_AB6		proc far
		push	cs
		call	near ptr sub_8EE
		cmp	bx, 0FFFFh
		jz	short locret_AE7
		push	bp
		mov	bp, sp
		mov	al, [bp+6]
		mov	ah, 42h	; 'B'
		mov	dx, [bp+8]
		mov	cx, [bp+0Ah]
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method:
					; 0-from beginnig,1-from current,2-from	end
		pop	bp
		mov	ax, 4201h
		mov	dx, 0
		mov	cx, dx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from present location
		mov	word_10DCE, 0
		mov	word_10DC6, ax
		mov	word_10DC8, dx

locret_AE7:
		retf	6
sub_AB6		endp

; ---------------------------------------------------------------------------
		mov	ax, word_10DCA
		xor	dx, dx
		add	ax, word_10DC6
		adc	dx, word_10DC8
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AF8		proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_F880, 0
		jz	short loc_B6E
		mov	bx, [bp+arg_0]
		mov	si, word ptr [bp+arg_2]

loc_B0A:
		mov	cx, word_F880
		sub	cx, word_10DCA
		sub	cx, bx
		sbb	ax, ax
		and	cx, ax
		add	cx, bx
		les	di, dword_10DC2
		add	di, word_10DCA
		sub	bx, cx
		add	word_10DCA, cx
		push	ds
		mov	ds, word ptr [bp+arg_2+2]
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		or	ax, ax
		jns	short loc_B64
		push	ds
		push	bx
		mov	cx, word_F880
		mov	bx, word_F882
		lds	dx, dword_10DC2
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	bx
		pop	ds
		jb	short loc_B80
		cmp	word_F880, ax
		jnz	short loc_B80
		mov	word_10DCA, 0
		add	word_10DC6, ax
		adc	word_10DC8, 0

loc_B64:
		or	bx, bx
		jnz	short loc_B0A
		mov	ax, 1
		jmp	short loc_B96
; ---------------------------------------------------------------------------
		nop

loc_B6E:
		push	ds
		mov	cx, [bp+arg_0]
		mov	bx, word_F882
		lds	dx, [bp+arg_2]
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jnb	short loc_B88

loc_B80:
		mov	word_10DD0, 1
		xor	ax, ax

loc_B88:
		add	word_10DC6, ax
		adc	word_10DC8, 0
		add	ax, 0FFFFh
		sbb	ax, ax

loc_B96:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf	6
sub_AF8		endp

include libs/master.lib/dos_close.asm
include libs/master.lib/dos_ropen.asm
include libs/master.lib/grcg_boxfill.asm
include libs/master.lib/grcg_byteboxfill_x.asm
include libs/master.lib/grcg_hline.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DC2		proc far

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 0Ch
		push	di
		push	si
		mov	ax, [bp+arg_0]
		dec	ax
		mov	cx, ax
		shl	ax, 2
		mov	[bp+arg_0], ax
		les	si, [bp+arg_2]
		xor	ax, ax
		mov	[bp+var_8], ax
		mov	[bp+var_A], ax
		mov	ax, es:[si+2]
		mov	[bp+var_4], ax
		mov	[bp+var_C], ax
		mov	ax, es:[si]
		mov	di, ax
		mov	bx, 4

loc_DF3:
		mov	dx, es:[bx+si+2]
		cmp	dx, [bp+var_4]
		jge	short loc_E08
		mov	[bp+var_8], bx
		mov	[bp+var_A], bx
		mov	[bp+var_4], dx
		jmp	short loc_E1A
; ---------------------------------------------------------------------------
		nop

loc_E08:
		cmp	[bp+var_4], dx
		jnz	short loc_E12
		mov	[bp+var_A], bx
		jmp	short loc_E1A
; ---------------------------------------------------------------------------

loc_E12:
		cmp	[bp+var_C], dx
		jge	short loc_E1A
		mov	[bp+var_C], dx

loc_E1A:
		mov	dx, es:[bx+si]
		cmp	ax, dx
		jl	short loc_E2C
		mov	ax, dx
		jmp	short loc_E32
; ---------------------------------------------------------------------------
		nop

loc_E26:
		pop	si
		pop	di
		leave
		retf	6
; ---------------------------------------------------------------------------

loc_E2C:
		cmp	di, dx
		jge	short loc_E32
		mov	di, dx

loc_E32:
		add	bx, 4
		loop	loc_DF3
		cmp	ClipXR, ax
		jl	short loc_E26
		cmp	ClipXL, di
		jg	short loc_E26
		mov	ax, [bp+var_4]
		cmp	ClipYB, ax
		jl	short loc_E26
		mov	dx, [bp+var_C]
		cmp	ClipYT, dx
		jg	short loc_E26
		mov	ax, ClipYB
		cmp	ax, dx
		jge	short loc_E5E
		mov	dx, ax

loc_E5E:
		mov	[bp+var_C], dx
		mov	ax, [bp+arg_0]
		cmp	[bp+var_8], 0
		jnz	short loc_E77
		cmp	[bp+var_A], ax
		jnz	short loc_E77
		mov	[bp+var_8], ax
		mov	[bp+var_A], 0

loc_E77:
		mov	bx, [bp+var_8]
		mov	dx, [bp+arg_0]
		mov	ax, ClipYT

loc_E80:
		mov	cx, bx
		sub	bx, 4
		jns	short loc_E89
		mov	bx, dx

loc_E89:
		cmp	es:[bx+si+2], ax
		jl	short loc_E80
		mov	ax, es:[bx+si+2]
		mov	[bp+var_6], ax
		mov	[bp+var_8], bx
		mov	bx, cx
		mov	dx, es:[bx+si+2]
		mov	di, es:[bx+si]
		mov	bx, [bp+var_8]
		cmp	dx, ClipYT
		jge	short loc_EC7
		mov	ax, dx
		sub	ax, [bp+var_6]
		push	ax
		mov	ax, di
		sub	ax, es:[bx+si]
		mov	cx, ClipYT
		sub	cx, dx
		imul	cx
		pop	cx
		idiv	cx
		add	di, ax
		mov	dx, ClipYT

loc_EC7:
		mov	[bp+var_4], dx
		xchg	di, dx
		mov	ax, es:[bx+si]
		mov	cx, [bp+var_6]
		sub	cx, di
		mov	bx, 1A6Eh
		call	make_linework
		mov	bx, [bp+var_A]
		mov	cx, [bp+arg_0]
		mov	ax, ClipYT

loc_EE3:
		mov	di, bx
		add	bx, 4
		cmp	bx, cx
		jle	short loc_EEE
		xor	bx, bx

loc_EEE:
		cmp	es:[bx+si+2], ax
		jl	short loc_EE3
		mov	ax, es:[bx+si+2]
		mov	[bp+var_2], ax
		mov	[bp+var_A], bx
		add	di, si
		mov	cx, es:[di+2]
		mov	di, es:[di]
		mov	bx, es:[bx+si]
		cmp	cx, [bp+var_4]
		jge	short loc_F23
		mov	ax, ClipYT
		sub	ax, cx
		push	cx
		mov	cx, di
		sub	cx, bx
		imul	cx
		pop	cx
		sub	cx, [bp+var_2]
		idiv	cx
		add	di, ax

loc_F23:
		mov	dx, di
		mov	ax, bx
		mov	cx, [bp+var_2]
		sub	cx, [bp+var_4]
		mov	bx, 1A76h
		call	make_linework
		mov	si, [bp+var_4]

loc_F36:
		mov	di, [bp+var_6]
		cmp	di, [bp+var_2]
		jle	short loc_F41
		mov	di, [bp+var_2]

loc_F41:
		cmp	[bp+var_C], di
		jle	short loc_FBA
		push	di
		lea	dx, [di-1]
		sub	dx, si
		sub	si, ClipYT
		mov	ax, si
		shl	si, 2
		add	si, ax
		shl	si, 4
		mov	es, ClipYT_seg
		call	loc_3264
		pop	si
		les	di, [bp+arg_2]
		cmp	si, [bp+var_6]
		jnz	short loc_F8D
		mov	bx, [bp+var_8]
		mov	dx, es:[bx+di]
		sub	bx, 4
		jns	short loc_F78
		mov	bx, [bp+arg_0]

loc_F78:
		mov	[bp+var_8], bx
		mov	ax, es:[bx+di]
		mov	cx, es:[bx+di+2]
		mov	[bp+var_6], cx
		sub	cx, si
		mov	bx, 1A6Eh
		call	make_linework

loc_F8D:
		cmp	[bp+var_2], si
		jnz	short loc_F36
		mov	bx, [bp+var_A]
		mov	dx, es:[bx+di]
		add	bx, 4
		cmp	bx, [bp+arg_0]
		jle	short loc_FA2
		xor	bx, bx

loc_FA2:
		mov	[bp+var_A], bx
		mov	ax, es:[bx+di]
		mov	cx, es:[bx+di+2]
		mov	[bp+var_2], cx
		sub	cx, si
		mov	bx, 1A76h
		push	0F36h
		jmp	make_linework
; ---------------------------------------------------------------------------

loc_FBA:
		mov	es, ClipYT_seg
		mov	dx, [bp+var_C]
		sub	dx, si
		sub	si, ClipYT
		mov	ax, si
		shl	si, 2
		add	si, ax
		shl	si, 4
		call	loc_3264
		pop	si
		pop	di
		leave
		retf	6
sub_DC2		endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_FF0

loc_FDA:
		push	word ptr [bp+0eh]
		push	word ptr [bp+0ch]
		push	word ptr [bp+0ah]
		push	word ptr [bp+08h]
		call	grcg_boxfill
		pop	di
		pop	si
		leave
		retf	0Ah
; END OF FUNCTION CHUNK	FOR sub_FF0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_FF0		proc far

var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

; FUNCTION CHUNK AT 0FDA SIZE 00000016 BYTES

		enter	2, 0
		push	si
		push	di
		mov	ax, [bp+arg_0]
		mov	bx, [bp+arg_8]
		mov	si, [bp+arg_4]
		cmp	bx, si
		jle	short loc_100B
		xchg	bx, si
		mov	[bp+arg_8], bx
		mov	[bp+arg_4], si

loc_100B:
		sub	si, bx
		shr	si, 1
		sub	ax, si
		sbb	dx, dx
		and	ax, dx
		add	ax, si
		mov	cx, [bp+arg_6]
		mov	di, [bp+arg_2]
		cmp	cx, di
		jle	short loc_1023
		xchg	cx, di

loc_1023:
		mov	bx, di
		sub	di, cx
		shr	di, 1
		sub	ax, di
		sbb	dx, dx
		and	ax, dx
		add	ax, di
		jz	short loc_FDA
		mov	[bp+var_2], ax
		add	cx, ax
		sub	bx, ax
		mov	[bp+arg_6], cx
		mov	[bp+arg_2], bx
		mov	si, ax
		inc	cx
		dec	bx
		cmp	bx, cx
		jl	short loc_1054
		push	[bp+arg_8]
		push	cx
		push	[bp+arg_4]
		push	bx
		call	grcg_boxfill

loc_1054:
		add	[bp+arg_8], si
		sub	[bp+arg_4], si
		mov	di, 0

loc_105D:
		mov	ax, [bp+arg_8]
		sub	ax, si
		push	ax
		mov	ax, [bp+arg_4]
		add	ax, si
		push	ax
		mov	ax, [bp+arg_6]
		sub	ax, di
		push	ax
		call	grcg_hline
		mov	ax, [bp+arg_8]
		sub	ax, si
		push	ax
		mov	ax, [bp+arg_4]
		add	ax, si
		push	ax
		mov	ax, [bp+arg_2]
		add	ax, di
		push	ax
		call	grcg_hline
		mov	ax, di
		stc
		rcl	ax, 1
		sub	[bp+var_2], ax
		jns	short loc_10C7
		mov	ax, [bp+arg_8]
		sub	ax, di
		push	ax
		mov	ax, [bp+arg_4]
		add	ax, di
		push	ax
		mov	ax, [bp+arg_6]
		sub	ax, si
		push	ax
		call	grcg_hline
		mov	ax, [bp+arg_8]
		sub	ax, di
		push	ax
		mov	ax, [bp+arg_4]
		add	ax, di
		push	ax
		mov	ax, [bp+arg_2]
		add	ax, si
		push	ax
		call	grcg_hline
		dec	si
		mov	ax, si
		shl	ax, 1
		add	[bp+var_2], ax

loc_10C7:
		inc	di
		cmp	si, di
		jnb	short loc_105D
		pop	di
		pop	si
		leave
		retf	0Ah
sub_FF0		endp

include libs/master.lib/grcg_setcolor.asm
include libs/master.lib/get_machine_98.asm
include libs/master.lib/get_machine_at.asm
include libs/master.lib/get_machine_dosbox.asm
include libs/master.lib/check_machine_fmr.asm
include libs/master.lib/get_machine.asm

; =============== S U B	R O U T	I N E =======================================


sub_1332	proc far
		xor	ax, ax
		cmp	word_F8A6, ax
		jnz	short locret_1355
		mov	ax, 200h
		push	ax
		nop
		call	hmem_alloc
		or	ax, ax
		jz	short locret_1355
		mov	word_F8A6, ax
		push	ax
		xor	ax, ax
		push	ax
		push	cs
		call	near ptr sub_1450
		mov	ax, 1

locret_1355:
		retf
sub_1332	endp


; =============== S U B	R O U T	I N E =======================================


sub_1356	proc far
		mov	ax, word_F8A6
		test	ax, ax
		jz	short locret_1371
		push	ax
		push	ax
		xor	ax, ax
		mov	word_F8A6, ax
		push	ax
		push	cs
		call	near ptr sub_14BE
		nop
		call	hmem_free
		mov	ax, 1

locret_1371:
		retf
sub_1356	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1372	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		sub	sp, 20h
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		call	dos_ropen
		mov	bp, ax
		mov	ax, 0
		jb	short loc_13FF
		mov	ax, 2000h
		push	ax
		nop
		call	smem_wget
		mov	si, ax
		mov	ax, 0
		jb	short loc_13F7
		mov	ax, sp
		push	bp
		push	ss
		push	ax
		nopcall	bfnt_header_read
		jb	short loc_13ED
		mov	di, sp
		push	ss
		pop	es
		assume es:nothing
		cmp	byte ptr es:[di+5], 0
		jnz	short loc_13ED
		add	di, 8
		push	si
		mov	si, 568h
		mov	cx, 4
		repe cmpsw
		pop	si
		jnz	short loc_13ED
		mov	ax, sp
		push	bp
		push	ss
		push	ax
		nopcall	bfnt_extend_header_skip
		push	ds
		mov	ds, si
		mov	bx, bp
		xor	dx, dx
		mov	cx, 2000h
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		cmp	ax, 2000h
		jnz	short loc_13ED
		push	si
		xor	ax, ax
		push	ax
		push	cs
		call	near ptr sub_14BE
		mov	ax, 1
		jmp	short loc_13EF
; ---------------------------------------------------------------------------

loc_13ED:
		xor	ax, ax

loc_13EF:
		push	ax
		push	si
		nop
		call	smem_release
		pop	ax

loc_13F7:
		push	ax
		mov	bx, bp
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		pop	ax

loc_13FF:
		add	sp, 20h
		pop	di
		pop	si
		pop	bp
		retf	4
sub_1372	endp


; =============== S U B	R O U T	I N E =======================================


sub_1408	proc near
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	cx, 10h
		mov	bx, 0

loc_1414:
		mov	al, bl
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, bl
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		stosw
		inc	bx
		loop	loc_1414
		retn
sub_1408	endp

; ---------------------------------------------------------------------------
		nop
		push	di
		mov	dx, sp
		cli
		add	sp, 6
		pop	di
		pop	es
		pop	ax
		mov	sp, dx
		sti
		mov	ah, 0
		add	ax, 5680h
		and	al, 7Fh
		push	ax
		mov	al, 0Bh
		out	68h, al
		pop	ax
		call	sub_1408
		mov	al, 0Ah
		out	68h, al
		pop	di
		retf	6
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_1450	proc far
		push	di
		mov	di, sp
		les	di, ss:[di+6]
		mov	al, 0Bh
		out	68h, al
		mov	dx, 0

loc_145E:
		mov	ax, dx
		adc	ax, 5680h
		and	al, 7Fh
		call	sub_1408
		inc	dl
		jnz	short loc_145E
		mov	al, 0Ah
		out	68h, al
		pop	di
		retf	4
sub_1450	endp


; =============== S U B	R O U T	I N E =======================================


sub_1474	proc near
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	cx, 10h
		mov	bx, 0

loc_1480:
		mov	al, bl
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		lodsw
		out	0A9h, al	; Interrupt Controller #2, 8259A
		mov	al, bl
		out	0A5h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A9h, al	; Interrupt Controller #2, 8259A
		inc	bx
		loop	loc_1480
		retn
sub_1474	endp

; ---------------------------------------------------------------------------
		nop
		push	ds
		push	si
		mov	dx, sp
		cli
		add	sp, 8
		pop	si
		pop	ds
		pop	ax
		mov	sp, dx
		sti
		mov	ah, 0
		add	ax, 5680h
		and	al, 7Fh
		push	ax
		mov	al, 0Bh
		out	68h, al
		pop	ax
		call	sub_1474
		mov	al, 0Ah
		out	68h, al
		pop	si
		pop	ds
		retf	6
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_14BE	proc far
		push	ds
		push	si
		mov	si, sp
		lds	si, ss:[si+8]
		mov	al, 0Bh
		out	68h, al
		mov	dx, 0

loc_14CD:
		mov	ax, dx
		adc	ax, 5680h
		and	al, 7Fh
		call	sub_1474
		inc	dl
		jnz	short loc_14CD
		mov	al, 0Ah
		out	68h, al
		pop	si
		pop	ds
		retf	4
sub_14BE	endp

include libs/master.lib/graph_400line.asm
include libs/master.lib/graph_clear.asm
include libs/master.lib/graph_copy_page.asm
include libs/master.lib/graph_extmode.asm
include libs/master.lib/graph_pi_free.asm
include libs/master.lib/graph_pi_load_pack.asm

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_1C5E

loc_1C58:
		pop	di
		pop	si
		pop	bp
		retf	0Ah
; END OF FUNCTION CHUNK	FOR sub_1C5E

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1C5E	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

; FUNCTION CHUNK AT 1C58 SIZE 00000006 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_6]
		sub	ax, ClipYT
		cmp	ax, ClipYH
		ja	short loc_1C58
		mov	cx, [bp+arg_0]
		sar	cx, 3
		jle	short loc_1C58
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_8]
		sar	di, 3
		jns	short loc_1C8E
		add	cx, di
		jle	short loc_1C58
		shl	di, 2
		add	si, di
		xor	di, di

loc_1C8E:
		cmp	di, 50h	; 'P'
		jge	short loc_1C58
		add	cx, di
		cmp	cx, 50h	; 'P'
		jl	short loc_1C9D
		mov	cx, 50h	; 'P'

loc_1C9D:
		sub	cx, di
		imul	ax, 50h
		add	di, ax
		push	ds
		mov	es, ClipYT_seg
		assume es:nothing
		mov	ds, [bp+arg_4]
		mov	bp, cx
		cld
		nop

loc_1CB0:
		mov	cl, 2
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		mov	ax, cs:[bx+2078h]
		mov	dx, cs:[bx+207Ah]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+2078h]
		or	dx, cs:[bx+207Ah]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+2078h]
		or	dx, cs:[bx+207Ah]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+2078h]
		or	dx, cs:[bx+207Ah]
		inc	si
		mov	es:[di], al
		mov	bx, es
		mov	es:[di-8000h], ah
		add	bh, 10h
		mov	es, bx
		assume es:nothing
		mov	es:[di], dl
		add	bh, 28h	; '('
		mov	es, bx
		assume es:nothing
		mov	es:[di], dh
		sub	bh, 38h	; '8'
		mov	es, bx
		assume es:nothing
		inc	di
		dec	bp
		jnz	short loc_1CB0
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ah
sub_1C5E	endp

include libs/master.lib/graph_show.asm
include libs/master.lib/graph_start.asm
include libs/master.lib/js_end.asm
include libs/master.lib/keybeep.asm
include libs/master.lib/make_linework.asm
include libs/master.lib/palette_init.asm
include libs/master.lib/palette_show.asm
include libs/master.lib/pfclose.asm

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	es, word ptr [bp+6]
		call	word ptr es:2
		pop	bp
		retf	2
; ---------------------------------------------------------------------------
		nop
		cmp	word ptr es:1Ah, 0
		jz	short loc_1F32
		dec	word ptr es:1Ah
		add	word ptr es:12h, 1
		adc	word ptr es:14h, 0
		mov	ax, es:1Ch
		retn
; ---------------------------------------------------------------------------

loc_1F32:
		call	word ptr es:4
		test	ah, ah
		jnz	short locret_1F61
		cmp	ax, es:1Ch
		mov	es:1Ch,	ax
		jnz	short locret_1F61
		push	ax
		call	word ptr es:4
		test	ah, ah
		jnz	short loc_1F60
		mov	es:1Ah,	ax
		sub	word ptr es:12h, 1
		sbb	word ptr es:14h, 0

loc_1F60:
		pop	ax

locret_1F61:
		retn

; =============== S U B	R O U T	I N E =======================================


sub_1F62	proc near
		mov	ax, es:0Ah
		mov	dx, es:0Ch
		cmp	dx, es:8
		jb	short loc_1F7F
		ja	short loc_1F7B
		cmp	ax, es:6
		jb	short loc_1F7F

loc_1F7B:
		mov	ax, 0FFFFh
		retn
; ---------------------------------------------------------------------------

loc_1F7F:
		add	ax, 1
		adc	dx, 0
		mov	es:0Ah,	ax
		mov	es:0Ch,	dx
		add	word ptr es:12h, 1
		adc	word ptr es:14h, 0
		push	es
		push	word ptr es:0
		call	bgetc
		pop	es
		retn
sub_1F62	endp

; ---------------------------------------------------------------------------
		call	sub_1F62
		or	ah, ah
		jnz	short locret_1FB2
		xor	al, es:1Eh

locret_1FB2:
		retn
; ---------------------------------------------------------------------------
		db    0
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		cld
		mov	si, [bp+8]
		mov	di, [bp+0Ah]
		test	si, si
		jz	short loc_1FD7

loc_1FC4:
		mov	es, word ptr [bp+6]
		call	word ptr es:2
		inc	ah
		jz	short loc_1FD7
		mov	es, word ptr [bp+0Ch]
		stosb
		dec	si
		jnz	short loc_1FC4

loc_1FD7:
		mov	ax, di
		sub	ax, [bp+0Ah]
		pop	di
		pop	si
		pop	bp
		retf	8
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	es, word ptr [bp+6]
		xor	ax, ax
		mov	es:1Ah,	ax
		mov	word ptr es:1Ch, 0FFFFh
		mov	es:0Ah,	ax
		mov	es:0Ch,	ax
		mov	es:12h,	ax
		mov	es:14h,	ax
		push	word ptr es:0
		push	word ptr es:10h
		push	word ptr es:0Eh
		push	ax
		call	bseek_
		pop	bp
		retf	2
; ---------------------------------------------------------------------------
		nop
		push	bp
		mov	bp, sp
		push	di
		mov	es, word ptr [bp+0Ah]
		inc	word ptr [bp+8]
		mov	di, [bp+6]
		or	di, di
		jz	short loc_203B

loc_202F:
		call	word ptr es:2
		test	ah, ah
		jnz	short loc_2040
		dec	di
		jnz	short loc_202F

loc_203B:
		dec	word ptr [bp+8]
		jnz	short loc_202F

loc_2040:
		mov	ax, es:12h
		mov	dx, es:14h
		pop	di
		pop	bp
		retf	6

; =============== S U B	R O U T	I N E =======================================


sub_204E	proc far
		mov	ax, 4E35h
		mul	word_F906
		mov	cx, ax
		mov	ax, 15Ah
		mul	word_F904
		add	cx, ax
		mov	ax, 4E35h
		mul	word_F904
		add	ax, 1
		adc	dx, cx
		mov	word_F904, ax
		mov	ax, dx
		mov	word_F906, ax
		and	ah, 7Fh
		retf
sub_204E	endp

include libs/master.lib/rottbl.asm
include libs/master.lib/smem_release.asm
include libs/master.lib/smem_wget.asm

; =============== S U B	R O U T	I N E =======================================


sub_24C4	proc near
		mov	dx, 188h

loc_24C7:
		in	al, dx
		test	al, 80h
		jnz	short loc_24C7
		mov	al, bh
		out	dx, al

loc_24CF:
		in	al, dx
		test	al, 80h
		jnz	short loc_24CF
		inc	dx
		inc	dx
		mov	al, bl
		out	dx, al
		retn
sub_24C4	endp


; =============== S U B	R O U T	I N E =======================================


sub_24DA	proc near
		mov	dx, 188h

loc_24DD:
		in	al, dx
		test	al, 80h
		jnz	short loc_24DD
		mov	al, bh
		out	dx, al

loc_24E5:
		in	al, dx
		test	al, 80h
		jnz	short loc_24E5
		inc	dx
		inc	dx
		in	al, dx
		retn
sub_24DA	endp

include libs/BorlandC/text_clear.asm
include libs/BorlandC/txesc.asm
		db    0
include libs/master.lib/vsync.asm
include libs/master.lib/vsync_wait.asm
include libs/master.lib/palette_white_in.asm
include libs/master.lib/hmem_lallocate.asm
include libs/master.lib/mem_assign_dos.asm
include libs/master.lib/mem_assign.asm
include libs/master.lib/memheap.asm

; =============== S U B	R O U T	I N E =======================================


sub_28FE	proc far
		cmp	mem_TopSeg, 0
		jz	short loc_2919
		mov	ax, mem_TopSeg
		mov	es, ax
		xor	ax, ax
		cmp	mem_MyOwn, ax
		mov	mem_TopSeg, ax
		jz	short loc_2919
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed

loc_2919:
		mov	ax, 1
		retf
sub_28FE	endp

; ---------------------------------------------------------------------------
		xor	ax, ax
		stc
		retf

include libs/master.lib/super_free.asm
include libs/master.lib/super_entry_pat.asm
include libs/master.lib/super_entry_at.asm
include libs/master.lib/super_entry_bfnt.asm
include libs/master.lib/super_cancel_pat.asm

loc_2B60:
		pop	di
		pop	si
		pop	bp
		retf	6
; ---------------------------------------------------------------------------

loc_2B66:
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	bx, [bp+6]
		shl	bx, 1
		mov	ax, [bx+1AD8h]
		mov	cs:word_2D1D, ax
		mov	bx, [bx+1ED8h]
		xor	ax, ax
		xchg	al, bh
		mov	word_11618, ax
		mov	cx, ax
		shl	cx, 3
		add	cx, [bp+0Ah]
		dec	cx
		imul	bx
		mov	cs:word_2D56, ax
		cmp	cx, ClipXR
		jg	short loc_2BBA
		mov	dx, ClipXL
		cmp	[bp+0Ah], dx
		jl	short loc_2BBA
		mov	di, [bp+8]
		cmp	ClipYT, di
		jg	short loc_2BBA
		mov	ax, bx
		add	ax, di
		cmp	ax, ClipYB
		jge	short loc_2BBA
		pop	di
		pop	si
		pop	bp
		jmp	near ptr super_put
; ---------------------------------------------------------------------------

loc_2BBA:
		cmp	cx, ClipXL
		jl	short loc_2B60
		mov	dx, ClipXR
		cmp	[bp+0Ah], dx
		jg	short loc_2B60
		mov	di, [bp+8]
		cmp	ClipYB, di
		jl	short loc_2B60
		mov	ax, bx
		add	ax, di
		cmp	ax, ClipYT
		jle	short loc_2B60
		cmp	cx, dx
		jle	short loc_2BE2
		mov	cx, dx

loc_2BE2:
		mov	al, [bp+0Ah]
		and	al, 7
		mov	cs:byte_2C5F, al
		xor	si, si
		mov	ax, ClipXL
		cmp	[bp+0Ah], ax
		jge	short loc_2C07
		mov	dx, ax
		shr	dx, 3
		add	si, dx
		mov	dx, [bp+0Ah]
		sar	dx, 3
		sub	si, dx
		mov	[bp+0Ah], ax

loc_2C07:
		sub	di, ClipYT
		jns	short loc_2C18
		add	bx, di
		mov	ax, word_11618
		imul	di
		sub	si, ax
		xor	di, di

loc_2C18:
		lea	ax, [bx+di-1]
		sub	ax, ClipYH
		jle	short loc_2C23
		sub	bx, ax

loc_2C23:
		mov	cs:word_2D21, bx
		mov	ax, [bp+0Ah]
		shr	ax, 3
		imul	bx, di,	50h
		add	bx, ax
		mov	cs:word_2D24, bx
		mov	bx, cx
		mov	dx, 80FFh
		and	cl, 7
		sar	dh, cl
		mov	cl, [bp+0Ah]
		and	cl, 7
		shr	dl, cl
		mov	cx, ax
		shr	bx, 3
		sub	bx, cx
		jnz	short loc_2C55
		and	dl, dh

loc_2C55:
		mov	cs:word_2D27, bx
		mov	es, ClipYT_seg
; ---------------------------------------------------------------------------
		db 0B1h
byte_2C5F	db 12h
; ---------------------------------------------------------------------------
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	al, 0
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		call	loc_2D1A
		mov	al, 0CEh ; 'Î'
		out	7Ch, al
		mov	al, 0FFh
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		call	loc_2D1A
		mov	ax, 0CDh ; 'Í'
		out	7Ch, al
		call	loc_2D1A
		mov	ax, 0CBh ; 'Ë'
		out	7Ch, al
		call	loc_2D1A
		mov	ax, 0C7h ; 'Ç'
		out	7Ch, al
		call	loc_2D1A
		mov	al, 0
		out	7Ch, al
		pop	di
		pop	si
		pop	bp
		retf	6

; =============== S U B	R O U T	I N E =======================================


sub_2CA4	proc near
		test	si, si
		jz	short loc_2CAB

loc_2CA8:
		mov	ah, [si-1]

loc_2CAB:
		mov	al, [si]
		inc	si
		mov	bx, ax
		shr	bx, cl
		and	bl, dl
		mov	es:[di], bl
		inc	di
		mov	ch, 12h
		dec	ch
		js	short loc_2CDE
		jz	short loc_2CD1

loc_2CC0:
		mov	ah, al
		mov	al, [si]
		inc	si
		mov	bx, ax
		shr	bx, cl
		mov	es:[di], bl
		inc	di
		dec	ch
		jnz	short loc_2CC0

loc_2CD1:
		mov	ah, al
		mov	al, [si]
		inc	si
		shr	ax, cl
		and	al, dh
		mov	es:[di], al
		inc	di

loc_2CDE:
		add	si, 1234h
		add	di, 1234h
		dec	bp
		jnz	short loc_2CA8
		retn
sub_2CA4	endp

; ---------------------------------------------------------------------------

loc_2CEA:
		mov	al, [si]
		inc	si
		and	al, dl
		mov	es:[di], al
		inc	di
		cmp	bx, 1
		jl	short loc_2D07
		lea	cx, [bx-1]
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		lodsb
		and	al, dh
		stosb

loc_2D07:
		mov	al, 0
		xchg	al, ah
		add	si, ax
		sub	si, bx
		mov	ah, al
		add	di, 4Fh	; 'O'
		sub	di, bx
		dec	bp
		jnz	short loc_2CEA
		retn
; ---------------------------------------------------------------------------

loc_2D1A:
		push	si
		push	ds
; ---------------------------------------------------------------------------
		db 0B8h
word_2D1D	dw 1234h
		db 50h,	0BDh
word_2D21	dw 1234h
		db 0BFh
word_2D24	dw 1234h
		db 0BBh
word_2D27	dw 1234h
		db 0A1h, 0D8h, 22h, 48h, 80h, 0F9h, 0, 75h, 8, 8Ah, 0E0h
		db 1Fh,	68h, 52h, 2Dh, 0EBh, 0B0h, 2Eh,	88h, 1Eh, 0B9h
		db 2Ch,	2Bh, 0C3h, 2Eh,	0A3h, 0E0h, 2Ch, 0B8h, 4Fh, 0
		db 2Bh,	0C3h, 2Eh, 0A3h, 0E4h, 2Ch, 1Fh, 0E8h, 52h, 0FFh
		db 1Fh,	5Eh, 81h, 0C6h
word_2D56	dw 1234h
; ---------------------------------------------------------------------------
		retn
; ---------------------------------------------------------------------------
		db    0

include libs/master.lib/super_put.asm

; =============== S U B	R O U T	I N E =======================================


sub_2F0C	proc far
		push	si
		push	di
		mov	ah, 52h
		int	21h		; DOS -	2+ internal - GET LIST OF LISTS
					; Return: ES:BX	-> DOS list of lists
		cld
		mov	bx, es:[bx-2]

loc_2F17:
		mov	es, bx
		assume es:nothing
		inc	bx
		mov	ax, es:1
		or	ax, ax
		jz	short loc_2F2F
		mov	di, 10h
		mov	cx, 0Ah
		mov	si, 88Eh
		repe cmpsb
		jz	short loc_2F40

loc_2F2F:
		mov	ax, es:3
		add	bx, ax
		mov	al, es:0
		cmp	al, 4Dh	; 'M'
		jz	short loc_2F17
		mov	bx, 0

loc_2F40:
		mov	ax, bx
		mov	ResPalSeg, ax
		pop	di
		pop	si
		retf
sub_2F0C	endp


; =============== S U B	R O U T	I N E =======================================


sub_2F48	proc far
		push	si
		push	di
		nop
		push	cs
		call	near ptr sub_2F0C
		or	ax, ax
		mov	ax, 2
		jnz	short loc_2FBA
		mov	ax, 5800h
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: get allocation strategy
		mov	dx, ax
		mov	ax, 5801h
		mov	bx, 1
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ah, 48h	; 'H'
		mov	bx, 4
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired
		mov	cx, 0
		jb	short loc_2FB1
		mov	bx, cs
		cmp	bx, ax
		jnb	short loc_2F8C
		mov	es, ax
		assume es:nothing
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed
		mov	ax, 5801h
		mov	bx, 2
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ah, 48h	; 'H'
		mov	bx, 4
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired

loc_2F8C:
		mov	cx, ax
		mov	ResPalSeg, ax
		dec	cx
		mov	es, cx
		assume es:nothing
		mov	ax, 0FFFFh
		mov	es:1, ax
		inc	cx
		mov	es, cx
		assume es:nothing
		cld
		xor	di, di
		mov	si, 88Eh
		mov	cx, 0Ah
		rep movsb
		xor	ax, ax
		stosw
		stosw
		stosw
		mov	cx, 1

loc_2FB1:
		mov	ax, 5801h
		mov	bx, dx
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ax, cx

loc_2FBA:
		pop	di
		pop	si
		retf
sub_2F48	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_2FBE	proc far
		mov	ax, ResPalSeg
		or	ax, ax
		jnz	short loc_2FCE
		nop
		push	cs
		call	near ptr sub_2F0C
		or	ax, ax
		jnz	short locret_2FDA

loc_2FCE:
		mov	es, ax
		assume es:nothing
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed
		mov	ResPalSeg, 0

locret_2FDA:
		retf
sub_2FBE	endp

; ---------------------------------------------------------------------------
		nop
; ---------------------------------------------------------------------------
dword_2FDC	dd 0
byte_2FE0	db 0, 90h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_2FE2	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		cld
		mov	ax, word ptr cs:dword_2FDC
		or	ax, word ptr cs:dword_2FDC+2
		jz	short loc_2FF4
		jmp	loc_3075
; ---------------------------------------------------------------------------

loc_2FF4:
		push	di
		push	si
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_A7A
		push	10h
		call	hmem_allocbyte
		mov	di, ax
		push	ax
		push	0
		push	10h
		push	cs
		call	near ptr sub_9C6
		mov	ax, di
		mov	es, ax
		mov	di, es:0
		mov	si, es:6
		push	ax
		call	hmem_free
		push	di
		call	hmem_allocbyte
		mov	word_116AE, ax
		push	ax
		push	0
		push	di
		push	cs
		call	near ptr sub_9C6
		push	cs
		call	near ptr sub_95A
		mov	cx, di
		mov	ax, word_116AE
		mov	es, ax
		mov	ax, si
		xor	bx, bx

loc_3043:
		xor	es:[bx], al
		sub	al, es:[bx]
		inc	bx
		loop	loc_3043
		pop	si
		pop	di
		mov	ax, 3521h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr cs:dword_2FDC,	bx
		mov	word ptr cs:dword_2FDC+2, es
		mov	word_116AA, 0
		mov	word_116AC, 0FFFFh
		push	ds
		push	cs
		pop	ds
		assume ds:seg000
		mov	dx, 30D6h
		mov	ax, 2521h
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		assume ds:dseg

loc_3075:
		push	si
		push	di
		push	ds
		mov	cx, 0FFFFh
		mov	al, 0
		les	di, [bp+arg_0]
		repne scasb
		not	cx
		sub	di, cx
		mov	si, di
		mov	di, 22EAh
		push	ds
		push	es
		pop	ds
		pop	es
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	4
sub_2FE2	endp


; =============== S U B	R O U T	I N E =======================================


sub_309E	proc far
		mov	ax, word ptr cs:dword_2FDC
		or	ax, word ptr cs:dword_2FDC+2
		jz	short locret_30D5
		push	ds
		lds	dx, cs:dword_2FDC
		mov	ax, 2521h
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		xor	ax, ax
		mov	word ptr cs:dword_2FDC,	ax
		mov	word ptr cs:dword_2FDC+2, ax
		cmp	word_116AA, ax
		jz	short locret_30D5
		push	word_116AA
		call	pfclose
		push	word_116AE
		call	hmem_free

locret_30D5:
		retf
sub_309E	endp

; ---------------------------------------------------------------------------
		cmp	cs:byte_2FE0, 0
		jz	short loc_30E3
		jmp	cs:dword_2FDC
; ---------------------------------------------------------------------------

loc_30E3:
		pusha
		push	ds
		push	es
		mov	bp, sp
		mov	di, seg	dseg
		mov	ds, di
		inc	cs:byte_2FE0
		push	word ptr [bp+18h]
		popf
		mov	cs:byte_313A, ah
		mov	si, 310Ah

loc_30FE:
		add	si, 4
		cmp	ah, cs:[si]
		jnz	short loc_30FE
		mov	di, word_116AC
		jmp	word ptr cs:[si+2]
; ---------------------------------------------------------------------------
		db 3Dh,	0, 3Eh,	31h, 3Eh, 0, 73h, 31h, 3Fh, 0, 91h, 31h
		db 42h,	0, 0A5h, 31h, 46h, 0, 6, 32h, 40h, 0, 0Ah, 32h
		db 45h,	0, 0Ah,	32h, 4Ch, 0, 0E8h, 31h,	57h, 0,	0Ah, 32h
		db 5Ch,	0, 0Ah,	32h, 44h, 0, 0F4h, 31h
byte_313A	db 0
		db    0
		db 0Eh,	32h, 0A8h, 0Fh,	74h, 3,	0E9h, 0C9h, 0, 0Bh, 0FFh
		db 78h,	3, 0E9h, 0C2h, 0, 1Eh, 68h, 0EAh, 22h, 0FFh, 76h
		db 2, 52h, 0Eh,	0E8h, 0DEh, 1, 0Bh, 0C0h, 75h, 3, 0E9h
		db 0AFh, 0, 0A3h, 6Ah, 23h, 8Eh, 0C0h, 26h, 8Eh, 6, 2 dup(0)
		db 26h,	0A1h, 2	dup(0),	0A3h, 6Ch, 23h,	0E9h, 0B6h, 0
		db 3Bh,	0DFh, 74h, 3, 0E9h, 94h, 0, 0FFh, 36h, 6Ah, 23h
		db 0Eh,	0E8h, 68h, 0EDh, 0C7h, 6, 6Ah, 23h, 2 dup(0), 0C7h
		db 6, 6Ch, 23h,	2 dup(0FFh), 0E9h, 98h,	0, 3Bh,	0DFh, 75h
		db 79h,	0FFh, 76h, 2, 52h, 51h,	0FFh, 36h, 6Ah,	23h, 0Eh
		db 0E8h, 12h, 0EEh, 0E9h, 84h, 0, 3Bh, 0DFh, 75h, 65h
		db 0Bh,	0C9h, 7Ch, 73h,	3Ch, 1,	74h, 28h, 7Ch, 1Ah, 8Eh
		db 6, 6Ah, 23h,	26h, 8Bh, 2 dup(16h), 0, 26h, 8Bh, 0Eh
		db 18h,	0, 26h,	2Bh, 16h, 12h, 0, 26h, 1Bh, 0Eh, 14h, 0
		db 0EBh, 0Ch, 51h, 52h,	0FFh, 36h, 6Ah,	23h, 0Eh, 0E8h
		db 0Bh,	0EEh, 5Ah, 59h,	0FFh, 36h, 6Ah,	23h, 51h, 52h
		db 0Eh,	0E8h, 3Bh, 0EEh, 89h, 56h, 0Eh,	0EBh, 41h, 2Eh
		db 0C5h, 16h, 0DCh, 2Fh, 0B8h, 21h, 25h, 0CDh, 21h, 0EBh
		db 1Ah,	8Ah, 0C8h, 0B8h, 1, 0, 0D3h, 0E0h, 2Eh,	85h, 6
		db 4, 32h, 75h,	8, 0EBh, 0Ah, 0CFh, 14h, 8Bh, 0CFh, 74h
		db 16h,	3Bh, 0DFh, 74h,	12h, 2Eh, 0FEh,	0Eh, 0E0h, 2Fh
		db 0FFh, 76h, 18h, 9Dh,	7, 1Fh,	61h, 0FAh, 2Eh,	0FFh, 2Eh
		db 0DCh, 2Fh, 80h, 4Eh,	18h, 1,	0B8h, 1, 0, 0EBh, 4, 80h
		db 66h,	18h, 0FEh, 89h,	46h, 12h, 2Eh, 0FEh, 0Eh, 0E0h
		db 2Fh,	7, 1Fh,	61h, 0CFh, 0

; =============== S U B	R O U T	I N E =======================================


sub_323A	proc far
		mov	cx, 100h
		mov	dx, 188h

loc_3240:
		in	al, dx
		inc	al
		jnz	short loc_324B
		loop	loc_3240
		xor	ax, ax
		jmp	short loc_325F
; ---------------------------------------------------------------------------

loc_324B:
		pushf
		cli
		mov	bh, 7
		call	sub_24DA
		and	al, 3Fh
		or	al, 80h
		mov	bl, al
		call	sub_24C4
		popf
		mov	ax, 1

loc_325F:
		mov	word_F8BC, ax
		retf
sub_323A	endp

; ---------------------------------------------------------------------------
		nop

loc_3264:
		mov	ax, ClipYB_adr
		mov	cs:word_32A6, ax
		mov	ax, trapez_a+6
		mov	cs:word_3317, ax
		mov	ax, trapez_b+6
		mov	cs:word_3325, ax
		mov	ax, trapez_a+2
		mov	cs:word_330F, ax
		mov	ax, trapez_b+2
		mov	cs:word_3321, ax
		mov	ax, ClipXL
		mov	cs:word_32AB, ax
		mov	cs:word_32D5, ax
		mov	ax, ClipXW
		mov	cs:word_32C5, ax
		jmp	short $+2
		push	bp
		mov	cx, trapez_a
		mov	bp, trapez_b
; ---------------------------------------------------------------------------
		db 81h,	0FEh
word_32A6	dw 1234h
		db 77h,	61h, 0B8h
word_32AB	dw 1234h
		db 2Bh,	0C8h, 8Bh, 0DDh, 2Bh, 0D8h, 85h, 0CBh, 78h, 54h
		db 3Bh,	0CBh, 7Fh, 2, 87h, 0CBh, 80h, 0FFh, 80h, 1Bh, 0C0h
		db 23h,	0D8h, 0BFh
word_32C5	dw 1234h
		db 2Bh,	0CFh, 1Bh, 0C0h, 23h, 0C8h, 3, 0CFh, 2Bh, 0CBh
		db 7Ch,	38h, 81h, 0C3h
word_32D5	dw 1234h
		db 8Bh,	0FBh, 0C1h, 0EFh, 4, 0D1h, 0E7h, 3, 0FEh, 83h
		db 0E3h, 0Fh, 3, 0CBh, 83h, 0E9h, 10h, 0D1h, 0E3h, 8Bh
		db 87h,	1Eh, 5,	0F7h, 0D0h, 23h, 6, 98h, 8, 8Bh, 0D9h
		db 83h,	0E3h, 0Fh, 0D1h, 0E3h, 0C1h, 0F9h, 4, 78h, 6, 0ABh
		db 0A1h, 98h, 8, 0F3h, 0ABh, 23h, 87h, 20h, 5, 0ABh, 81h
		db 6, 72h, 1Ah
word_330F	dw 1234h
		db 8Bh,	0Eh, 6Eh, 1Ah, 81h, 0D1h
word_3317	dw 1234h
		db 89h,	0Eh, 6Eh, 1Ah, 81h, 6, 7Ah, 1Ah
word_3321	dw 1234h
		db 81h,	0D5h
word_3325	dw 1234h
		db 83h,	0C6h, 50h, 4Ah,	78h, 3,	0E9h, 74h, 0FFh, 89h, 2Eh
		db 76h,	1Ah, 5Dh, 0C3h,	0C8h, 3	dup(0),	56h, 57h, 0C7h
		db 6, 64h, 8, 7, 0, 6Ah, 1Fh, 0Eh, 0E8h, 0Ah, 0F4h, 0Fh
		db 82h,	0F6h, 0, 8Bh, 0F0h, 0FFh, 76h, 0Ch, 0FFh, 76h
		db 0Ah,	0Eh, 0E8h, 4Ch,	0D3h, 0Bh, 0C0h, 0Fh, 84h, 0DDh
		db 0, 8Eh, 0C6h, 26h, 0A3h, 2 dup(0), 0A1h, 6Eh, 23h, 8Eh
		db 0E0h, 33h, 0C0h, 8Bh, 0F8h, 64h, 8Ah, 5, 0BBh, 2, 0
		db 0Ah,	0C0h, 74h, 18h,	0BBh, 3, 0, 3, 0DFh, 0FFh, 76h
		db 8, 0FFh, 76h, 6, 0Fh, 0A0h, 53h, 0E8h, 0C8h,	0, 75h
		db 7, 83h, 0C7h, 20h, 0EBh, 0DEh, 8Bh, 0C3h, 8Eh, 0C6h
		db 64h,	8Bh, 45h, 14h, 64h, 8Bh, 55h, 16h, 26h,	0A3h, 0Eh
		db 0, 26h, 89h,	16h, 10h, 0, 26h, 0FFh,	36h, 2 dup(0)
		db 52h,	50h, 6Ah, 0, 0Eh, 0E8h,	0B9h, 0D3h, 0B8h, 62h
		db 1Fh,	64h, 8Ah, 55h, 2, 8Eh, 0C6h, 0Ah, 0D2h,	74h, 8
		db 26h,	88h, 16h, 1Eh, 0, 0B8h,	0A6h, 1Fh, 26h,	0A3h, 4
		db 0, 8Eh, 0C1h, 64h, 8Bh, 5, 8Eh, 0C6h, 3Dh, 88h, 0F3h
		db 74h,	0Ah, 3Dh, 2 dup(95h), 74h, 0Fh,	0B8h, 5, 0, 0EBh
		db 4Fh,	26h, 0A1h, 4, 0, 26h, 0A3h, 2, 0, 0EBh,	15h, 26h
		db 0C7h, 6, 2, 0, 14h, 1Fh, 26h, 0C7h, 6, 1Ah, 3 dup(0)
		db 26h,	0C7h, 6, 1Ch, 0, 2 dup(0FFh), 64h, 8Bh,	5Dh, 10h
		db 64h,	8Bh, 55h, 12h, 33h, 0C0h, 26h, 89h, 1Eh, 6, 0
		db 26h,	0A3h, 8, 0, 26h, 89h, 2	dup(16h), 0, 26h, 0A3h
		db 18h,	0, 26h,	0A3h, 0Ah, 0, 26h, 0A3h, 0Ch, 0, 26h, 0A3h
		db 12h,	0, 26h,	0A3h, 14h, 0, 8Bh, 0C6h, 0EBh, 1Ah, 0A3h
		db 0C0h, 5, 26h, 0FFh, 36h, 2 dup(0), 0Eh, 0E8h, 23h, 0D1h
		db 56h,	0Eh, 0E8h, 16h,	0F4h, 0EBh, 5, 0C6h, 6,	0C0h, 5
		db 3, 33h, 0C0h, 5Fh, 5Eh, 0C9h, 0CAh, 8, 0, 90h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	ds
		cld
		les	bx, [bp+8]
		lds	si, [bp+4]

loc_345C:
		mov	ah, es:[bx]
		inc	bx
		lodsb
		sub	al, 61h	; 'a'
		cmp	al, 19h
		ja	short loc_3469
		sub	al, 20h	; ' '

loc_3469:
		sub	ah, 61h	; 'a'
		cmp	ah, 19h
		ja	short loc_3474
		sub	ah, 20h	; ' '

loc_3474:
		cmp	ah, al
		jnz	short loc_347E
		add	al, 61h	; 'a'
		jnz	short loc_345C
		jmp	short loc_3480
; ---------------------------------------------------------------------------

loc_347E:
		xor	ax, ax

loc_3480:
		test	ax, ax
		pop	ds
		pop	si
		pop	bp
		retn	8

; =============== S U B	R O U T	I N E =======================================


sub_3488	proc near
		mov	bh, 0Fh
		call	sub_24C4
		mov	dx, 188h
		mov	al, 0Eh
		out	dx, al
		inc	dx
		inc	dx
		in	al, dx
		not	al
		retn
sub_3488	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_349A	proc far
		pushf
		cli
		mov	bl, 80h	; '€'
		call	sub_3488
		and	ax, 3Fh
		popf
		retf
sub_349A	endp

; ---------------------------------------------------------------------------
		xchg	dx, bx
		out	dx, al
		xchg	dx, bx
		in	al, dx
		not	al
		retn
; ---------------------------------------------------------------------------

include libs/master.lib/bgm_bell_org.asm
include libs/master.lib/bgm_mget.asm
include libs/master.lib/bgm_read_sdata.asm
include libs/master.lib/bgm_timer.asm
include libs/master.lib/bgm_pinit.asm
include libs/master.lib/bgm_timerhook.asm
include libs/master.lib/bgm_play.asm
include libs/master.lib/bgm_sound.asm
include libs/master.lib/bgm_effect_sound.asm
include libs/master.lib/bgm_stop_play.asm
include libs/master.lib/bgm_set_tempo.asm
include libs/master.lib/bgm_init_finish.asm
include libs/master.lib/bgm_stop_sound.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3D8A	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	es, graph_VramSeg
		assume es:nothing
		mov	cx, [bp+arg_A]
		mov	di, [bp+arg_8]
		mov	bx, [bp+arg_6]
		lds	si, [bp+arg_2]
		mov	dx, [bp+arg_0]
		mov	bp, bx
		mov	ax, di
		shl	ax, 2
		add	di, ax
		shl	di, 4
		mov	al, 0C0h ; 'À'
		pushf
		cli
		out	7Ch, al
		popf
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		mov	al, 0Bh
		out	68h, al

loc_3DD2:
		lodsb
		or	al, al
		jz	short loc_3E24
		mov	ah, 0
		add	ax, 5680h
		and	ax, 0FF7Fh
		mov	bx, cx
		and	cx, 7
		shr	bx, 3
		add	di, bx
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	dx, 10h
		xor	ch, ch

loc_3DF4:
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, ch
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	bh, al
		mov	bl, 0
		shr	ax, cl
		shr	bx, cl
		xchg	al, ah
		stosw
		mov	es:[di], bl
		add	di, 4Eh	; 'N'
		inc	ch
		dec	dx
		jnz	short loc_3DF4
		sub	di, 500h
		xor	ch, ch
		add	cx, bp
		jmp	short loc_3DD2
; ---------------------------------------------------------------------------

loc_3E24:
		mov	al, 0Ah
		out	68h, al
		xor	al, al
		out	7Ch, al
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ch
sub_3D8A	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3E34	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	di
		mov	cx, [bp+arg_6]
		mov	di, [bp+arg_4]
		mov	dx, [bp+arg_0]
		mov	bp, [bp+arg_2]
		add	bp, 5680h
		and	bp, 0FF7Fh
		pushf
		mov	al, 0C0h ; 'À'
		cli
		out	7Ch, al
		popf
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		mov	al, 0Bh
		out	68h, al
		mov	ax, di
		shl	ax, 2
		add	di, ax
		shl	di, 4
		mov	ax, cx
		and	cx, 7
		shr	ax, 3
		add	di, ax
		mov	es, graph_VramSeg
		mov	ax, bp
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	dx, 10h
		xor	ch, ch

loc_3E94:
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, ch
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	bh, al
		mov	bl, 0
		shr	ax, cl
		shr	bx, cl
		xchg	al, ah
		stosw
		mov	es:[di], bl
		add	di, 4Eh	; 'N'
		inc	ch
		dec	dx
		jnz	short loc_3E94
		mov	al, 0Ah
		out	68h, al
		xor	al, al
		out	7Ch, al
		pop	di
		pop	bp
		retf	8
sub_3E34	endp

; ---------------------------------------------------------------------------
		nop

include libs/BorlandC/__abort.asm
include libs/BorlandC/stpcpy.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; void abort(void)
_abort		proc far
					; ___call_terminate+6Ep ...
		push	si
		push	di
		mov	ax, 16h
		push	ax
		nop
		call	raise
		pop	cx
		nop
		push	cs
		call	near ptr __abort
_abort		endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

include libs/BorlandC/atexit.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl registerbgidriver(void (*driver)(void))
_registerbgidriver proc	far
					; seg000:46B4p	...

driver		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_2]
		push	[bp+driver]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
_registerbgidriver endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl registerbgifont(void (*font)(void))
_registerbgifont proc far

driver		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
_registerbgifont endp

include libs/BorlandC/dosenv.asm
include libs/BorlandC/dosgdriv.asm
include libs/BorlandC/errormsg.asm
include libs/BorlandC/exit.asm
include libs/BorlandC/f_scopy.asm
include libs/BorlandC/getvect.asm
include libs/BorlandC/H_LDIV.ASM
include libs/BorlandC/H_LLSH.ASM
include libs/BorlandC/H_PADD.ASM
include libs/BorlandC/__IOERROR.ASM
include libs/BorlandC/_isatty.asm
include libs/BorlandC/lseek.asm

; ---------------------------------------------------------------------------
		dd byte_4634
		db 4, 0, 0FAh, 0FFh, 0Ah dup(0), 0DCh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	9, 44h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 24h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 4417h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax
		push	ax
		push	ax
		push	ax
		mov	ax, 5
		push	ax
		mov	ax, seg	seg000
		push	ax
		mov	ax, 450Fh
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	ds
		mov	ax, 1712h
		push	ax
		push	ss
		lea	ax, [bp-6]
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		mov	ax, word_10A56
		mov	[bp-2],	ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp-6]
		push	ss
		push	ax
		push	cs
		mov	ax, 4634h
		push	ax
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_new_handler(void (*)(void))
@set_new_handler$qnqv$v	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	dx, seg_10A5A
		mov	ax, word_10A58
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	seg_10A5A, dx
		mov	word_10A58, ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_new_handler$qnqv$v	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; operator new(unsigned	int)
@$bnew$qui	proc far
					; xmsg::xmsg(string &)+21p ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		cmp	[bp+arg_0], 0
		jz	short loc_44DB
		mov	ax, [bp+arg_0]
		jmp	short loc_44DE
; ---------------------------------------------------------------------------

loc_44DB:
		mov	ax, 1

loc_44DE:
		mov	[bp+arg_0], ax
		jmp	short loc_44E7
; ---------------------------------------------------------------------------

loc_44E3:
		call	dword ptr word_10A58

loc_44E7:
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jnz	short loc_4503
		mov	ax, word_10A58
		or	ax, seg_10A5A
		jnz	short loc_44E3

loc_4503:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@$bnew$qui	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+0Ah]
		mov	ax, es:[bx+4]
		les	bx, [bp+6]
		mov	es:[bx+4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0

; =============== S U B	R O U T	I N E =======================================


sub_4548	proc far
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
sub_4548	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		dd byte_4634
		dw 0
		dd unk_10A52
		dd byte_45FA
		db 4, 0, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	52h, 45h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::contains(char	const *)const
@string@contains$xqnxc proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
driver		= byte ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 456Ah
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_16], 6
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 171Ch
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		call	@string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ds
		mov	ax, 1712h
		push	ax
		nop
		push	cs
		call	near ptr @xalloc@$bctr$qmx6stringui ; xalloc::xalloc(string &,uint)
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 10h
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@contains$xqnxc endp

; ---------------------------------------------------------------------------

loc_45D3:
		push	si
		push	di
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 1712h
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
byte_45FA	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
		db 0Dh dup(0), 1, 0, 1,	0, 8, 3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_4634	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 76h,	46h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0C3h, 46h
		dw seg seg000
		dw 0
		db 3, 0Dh dup(0)
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_46BD
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_46BB
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_46BF
; ---------------------------------------------------------------------------

loc_46BB:
		jmp	short loc_46BF
; ---------------------------------------------------------------------------

loc_46BD:
		xor	ax, ax

loc_46BF:
					; seg000:loc_46BBj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 52h,	67h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)

include libs/BorlandC/N_LXMUL.ASM
include libs/BorlandC/N_PCMP.ASM
include libs/BorlandC/setupio.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl toupper(int ch)
_toupper	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_0]
		cmp	dx, 0FFFFh
		jnz	short loc_47E9
		mov	ax, 0FFFFh
		jmp	short loc_4803
; ---------------------------------------------------------------------------

loc_47E9:
		mov	al, dl
		mov	ah, 0
		mov	bx, ax
		test	(__ctype+1)[bx], 8
		jz	short loc_47FF
		mov	al, dl
		mov	ah, 0
		add	ax, 0FFE0h
		jmp	short loc_4803
; ---------------------------------------------------------------------------

loc_47FF:
		mov	al, dl
		mov	ah, 0

loc_4803:
		pop	di
		pop	si
		pop	bp
		retf
_toupper	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __RefDestructorCount(void)
@__RefDestructorCount$qv proc far
		mov	dx, ss
		mov	ax, 10h
		retf
@__RefDestructorCount$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __RefExceptionList(void)
@__RefExceptionList$qv proc far
					; ___ExitExceptBlocks+4p
		mov	dx, ss
		mov	ax, 14h
		retf
@__RefExceptionList$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

___InitExceptBlocks proc far
					; string::contains(char	*)+10p	...
		mov	es, ax
		mov	dx, bx
		mov	cx, bp
		mov	bx, es:[bx+4]
		add	bx, cx
		mov	ss:[bx+6], dx
		mov	ss:[bx+8], ax
		mov	ax, sp
		add	ax, 4
		mov	ss:[bx+0Ah], ax
		mov	ax, seg	dseg
		mov	ss:[bx+0Eh], ax
		mov	ss:[bx+10h], si
		mov	word ptr ss:[bx+2], offset __ExceptionHandler
		mov	word ptr ss:[bx+4], seg	seg000
		mov	word ptr ss:[bx+0Ch], 0
		mov	word ptr ss:[bx+12h], 0
		push	bx
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		pop	bx
		xchg	ax, bx
		mov	es, dx
		mov	cx, es:[bx]
		mov	dx, es:[bx+2]
		mov	bx, ax
		mov	ss:[bx+1Ah], cx
		mov	ss:[bx+1Ch], dx
		push	bx
		push	cs
		call	near ptr @__RefExceptionList$qv	; __RefExceptionList(void)
		pop	bx
		xchg	ax, bx
		mov	es, dx
		mov	cx, es:[bx]
		mov	es:[bx], ax
		mov	bx, ax
		mov	ss:[bx], cx
		retf
___InitExceptBlocks endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

___ExitExceptBlocks proc far
					; seg000:4982p	...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	cs
		call	near ptr @__RefExceptionList$qv	; __RefExceptionList(void)
		mov	bx, [bp+arg_0]
		xchg	ax, bx
		mov	es, dx
		mov	es:[bx], ax
		pop	bp
		retf	2
___ExitExceptBlocks endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; terminate(void)
@terminate$qv	proc near
		push	si
		push	di
		nop
		push	cs
		call	near ptr _abort
@terminate$qv	endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_terminate(void (*)(void))
@set_terminate$qnqv$v proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_48D6
		les	bx, ss:16h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+0Ch], dx
		mov	es:[bx+0Ah], ax

loc_48D6:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_terminate$qnqv$v endp

; ---------------------------------------------------------------------------
		db 4 dup(0), 70h, 49h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 0E2h, 48h
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

___call_terminate proc far
					; sub_74C7+272p ...

var_26		= dword	ptr -26h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_12		= word ptr -12h

		push	bp
		mov	bp, sp
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 48FAh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_22], ds
		nop
		push	cs
		call	near ptr _flushall
		les	bx, ss:16h
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax
		mov	[bp+var_12], 6
		les	bx, ss:16h
		cmp	word ptr es:[bx+12h], 0
		jnz	short loc_4954
		les	bx, ss:16h
		mov	word ptr es:[bx+12h], ds

loc_4954:
		les	bx, ss:16h
		mov	ax, es:[bx+12h]
		mov	[bp+var_20], ax
		mov	ds, [bp+var_20]
		call	[bp+var_26]
		mov	ds, [bp+var_22]
		mov	[bp+var_12], 0
		jmp	short loc_4978
; ---------------------------------------------------------------------------
		mov	ds, [bp+var_22]
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_4978:
		nop
		push	cs
		call	near ptr _abort
___call_terminate endp

; ---------------------------------------------------------------------------
		push	word ptr [bp-1Eh]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; unexpected(void)
@unexpected$qv	proc near
		push	si
		push	di
		push	cs
		call	near ptr ___call_terminate
@unexpected$qv	endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_unexpected(void (*)(void))
@set_unexpected$qnqv$v proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_49CA
		les	bx, ss:16h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+10h], dx
		mov	es:[bx+0Eh], ax

loc_49CA:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_unexpected$qnqv$v endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

___call_unexpected proc	far

var_6		= dword	ptr -6
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		les	bx, ss:16h
		cmp	word ptr es:[bx+14h], 0
		jnz	short loc_4A06
		les	bx, ss:16h
		mov	word ptr es:[bx+14h], ds

loc_4A06:
		les	bx, ss:16h
		mov	ax, es:[bx+14h]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		call	[bp+var_6]
		pop	ds
		nop
		push	cs
		call	near ptr _abort
___call_unexpected endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __GetPolymorphicDTC(void *, unsigned int)
@__GetPolymorphicDTC$qnvui proc	far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_4A39
		xor	ax, ax
		jmp	short loc_4A73
; ---------------------------------------------------------------------------

loc_4A39:
		les	bx, [bp+arg_0]
		add	bx, [bp+arg_4]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx+1Ah]

loc_4A73:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetPolymorphicDTC$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __GetPolymorphicDTCfar(void *, unsigned int)
@__GetPolymorphicDTCfar$qnvui proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_4A8D
		xor	ax, ax
		jmp	short loc_4ACB
; ---------------------------------------------------------------------------

loc_4A8D:
		les	bx, [bp+arg_0]
		add	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx+1Ah]

loc_4ACB:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetPolymorphicDTCfar$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

__ExceptInit	proc far
		push	si
		push	di
		mov	word ptr ss:12h, 0
		mov	word ptr ss:10h, 0
		mov	word ptr ss:18h, ds
		mov	word ptr ss:16h, 182Eh
		mov	word ptr ss:1Ah, 0FEEDh
		mov	ax, ds
		mov	word_10B82, ax
		mov	word_10B80, ax
		mov	dx, ss:18h
		mov	ax, ss:16h
		add	ax, 0A8h ; '¨'
		les	bx, ss:16h
		mov	es:[bx+22h], dx
		mov	es:[bx+20h], ax
		mov	word ptr ss:14h, 0FFFFh
		pop	di
		pop	si
		retf
__ExceptInit	endp

; ---------------------------------------------------------------------------

unknown_libname_1:			; BCC v4.x/5.x DOS runtime
		pushf
		pop	bx
		mov	ax, 0FFFh
		and	ax, bx
		push	ax
		popf
		pushf
		pop	ax
		and	ax, 0F000h
		cmp	ax, 0F000h
		mov	word_10C96, 0
		jz	short locret_4B7A
		or	bx, 0F000h
		push	bx
		popf
		pushf
		pop	ax
		and	ax, 0F000h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_4B43	proc near
		mov	word_10C96, 2
		jz	short locret_4B7A
		mov	edx, esp
		and	sp, 0FFFCh
		pushfd
		pop	eax
		mov	ecx, eax
		xor	eax, 40000h
		push	eax
		popfd
		pushfd
		pop	eax
		xor	eax, ecx
		mov	word_10C96, 3
		mov	esp, edx
		jz	short locret_4B7A
		mov	word_10C96, 4

locret_4B7A:
		retn
sub_4B43	endp

; ---------------------------------------------------------------------------

include libs/BorlandC/FARHEAP.ASM
include libs/BorlandC/fbrk.asm
include libs/BorlandC/signal.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far _access(char *pathname, char)
__access	proc far

pathname	= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax		; func
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		call	__chmod
		add	sp, 6
		mov	dx, ax
		cmp	dx, 0FFFFh
		jnz	short loc_5456
		jmp	short loc_546E
; ---------------------------------------------------------------------------

loc_5456:
		test	[bp+arg_4], 2
		jz	short loc_5461
		test	dl, 1
		jnz	short loc_5465

loc_5461:
		xor	ax, ax
		jmp	short loc_546E
; ---------------------------------------------------------------------------

loc_5465:
		mov	_errno, 5
		mov	ax, 0FFFFh

loc_546E:
		pop	di
		pop	si
		pop	bp
		retf
__access	endp

; ---------------------------------------------------------------------------
		db 50h,	51h, 52h, 53h, 54h, 55h, 56h, 57h, 1Eh,	6, 8Bh
		db 0ECh, 0A1h, 80h, 19h, 0Bh, 6, 82h, 19h, 75h,	27h, 0BEh
		db 2 dup(0FFh),	1Eh, 0B8h, 0, 63h, 0F8h, 0CDh, 21h, 8Ch
		db 0D8h, 1Fh, 72h, 0Bh,	8Ch, 0DAh, 3Bh,	0C2h, 74h, 5, 83h
		db 0FEh, 0FFh, 75h, 6, 0BEh, 84h, 19h, 0B8h
		dw seg dseg
; ---------------------------------------------------------------------------
		mov	word ptr dword_10CC0, si
		mov	word ptr dword_10CC0+2,	ax
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_54BB	proc far
					; sub_58C5+284p ...

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	al, [bp+arg_0]
		xor	cx, cx
		les	bx, dword_10CC0

loc_54C9:
		mov	dx, es:[bx]
		or	dx, dx
		jz	short loc_54DB
		cmp	al, dl
		jb	short loc_54DB
		inc	bx
		inc	bx
		cmp	al, dh
		ja	short loc_54C9
		inc	cx

loc_54DB:
		xchg	ax, cx
		pop	di
		pop	si
		pop	bp
		retf
sub_54BB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_54E0	proc far
					; sub_58C5+1AEp ...

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		xor	cx, cx
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_54F6:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5503
		xor	cx, cx
		jmp	short loc_5531
; ---------------------------------------------------------------------------

loc_5503:
		cmp	cx, 1
		jnz	short loc_550D
		mov	cx, 2
		jmp	short loc_5524
; ---------------------------------------------------------------------------

loc_550D:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr sub_54BB
		pop	cx
		or	ax, ax
		jz	short loc_5522
		mov	cx, 1
		jmp	short loc_5524
; ---------------------------------------------------------------------------

loc_5522:
		xor	cx, cx

loc_5524:
		mov	ax, word ptr [bp+var_4]
		cmp	ax, [bp+arg_4]
		jnb	short loc_5531
		inc	word ptr [bp+var_4]
		jmp	short loc_54F6
; ---------------------------------------------------------------------------

loc_5531:
		or	cx, cx
		jnz	short loc_553A
		mov	ax, 1
		jmp	short loc_553C
; ---------------------------------------------------------------------------

loc_553A:
		xor	ax, ax

loc_553C:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_54E0	endp

include libs/BorlandC/chmoda.asm
include libs/BorlandC/fflush.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int flushall(void)
_flushall	proc far
					; _fflush+12p

var_8		= word ptr -8
var_6		= word ptr -6
stream		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	[bp+var_8], 0
		mov	ax, __nfile
		mov	[bp+var_6], ax
		mov	word ptr [bp+stream+2],	ds
		mov	word ptr [bp+stream], 14FCh
		jmp	short loc_566D
; ---------------------------------------------------------------------------

loc_5651:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 3
		jz	short loc_5669
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		call	_fflush
		pop	cx
		pop	cx
		inc	[bp+var_8]

loc_5669:
		add	word ptr [bp+stream], 14h

loc_566D:
		mov	ax, [bp+var_6]
		dec	[bp+var_6]
		or	ax, ax
		jnz	short loc_5651
		mov	ax, [bp+var_8]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_flushall	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_5680	proc near

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jge	short loc_569D
		mov	cx, es:[bx+6]
		add	cx, es:[bx]
		inc	cx
		mov	ax, cx
		jmp	short loc_56AA
; ---------------------------------------------------------------------------

loc_569D:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax

loc_56AA:
		mov	[bp+var_2], ax
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+2], 40h
		jnz	short loc_56FE
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Eh]
		mov	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		cmp	word ptr es:[bx], 0
		jge	short loc_56F7
		jmp	short loc_56DF
; ---------------------------------------------------------------------------

loc_56D0:
		dec	word ptr [bp+var_6]
		les	bx, [bp+var_6]
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_56DF
		inc	[bp+var_2]

loc_56DF:
		mov	ax, cx
		dec	cx
		or	ax, ax
		jnz	short loc_56D0
		jmp	short loc_56FE
; ---------------------------------------------------------------------------

loc_56E8:
		les	bx, [bp+var_6]
		inc	word ptr [bp+var_6]
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_56F7
		inc	[bp+var_2]

loc_56F7:
		mov	ax, cx
		dec	cx
		or	ax, ax
		jnz	short loc_56E8

loc_56FE:
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	4
sub_5680	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl fseek(FILE *stream, __int32 offset, int whence)
_fseek		proc far

stream		= dword	ptr  6
_offset		= dword	ptr  0Ah
whence		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		nop
		call	_fflush
		pop	cx
		pop	cx
		or	ax, ax
		jz	short loc_5724
		mov	ax, 0FFFFh
		jmp	short loc_5787
; ---------------------------------------------------------------------------

loc_5724:
		cmp	[bp+whence], 1
		jnz	short loc_5741
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jle	short loc_5741
		push	word ptr [bp+stream+2]
		push	bx
		call	sub_5680
		cwd
		sub	word ptr [bp+_offset], ax
		sbb	word ptr [bp+_offset+2],	dx

loc_5741:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FE5Fh
		mov	word ptr es:[bx], 0
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		push	[bp+whence]	; fromwhere
		push	word ptr [bp+_offset+2]
		push	word ptr [bp+_offset] ; offset
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		cmp	dx, 0FFFFh
		jnz	short loc_5785
		cmp	ax, 0FFFFh
		jnz	short loc_5785
		mov	ax, 0FFFFh
		jmp	short loc_5787
; ---------------------------------------------------------------------------

loc_5785:
		xor	ax, ax

loc_5787:
		pop	di
		pop	si
		pop	bp
		retf
_fseek		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __int32 __cdecl ftell(FILE *stream)
_ftell		proc far

var_8		= word ptr -8
var_6		= word ptr -6
_offset		= dword	ptr -4
stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, 1
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	word ptr [bp+_offset+2],	dx
		mov	word ptr [bp+_offset], ax
		cmp	dx, 0FFFFh
		jnz	short loc_57BF
		cmp	ax, 0FFFFh
		jnz	short loc_57BF
		jmp	loc_5860
; ---------------------------------------------------------------------------

loc_57BF:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jl	short loc_57CB
		jmp	loc_5850
; ---------------------------------------------------------------------------

loc_57CB:
		mov	al, es:[bx+4]
		cbw
		add	ax, ax
		mov	bx, ax
		test	byte ptr [bx+168Fh], 8
		jz	short loc_583E
		mov	ax, 2
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		mov	bx, word ptr [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		cmp	dx, 0FFFFh
		jnz	short loc_5806
		cmp	ax, 0FFFFh
		jnz	short loc_5806
		jmp	short loc_5866
; ---------------------------------------------------------------------------

loc_5806:
		xor	ax, ax
		push	ax		; fromwhere
		push	word ptr [bp+_offset+2]
		push	word ptr [bp+_offset] ; offset
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		cmp	dx, 0FFFFh
		jnz	short loc_5832
		cmp	ax, 0FFFFh
		jnz	short loc_5832
		mov	dx, 0FFFFh
		mov	ax, 0FFFFh
		jmp	short loc_5866
; ---------------------------------------------------------------------------

loc_5832:
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr [bp+_offset+2],	dx
		mov	word ptr [bp+_offset], ax

loc_583E:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream]
		call	sub_5680
		cwd
		add	word ptr [bp+_offset], ax
		adc	word ptr [bp+_offset+2],	dx
		jmp	short loc_5860
; ---------------------------------------------------------------------------

loc_5850:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream]
		call	sub_5680
		cwd
		sub	word ptr [bp+_offset], ax
		sbb	word ptr [bp+_offset+2],	dx

loc_5860:
		mov	dx, word ptr [bp+_offset+2]
		mov	ax, word ptr [bp+_offset]

loc_5866:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_ftell		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_586C	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		cmp	ax, 5Ch	; '\'
		jz	short loc_587E
		cmp	ax, 2Fh	; '/'
		jnz	short loc_5883

loc_587E:
		mov	ax, 1
		jmp	short loc_5885
; ---------------------------------------------------------------------------

loc_5883:
		xor	ax, ax

loc_5885:
		pop	di
		pop	si
		pop	bp
		retn	2
sub_586C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_588B	proc near
					; sub_58C5+15Bp ...

arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		mov	ah, 0
		push	ax
		call	sub_586C
		or	ax, ax
		jz	short loc_58BD
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		nop
		push	cs
		call	near ptr sub_54E0
		add	sp, 8
		or	ax, ax
		jz	short loc_58BD
		mov	ax, 1
		jmp	short loc_58BF
; ---------------------------------------------------------------------------

loc_58BD:
		xor	ax, ax

loc_58BF:
		pop	di
		pop	si
		pop	bp
		retn	8
sub_588B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_58C5	proc far

drive		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
src		= dword	ptr -0Ch
dest		= dword	ptr -8
s		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 12h
		push	si
		push	di
		mov	ax, 0A1h ; '¡'
		push	ax
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+s+2], dx
		mov	word ptr [bp+s], ax
		or	ax, dx
		jnz	short loc_58E4
		jmp	loc_5B27
; ---------------------------------------------------------------------------

loc_58E4:
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+src]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+172Dh], 0Ch
		jz	short loc_5924
		mov	bx, word ptr [bp+src]
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jnz	short loc_5924
		mov	al, es:[bx]
		cbw
		mov	[bp+var_10], ax
		push	ax		; ch
		nop
		push	cs
		call	near ptr _toupper
		pop	cx
		add	ax, 0FFC0h
		mov	[bp+drive], ax
		add	word ptr [bp+src], 2
		jmp	short loc_593A
; ---------------------------------------------------------------------------

loc_5924:
		push	ss
		lea	ax, [bp+drive]
		push	ax		; drive
		nop
		call	__dos_getdrive
		pop	cx
		pop	cx
		mov	ax, [bp+drive]
		add	ax, 41h	; 'A'
		dec	ax
		mov	[bp+var_10], ax

loc_593A:
		les	bx, [bp+src]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_586C
		or	ax, ax
		jnz	short loc_59A2
		mov	ax, 0A1h ; '¡'
		push	ax		; len
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; buf
		push	[bp+drive]	; drive
		nopcall	__getdcwd
		add	sp, 8
		or	ax, dx
		jnz	short loc_5972
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	loc_5B27
; ---------------------------------------------------------------------------

loc_5972:
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	dx, word ptr [bp+s+2]
		add	ax, word ptr [bp+s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		push	dx
		push	word ptr [bp+s]
		dec	ax
		push	dx
		push	ax
		call	sub_588B
		or	ax, ax
		jnz	short loc_59C4
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		jmp	short loc_59C1
; ---------------------------------------------------------------------------

loc_59A2:
		mov	dx, word ptr [bp+s+2]
		mov	ax, word ptr [bp+s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_10]
		mov	es:[bx], al
		inc	word ptr [bp+dest]
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 3Ah ;	':'

loc_59C1:
		inc	word ptr [bp+dest]

loc_59C4:
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	dx, word ptr [bp+s+2]
		mov	ax, word ptr [bp+s]
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax

loc_59EA:
					; sub_58C5+298j ...
		les	bx, [bp+src]
		inc	word ptr [bp+src]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_E], ax
		or	ax, ax
		jz	short loc_5A06
		push	ax
		call	sub_586C
		or	ax, ax
		jnz	short loc_5A06
		jmp	loc_5B38
; ---------------------------------------------------------------------------

loc_5A06:
					; sub_58C5+13Cj
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_5A2D
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		mov	ax, word ptr [bp+dest]
		add	ax, 0FFFEh
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_588B
		or	ax, ax
		jz	short loc_5A2D
		sub	word ptr [bp+dest], 2
		jmp	short loc_5AA4
; ---------------------------------------------------------------------------

loc_5A2D:
					; sub_58C5+160j
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_5AA4
		cmp	byte ptr es:[bx-2], 2Eh	; '.'
		jnz	short loc_5AA4
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		mov	ax, word ptr [bp+dest]
		add	ax, 0FFFDh
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_588B
		or	ax, ax
		jz	short loc_5AA4
		sub	word ptr [bp+dest], 3
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_5A8D
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr sub_54E0
		add	sp, 8
		or	ax, ax
		jz	short loc_5A8D
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	loc_5B27
; ---------------------------------------------------------------------------

loc_5A8D:
					; sub_58C5+1B6j ...
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		dec	word ptr [bp+dest]
		mov	ax, word ptr [bp+dest]
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_588B
		or	ax, ax
		jz	short loc_5A8D

loc_5AA4:
					; sub_58C5+170j ...
		cmp	[bp+var_E], 0
		jz	short loc_5AAD
		jmp	loc_5B2D
; ---------------------------------------------------------------------------

loc_5AAD:
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		call	sub_588B
		or	ax, ax
		jz	short loc_5AC5
		dec	word ptr [bp+dest]

loc_5AC5:
		les	bx, [bp+dest]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_5AF3
		mov	ax, word ptr [bp+dest]
		dec	ax
		push	word ptr [bp+dest+2]
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr sub_54E0
		add	sp, 8
		or	ax, ax
		jz	short loc_5AF3
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		inc	word ptr [bp+dest]

loc_5AF3:
					; sub_58C5+222j
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 0
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		inc	ax
		mov	dx, ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_5B15
		jmp	loc_5B99
; ---------------------------------------------------------------------------

loc_5B15:
		cmp	dx, [bp+arg_8]
		jbe	short loc_5B72
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_5B27:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_5BA8
; ---------------------------------------------------------------------------

loc_5B2D:
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		jmp	short loc_5B6C
; ---------------------------------------------------------------------------

loc_5B38:
		les	bx, [bp+dest]
		mov	al, byte ptr [bp+var_E]
		mov	es:[bx], al
		inc	word ptr [bp+dest]
		push	[bp+var_E]
		nop
		push	cs
		call	near ptr sub_54BB
		pop	cx
		or	ax, ax
		jnz	short loc_5B54
		jmp	loc_59EA
; ---------------------------------------------------------------------------

loc_5B54:
		les	bx, [bp+src]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5B60
		jmp	loc_59EA
; ---------------------------------------------------------------------------

loc_5B60:
		mov	al, es:[bx]
		les	bx, [bp+dest]
		mov	es:[bx], al
		inc	word ptr [bp+src]

loc_5B6C:
		inc	word ptr [bp+dest]
		jmp	loc_59EA
; ---------------------------------------------------------------------------

loc_5B72:
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; src
		push	[bp+arg_2]
		push	[bp+arg_0]	; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 0Ch
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		jmp	short loc_5BA8
; ---------------------------------------------------------------------------

loc_5B99:
		push	dx
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		nop
		push	cs
		call	near ptr _realloc
		add	sp, 6

loc_5BA8:
					; sub_58C5+2D2j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_58C5	endp

include libs/BorlandC/getdcwd.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; char *__cdecl	getenv(const char *name)
_getenv		proc far
					; sub_A4F2+126p

var_4		= dword	ptr -4
_name		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	di, [bp+_name]
		mov	ax, es
		or	ax, di
		jz	short loc_5C7C
		mov	al, 0
		mov	ah, es:[di]
		mov	cx, 0FFFFh
		cld
		repne scasb
		not	cx
		dec	cx
		jz	short loc_5C7C
		les	di, environ@
		mov	word ptr [bp+var_4+2], es
		mov	bx, es
		or	bx, di
		mov	word ptr [bp+var_4], di
		jnz	short loc_5C89

loc_5C7C:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_5CB5
; ---------------------------------------------------------------------------

loc_5C82:
		add	word ptr [bp+var_4], 4
		les	di, [bp+var_4]

loc_5C89:
		les	di, es:[di]
		mov	bx, es
		or	bx, di
		jz	short loc_5C7C
		mov	al, es:[di]
		or	al, al
		jz	short loc_5C7C
		cmp	ah, al
		jnz	short loc_5C82
		mov	bx, cx
		cmp	byte ptr es:[bx+di], 3Dh ; '='
		jnz	short loc_5C82
		push	ds
		lds	si, [bp+_name]
		repe cmpsb
		pop	ds
		xchg	cx, bx
		jnz	short loc_5C82
		inc	di
		mov	ax, di
		mov	dx, es

loc_5CB5:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_getenv		endp

include libs/BorlandC/memcmp.asm
include libs/BorlandC/memcpy.asm
include libs/BorlandC/memset.asm
include libs/BorlandC/movmem.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl _searchenv(const	char *file, const char *varname, char *pathname)
__searchenv	proc far

var_4		= dword	ptr -4
src		= dword	ptr  6
varname		= dword	ptr  0Ah
pathname	= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	word ptr [bp+varname+2]
		push	word ptr [bp+varname] ;	name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jnz	short loc_5DED
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 1990h

loc_5DED:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		nop
		push	cs
		call	near ptr sub_5E0D
		add	sp, 0Ch
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__searchenv	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_5E0D(char *src,	__int32, char *pathname)
sub_5E0D	proc far

var_4		= word ptr -4
var_2		= word ptr -2
src		= dword	ptr  6
arg_4		= dword	ptr  0Ah
pathname	= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, 50h	; 'P'
		push	ax		; len
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; buf
		xor	ax, ax
		push	ax		; drive
		nopcall	__getdcwd
		add	sp, 8
		or	ax, dx
		jnz	short loc_5E32
		xor	dx, dx
		jmp	short loc_5E41
; ---------------------------------------------------------------------------

loc_5E32:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	dx, ax

loc_5E41:
		les	bx, [bp+pathname]
		add	bx, dx
		mov	byte ptr es:[bx], 0
		or	dx, dx
		jz	short loc_5E96
		mov	bx, dx
		add	bx, word ptr [bp+pathname]
		mov	bl, es:[bx-1]
		mov	al, bl
		cmp	al, 5Ch	; '\'
		jz	short loc_5E67
		cmp	bl, 2Fh	; '/'
		jz	short loc_5E67
		cmp	bl, 3Ah	; ':'
		jnz	short loc_5E83

loc_5E67:
		mov	ax, word ptr [bp+pathname]
		add	ax, dx
		dec	ax
		push	word ptr [bp+pathname+2]
		push	ax
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname]
		nop
		push	cs
		call	near ptr sub_54E0
		add	sp, 8
		or	ax, ax
		jnz	short loc_5E96

loc_5E83:
		push	ds
		mov	ax, 1992h
		push	ax		; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8

loc_5E96:
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8
		xor	ax, ax
		push	ax		; char
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		or	ax, ax
		jz	short loc_5F0A
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5ED1
		les	bx, [bp+pathname]
		mov	byte ptr es:[bx], 0
		jmp	short loc_5F49
; ---------------------------------------------------------------------------

loc_5ED1:
		xor	dx, dx
		jmp	short loc_5EE9
; ---------------------------------------------------------------------------

loc_5ED5:
		les	bx, [bp+pathname]
		add	bx, dx
		push	es
		les	si, [bp+arg_4]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+arg_4]
		inc	dx

loc_5EE9:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 3Bh ;	';'
		jz	short loc_5EF8
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5ED5

loc_5EF8:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5F04
		jmp	loc_5E41
; ---------------------------------------------------------------------------

loc_5F04:
		inc	word ptr [bp+arg_4]
		jmp	loc_5E41
; ---------------------------------------------------------------------------

loc_5F0A:
		mov	ax, 50h	; 'P'
		push	ax
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname]
		xor	ax, ax
		push	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_58C5
		add	sp, 0Ah
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_5F49
		push	[bp+var_2]
		push	[bp+var_4]	; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	[bp+var_2]
		push	[bp+var_4]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 0Ch

loc_5F49:
					; sub_5E0D+11Bj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_5E0D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl setvbuf(FILE *stream, char *buf, int type, size_t	size)
_setvbuf	proc far

stream		= dword	ptr  6
buf		= dword	ptr  0Ah
_type		= word ptr  0Eh
_size		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+stream]
		mov	ax, es:[bx+12h]
		cmp	ax, word ptr [bp+stream]
		jz	short loc_5F63
		jmp	loc_603A
; ---------------------------------------------------------------------------

loc_5F63:
		cmp	[bp+_type], 2
		jle	short loc_5F6C
		jmp	loc_603A
; ---------------------------------------------------------------------------

loc_5F6C:
		cmp	[bp+_size], 7FFFh
		jbe	short loc_5F76
		jmp	loc_603A
; ---------------------------------------------------------------------------

loc_5F76:
		cmp	word_10CD6, 0
		jnz	short loc_5F8C
		cmp	word ptr [bp+stream], 1510h
		jnz	short loc_5F8C
		mov	word_10CD6, 1
		jmp	short loc_5FA0
; ---------------------------------------------------------------------------

loc_5F8C:
		cmp	word_10CD4, 0
		jnz	short loc_5FA0
		cmp	word ptr [bp+stream], 14FCh
		jnz	short loc_5FA0
		mov	word_10CD4, 1

loc_5FA0:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jz	short loc_5FBD
		mov	ax, 1
		push	ax		; whence
		xor	ax, ax
		push	ax
		push	ax		; offset
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fseek
		add	sp, 0Ah

loc_5FBD:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 4
		jz	short loc_5FD6
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_5FD6:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FFF3h
		mov	word ptr es:[bx+6], 0
		mov	dx, word ptr [bp+stream+2]
		mov	ax, word ptr [bp+stream]
		add	ax, 5
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		cmp	[bp+_type], 2
		jz	short loc_606A
		cmp	[bp+_size], 0
		jbe	short loc_606A
		mov	word ptr _exitbuf+2, seg seg000
		mov	word ptr _exitbuf, 6378h
		mov	ax, word ptr [bp+buf]
		or	ax, word ptr [bp+buf+2]
		jnz	short loc_603F
		push	[bp+_size]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+buf+2], dx
		mov	word ptr [bp+buf], ax
		or	ax, dx
		jz	short loc_603A
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 4
		jmp	short loc_603F
; ---------------------------------------------------------------------------

loc_603A:
		mov	ax, 0FFFFh
		jmp	short loc_606C
; ---------------------------------------------------------------------------

loc_603F:
		les	bx, [bp+stream]
		mov	dx, word ptr [bp+buf+2]
		mov	ax, word ptr [bp+buf]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	ax, [bp+_size]
		mov	es:[bx+6], ax
		cmp	[bp+_type], 1
		jnz	short loc_606A
		or	word ptr es:[bx+2], 8

loc_606A:
		xor	ax, ax

loc_606C:
		pop	di
		pop	si
		pop	bp
		retf
_setvbuf	endp

include libs/BorlandC/_strcat.asm
include libs/BorlandC/_strcmp.asm
include libs/BorlandC/_strcpy.asm
include libs/BorlandC/_stricmp.asm
include libs/BorlandC/_strlen.asm
include libs/BorlandC/strrchr.asm
include libs/BorlandC/write.asm
include libs/BorlandC/writea.asm
include libs/BorlandC/xfflush.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xalloc::xalloc(string	const &, unsigned int)
@xalloc@$bctr$qmx6stringui proc	far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_63D8
		mov	ax, 6
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_63F6

loc_63D8:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx6string	; xmsg::xmsg(string &)
		add	sp, 8
		les	bx, [bp+arg_0]
		mov	ax, [bp+arg_8]
		mov	es:[bx+4], ax

loc_63F6:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@xalloc@$bctr$qmx6stringui endp

; ---------------------------------------------------------------------------
		dd byte_64F1
		db 4 dup(0), 0F1h, 64h
		dw seg seg000
		db 4, 0, 0FAh, 0FFh, 6 dup(0), 12h, 64h
		dw seg seg000
		db 0DCh, 0FFh, 2 dup(0), 5, 3 dup(0), 1Ah, 64h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xalloc::raise(void)
@xalloc@raise$qv proc far
					; sub_EED1+4DP	...

var_28		= dword	ptr -28h
src		= byte ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 6428h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 64AEh
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_28+2],	dx
		mov	word ptr [bp+var_28], ax
		push	dx
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+var_28]
		mov	ax, es:[bx+4]
		mov	[bp+var_2], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 64F1h
		push	ax		; int
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xalloc@raise$qv endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+0Ah]
		mov	ax, es:[bx+4]
		les	bx, [bp+6]
		mov	es:[bx+4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
byte_64F1	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 33h,	65h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 80h,	65h
		dw seg seg000
		db 2 dup(0), 3,	0Dh dup(0)
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_657A
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_6578
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_657C
; ---------------------------------------------------------------------------

loc_6578:
		jmp	short loc_657C
; ---------------------------------------------------------------------------

loc_657A:
		xor	ax, ax

loc_657C:
					; seg000:loc_6578j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 52h,	67h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 26h, 69h
		dw seg seg000
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	0B8h, 65h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::xmsg(string const &)
@xmsg@$bctr$qmx6string proc far
					; string::assert_element(uint)+6AP ...

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 65C6h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_660B
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_665D

loc_660B:
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_664D
		mov	[bp+var_16], 0Eh
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_664D:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_665D:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$bctr$qmx6string endp

; ---------------------------------------------------------------------------
		dd byte_6926
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	83h, 66h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::xmsg(xmsg const	&)
@xmsg@$bctr$qmx4xmsg proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 6691h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_66D6
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_672C

loc_66D6:
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_671C
		mov	[bp+var_16], 0Eh
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_671C:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_672C:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$bctr$qmx4xmsg endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far xmsg___xmsg(void (*driver)(void), char)
@xmsg@$bdtr$qv	proc far

driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_67AC
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+driver]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		test	[bp+arg_4], 1
		jz	short loc_67AC
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx

loc_67AC:
					; xmsg::~xmsg(void)+4Bj
		pop	di
		pop	si
		pop	bp
		retf
@xmsg@$bdtr$qv	endp

; ---------------------------------------------------------------------------
off_67B0	dd byte_68EE
		dd 0
		dd off_67B0
		db 0E2h, 0FFh

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::raise(void)
@xmsg@raise$qv	proc far

src		= byte ptr -22h
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 67B8h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 66A7h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	ss
		lea	ax, [bp+src]
		push	ax
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 68EEh
		push	ax		; int
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@raise$qv	endp

; ---------------------------------------------------------------------------
		dd byte_6926
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	11h, 68h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::operator=(xmsg const &)
@xmsg@$basg$qmx4xmsg proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 681Fh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_6858
		cmp	ax, word ptr [bp+arg_4]
		jz	short loc_68D6

loc_6858:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_68C6
		mov	[bp+var_16], 0Eh
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_68C6:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_68D6:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		push	dx
		push	ax
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	ax
		pop	dx
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$basg$qmx4xmsg endp

; ---------------------------------------------------------------------------
byte_68EE	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 52h,	67h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)
byte_6926	db 4, 0, 10h, 20h, 0Ah,	0, 39h,	69h
					; seg000:6811o
		dw seg seg000
aString		db 'string *',0
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
		db 0Dh dup(0), 1, 0, 1,	0, 8, 3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

___JumpToCatch__ proc far
		push	si
		push	di
		mov	sp, bx
		mov	bp, cx
		push	dx
		push	ax
		retf
___JumpToCatch__ endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_697F	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_6993
		mov	dx, ds
		mov	ax, 199Ah
		jmp	short loc_69A0
; ---------------------------------------------------------------------------

loc_6993:
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+4]

loc_69A0:
		pop	di
		pop	si
		pop	bp
		retf
sub_697F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_69A4	proc far
					; sub_6A41+106p ...

var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_69BC
		cmp	ax, word ptr [bp+arg_4]
		jz	short loc_6A38

loc_69BC:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		les	bx, [bp+arg_4]
		cmp	ax, es:[bx+2]
		jnz	short loc_6A30
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		les	bx, [bp+arg_4]
		cmp	ax, es:[bx]
		jnz	short loc_6A30
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		les	bx, [bp+arg_4]
		or	ax, es:[bx+2]
		test	al, 80h
		jnz	short loc_6A30
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax

loc_6A12:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_A], ax
		inc	word ptr [bp+var_8]
		cmp	dx, [bp+var_A]
		jz	short loc_6A34

loc_6A30:
		xor	ax, ax
		jmp	short loc_6A3B
; ---------------------------------------------------------------------------

loc_6A34:
		or	dx, dx
		jnz	short loc_6A12

loc_6A38:
		mov	ax, 1

loc_6A3B:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_69A4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6A41	proc near
					; sub_6A41+135p ...

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_6A5C:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		mov	ax, word ptr [bp+var_A]
		or	ax, word ptr [bp+var_A+2]
		jz	short loc_6AF0
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 8
		jnz	short loc_6AE9
		cmp	[bp+arg_C], 0
		jz	short loc_6A98
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_6A98
		mov	ax, 1
		jmp	short loc_6A9A
; ---------------------------------------------------------------------------

loc_6A98:
		xor	ax, ax

loc_6A9A:
		mov	[bp+var_6], ax
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		or	ax, ax
		jz	short loc_6ABD
		cmp	[bp+var_6], 0
		jz	short loc_6ABD
		jmp	loc_6B80
; ---------------------------------------------------------------------------

loc_6ABD:
		les	bx, [bp+var_A]
		test	byte ptr es:[bx+8], 4
		jz	short loc_6AE9
		push	[bp+var_6]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		call	sub_6A41
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_6AE9
		jmp	loc_6B80
; ---------------------------------------------------------------------------

loc_6AE9:
		add	word ptr [bp+var_4], 8
		jmp	loc_6A5C
; ---------------------------------------------------------------------------

loc_6AF0:
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_6B03:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		mov	ax, word ptr [bp+var_A]
		or	ax, word ptr [bp+var_A+2]
		jz	short loc_6B8C
		cmp	[bp+arg_C], 0
		jz	short loc_6B35
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_6B35
		mov	ax, 1
		jmp	short loc_6B37
; ---------------------------------------------------------------------------

loc_6B35:
		xor	ax, ax

loc_6B37:
		mov	[bp+var_6], ax
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		or	ax, ax
		jz	short loc_6B57
		cmp	[bp+var_6], 0
		jnz	short loc_6B80

loc_6B57:
		les	bx, [bp+var_A]
		test	byte ptr es:[bx+8], 4
		jz	short loc_6B85
		push	[bp+var_6]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		call	sub_6A41
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_6B85

loc_6B80:
		mov	ax, 1
		jmp	short loc_6B8E
; ---------------------------------------------------------------------------

loc_6B85:
					; sub_6A41+13Dj
		add	word ptr [bp+var_4], 8
		jmp	loc_6B03
; ---------------------------------------------------------------------------

loc_6B8C:
		xor	ax, ax

loc_6B8E:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6A41	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6B94	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	cx, [bp+arg_8]

loc_6B9F:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_6BB2
		cmp	ax, word ptr [bp+arg_4]
		jnz	short loc_6BB2
		jmp	loc_6CC7
; ---------------------------------------------------------------------------

loc_6BB2:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		mov	[bp+var_2], ax
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		mov	ax, [bp+var_2]
		and	ax, [bp+var_4]
		test	al, 10h
		jz	short loc_6C42
		and	[bp+var_2], 3300h
		and	[bp+var_4], 3300h
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_6BE5
		jmp	loc_6C88
; ---------------------------------------------------------------------------

loc_6BE5:
		or	cx, cx
		jz	short loc_6BEC
		jmp	loc_6D00
; ---------------------------------------------------------------------------

loc_6BEC:
		mov	ax, [bp+var_2]
		and	ax, 300h
		mov	dx, [bp+var_4]
		and	dx, 300h
		cmp	ax, dx
		jz	short loc_6C22
		mov	ax, [bp+var_4]
		and	ax, 300h
		not	ax
		and	ax, [bp+var_2]
		test	ah, 3
		jz	short loc_6C10
		jmp	loc_6D00
; ---------------------------------------------------------------------------

loc_6C10:
		or	[bp+var_2], 300h
		or	[bp+var_4], 300h
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jz	short loc_6C88

loc_6C22:
		mov	ax, [bp+var_2]
		or	ax, 3000h
		mov	dx, [bp+var_4]
		or	dx, 3000h
		cmp	ax, dx
		jz	short loc_6C36
		jmp	loc_6D00
; ---------------------------------------------------------------------------

loc_6C36:
		test	byte ptr [bp+var_2+1], 10h
		jnz	short loc_6C3F
		jmp	loc_6D00
; ---------------------------------------------------------------------------

loc_6C3F:
		jmp	loc_6CC7
; ---------------------------------------------------------------------------

loc_6C42:
		mov	ax, [bp+var_2]
		and	ax, [bp+var_4]
		test	ah, 4
		jz	short loc_6CB0
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_4]
		cmp	dx, es:[bx+0Ch]
		jnz	short loc_6C67
		cmp	ax, es:[bx+0Ah]
		jz	short loc_6C88

loc_6C67:
		or	cx, cx
		jz	short loc_6C6E
		jmp	loc_6D00
; ---------------------------------------------------------------------------

loc_6C6E:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_4]
		or	ax, es:[bx+0Ah]
		or	dx, es:[bx+0Ch]
		or	ax, dx
		jnz	short loc_6D00

loc_6C88:
		mov	cx, 1
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_4+2], dx
		mov	word ptr [bp+arg_4], ax
		jmp	loc_6B9F
; ---------------------------------------------------------------------------

loc_6CB0:
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		or	ax, ax
		jz	short loc_6CCC

loc_6CC7:
					; sub_6B94:loc_6C3Fj
		mov	ax, 1
		jmp	short loc_6D02
; ---------------------------------------------------------------------------

loc_6CCC:
		test	byte ptr [bp+var_2], 2
		jz	short loc_6D00
		test	byte ptr [bp+var_4], 1
		jz	short loc_6D00
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+8], 4
		jz	short loc_6D00
		mov	ax, 1
		push	ax
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_6A41
		add	sp, 0Eh
		jmp	short loc_6D02
; ---------------------------------------------------------------------------

loc_6D00:
		xor	ax, ax

loc_6D02:
					; sub_6B94+16Aj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6B94	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6D08	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_6D58
		cmp	[bp+arg_0], 80h	; '€'
		ja	short loc_6D3A
		les	bx, ss:16h
		test	byte ptr es:[bx+4], 1
		jz	short loc_6D3F

loc_6D3A:
		nop
		push	cs
		call	near ptr _abort
; ---------------------------------------------------------------------------

loc_6D3F:
		les	bx, ss:16h
		or	word ptr es:[bx+4], 1
		les	bx, ss:16h
		mov	dx, es:[bx+22h]
		mov	ax, es:[bx+20h]
		jmp	short loc_6D5E
; ---------------------------------------------------------------------------

loc_6D58:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]

loc_6D5E:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_6D08	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+22h]
		mov	ax, es:[bx+20h]
		cmp	dx, [bp+8]
		jnz	short loc_6D8C
		cmp	ax, [bp+6]
		jnz	short loc_6D8C
		les	bx, ss:16h
		and	word ptr es:[bx+4], 0FFFEh
		jmp	short loc_6D99
; ---------------------------------------------------------------------------

loc_6D8C:
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_6D99:
		pop	di
		pop	si
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6D9D	proc near
					; __ExceptionHandler+F7p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= dword	ptr  0Ch
arg_C		= byte ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_6B94
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_6DC7
		jmp	loc_6E63
; ---------------------------------------------------------------------------

loc_6DC7:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		mov	[bp+var_2], ax
		les	bx, [bp+arg_8]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		test	byte ptr [bp+var_4], 20h
		jz	short loc_6E57
		push	[bp+arg_6]
		push	[bp+arg_4]
		mov	ax, 1
		push	ax
		les	bx, [bp+arg_8]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_6B94
		add	sp, 0Eh
		or	ax, ax
		jnz	short loc_6E63
		les	bx, [bp+arg_8]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_8+2], dx
		mov	word ptr [bp+arg_8], ax
		les	bx, [bp+arg_8]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		test	byte ptr [bp+var_4], 10h
		jz	short loc_6E9A
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_6B94
		add	sp, 0Eh
		or	ax, ax
		jnz	short loc_6E63
		mov	ax, [bp+var_2]
		and	ax, 3000h
		mov	dx, [bp+var_4]
		and	dx, 3000h
		cmp	ax, dx
		jnz	short loc_6E9A

loc_6E57:
		test	byte ptr [bp+var_4], 10h
		jz	short loc_6E9A
		test	[bp+arg_C], 1
		jz	short loc_6E68

loc_6E63:
		mov	ax, 1
		jmp	short loc_6E9C
; ---------------------------------------------------------------------------

loc_6E68:
		test	byte ptr [bp+var_2], 10h
		jz	short loc_6E9A
		test	byte ptr [bp+var_2+1], 20h
		jz	short loc_6E7A
		test	byte ptr [bp+var_4+1], 20h
		jz	short loc_6E9A

loc_6E7A:
		test	byte ptr [bp+var_4], 40h
		jz	short loc_6E9A
		mov	ax, [bp+var_2]
		and	ax, 300h
		mov	dx, [bp+var_4]
		and	dx, 300h
		cmp	ax, dx
		jnz	short loc_6E96
		mov	ax, 1
		jmp	short loc_6E98
; ---------------------------------------------------------------------------

loc_6E96:
		xor	ax, ax

loc_6E98:
		jmp	short loc_6E9C
; ---------------------------------------------------------------------------

loc_6E9A:
		xor	ax, ax

loc_6E9C:
					; sub_6D9D:loc_6E98j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6D9D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6EA2	proc near
					; sub_8173+1FDp

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= dword	ptr  0Ch
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		mov	ax, [bp+arg_C]
		and	ax, 1
		mov	[bp+var_4], ax
		test	byte ptr [bp+arg_C], 4
		jz	short loc_6ECD
		or	[bp+var_4], 2

loc_6ECD:
		test	byte ptr [bp+arg_C], 2
		jz	short loc_6EE1
		or	[bp+var_4], 4
		test	byte ptr [bp+arg_C+1], 1
		jnz	short loc_6EE1
		or	[bp+var_4], 20h

loc_6EE1:
		test	byte ptr [bp+arg_C], 20h
		jz	short loc_6EEB
		or	[bp+var_4], 8

loc_6EEB:
		test	byte ptr [bp+arg_C], 80h
		jz	short loc_6EF5
		or	[bp+var_4], 10h

loc_6EF5:
		test	byte ptr [bp+arg_C+1], 10h
		jnz	short loc_6EFE
		jmp	loc_7083
; ---------------------------------------------------------------------------

loc_6EFE:
		mov	bx, [bp+var_4]
		cmp	bx, 17h
		jbe	short loc_6F09
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_6F09:
		add	bx, bx
		jmp	cs:off_71C0[bx]

loc_6F10:
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		add	sp, 6
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_6F22:
					; sub_6EA2+1EEj
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]
		add	sp, 6
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_6F34:
					; sub_6EA2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_6F5A
; ---------------------------------------------------------------------------

loc_6F48:
					; sub_6EA2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_6F5A:
		add	sp, 0Ah
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_6F60:
					; sub_6EA2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_6F6F:
					; sub_6EA2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_6F7E:
					; sub_6EA2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_6FA4
; ---------------------------------------------------------------------------

loc_6F92:
					; sub_6EA2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_6FA4:
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_6FA7:
					; sub_6EA2+1EEj
		mov	dx, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		xor	ax, ax
		push	bx
		pop	bx
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_6FB7:
					; sub_6EA2+1EEj
		mov	dx, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		xor	ax, ax

loc_6FBF:
		push	bx
		pop	bx
		call	[bp+arg_8]
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_6FC7:
					; sub_6EA2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		xor	ax, ax

loc_6FD5:
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_6FEB
; ---------------------------------------------------------------------------

loc_6FDA:
					; sub_6EA2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		xor	ax, ax

loc_6FE8:
		call	[bp+arg_8]

loc_6FEB:
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_6FEE:
					; sub_6EA2+1EEj
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_7008
; ---------------------------------------------------------------------------

loc_6FFC:
					; sub_6EA2+1EEj
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax

loc_7005:
		call	[bp+arg_8]

loc_7008:
					; sub_6EA2+1FCj
		pop	cx
		pop	cx
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_700D:
					; sub_6EA2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		; Hack
		db 0ffh
		db 056h
		db 00ch
		add	sp, 6
		pop	ds
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_7024:
					; sub_6EA2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		call	[bp+arg_8]
		add	sp, 6
		pop	ds
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_703B:
					; sub_6EA2+1EEj
		mov	si, word ptr [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_4]

loc_7044:
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_7055
; ---------------------------------------------------------------------------

loc_7049:
					; sub_6EA2+1EEj
		mov	si, word ptr [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_4]

loc_7052:
		call	[bp+arg_8]

loc_7055:
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_7058:
					; sub_6EA2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	ds
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_706C:
					; sub_6EA2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	ds
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_7080:
					; sub_6EA2+1EEj
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_7083:
		mov	bx, [bp+var_4]
		cmp	bx, 17h
		jbe	short loc_708E
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_708E:
		add	bx, bx
		jmp	cs:off_7190[bx]

loc_7095:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_7008
; ---------------------------------------------------------------------------

loc_70A1:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_7005
; ---------------------------------------------------------------------------

loc_70AA:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_70CA
; ---------------------------------------------------------------------------

loc_70BB:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_70CA:
		add	sp, 8
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_70D0:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_7044
; ---------------------------------------------------------------------------

loc_70D9:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_7052
; ---------------------------------------------------------------------------

loc_70E2:
		mov	ax, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		push	bx
		pop	bx
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	loc_7189
; ---------------------------------------------------------------------------

loc_70F0:
		mov	ax, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		jmp	loc_6FBF
; ---------------------------------------------------------------------------

loc_70F9:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		jmp	loc_6FD5
; ---------------------------------------------------------------------------

loc_7108:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		jmp	loc_6FE8
; ---------------------------------------------------------------------------

loc_7117:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	cx
		jmp	short loc_7189
; ---------------------------------------------------------------------------

loc_7123:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	cx
		jmp	short loc_7189
; ---------------------------------------------------------------------------

loc_712F:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_7189
; ---------------------------------------------------------------------------

loc_7141:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_7189
; ---------------------------------------------------------------------------

loc_7153:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		jmp	short loc_7189
; ---------------------------------------------------------------------------

loc_715E:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		call	[bp+arg_8]
		jmp	short loc_7189
; ---------------------------------------------------------------------------

loc_7169:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		; Hack
		db 0ffh
		db 056h
		db 00ch
		pop	ds
		jmp	short loc_7189
; ---------------------------------------------------------------------------

loc_7179:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	ds
		jmp	short $+2

loc_7189:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6EA2	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
off_7190	dw offset loc_7095
		dw offset loc_70A1
		dw offset loc_70AA
		dw offset loc_70BB
		dw offset loc_70D0
		dw offset loc_70D9
		dw offset loc_70F9
		dw offset loc_7108
		dw offset loc_70E2
		dw offset loc_70F0
		dw offset loc_70F9
		dw offset loc_7108
		dw offset loc_7189
		dw offset loc_7189
		dw offset loc_7189
		dw offset loc_7189
		dw offset loc_7117
		dw offset loc_7123
		dw offset loc_712F
		dw offset loc_7141
		dw offset loc_7153
		dw offset loc_715E
		dw offset loc_7169
		dw offset loc_7179
off_71C0	dw offset loc_6F10
		dw offset loc_6F22
		dw offset loc_6F34
		dw offset loc_6F48
		dw offset loc_6F60
		dw offset loc_6F6F
		dw offset loc_6F7E
		dw offset loc_6F92
		dw offset loc_6FA7
		dw offset loc_6FB7
		dw offset loc_6FC7
		dw offset loc_6FDA
		dw offset loc_7080
		dw offset loc_7080
		dw offset loc_7080
		dw offset loc_7080
		dw offset loc_6FEE
		dw offset loc_6FFC
		dw offset loc_700D
		dw offset loc_7024
		dw offset loc_703B
		dw offset loc_7049
		dw offset loc_7058
		dw offset loc_706C

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_71F0	proc near
					; sub_7E7F+2Bp	...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		cmp	[bp+arg_A], 0
		jz	short loc_7203
		mov	ax, 2
		jmp	short loc_7205
; ---------------------------------------------------------------------------

loc_7203:
		xor	ax, ax

loc_7205:
		mov	[bp+var_2], ax
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_4], ax
		push	ds
		mov	ds, [bp+var_4]
		mov	ax, [bp+arg_8]
		and	ax, 1
		mov	[bp+var_6], ax
		test	byte ptr [bp+arg_8], 4
		jz	short loc_722B
		or	[bp+var_6], 2

loc_722B:
		test	byte ptr [bp+arg_8], 2
		jz	short loc_723F
		or	[bp+var_6], 4
		test	byte ptr [bp+arg_8+1], 1
		jnz	short loc_723F
		or	[bp+var_6], 20h

loc_723F:
		test	byte ptr [bp+arg_8], 20h
		jz	short loc_7249
		or	[bp+var_6], 8

loc_7249:
		test	byte ptr [bp+arg_8], 80h
		jz	short loc_7253
		or	[bp+var_6], 10h

loc_7253:
		mov	bx, [bp+var_6]
		cmp	bx, 17h
		jbe	short loc_725E
		jmp	loc_7371
; ---------------------------------------------------------------------------

loc_725E:
		add	bx, bx
		jmp	cs:off_7378[bx]

loc_7265:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 008h
		pop	cx
		pop	cx
		jmp	loc_7371
; ---------------------------------------------------------------------------

loc_7273:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]
		pop	cx
		pop	cx
		jmp	loc_7371
; ---------------------------------------------------------------------------

loc_7281:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 008h
		add	sp, 6
		jmp	loc_7371
; ---------------------------------------------------------------------------

loc_7293:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]
		add	sp, 6
		jmp	loc_7371
; ---------------------------------------------------------------------------

loc_72A5:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 008h
		jmp	short loc_730B
; ---------------------------------------------------------------------------

loc_72B0:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		jmp	short loc_7308
; ---------------------------------------------------------------------------

loc_72B8:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 008h
		jmp	short loc_72D2
; ---------------------------------------------------------------------------

loc_72C6:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]

loc_72D2:
		jmp	loc_7371
; ---------------------------------------------------------------------------

loc_72D5:
		mov	bx, word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		push	bx
		pop	bx
		; Hack
		db 0ffh
		db 056h
		db 008h
		jmp	loc_7371
; ---------------------------------------------------------------------------

loc_72E3:
		mov	bx, word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		push	bx
		pop	bx
		call	[bp+arg_4]
		jmp	loc_7371
; ---------------------------------------------------------------------------

loc_72F1:
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		; Hack
		db 0ffh
		db 056h
		db 008h
		jmp	short loc_730B
; ---------------------------------------------------------------------------

loc_72FF:
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		mov	ax, [bp+var_2]

loc_7308:
		call	[bp+arg_4]

loc_730B:
					; sub_71F0+10Dj
		jmp	short loc_7371
; ---------------------------------------------------------------------------

loc_730D:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		; Hack
		db 0ffh
		db 056h
		db 008h
		pop	cx
		jmp	short loc_7371
; ---------------------------------------------------------------------------

loc_7319:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	cx
		jmp	short loc_7371
; ---------------------------------------------------------------------------

loc_7325:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		; Hack
		db 0ffh
		db 056h
		db 008h
		pop	cx
		pop	ds
		jmp	short loc_7371
; ---------------------------------------------------------------------------

loc_7333:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	cx
		pop	ds
		jmp	short loc_7371
; ---------------------------------------------------------------------------

loc_7341:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		; Hack
		db 0ffh
		db 056h
		db 008h
		jmp	short loc_7371
; ---------------------------------------------------------------------------

loc_734C:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		jmp	short loc_7371
; ---------------------------------------------------------------------------

loc_7357:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		; Hack
		db 0ffh
		db 056h
		db 008h
		pop	ds
		jmp	short loc_7371
; ---------------------------------------------------------------------------

loc_7364:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	ds
		jmp	short $+2

loc_7371:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_71F0	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
off_7378	dw offset loc_7265
		dw offset loc_7273
		dw offset loc_7281
		dw offset loc_7293
		dw offset loc_72A5
		dw offset loc_72B0
		dw offset loc_72B8
		dw offset loc_72C6
		dw offset loc_72D5
		dw offset loc_72E3
		dw offset loc_72F1
		dw offset loc_72FF
		dw offset loc_7371
		dw offset loc_7371
		dw offset loc_7371
		dw offset loc_7371
		dw offset loc_730D
		dw offset loc_7319
		dw offset loc_7325
		dw offset loc_7333
		dw offset loc_7341
		dw offset loc_734C
		dw offset loc_7357
		dw offset loc_7364

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_73A8	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		mov	ax, [bp+arg_8]
		and	ax, 1
		mov	[bp+var_4], ax
		test	byte ptr [bp+arg_8], 4
		jz	short loc_73D3
		or	[bp+var_4], 2

loc_73D3:
		test	byte ptr [bp+arg_8], 2
		jz	short loc_73DD
		or	[bp+var_4], 4

loc_73DD:
		test	byte ptr [bp+arg_8], 20h
		jz	short loc_73E7
		or	[bp+var_4], 8

loc_73E7:
		mov	bx, [bp+var_4]
		cmp	bx, 0Bh
		ja	short loc_745A
		add	bx, bx
		jmp	cs:off_7461[bx]

loc_73F6:
		push	[bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 008h
		pop	cx
		jmp	short loc_745A
; ---------------------------------------------------------------------------

loc_73FF:
		push	[bp+arg_0]
		call	[bp+arg_4]
		pop	cx
		jmp	short loc_745A
; ---------------------------------------------------------------------------

loc_7408:
		push	[bp+arg_2]
		push	[bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 008h
		jmp	short loc_741C
; ---------------------------------------------------------------------------

loc_7413:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_741C:
		pop	cx
		pop	cx
		jmp	short loc_745A
; ---------------------------------------------------------------------------

loc_7420:
		push	[bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 008h
		jmp	short loc_742E
; ---------------------------------------------------------------------------

loc_7428:
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_742E:
		jmp	short loc_745A
; ---------------------------------------------------------------------------

loc_7430:
		mov	bx, [bp+arg_0]
		push	bx
		pop	bx
		; Hack
		db 0ffh
		db 056h
		db 008h
		jmp	short loc_745A
; ---------------------------------------------------------------------------

loc_743A:
		mov	bx, [bp+arg_0]
		push	bx
		pop	bx
		call	[bp+arg_4]
		jmp	short loc_745A
; ---------------------------------------------------------------------------

loc_7444:
		push	[bp+arg_2]
		push	[bp+arg_0]
		; Hack
		db 0ffh
		db 056h
		db 008h
		jmp	short loc_7458
; ---------------------------------------------------------------------------

loc_744F:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_7458:
		jmp	short $+2

loc_745A:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_73A8	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
off_7461	dw offset loc_73F6
		dw offset loc_73FF
		dw offset loc_7408
		dw offset loc_7413
		dw offset loc_7420
		dw offset loc_7428
		dw offset loc_7444
		dw offset loc_744F
		dw offset loc_7430
		dw offset loc_743A
		dw offset loc_7444
		dw offset loc_744F
		db 4 dup(0), 37h, 77h
		dw seg seg000
		db 14h dup(0), 90h, 77h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 79h,	74h
		dw seg seg000
		db 2 dup(0), 4,	3 dup(0), 3, 0,	91h, 74h
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far sub_74C7(int, int, void *src, int, int, int, int, int, int,	int, int, int, int, int, int)
sub_74C7	proc far
					; _ReThrowException(uint,uchar *)+9Ep

var_48		= word ptr -48h
var_46		= word ptr -46h
var_44		= word ptr -44h
var_42		= word ptr -42h
var_40		= word ptr -40h
var_3E		= word ptr -3Eh
var_3C		= word ptr -3Ch
var_3A		= word ptr -3Ah
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
n		= word ptr -28h
var_26		= dword	ptr -26h
var_22		= dword	ptr -22h
var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  6
arg_2		= word ptr  8
src		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah
arg_16		= word ptr  1Ch
arg_18		= word ptr  1Eh
arg_1A		= word ptr  20h
arg_1C		= word ptr  22h
arg_1E		= word ptr  24h

		push	bp
		mov	bp, sp
		sub	sp, 48h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 74A9h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax
		les	bx, ss:16h
		mov	word ptr es:[bx+6], ds
		mov	dx, ss:18h
		mov	ax, ss:16h
		add	ax, 28h	; '('
		les	bx, ss:16h
		mov	es:[bx+1Eh], dx
		mov	es:[bx+1Ch], ax
		les	bx, [bp+var_22]
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_34+2],	dx
		mov	word ptr [bp+var_34], ax
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		mov	word ptr [bp+var_38+2],	dx
		mov	word ptr [bp+var_38], ax
		jmp	short loc_7553
; ---------------------------------------------------------------------------

loc_7530:
		les	bx, ss:16h
		mov	ax, es:[bx+1Ch]
		add	ax, 7Fh	; ''
		cmp	ax, word ptr [bp+var_38]
		jbe	short loc_7550
		les	bx, [bp+var_34]
		mov	al, es:[bx]
		les	bx, [bp+var_38]
		mov	es:[bx], al
		inc	word ptr [bp+var_38]

loc_7550:
		inc	word ptr [bp+var_34]

loc_7553:
		les	bx, [bp+var_34]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_7530
		les	bx, [bp+var_38]
		mov	byte ptr es:[bx], 0
		les	bx, ss:16h
		mov	ax, [bp+arg_14]
		mov	es:[bx+1Ah], ax
		les	bx, ss:16h
		mov	dx, [bp+arg_18]
		mov	ax, [bp+arg_16]
		mov	es:[bx+18h], dx
		mov	es:[bx+16h], ax
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax
		les	bx, [bp+var_22]
		mov	ax, es:[bx]
		mov	[bp+n],	ax
		les	bx, [bp+var_22]
		mov	ax, es:[bx+2]
		mov	[bp+var_2A], ax
		test	byte ptr [bp+var_2A], 2
		jz	short loc_75B0
		les	bx, [bp+var_22]
		mov	ax, es:[bx+8]
		jmp	short loc_75B2
; ---------------------------------------------------------------------------

loc_75B0:
		xor	ax, ax

loc_75B2:
		mov	[bp+var_2C], ax
		test	byte ptr [bp+var_2A], 30h
		jz	short loc_75CC
		les	bx, [bp+var_26]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax

loc_75CC:
		mov	ax, [bp+n]
		add	ax, 3Ah	; ':'
		push	ax
		push	cs
		call	near ptr sub_6D08
		pop	cx
		mov	word ptr [bp+var_30+2],	dx
		mov	word ptr [bp+var_30], ax
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+var_30]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, ss:16h
		mov	dx, word ptr [bp+var_30+2]
		mov	ax, word ptr [bp+var_30]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, [bp+var_30]
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_12]
		mov	es:[bx+0Ch], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+n]
		mov	es:[bx+0Eh], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+var_2A]
		mov	es:[bx+14h], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+var_2C]
		mov	es:[bx+16h], ax
		les	bx, [bp+var_30]
		mov	dx, word ptr [bp+var_26+2]
		mov	ax, word ptr [bp+var_26]
		mov	es:[bx+12h], dx
		mov	es:[bx+10h], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+24h], 0
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+28h], 0
		mov	word ptr es:[bx+26h], 0
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+18h], ds
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+1Ch], seg seg000
		mov	word ptr es:[bx+1Ah], 6D64h
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_14]
		mov	es:[bx+2Ch], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_18]
		mov	ax, [bp+arg_16]
		mov	es:[bx+30h], dx
		mov	es:[bx+2Eh], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	es:[bx+20h], dx
		mov	es:[bx+1Eh], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_10]
		mov	es:[bx+22h], ax
		les	bx, [bp+var_30]
		mov	byte ptr es:[bx+39h], 0
		les	bx, [bp+var_30]
		mov	byte ptr es:[bx+38h], 1
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		mov	ax, word ptr [bp+var_30]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+var_30+2]
		push	ax		; dest
		nopcall	_memcpy
		add	sp, 0Ah
		test	byte ptr [bp+var_2C], 1
		jz	short loc_7756
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_3A], dx
		mov	[bp+var_3C], ax
		mov	[bp+var_12], 6
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		mov	ax, word ptr [bp+var_30]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+var_30+2]
		push	ax
		call	sub_6EA2
		add	sp, 0Eh
		mov	[bp+var_12], 0
		jmp	short loc_7741
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_7741:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, [bp+var_3A]
		mov	cx, [bp+var_3C]
		mov	es, dx
		xchg	ax, bx
		mov	es:[bx+2], ax
		mov	es:[bx], cx

loc_7756:
		cmp	[bp+arg_1E], 0
		jnz	short loc_779A
		test	byte ptr [bp+var_2C], 2
		jz	short loc_779A
		mov	[bp+var_12], 12h
		mov	ax, 1
		push	ax
		les	bx, [bp+var_22]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_22]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		call	sub_71F0
		add	sp, 0Ch
		mov	[bp+var_12], 0
		jmp	short loc_779A
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_779A:
					; sub_74C7+299j ...
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		mov	[bp+var_46], dx
		mov	[bp+var_48], ax
		mov	dx, [bp+arg_1C]
		mov	ax, [bp+arg_1A]
		mov	[bp+var_42], dx
		mov	[bp+var_44], ax
		mov	dx, word ptr [bp+var_30+2]
		mov	ax, word ptr [bp+var_30]
		mov	[bp+var_3E], dx
		mov	[bp+var_40], ax
		push	ss
		lea	ax, [bp+var_48]
		push	ax
		xor	ax, ax
		mov	dx, 3
		push	ax
		push	dx
		xor	ax, ax
		mov	dx, 1
		push	ax
		push	dx
		mov	ax, 0EEFh
		mov	dx, 0FACEh
		push	ax
		push	dx
		nop
		push	cs
		call	near ptr _RaiseException
		add	sp, 10h
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_74C7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far _ThrowException(int, int, void *src, int, int, int,	int, int, int, int, int, int)
@_ThrowException$qnvt1t1t1uiuiuinuc proc far
					; xalloc::raise(void)+6Cp ...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
src		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah
arg_16		= word ptr  1Ch
arg_18		= word ptr  1Eh

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_6], bp
		mov	bx, [bp+var_6]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		xor	ax, ax
		push	ax		; int
		push	[bp+var_2]	; int
		push	[bp+var_4]	; int
		push	[bp+arg_18]	; int
		push	[bp+arg_16]	; int
		push	[bp+arg_14]	; int
		push	[bp+arg_12]	; int
		push	[bp+arg_10]	; int
		push	[bp+arg_E]	; int
		push	[bp+arg_C]	; int
		push	[bp+arg_A]	; int
		push	[bp+arg_8]	; int
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	[bp+arg_2]	; int
		push	[bp+arg_0]	; int
		push	cs
		call	near ptr sub_74C7
		add	sp, 20h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_ThrowException$qnvt1t1t1uiuiuinuc endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; _ReThrowException(unsigned int, unsigned char	*)
@_ReThrowException$quinuc proc far

var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		mov	[bp+var_A], bp
		mov	bx, [bp+var_A]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jnz	short loc_788A
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------

loc_788A:
		mov	ax, 1
		push	ax		; int
		push	[bp+var_2]	; int
		push	[bp+var_4]	; int
		push	[bp+arg_4]	; int
		push	[bp+arg_2]	; int
		push	[bp+arg_0]	; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+0Ch] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h] ; int
		push	word ptr es:[bx+1Eh] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+0Ah] ; int
		push	word ptr es:[bx+8] ; int
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx+38h], 0
		jz	short loc_78D6
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		add	ax, 3Ah	; ':'
		jmp	short loc_78DF
; ---------------------------------------------------------------------------

loc_78D6:
		les	bx, [bp+var_8]
		mov	ax, es:[bx+36h]
		mov	dx, ss

loc_78DF:
		push	dx
		push	ax		; src
		les	bx, [bp+var_8]
		push	word ptr es:[bx+6] ; int
		push	word ptr es:[bx+4] ; int
		push	cs
		call	near ptr sub_74C7
		add	sp, 20h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_ReThrowException$quinuc endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_78F9	proc far
		push	si
		push	di
		pop	di
		pop	si
		retf
sub_78F9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_78FE	proc far
					; _RaiseException+2A6p	...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_4], 0
		mov	bx, [bp+arg_0]
		test	byte ptr ss:[bx+4], 6
		jz	short loc_7918
		inc	[bp+var_4]

loc_7918:
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		push	cs
		call	near ptr sub_78F9
		jmp	short loc_7966
; ---------------------------------------------------------------------------

loc_7925:
		mov	ax, [bp+var_2]
		mov	[bp+var_6], ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	ss
		push	[bp+arg_0]
		mov	bx, [bp+var_6]
		call	dword ptr ss:[bx+2]
		add	sp, 0Eh
		mov	dx, ax
		or	dx, dx
		jnz	short loc_7950
		mov	ax, dx
		jmp	short loc_7984
; ---------------------------------------------------------------------------

loc_7950:
		cmp	[bp+var_4], 0
		jz	short loc_795D
		mov	ax, [bp+var_2]
		mov	ss:14h,	ax

loc_795D:
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx]
		mov	[bp+var_2], ax

loc_7966:
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_7974
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_6]
		jnz	short loc_7925

loc_7974:
		cmp	[bp+var_4], 0
		jz	short loc_7981
		mov	ax, [bp+var_2]
		mov	ss:14h,	ax

loc_7981:
		mov	ax, 1

loc_7984:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_78FE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Global_unwind	proc far

var_4C		= word ptr -4Ch
var_4A		= word ptr -4Ah
var_48		= word ptr -48h
var_46		= word ptr -46h
var_3E		= word ptr -3Eh
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4Ch
		push	si
		push	di
		mov	dx, [bp+arg_2]
		or	dx, dx
		jnz	short loc_79B5
		mov	[bp+var_4A], 0
		mov	[bp+var_4C], 26h ; '&'
		mov	[bp+var_46], 0
		mov	[bp+var_48], 2
		mov	[bp+var_3E], 0
		lea	dx, [bp+var_4C]

loc_79B5:
		mov	bx, dx
		or	word ptr ss:[bx+4], 2
		push	[bp+arg_0]
		xor	ax, ax
		push	ax
		push	ax
		push	dx
		push	cs
		call	near ptr sub_78FE
		add	sp, 8
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Global_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_79D1	proc far
		push	si
		push	di
		pop	di
		pop	si
		retf
sub_79D1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

_RaiseException	proc far

dest		= word ptr -186h
var_184		= word ptr -184h
var_182		= word ptr -182h
var_180		= word ptr -180h
var_17E		= word ptr -17Eh
var_17C		= word ptr -17Ch
var_176		= word ptr -176h
var_174		= word ptr -174h
var_172		= word ptr -172h
var_170		= word ptr -170h
var_16E		= word ptr -16Eh
var_16C		= word ptr -16Ch
var_16A		= word ptr -16Ah
var_168		= word ptr -168h
var_166		= word ptr -166h
var_164		= word ptr -164h
var_162		= word ptr -162h
var_160		= word ptr -160h
var_15E		= word ptr -15Eh
var_15A		= word ptr -15Ah
var_158		= word ptr -158h
var_156		= word ptr -156h
var_154		= word ptr -154h
var_152		= byte ptr -152h
var_C6		= word ptr -0C6h
var_C4		= word ptr -0C4h
var_C2		= word ptr -0C2h
var_C0		= word ptr -0C0h
var_BE		= word ptr -0BEh
var_BC		= word ptr -0BCh
var_BA		= word ptr -0BAh
var_B8		= word ptr -0B8h
var_B6		= word ptr -0B6h
var_B4		= word ptr -0B4h
var_B2		= word ptr -0B2h
var_B0		= word ptr -0B0h
var_AE		= word ptr -0AEh
var_AC		= word ptr -0ACh
var_AA		= word ptr -0AAh
var_A8		= word ptr -0A8h
var_A6		= word ptr -0A6h
var_A4		= word ptr -0A4h
var_A2		= word ptr -0A2h
var_A0		= word ptr -0A0h
var_9E		= word ptr -9Eh
var_9C		= word ptr -9Ch
var_9A		= word ptr -9Ah
var_98		= word ptr -98h
var_96		= word ptr -96h
var_94		= word ptr -94h
var_92		= word ptr -92h
var_90		= word ptr -90h
var_8E		= word ptr -8Eh
var_8C		= word ptr -8Ch
var_8A		= word ptr -8Ah
var_88		= word ptr -88h
var_86		= byte ptr -86h
var_56		= word ptr -56h
var_54		= word ptr -54h
var_52		= word ptr -52h
var_50		= word ptr -50h
var_4E		= word ptr -4Eh
var_4C		= word ptr -4Ch
var_4A		= word ptr -4Ah
var_48		= word ptr -48h
var_46		= byte ptr -46h
src		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  18h
arg_2		= word ptr  1Ah
arg_4		= word ptr  1Ch
arg_6		= word ptr  1Eh
arg_8		= word ptr  20h
arg_A		= word ptr  22h
arg_C		= dword	ptr  24h

; FUNCTION CHUNK AT 7E48 SIZE 0000000D BYTES

		push	ax
		push	cx
		push	dx
		push	bx
		push	sp
		push	bp
		push	si
		push	di
		push	ds
		push	es
		mov	bp, sp
		sub	sp, 186h
		lea	ax, [bp+var_86]
		push	ax
		push	cs
		call	near ptr sub_79D1
		pop	cx
		pushf
		pop	ax
		mov	word ptr [bp+src+2], ax
		cmp	byte ptr word_10C96, 3
		jnb	short loc_79FF
		jmp	loc_7AB5
; ---------------------------------------------------------------------------

loc_79FF:
		pushad
		mov	word ptr [bp+src], sp
		mov	ax, 20h	; ' '
		push	ax		; n
		push	ss
		push	word ptr [bp+src] ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nopcall	_memcpy
		add	sp, 0Ah
		popad
		mov	dx, [bp+var_184]
		mov	ax, [bp+dest]
		mov	[bp+var_B4], dx
		mov	[bp+var_B6], ax
		mov	dx, [bp+var_180]
		mov	ax, [bp+var_182]
		mov	[bp+var_B0], dx
		mov	[bp+var_B2], ax
		mov	dx, [bp+var_174]
		mov	ax, [bp+var_176]
		mov	[bp+var_AC], dx
		mov	[bp+var_AE], ax
		mov	dx, [bp+var_170]
		mov	ax, [bp+var_172]
		mov	[bp+var_A8], dx
		mov	[bp+var_AA], ax
		mov	dx, [bp+var_16C]
		mov	ax, [bp+var_16E]
		mov	[bp+var_A4], dx
		mov	[bp+var_A6], ax
		mov	dx, [bp+var_168]
		mov	ax, [bp+var_16A]
		mov	[bp+var_A0], dx
		mov	[bp+var_A2], ax
		mov	dx, [bp+var_17C]
		mov	ax, [bp+var_17E]
		mov	[bp+var_9C], dx
		mov	[bp+var_9E], ax
		pushfd
		pop	eax
		shr	eax, 10h
		mov	[bp+var_90], ax
		mov	ax, word ptr [bp+src+2]
		mov	[bp+var_92], ax
		mov	[bp+var_C0], 0
		mov	[bp+var_C2], fs
		mov	[bp+var_C4], 0
		mov	[bp+var_C6], gs
		jmp	short loc_7AFE
; ---------------------------------------------------------------------------

loc_7AB5:
		xor	ax, ax
		xor	dx, dx
		mov	[bp+var_9C], ax
		mov	[bp+var_9E], dx
		mov	[bp+var_A0], ax
		mov	[bp+var_A2], dx
		mov	[bp+var_A4], ax
		mov	[bp+var_A6], dx
		mov	[bp+var_A8], ax
		mov	[bp+var_AA], dx
		mov	[bp+var_AC], ax
		mov	[bp+var_AE], dx
		mov	[bp+var_B0], ax
		mov	[bp+var_B2], dx
		mov	[bp+var_B4], ax
		mov	[bp+var_B6], dx
		mov	ax, word ptr [bp+src+2]
		mov	[bp+var_90], 0
		mov	[bp+var_92], ax

loc_7AFE:
		mov	dx, [bp+var_9C]
		mov	ax, [bp+var_9E]
		add	ax, 18h
		adc	dx, 0
		mov	[bp+var_8C], dx
		mov	[bp+var_8E], ax
		cmp	[bp+arg_2], 0EEFh
		jnz	short loc_7B2F
		cmp	[bp+arg_0], 0FACEh
		jnz	short loc_7B2F
		les	bx, [bp+arg_C]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		jmp	short loc_7B3D
; ---------------------------------------------------------------------------

loc_7B2F:
					; _RaiseException+14Aj
		mov	word ptr [bp+src], bp
		mov	bx, word ptr [bp+src]
		mov	dx, ss:[bx+16h]
		mov	ax, ss:[bx+14h]

loc_7B3D:
		mov	[bp+var_4], dx
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_98], 0
		mov	[bp+var_9A], ax
		mov	ax, [bp+var_4]
		mov	[bp+var_94], 0
		mov	[bp+var_96], ax
		mov	ax, 14h
		push	ax		; n
		push	ss
		push	bp		; src
		push	ss
		lea	ax, [bp+var_166]
		push	ax		; dest
		nopcall	_memcpy
		add	sp, 0Ah
		mov	ax, [bp+var_164]
		mov	[bp+var_B8], 0
		mov	[bp+var_BA], ax
		mov	ax, [bp+var_166]
		mov	[bp+var_BC], 0
		mov	[bp+var_BE], ax
		mov	[bp+var_88], 0
		mov	[bp+var_8A], ss
		mov	ax, [bp+var_154]
		mov	[bp+var_A2], ax
		mov	ax, [bp+var_15A]
		mov	[bp+var_AE], ax
		mov	ax, [bp+var_156]
		mov	[bp+var_A6], ax
		mov	ax, [bp+var_158]
		mov	[bp+var_AA], ax
		mov	ax, [bp+var_160]
		mov	[bp+var_B2], ax
		mov	ax, [bp+var_162]
		mov	[bp+var_B6], ax
		mov	ax, [bp+var_15E]
		mov	[bp+var_9E], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		and	dx, 0EFFFh
		mov	[bp+var_54], dx
		mov	[bp+var_56], ax
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	[bp+var_50], dx
		mov	[bp+var_52], ax
		mov	dx, [bp+var_4]
		mov	ax, [bp+var_6]
		mov	[bp+var_4A], dx
		mov	[bp+var_4C], ax
		mov	[bp+var_4E], 0
		mov	ax, word ptr [bp+arg_C]
		or	ax, word ptr [bp+arg_C+2]
		jnz	short loc_7C0E
		mov	[bp+arg_A], 0
		mov	[bp+arg_8], 0

loc_7C0E:
		cmp	[bp+arg_A], 0
		jb	short loc_7C26
		ja	short loc_7C1C
		cmp	[bp+arg_8], 0Fh
		jbe	short loc_7C26

loc_7C1C:
		mov	[bp+arg_A], 0
		mov	[bp+arg_8], 0Fh

loc_7C26:
					; _RaiseException+244j
		mov	ax, [bp+arg_8]
		mov	[bp+var_48], ax
		mov	[bp+var_2], 0
		jmp	short loc_7C5C
; ---------------------------------------------------------------------------

loc_7C33:
					; _RaiseException+295j
		mov	bx, [bp+var_2]
		mov	cl, 2
		shl	bx, cl
		lea	ax, [bp+var_46]
		add	bx, ax
		mov	ax, [bp+var_2]
		mov	cl, 2
		shl	ax, cl
		les	si, [bp+arg_C]
		add	si, ax
		mov	dx, es:[si+2]
		mov	ax, es:[si]
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		inc	[bp+var_2]

loc_7C5C:
		mov	ax, [bp+var_2]
		xor	dx, dx
		cmp	dx, [bp+arg_A]
		jb	short loc_7C33
		jnz	short loc_7C6D
		cmp	ax, [bp+arg_8]
		jb	short loc_7C33

loc_7C6D:
					; _RaiseException+2E0j
		mov	ax, 0FFFFh
		push	ax
		push	ss
		lea	ax, [bp+var_152]
		push	ax
		lea	ax, [bp+var_56]
		push	ax
		push	cs
		call	near ptr sub_78FE
		add	sp, 8
		or	ax, ax
		jnz	short loc_7CB8
		test	byte ptr [bp+arg_4], 1
		jz	short loc_7CD8
		mov	[bp+var_54], 0C000h
		mov	[bp+var_56], 25h ; '%'
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	[bp+var_50], dx
		mov	[bp+var_52], ax
		mov	[bp+var_4A], 0
		mov	[bp+var_4C], 0
		mov	[bp+var_4E], 0
		mov	[bp+var_48], 0
		jmp	short loc_7C6D
; ---------------------------------------------------------------------------

loc_7CB8:
		or	[bp+var_52], 2
		mov	ax, 0FFFFh
		push	ax
		push	ss
		lea	ax, [bp+var_152]
		push	ax
		lea	ax, [bp+var_56]
		push	ax
		push	cs
		call	near ptr sub_78FE
		add	sp, 8
		or	ax, ax
		jz	short loc_7CD8
		jmp	loc_7E43
; ---------------------------------------------------------------------------

loc_7CD8:
					; _RaiseException+2FDj
		cmp	byte ptr word_10C96, 3
		jnb	short loc_7CE2
		jmp	loc_7DC2
; ---------------------------------------------------------------------------

loc_7CE2:
		mov	cx, [bp+var_8E]
		sub	cx, 30h	; '0'
		mov	es, [bp+var_8A]
		mov	bx, cx
		mov	ax, [bp+var_C6]
		mov	es:[bx], ax
		mov	ax, [bp+var_C2]
		mov	es:[bx+2], ax
		mov	ax, [bp+var_BE]
		mov	es:[bx+4], ax
		mov	ax, [bp+var_BA]
		mov	es:[bx+6], ax
		mov	dx, [bp+var_B4]
		mov	ax, [bp+var_B6]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	dx, [bp+var_B0]
		mov	ax, [bp+var_B2]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	dx, [bp+var_9C]
		mov	ax, [bp+var_9E]
		mov	es:[bx+12h], dx
		mov	es:[bx+10h], ax
		mov	dx, [bp+var_8C]
		mov	ax, [bp+var_8E]
		mov	es:[bx+16h], dx
		mov	es:[bx+14h], ax
		mov	dx, [bp+var_AC]
		mov	ax, [bp+var_AE]
		mov	es:[bx+1Ah], dx
		mov	es:[bx+18h], ax
		mov	dx, [bp+var_A8]
		mov	ax, [bp+var_AA]
		mov	es:[bx+1Eh], dx
		mov	es:[bx+1Ch], ax
		mov	dx, [bp+var_A4]
		mov	ax, [bp+var_A6]
		mov	es:[bx+22h], dx
		mov	es:[bx+20h], ax
		mov	dx, [bp+var_A0]
		mov	ax, [bp+var_A2]
		mov	es:[bx+26h], dx
		mov	es:[bx+24h], ax
		mov	dx, [bp+var_90]
		mov	ax, [bp+var_92]
		mov	es:[bx+2Ah], dx
		mov	es:[bx+28h], ax
		mov	ax, [bp+var_9A]
		mov	es:[bx+2Ch], ax
		mov	ax, [bp+var_96]
		mov	es:[bx+2Eh], ax
		mov	ss, [bp+var_8A]
		mov	sp, bx
		pop	gs
		pop	fs
		pop	es
		pop	ds
		popad
		popfd
		retf
; ---------------------------------------------------------------------------
		jmp	loc_7E48
; ---------------------------------------------------------------------------

loc_7DC2:
		mov	cx, [bp+var_8E]
		sub	cx, 1Ah
		mov	es, [bp+var_8A]
		mov	bx, cx
		mov	ax, [bp+var_BE]
		mov	es:[bx], ax
		mov	ax, [bp+var_BA]
		mov	es:[bx+2], ax
		mov	ax, [bp+var_B6]
		mov	es:[bx+4], ax
		mov	ax, [bp+var_B2]
		mov	es:[bx+6], ax
		mov	ax, [bp+var_9E]
		mov	es:[bx+8], ax
		mov	ax, [bp+var_8E]
		mov	es:[bx+0Ah], ax
		mov	ax, [bp+var_AE]
		mov	es:[bx+0Ch], ax
		mov	ax, [bp+var_AA]
		mov	es:[bx+0Eh], ax
		mov	ax, [bp+var_A6]
		mov	es:[bx+10h], ax
		mov	ax, [bp+var_A2]
		mov	es:[bx+12h], ax
		mov	ax, [bp+var_92]
		mov	es:[bx+14h], ax
		mov	ax, [bp+var_9A]
		mov	es:[bx+16h], ax
		mov	ax, [bp+var_96]
		mov	es:[bx+18h], ax
		mov	ss, [bp+var_8A]
		mov	sp, bx
		pop	es
		pop	ds
		popa
		popf
		retf
; ---------------------------------------------------------------------------
		jmp	short loc_7E48
; ---------------------------------------------------------------------------

loc_7E43:
		nop
		push	cs
		call	near ptr ___call_terminate
_RaiseException	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR _RaiseException

loc_7E48:
					; _RaiseException+46Bj
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retf
; END OF FUNCTION CHUNK	FOR _RaiseException
; ---------------------------------------------------------------------------
		db 4 dup(0), 0B7h, 7Eh
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 55h,	7Eh
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7E7F	proc near

var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 7E6Dh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_12], 6
		mov	ax, 1
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_71F0
		add	sp, 0Ch
		mov	[bp+var_12], 0
		jmp	short loc_7EC1
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_7EC1:
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7E7F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7ECF	proc near
					; sub_8419+138p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx+38h], 0
		jz	short loc_7F4A
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+16h], 2
		jz	short loc_7F42
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx+4]
		mov	word ptr [bp+var_4+2], es
		mov	word ptr [bp+var_4], bx
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_4]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		mov	ax, word ptr [bp+arg_0]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+arg_0+2]
		push	ax
		call	sub_7E7F
		add	sp, 0Ah
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, word ptr [bp+var_8+2]
		mov	cx, word ptr [bp+var_8]
		mov	es, dx
		xchg	ax, bx
		mov	es:[bx+2], ax
		mov	es:[bx], cx

loc_7F42:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+38h], 0

loc_7F4A:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx+39h], 0
		jz	short loc_7FA1
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+34h]
		mov	ax, es:[bx+32h]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+2], 2
		jz	short loc_7F99
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_7F99
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	ss
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+36h]
		call	sub_7E7F
		add	sp, 0Ah

loc_7F99:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+39h], 0

loc_7FA1:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7ECF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; _CatchCleanup(void)
@_CatchCleanup$qv proc far
					; sub_74C7+277p ...

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, ss:16h
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+24h]
		mov	[bp+var_6], ax
		mov	bx, [bp+var_6]
		les	ax, ss:[bx+arg_0]
		mov	bx, [bp+var_6]
		add	ax, ss:[bx+arg_6]
		mov	bx, ax
		mov	ax, es:[bx]
		mov	bx, [bp+var_6]
		mov	ss:[bx+arg_6], ax
		push	word ptr [bp+var_4+2]

loc_7FFE:
		push	word ptr [bp+var_4]
		call	sub_7ECF
		pop	cx
		pop	cx
		push	ds
		les	bx, [bp+var_4]
		mov	ds, word ptr es:[bx+18h]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		call	dword ptr es:[bx+1Ah]
		pop	cx
		pop	cx
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_CatchCleanup$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8024	proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Ch
		push	si
		push	di

loc_802C:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_8049
		xor	ax, ax
		jmp	loc_80EA
; ---------------------------------------------------------------------------

loc_8049:
		mov	bx, [bp+arg_A]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		cmp	[bp+arg_4], 0
		jz	short loc_8075
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_8+2]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax

loc_8075:
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		or	ax, ax
		jnz	short loc_80CE
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+2], 2
		jz	short loc_80E3
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		add	ax, es:[bx+0Ah]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_C]
		or	ax, [bp+var_A]
		jz	short loc_80E3
		lea	ax, [bp+var_8]
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		xor	ax, ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		call	sub_8024
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_80E3

loc_80CE:
		mov	bx, [bp+arg_A]
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		mov	ax, 1
		jmp	short loc_80EA
; ---------------------------------------------------------------------------

loc_80E3:
		add	word ptr [bp+arg_0], 8
		jmp	loc_802C
; ---------------------------------------------------------------------------

loc_80EA:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_8024	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_80F0	proc far
					; sub_8173+1C2p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_8161
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		lea	ax, [bp+arg_0]
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_8024
		add	sp, 0Ch
		or	ax, ax
		jnz	short loc_8161
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		lea	ax, [bp+arg_0]
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		mov	ax, 1
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_8024
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_8169

loc_8161:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		jmp	short loc_816D
; ---------------------------------------------------------------------------

loc_8169:
		xor	dx, dx
		xor	ax, ax

loc_816D:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_80F0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8173	proc near

var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
src		= dword	ptr -0Eh
n		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_6		= dword	ptr  0Ah
arg_A		= dword	ptr  0Eh
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 18h
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+arg_6]
		mov	es:[bx+34h], dx
		mov	es:[bx+32h], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_81A2
		jmp	loc_8413
; ---------------------------------------------------------------------------

loc_81A2:
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+8], 80h
		jz	short loc_81AF
		jmp	loc_8413
; ---------------------------------------------------------------------------

loc_81AF:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		and	ax, 1
		neg	ax
		sbb	ax, ax
		inc	ax
		mov	[bp+var_14], ax
		mov	dx, word ptr [bp+arg_6+2]
		mov	ax, word ptr [bp+arg_6]
		add	ax, 3Ah	; ':'
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+arg_6]
		mov	byte ptr es:[bx+39h], 1
		les	bx, [bp+arg_A]
		mov	ax, es:[bx]
		add	ax, [bp+arg_E]
		les	bx, [bp+arg_6]
		mov	es:[bx+36h], ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	[bp+n],	ax
		les	bx, [bp+var_8]
		mov	cx, es:[bx+2]
		mov	dx, cx
		test	cl, 30h
		jz	short loc_8223
		les	bx, [bp+var_8]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]

loc_8223:
		test	cl, 10h
		jz	short loc_824B
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+0Ch], 1
		jz	short loc_824B
		push	[bp+n]		; n
		xor	ax, ax
		push	ax		; c
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; s
		nopcall	_memset
		add	sp, 8
		jmp	loc_8376
; ---------------------------------------------------------------------------

loc_824B:
		test	dl, 1
		jnz	short loc_8253
		jmp	loc_82F7
; ---------------------------------------------------------------------------

loc_8253:
		test	cl, 30h
		jnz	short loc_825B
		jmp	loc_82F7
; ---------------------------------------------------------------------------

loc_825B:
		test	cl, 20h
		jz	short loc_8262
		jmp	short loc_8285
; ---------------------------------------------------------------------------

loc_8262:
		les	bx, [bp+src]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+15h], 10h
		jz	short loc_828C
		mov	ax, word ptr [bp+src]
		mov	word ptr [bp+src+2], ds
		mov	word ptr [bp+src], ax

loc_8285:
		mov	[bp+var_14], 1
		jmp	short $+2

loc_828C:
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		or	ax, ax
		jnz	short loc_82ED
		mov	dx, word ptr [bp+src+2]
		mov	ax, word ptr [bp+src]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	cs
		call	near ptr sub_80F0
		add	sp, 0Ch
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		mov	dx, word ptr [bp+src+2]
		mov	ax, word ptr [bp+src]
		cmp	dx, [bp+var_16]
		jnz	short loc_82E8
		cmp	ax, [bp+var_18]
		jz	short loc_82ED

loc_82E8:
		mov	[bp+var_14], 1

loc_82ED:
					; sub_8173+173j
		push	[bp+n]
		push	ss
		lea	ax, [bp+src]
		jmp	loc_83C1
; ---------------------------------------------------------------------------

loc_82F7:
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+14h], 1
		jz	short loc_837D
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		or	ax, ax
		jnz	short loc_8346
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	cs
		call	near ptr sub_80F0
		add	sp, 0Ch
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		mov	[bp+var_14], 1

loc_8346:
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 1
		jz	short loc_83C4
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Eh]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ch]
		push	word ptr es:[bx+0Ah]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h]
		call	sub_6EA2
		add	sp, 0Eh

loc_8376:
					; sub_8173+227j
		mov	[bp+var_14], 1
		jmp	short loc_83DD
; ---------------------------------------------------------------------------

loc_837D:
		test	cl, 20h
		jz	short loc_839C
		push	[bp+n]		; n
		push	ss
		lea	ax, [bp+src]
		push	ax		; src
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; dest
		nopcall	_memcpy
		add	sp, 0Ah
		jmp	short loc_8376
; ---------------------------------------------------------------------------

loc_839C:
		test	cl, 10h
		jz	short loc_83C4
		les	bx, [bp+arg_6]
		mov	ax, es:[bx+0Eh]
		cmp	ax, [bp+n]
		jz	short loc_83C4
		les	bx, [bp+src]
		mov	ax, es:[bx]
		mov	[bp+var_10], ds
		mov	[bp+var_12], ax
		mov	ax, 4
		push	ax
		push	ss
		lea	ax, [bp+var_12]

loc_83C1:
		push	ax
		jmp	short loc_83CD
; ---------------------------------------------------------------------------

loc_83C4:
					; sub_8173+22Cj ...
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src

loc_83CD:
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; dest
		nopcall	_memcpy
		add	sp, 0Ah

loc_83DD:
		cmp	[bp+var_14], 0
		jnz	short loc_8413
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_840B
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		call	sub_7E7F
		add	sp, 0Ah

loc_840B:
		les	bx, [bp+arg_6]
		mov	byte ptr es:[bx+38h], 0

loc_8413:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_8173	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8419	proc near
					; __Return_unwind+15p ...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= dword	ptr -1Ah
var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_E], 0
		les	bx, ss:16h
		mov	si, [bp+arg_0]
		mov	ax, ss:[si+arg_A]
		mov	es:[bx+6], ax
		mov	[bp+var_C], ax
		les	bx, ss:16h
		mov	si, [bp+arg_0]
		mov	ax, ss:[si+arg_C]
		mov	es:[bx+8], ax
		mov	bx, [bp+arg_0]
		mov	dx, ss:[bx+arg_4]
		mov	ax, ss:[bx+arg_2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx+4]
		mov	[bp+var_A], ax
		mov	bx, [bp+arg_0]
		mov	ax, ss:[bx+arg_8]
		jmp	loc_85BE
; ---------------------------------------------------------------------------

loc_8471:
		mov	ax, [bp+var_6]
		mov	[bp+var_12], ax
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_8], ax
		add	[bp+var_12], 2
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_10], ax
		add	[bp+var_12], 2
		mov	bx, [bp+arg_0]
		mov	ax, [bp+var_8]
		mov	ss:[bx+arg_8], ax
		mov	bx, [bp+var_10]
		cmp	bx, 5
		jbe	short loc_84AC
		jmp	loc_85BB
; ---------------------------------------------------------------------------

loc_84AC:
		add	bx, bx
		jmp	cs:off_85D8[bx]

loc_84B3:
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	word ptr dword_13352+2,	dx
		mov	word ptr dword_13352, ax
		mov	bx, [bp+arg_0]
		mov	ss:[bx+arg_E], 1
		push	ds
		pop	es
		assume es:dseg
		push	ds
		mov	ds, [bp+var_C]
		push	bp
		mov	bp, [bp+var_A]
		call	es:dword_13352
		pop	bp
		pop	ds
		mov	bx, [bp+arg_0]
		mov	ss:[bx+arg_E], 0
		jmp	loc_85BB
; ---------------------------------------------------------------------------

loc_84EE:
		add	[bp+var_12], 4
		mov	dx, ss:18h
		mov	ax, ss:16h
		jmp	short loc_851D
; ---------------------------------------------------------------------------

loc_84FD:
		les	bx, [bp+var_16]
		assume es:nothing
		mov	ax, es:[bx+24h]
		cmp	ax, [bp+arg_0]
		jnz	short loc_8517
		les	bx, [bp+var_16]
		mov	ax, es:[bx+2Ah]
		cmp	ax, [bp+var_6]
		jnz	short loc_8517
		jmp	short loc_8537
; ---------------------------------------------------------------------------

loc_8517:
		mov	dx, word ptr [bp+var_16+2]
		mov	ax, word ptr [bp+var_16]

loc_851D:
		mov	word ptr [bp+var_1A+2],	dx
		mov	word ptr [bp+var_1A], ax
		les	bx, [bp+var_1A]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		or	ax, dx
		jnz	short loc_84FD

loc_8537:
		les	bx, [bp+var_16]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+var_1A]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		push	word ptr [bp+var_16+2]
		push	word ptr [bp+var_16]
		call	sub_7ECF
		pop	cx
		pop	cx
		push	ds
		les	bx, [bp+var_16]
		mov	ds, word ptr es:[bx+18h]
		push	word ptr [bp+var_16+2]
		push	word ptr [bp+var_16]
		les	bx, [bp+var_16]
		call	dword ptr es:[bx+1Ah]
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_85BB
; ---------------------------------------------------------------------------

loc_8570:
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_1C], ax
		add	[bp+var_12], 2
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_1E], ds
		mov	[bp+var_20], ax
		mov	ax, word ptr [bp+var_4+2]
		mov	dx, [bp+var_20]
		mov	[bp+var_1E], ax
		mov	[bp+var_20], dx
		push	[bp+var_A]
		push	[bp+arg_0]
		mov	ax, [bp+var_1C]
		add	ax, [bp+var_E]
		cwd
		push	dx
		push	ax
		push	[bp+var_1E]
		push	[bp+var_20]
		call	sub_8FEF
		add	sp, 0Ch
		mov	[bp+var_E], ax
		jmp	short $+2

loc_85BB:
		mov	ax, [bp+var_8]

loc_85BE:
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0
		jz	short loc_85D2
		mov	ax, [bp+var_6]
		cmp	ax, [bp+arg_2]
		jz	short loc_85D2
		jmp	loc_8471
; ---------------------------------------------------------------------------

loc_85D2:
					; sub_8419+1B4j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_8419	endp

; ---------------------------------------------------------------------------
off_85D8	dw offset loc_84B3
		dw offset loc_85BB
		dw offset loc_85BB
		dw offset loc_85BB
		dw offset loc_84EE
		dw offset loc_8570

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Local_unwind	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		push	[bp+arg_0]
		push	[bp+var_2]
		call	sub_8419
		pop	cx
		pop	cx
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Local_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Return_unwind	proc far

var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		call	sub_8419
		pop	cx
		pop	cx
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx]
		mov	ss:14h,	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Return_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_862E	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, 4
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_869C
; ---------------------------------------------------------------------------

loc_8647:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jz	short loc_8690
		xor	ax, ax
		push	ax
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+0Ch]
		push	[bp+var_6]
		push	[bp+var_8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		call	sub_6D9D
		add	sp, 10h
		or	ax, ax
		jz	short loc_8698

loc_8690:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_86AC
; ---------------------------------------------------------------------------

loc_8698:
		add	word ptr [bp+var_4], 10h

loc_869C:
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_8647
		xor	dx, dx
		xor	ax, ax

loc_86AC:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_862E	endp

; ---------------------------------------------------------------------------
		db 2 dup(2Ah), 42h, 2 dup(43h),	78h, 68h, 31h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__ExceptionHandler proc	far

var_38		= word ptr -38h
var_36		= word ptr -36h
var_34		= word ptr -34h
var_32		= word ptr -32h
var_30		= word ptr -30h
var_2E		= word ptr -2Eh
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah

		push	bp
		mov	bp, sp
		sub	sp, 38h
		push	si
		push	di
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_4]
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_8]
		mov	ax, [bp+arg_6]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+arg_14]
		mov	ax, ss:[bx+arg_12]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		mov	bx, [bp+var_4]
		mov	dx, ss:[bx+arg_2]
		mov	ax, ss:[bx+arg_0]
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		les	bx, [bp+var_10]
		mov	ax, [bp+var_4]
		sub	ax, es:[bx+4]
		mov	[bp+var_16], ax
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx+arg_4]
		mov	[bp+var_18], ax
		les	bx, ss:16h
		mov	si, [bp+var_4]
		mov	ax, ss:[si+arg_8]
		mov	es:[bx+6], ax
		mov	[bp+var_1A], ax
		les	bx, ss:16h
		mov	si, [bp+var_4]
		mov	ax, ss:[si+arg_A]
		mov	es:[bx+8], ax
		mov	[bp+var_1C], ax
		mov	bx, [bp+var_2]
		test	byte ptr ss:[bx+4], 6
		jnz	short loc_8746
		jmp	loc_87EE
; ---------------------------------------------------------------------------

loc_8746:
		xor	ax, ax
		push	ax
		push	[bp+var_4]
		call	sub_8419
		pop	cx
		pop	cx
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jz	short loc_875F
		jmp	loc_8A21
; ---------------------------------------------------------------------------

loc_875F:
		cmp	word ptr ss:[bx], 0FACEh
		jz	short loc_8769
		jmp	loc_8A21
; ---------------------------------------------------------------------------

loc_8769:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_20+2],	dx
		mov	word ptr [bp+var_20], ax
		mov	ax, word ptr [bp+var_20]
		or	ax, word ptr [bp+var_20+2]
		jnz	short loc_8784
		jmp	loc_8A21
; ---------------------------------------------------------------------------

loc_8784:
		jmp	short loc_87C2
; ---------------------------------------------------------------------------

loc_8786:
		mov	ax, 1
		push	ax
		les	bx, [bp+var_C]
		push	word ptr es:[bx+0Ch]
		les	bx, [bp+var_20]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		les	bx, [bp+var_C]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		les	bx, [bp+var_C]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		call	sub_6D9D
		add	sp, 10h
		or	ax, ax
		jz	short loc_87BE
		jmp	loc_8A21
; ---------------------------------------------------------------------------

loc_87BE:
		add	word ptr [bp+var_20], 4

loc_87C2:
		les	bx, [bp+var_20]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_8786
		mov	ax, ss:14h
		mov	word ptr [bp+var_24+2],	ax
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx]
		mov	ss:14h,	ax
		nop
		push	cs
		call	near ptr ___call_unexpected
; ---------------------------------------------------------------------------
		mov	ax, word ptr [bp+var_24+2]
		mov	ss:14h,	ax
		jmp	loc_8A21
; ---------------------------------------------------------------------------

loc_87EE:
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx+arg_6]
		jmp	loc_8A15
; ---------------------------------------------------------------------------

loc_87F8:
		mov	ax, [bp+var_12]
		mov	word ptr [bp+var_20], ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	[bp+var_14], ax
		add	word ptr [bp+var_20], 2
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_20+2],	ax
		add	word ptr [bp+var_20], 2
		mov	bx, word ptr [bp+var_20+2]
		cmp	bx, 5
		jbe	short loc_8829
		jmp	loc_8A12
; ---------------------------------------------------------------------------

loc_8829:
		add	bx, bx
		jmp	cs:off_8A2A[bx]

loc_8830:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jz	short loc_883E
		jmp	loc_8A12
; ---------------------------------------------------------------------------

loc_883E:
		cmp	word ptr ss:[bx], 0FACEh
		jz	short loc_8848
		jmp	loc_8A12
; ---------------------------------------------------------------------------

loc_8848:
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_26], dx
		mov	[bp+var_28], ax
		add	word ptr [bp+var_20], 4
		push	word ptr [bp+var_C+2]
		push	word ptr [bp+var_C]
		push	[bp+var_26]
		push	[bp+var_28]
		call	sub_862E
		add	sp, 8
		mov	word ptr [bp+var_24+2],	dx
		mov	word ptr [bp+var_24], ax
		mov	ax, word ptr [bp+var_24]
		or	ax, word ptr [bp+var_24+2]
		jnz	short loc_8882
		jmp	loc_8A12
; ---------------------------------------------------------------------------

loc_8882:
		les	bx, [bp+var_C]
		mov	ax, [bp+var_4]
		mov	es:[bx+24h], ax
		les	bx, [bp+var_C]
		mov	dx, word ptr [bp+var_24+2]
		mov	ax, word ptr [bp+var_24]
		mov	es:[bx+28h], dx
		mov	es:[bx+26h], ax
		les	bx, [bp+var_C]
		mov	ax, word ptr [bp+var_20]
		mov	es:[bx+2Ah], ax
		mov	ax, [bp+var_12]
		mov	[bp+var_30], ax
		mov	ax, word ptr [bp+var_20]
		mov	[bp+var_2E], ax
		les	bx, [bp+var_24]

loc_88B6:
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_2A], dx
		mov	[bp+var_2C], ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	cs
		call	near ptr __Global_unwind
		pop	cx
		pop	cx
		push	[bp+var_30]
		push	[bp+var_4]
		call	sub_8419
		pop	cx
		pop	cx
		mov	bx, [bp+var_4]
		mov	ax, [bp+var_2E]
		mov	ss:[bx+arg_6], ax
		cmp	word ptr [bp+var_20+2],	3
		jnz	short loc_8908
		push	[bp+var_16]
		push	[bp+var_26]
		push	[bp+var_28]
		push	word ptr [bp+var_C+2]
		push	word ptr [bp+var_C]
		push	[bp+var_4]
		push	word ptr [bp+var_24+2]
		push	word ptr [bp+var_24]
		call	sub_8173
		add	sp, 10h

loc_8908:
		mov	dx, [bp+var_2A]
		mov	ax, [bp+var_2C]
		mov	si, [bp+var_1C]
		mov	ds, [bp+var_1A]
		mov	bx, [bp+var_18]
		mov	cx, [bp+var_16]
		push	cs
		call	near ptr ___JumpToCatch__
		jmp	loc_8A12
; ---------------------------------------------------------------------------

loc_8921:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jnz	short loc_8936
		cmp	word ptr ss:[bx], 0FACEh
		jnz	short loc_8936
		jmp	loc_8A12
; ---------------------------------------------------------------------------

loc_8936:
					; __ExceptionHandler+277j
		mov	ax, [bp+var_2]
		mov	[bp+var_36], ax
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	[bp+var_32], dx
		mov	[bp+var_34], ax
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_10],	dx
		mov	ss:[bx+arg_E], ax
		lea	ax, [bp+var_36]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_12],	ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr dword_13356+2,	dx
		mov	word ptr dword_13356, ax
		mov	ax, ds
		mov	es, ax
		assume es:dseg
		push	si
		mov	si, [bp+var_1C]
		push	ds
		mov	ds, [bp+var_1A]
		push	bp
		mov	bp, [bp+var_16]
		call	es:dword_13356
		pop	bp
		pop	ds
		pop	si
		mov	[bp+var_38], ax
		jmp	short loc_89CD
; ---------------------------------------------------------------------------

loc_8998:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jnz	short loc_89AC
		cmp	word ptr ss:[bx], 0FACEh
		jnz	short loc_89AC
		jmp	short loc_8A12
; ---------------------------------------------------------------------------

loc_89AC:
					; __ExceptionHandler+2EEj
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_10],	dx
		mov	ss:[bx+arg_E], ax
		les	bx, [bp+var_10]
		assume es:nothing
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	[bp+var_38], ax

loc_89CD:
		cmp	[bp+var_38], 0
		jge	short loc_89EB
		mov	bx, [bp+var_2]
		test	byte ptr ss:[bx+4], 1
		jz	short loc_89E7
		mov	bx, [bp+var_4]
		mov	ax, [bp+var_14]
		mov	ss:[bx+arg_6], ax

loc_89E7:
		xor	ax, ax
		jmp	short loc_8A24
; ---------------------------------------------------------------------------

loc_89EB:
		cmp	[bp+var_38], 0
		jnz	short loc_89F3
		jmp	short loc_8A12
; ---------------------------------------------------------------------------

loc_89F3:
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_12],	0
		add	word ptr [bp+var_20], 4
		mov	ax, [bp+var_14]
		mov	[bp+var_2E], ax
		mov	[bp+var_30], ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		jmp	loc_88B6
; ---------------------------------------------------------------------------

loc_8A12:
					; __ExceptionHandler+171j ...
		mov	ax, [bp+var_14]

loc_8A15:
		mov	[bp+var_12], ax
		cmp	[bp+var_12], 0
		jz	short loc_8A21
		jmp	loc_87F8
; ---------------------------------------------------------------------------

loc_8A21:
					; __ExceptionHandler+ACj ...
		mov	ax, 1

loc_8A24:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__ExceptionHandler endp

; ---------------------------------------------------------------------------
off_8A2A	dw offset loc_8A12
		dw offset loc_8921
		dw offset loc_8998
		dw offset loc_8830
		dw offset loc_8A12
		dw offset loc_8A12
		db 4 dup(0), 0C9h, 8Ah
		dw seg seg000
		db 14h dup(0), 0D9h, 8Ah
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 4Eh,	8Ah
		dw seg seg000
		db 2 dup(0), 4,	0, 6, 0, 3, 0, 36h, 8Ah
		dw seg seg000
		db 6, 0, 4, 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8A84	proc far

var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 8A66h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_12], 6
		mov	[bp+var_12], 12h
		push	[bp+arg_8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+22h]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_71F0
		add	sp, 0Ch
		mov	[bp+var_12], 6
		jmp	short loc_8AD2
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_8AD2:
		mov	[bp+var_12], 0
		jmp	short loc_8AE2
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_8AE2:
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_8A84	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8AF0	proc far
					; sub_8B71+162p ...

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	cx, [bp+arg_C]
		jmp	short loc_8B5F
; ---------------------------------------------------------------------------

loc_8AFD:
		les	bx, [bp+arg_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		cmp	[bp+arg_E], 0
		jz	short loc_8B25
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_4+2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_8B25:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_8B5F
		push	[bp+arg_10]
		xor	ax, ax
		push	ax
		xor	ax, ax
		push	ax
		push	cx
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		nop
		push	cs
		call	near ptr sub_8B71
		add	sp, 10h
		xor	cx, cx

loc_8B5F:
		sub	word ptr [bp+arg_4], 8
		mov	ax, word ptr [bp+arg_4]
		cmp	ax, [bp+arg_8]
		jnb	short loc_8AFD
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_8AF0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8B71	proc far
					; sub_8B71+25Ep ...

var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= dword	ptr -22h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		sub	sp, 2Ah
		push	si
		push	di
		cmp	[bp+arg_C], 0
		jz	short loc_8B88
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+1Ah]
		jmp	short loc_8B8F
; ---------------------------------------------------------------------------

loc_8B88:
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+1Ch]

loc_8B8F:
		mov	[bp+var_1A], 0
		mov	[bp+var_1C], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_8BB1
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		cmp	dx, [bp+var_1A]
		jb	short loc_8BCA
		jnz	short loc_8BB1
		cmp	ax, [bp+var_1C]
		jb	short loc_8BCA

loc_8BB1:
		push	[bp+arg_C]
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8A84
		add	sp, 0Ah
		jmp	loc_8E36
; ---------------------------------------------------------------------------

loc_8BCA:
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	[bp+var_1A], dx
		mov	[bp+var_1C], ax
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		cmp	[bp+arg_C], 0
		jz	short loc_8C63

loc_8BF5:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_1E], dx
		mov	word ptr [bp+var_22+2],	ax
		mov	ax, word ptr [bp+var_22+2]
		or	ax, [bp+var_1E]
		jz	short loc_8C63
		les	bx, [bp+var_22+2]
		test	byte ptr es:[bx+8], 2
		jz	short loc_8C5D
		les	bx, [bp+var_22+2]
		mov	bx, es:[bx+1Ch]
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		jb	short loc_8C56
		jnz	short loc_8C2C
		cmp	bx, [bp+var_1C]
		jb	short loc_8C56

loc_8C2C:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		push	[bp+var_1C]
		push	[bp+var_A]
		push	[bp+var_C]
		mov	ax, word ptr [bp+var_10]
		add	ax, 8
		push	word ptr [bp+var_10+2]
		push	ax

loc_8C46:
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8AF0
		add	sp, 12h
		jmp	loc_8E36
; ---------------------------------------------------------------------------

loc_8C56:
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0

loc_8C5D:
		add	word ptr [bp+var_10], 8
		jmp	short loc_8BF5
; ---------------------------------------------------------------------------

loc_8C63:
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax

loc_8C7C:
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_1E], dx
		mov	word ptr [bp+var_22+2],	ax
		mov	ax, word ptr [bp+var_22+2]
		or	ax, [bp+var_1E]
		jz	short loc_8CF2
		les	bx, [bp+var_22+2]
		test	byte ptr es:[bx+8], 2
		jz	short loc_8CEC
		les	bx, [bp+var_22+2]
		mov	bx, es:[bx+1Ch]
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		jb	short loc_8CE5
		jnz	short loc_8CB3
		cmp	bx, [bp+var_1C]
		jb	short loc_8CE5

loc_8CB3:
		push	[bp+arg_E]
		xor	ax, ax
		push	ax
		push	[bp+var_1C]
		push	[bp+var_2]
		push	[bp+var_4]
		mov	ax, word ptr [bp+var_8]
		add	ax, 8
		push	word ptr [bp+var_8+2]
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8AF0
		add	sp, 12h
		cmp	[bp+arg_C], 0
		jnz	short loc_8CE2
		jmp	loc_8E36
; ---------------------------------------------------------------------------

loc_8CE2:
		jmp	loc_8E16
; ---------------------------------------------------------------------------

loc_8CE5:
					; sub_8B71+140j
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0

loc_8CEC:
		add	word ptr [bp+var_8], 8
		jmp	short loc_8C7C
; ---------------------------------------------------------------------------

loc_8CF2:
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+24h]
		mov	word ptr [bp+var_18+2],	dx
		mov	word ptr [bp+var_18], ax
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax

loc_8D0B:
		les	bx, [bp+var_18]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax
		mov	[bp+var_1E], 1
		les	bx, [bp+var_22]
		test	byte ptr es:[bx+3], 4
		jz	short loc_8D45
		les	bx, [bp+var_22]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_1E], ax
		les	bx, [bp+var_22]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax

loc_8D45:
		les	bx, [bp+var_22]
		mov	ax, es:[bx+1Ah]
		imul	[bp+var_1E]
		mov	bx, ax
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		ja	short loc_8D69
		jb	short loc_8D5F
		cmp	bx, [bp+var_1C]
		jnb	short loc_8D69

loc_8D5F:
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0
		jmp	loc_8E2F
; ---------------------------------------------------------------------------

loc_8D69:
					; sub_8B71+1ECj ...
		les	bx, [bp+var_18]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	[bp+var_24], dx
		mov	[bp+var_26], ax
		les	bx, [bp+var_18]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_28], dx
		mov	[bp+var_2A], ax
		cmp	[bp+var_1E], 1
		jbe	short loc_8DB5
		push	[bp+arg_E]
		push	[bp+var_1A]
		push	[bp+var_1C]
		les	bx, [bp+var_18]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	[bp+var_24]
		push	[bp+var_26]
		nop
		push	cs
		call	near ptr sub_8E3C
		add	sp, 0Eh
		jmp	short loc_8DD5
; ---------------------------------------------------------------------------

loc_8DB5:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		push	[bp+var_1A]
		push	[bp+var_1C]
		push	[bp+var_28]
		push	[bp+var_2A]
		push	[bp+var_24]
		push	[bp+var_26]
		push	cs
		call	near ptr sub_8B71
		add	sp, 10h

loc_8DD5:
		mov	[bp+var_1A], 0
		mov	[bp+var_1C], 0
		sub	word ptr [bp+var_18], 6
		mov	ax, word ptr [bp+var_18]
		cmp	ax, [bp+var_14]
		jb	short loc_8DEE
		jmp	loc_8D69
; ---------------------------------------------------------------------------

loc_8DEE:
		push	[bp+arg_E]
		xor	ax, ax
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8AF0
		add	sp, 12h
		cmp	[bp+arg_C], 0
		jz	short loc_8E36

loc_8E16:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	word ptr [bp+var_10+2]
		push	word ptr [bp+var_10]
		jmp	loc_8C46
; ---------------------------------------------------------------------------

loc_8E2F:
		add	word ptr [bp+var_18], 6
		jmp	loc_8D0B
; ---------------------------------------------------------------------------

loc_8E36:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_8B71	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8E3C	proc far
					; sub_8FEF+316p

var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 0Eh
		push	si
		push	di
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_6], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+1Ah]
		mov	[bp+var_8], 0
		mov	[bp+var_A], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jnz	short loc_8E96
		mov	bx, [bp+var_6]
		xor	cx, cx
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		call	N_LXMUL@
		mov	[bp+arg_A], dx
		mov	[bp+arg_8], ax

loc_8E96:
		push	[bp+var_8]
		push	[bp+var_A]
		push	[bp+arg_A]
		push	[bp+arg_8]
		call	near ptr N_LUDIV@
		mov	[bp+var_C], dx
		mov	[bp+var_E], ax
		mov	cx, [bp+var_C]
		mov	bx, [bp+var_E]
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		call	N_LXMUL@
		sub	[bp+arg_8], ax
		sbb	[bp+arg_A], dx
		les	bx, [bp+var_4]
		mov	bx, es:[bx]
		xor	cx, cx
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		call	N_LXMUL@
		mov	dx, [bp+arg_2]
		add	ax, [bp+arg_0]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_8F26
		push	[bp+arg_C]
		mov	ax, 1
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		jmp	short loc_8F13
; ---------------------------------------------------------------------------

loc_8EF4:
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		push	[bp+arg_C]
		mov	ax, 1
		push	ax
		push	[bp+var_8]
		push	[bp+var_A]

loc_8F13:
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8B71
		add	sp, 10h

loc_8F26:
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_E]
		sub	[bp+var_E], 1
		sbb	[bp+var_C], 0
		or	dx, ax
		jnz	short loc_8EF4
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_8E3C	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8F3E	proc far
					; sub_8FEF+2E4p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	cx, [bp+arg_4]
		mov	bx, cx
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+8]
		and	ax, 50h
		cmp	ax, 50h	; 'P'
		jnz	short loc_8FE3
		les	bx, [bp+var_4]
		cmp	word ptr es:[bx+6], 0FFFFh
		jz	short loc_8FE3
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+9], 10h
		jz	short loc_8F9D
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		jmp	short loc_8FA6
; ---------------------------------------------------------------------------

loc_8F9D:
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], ds

loc_8FA6:
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx-4]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		les	bx, [bp+var_8]
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	bx, cx
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax

loc_8FE3:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_8F3E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8FEF	proc near

driver		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= dword	ptr -16h
var_12		= dword	ptr -12h
var_E		= word ptr -0Eh
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_16		= word ptr  1Ah
arg_18		= word ptr  1Ch

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_E], 0
		cmp	word ptr [bp+arg_0], 0FFFFh
		jnz	short loc_9005
		jmp	loc_93F2
; ---------------------------------------------------------------------------

loc_9005:
		mov	bx, [bp+arg_8]
		mov	dx, ss:[bx+arg_18]
		mov	ax, ss:[bx+arg_16]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		sub	ax, [bp+var_4]
		sbb	dx, [bp+var_2]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		sub	[bp+var_8], ax
		sbb	[bp+var_6], dx
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+4], 20h
		jz	short loc_905E
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		les	bx, es:[bx+6]
		mov	ax, es:[bx+1Ah]
		mov	[bp+var_6], 0
		mov	[bp+var_8], ax

loc_905E:
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+5], 1
		jz	short loc_9075
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+1Ch]
		jmp	loc_93F4
; ---------------------------------------------------------------------------

loc_9075:
		cmp	[bp+var_6], 0
		jg	short loc_90A7
		jnz	short loc_9083
		cmp	[bp+var_8], 0
		ja	short loc_90A7

loc_9083:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		and	ax, 3
		cmp	ax, 3
		jz	short loc_9095
		jmp	loc_93F2
; ---------------------------------------------------------------------------

loc_9095:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		inc	[bp+var_E]
		jmp	loc_920C
; ---------------------------------------------------------------------------

loc_90A7:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax

loc_90B3:
		les	bx, [bp+var_C]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_90C6
		sub	word ptr [bp+var_C], 0Ah
		jmp	loc_920C
; ---------------------------------------------------------------------------

loc_90C6:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		mov	[bp+var_18], 1
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 10h
		jnz	short loc_90EE
		jmp	loc_91B8
; ---------------------------------------------------------------------------

loc_90EE:
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 2
		jnz	short loc_9112
		jmp	loc_91B8
; ---------------------------------------------------------------------------

loc_9112:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+8], 20h
		jnz	short loc_911F
		jmp	loc_91B8
; ---------------------------------------------------------------------------

loc_911F:
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 8
		jnz	short loc_912C
		jmp	loc_91B8
; ---------------------------------------------------------------------------

loc_912C:
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 4
		jz	short loc_9145
		les	bx, [bp+var_C]
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_A]
		mov	word ptr [bp+var_1C+2],	ss
		jmp	short loc_9153
; ---------------------------------------------------------------------------

loc_9145:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_1C+2],	dx

loc_9153:
		mov	word ptr [bp+var_1C], ax
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	word ptr [bp+driver+2],	dx
		mov	word ptr [bp+driver], ax
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 80h
		jz	short loc_917B
		les	bx, [bp+driver]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	dx
		jmp	short loc_9184
; ---------------------------------------------------------------------------

loc_917B:
		les	bx, [bp+driver]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	ds

loc_9184:
		mov	word ptr [bp+var_1C], ax
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 40h
		jz	short loc_9195
		add	word ptr [bp+var_1C], 4

loc_9195:
		lea	ax, [bp+var_12]
		push	ax
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	cs
		call	near ptr sub_8F3E
		add	sp, 6
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		mov	dx, word ptr [bp+var_12+2]
		mov	ax, word ptr [bp+var_12]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax

loc_91B8:
					; sub_8FEF+120j ...
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_91DD
		les	bx, [bp+var_16]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_18], ax
		les	bx, [bp+var_16]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax

loc_91DD:
		les	bx, [bp+var_16]
		mov	ax, es:[bx+1Ah]
		imul	[bp+var_18]
		mov	[bp+var_18], ax
		mov	ax, [bp+var_18]
		xor	dx, dx
		cmp	dx, [bp+var_6]
		jb	short loc_91FB
		jnz	short loc_920C
		cmp	ax, [bp+var_8]
		jnb	short loc_920C

loc_91FB:
		mov	ax, [bp+var_18]
		sub	[bp+var_8], ax
		sbb	[bp+var_6], 0
		add	word ptr [bp+var_C], 0Ah
		jmp	loc_90B3
; ---------------------------------------------------------------------------

loc_920C:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_C]
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_16+2],	ax
		test	byte ptr [bp+var_16+2],	4
		jz	short loc_923B
		les	bx, [bp+var_C]
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_A]
		mov	word ptr [bp+var_16], ss
		jmp	short loc_9249
; ---------------------------------------------------------------------------

loc_923B:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16], dx

loc_9249:
		mov	[bp+var_18], ax
		test	byte ptr [bp+var_16+2],	11h
		jnz	short loc_9255
		jmp	loc_92DF
; ---------------------------------------------------------------------------

loc_9255:
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		mov	dx, word ptr [bp+var_16]
		mov	ax, [bp+var_18]
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_9287
		les	bx, [bp+var_1C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16], dx
		jmp	short loc_9290
; ---------------------------------------------------------------------------

loc_9287:
		les	bx, [bp+var_1C]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16], ds

loc_9290:
		mov	[bp+var_18], ax
		mov	dx, word ptr [bp+var_16]
		mov	ax, [bp+var_18]
		mov	word ptr [bp+driver+2],	dx
		mov	word ptr [bp+driver], ax
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 48h
		cmp	ax, 40h	; '@'
		jnz	short loc_92AE
		add	[bp+var_18], 4

loc_92AE:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 2
		jz	short loc_92DF
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+8], 20h
		jz	short loc_92DF
		test	byte ptr [bp+var_16+2],	8
		jz	short loc_92DF
		lea	ax, [bp+var_12]
		push	ax
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_8F3E
		add	sp, 6
		mov	word ptr [bp+var_16], dx
		mov	[bp+var_18], ax

loc_92DF:
					; sub_8FEF+2C7j ...
		cmp	[bp+var_E], 0
		jnz	short loc_932D
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_930D
		push	[bp+arg_A]
		push	[bp+var_6]
		push	[bp+var_8]
		push	word ptr [bp+var_12+2]
		push	word ptr [bp+var_12]
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_8E3C
		add	sp, 0Eh
		jmp	short loc_932D
; ---------------------------------------------------------------------------

loc_930D:
		push	[bp+arg_A]
		mov	ax, 1
		push	ax
		push	[bp+var_6]
		push	[bp+var_8]
		push	word ptr [bp+var_12+2]
		push	word ptr [bp+var_12]
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_8B71
		add	sp, 10h

loc_932D:
					; sub_8FEF+31Cj
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 3
		cmp	ax, 3
		jz	short loc_933B
		jmp	loc_93D9
; ---------------------------------------------------------------------------

loc_933B:
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 48h
		cmp	ax, 48h	; 'H'
		jnz	short loc_934A
		sub	word ptr [bp+driver], 4

loc_934A:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_9399
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_12]
		mov	ax, es:[bx+16h]
		or	ax, es:[bx+18h]
		jz	short loc_9386
		les	bx, [bp+var_12]
		push	word ptr es:[bx+14h]
		les	bx, [bp+var_12]
		push	word ptr es:[bx+18h]
		push	word ptr es:[bx+16h]
		jmp	short loc_93B8
; ---------------------------------------------------------------------------

loc_9386:
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_93D9
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; font
		nop
		push	cs
		call	near ptr _registerbgifont
		jmp	short loc_93D7
; ---------------------------------------------------------------------------

loc_9399:
		les	bx, [bp+var_12]
		mov	ax, es:[bx+0Eh]
		or	ax, es:[bx+10h]
		jz	short loc_93C6
		les	bx, [bp+var_12]
		push	word ptr es:[bx+12h]
		les	bx, [bp+var_12]
		push	word ptr es:[bx+10h]
		push	word ptr es:[bx+0Eh]

loc_93B8:
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver]
		call	sub_73A8
		add	sp, 0Ah
		jmp	short loc_93D9
; ---------------------------------------------------------------------------

loc_93C6:
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_93D9
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver

loc_93D7:
		pop	cx
		pop	cx

loc_93D9:
					; sub_8FEF+39Bj ...
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		mov	ax, word ptr [bp+var_C]
		sub	word ptr [bp+var_C], 0Ah
		cmp	ax, word ptr [bp+arg_0]
		jbe	short loc_93F2
		jmp	loc_920C
; ---------------------------------------------------------------------------

loc_93F2:
		xor	ax, ax

loc_93F4:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_8FEF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__CurrExcContext proc far

s1		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_943D
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		add	ax, 0FFF8h
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		mov	ax, 8
		push	ax		; n
		push	ds
		mov	ax, 19A3h
		push	ax		; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		nopcall	_memcmp
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_9442

loc_943D:
		mov	ax, 0FFFFh
		jmp	short loc_9449
; ---------------------------------------------------------------------------

loc_9442:
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx+arg_6]

loc_9449:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__CurrExcContext endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowFileName(void)
@__ThrowFileName$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+18h]
		mov	ax, es:[bx+16h]
		pop	di
		pop	si
		retf
@__ThrowFileName$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowLineNumber(void)
@__ThrowLineNumber$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+1Ah]
		pop	di
		pop	si
		retf
@__ThrowLineNumber$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowExceptionName(void)
@__ThrowExceptionName$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		pop	di
		pop	si
		retf
@__ThrowExceptionName$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far typeinfo__typeinfo(int, int, int, __int32)
@typeinfo@0$bctr$qmx8typeinfo proc far

src		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_94A5
		mov	ax, 8
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_94E3

loc_94A5:
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+2], seg	seg000
		mov	word ptr es:[bx], 9A81h
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_2], 0
		mov	[bp+src], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 9A63h
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_94E3:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@typeinfo@0$bctr$qmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator=(typeinfo const &)
@typeinfo@0$basg$qmx8typeinfo proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$basg$qmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far typeinfo___typeinfo(void (*driver)(void), int)
@typeinfo@0$bdtr$qv proc far

driver		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_4]
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_952E
		les	bx, [bp+driver]
		mov	word ptr es:[bx+2], seg	seg000
		mov	word ptr es:[bx], 9A81h
		test	dl, 1
		jz	short loc_952E
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx

loc_952E:
					; typeinfo::~typeinfo(void)+21j
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$bdtr$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator==(typeinfo	const &)const
@typeinfo@0$beql$xqmx8typeinfo proc far

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$beql$xqmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator!=(typeinfo	const &)const
@typeinfo@0$bneq$xqmx8typeinfo proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr @typeinfo@0$beql$xqmx8typeinfo	; typeinfo::operator==(typeinfo	&)
		add	sp, 8
		neg	ax
		sbb	ax, ax
		inc	ax
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$bneq$xqmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::before(typeinfo const &)const
@typeinfo@0before$xqmx8typeinfo	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		or	ax, es:[bx+6]
		jnz	short loc_9592
		xor	ax, ax
		jmp	short loc_95EB
; ---------------------------------------------------------------------------

loc_9592:
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+4]
		or	ax, es:[bx+6]
		jnz	short loc_95A4
		mov	ax, 1
		jmp	short loc_95EB
; ---------------------------------------------------------------------------

loc_95A4:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+6]
		mov	word ptr [bp+var_4+2], dx
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		add	ax, es:[bx+4]
		push	dx
		push	ax		; s2
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		add	ax, es:[bx+4]
		push	dx
		push	ax		; s1
		nop
		push	cs
		call	near ptr _strcmp
		add	sp, 8
		or	ax, ax
		jge	short loc_95E9
		mov	ax, 1
		jmp	short loc_95EB
; ---------------------------------------------------------------------------

loc_95E9:
		xor	ax, ax

loc_95EB:
					; typeinfo::before(typeinfo &)+29j ...
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@typeinfo@0before$xqmx8typeinfo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::name(void)const
@typeinfo@0name$xqv proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	cs
		call	near ptr sub_697F
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0name$xqv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far __GetTypeInfo(int, int, int, int, int, __int32, int, int, int, int)
@__GetTypeInfo$qnvt1t1t1 proc far

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_964D
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ds
		mov	ax, 401Ah
		push	ax		; src
		push	cs		; int
		mov	ax, 9A4Dh
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_964D:
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_4+2]
		mov	ax, [bp+arg_4]
		sub	ax, es:[bx-2]
		mov	[bp+arg_4+2], dx
		mov	[bp+arg_4], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+var_8]
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetTypeInfo$qnvt1t1t1 endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_968E	proc near
					; sub_968E+1C4p ...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= dword	ptr -14h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h
arg_10		= word ptr  14h
arg_12		= word ptr  16h
arg_14		= word ptr  18h
arg_16		= word ptr  1Ah
arg_18		= word ptr  1Ch
arg_1A		= word ptr  1Eh
arg_1C		= word ptr  20h
arg_1E		= word ptr  22h

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_8], 0
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0
		mov	[bp+var_E], 0
		mov	ax, [bp+arg_14]
		or	ax, [bp+arg_16]
		jz	short loc_96C9
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		or	ax, ax
		jnz	short loc_96D3

loc_96C9:
		les	bx, [bp+arg_4]
		test	byte ptr es:[bx+8], 4
		jnz	short loc_96DA

loc_96D3:
		xor	dx, dx
		xor	ax, ax
		jmp	loc_98CE
; ---------------------------------------------------------------------------

loc_96DA:
		mov	[bp+var_6], 0
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]

loc_96EC:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_96F2:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		mov	ax, word ptr [bp+var_1C]
		or	ax, word ptr [bp+var_1C+2]
		jnz	short loc_970D
		jmp	loc_9896
; ---------------------------------------------------------------------------

loc_970D:
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 8
		jz	short loc_971A
		jmp	loc_988F
; ---------------------------------------------------------------------------

loc_971A:
		cmp	[bp+arg_1A], 0
		jz	short loc_9734
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_9734
		mov	ax, 1
		jmp	short loc_9736
; ---------------------------------------------------------------------------

loc_9734:
		xor	ax, ax

loc_9736:
		mov	[bp+var_10], ax
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	dx, [bp+arg_1E]
		mov	ax, [bp+arg_1C]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 4
		jz	short loc_977D
		les	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_14+2]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax

loc_977D:
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		or	ax, ax
		jnz	short loc_97FF
		les	bx, [bp+var_1C]
		test	byte ptr es:[bx+8], 4
		jnz	short loc_97A1
		jmp	loc_988F
; ---------------------------------------------------------------------------

loc_97A1:
		push	[bp+var_16]
		push	[bp+var_18]
		push	[bp+var_10]
		push	[bp+arg_18]
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		call	sub_968E
		add	sp, 20h
		mov	[bp+var_1E], dx
		mov	[bp+var_20], ax
		mov	ax, [bp+var_20]
		or	ax, [bp+var_1E]
		jnz	short loc_97E8
		jmp	loc_988F
; ---------------------------------------------------------------------------

loc_97E8:
		mov	dx, [bp+var_1E]
		mov	ax, [bp+var_20]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	bx, [bp+arg_18]
		mov	ax, ss:[bx]
		mov	[bp+var_10], ax
		jmp	short loc_985C
; ---------------------------------------------------------------------------

loc_97FF:
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_9820
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		cmp	dx, word ptr [bp+var_14+2]
		jnz	short loc_988F
		cmp	ax, word ptr [bp+var_14]
		jnz	short loc_988F
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		jmp	loc_98CE
; ---------------------------------------------------------------------------

loc_9820:
		mov	ax, [bp+arg_10]
		or	ax, [bp+arg_12]
		jz	short loc_985C
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+arg_18]
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		call	sub_968E
		add	sp, 20h
		or	ax, dx
		jz	short loc_988F

loc_985C:
					; sub_968E+198j
		cmp	[bp+var_E], 0
		jz	short loc_987A
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		cmp	dx, [bp+var_A]
		jnz	short loc_987A
		cmp	ax, [bp+var_C]
		jnz	short loc_987A
		mov	ax, [bp+var_10]
		or	[bp+var_8], ax
		jmp	short loc_988F
; ---------------------------------------------------------------------------

loc_987A:
					; sub_968E+1DDj ...
		inc	[bp+var_E]
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_10]
		mov	[bp+var_8], ax

loc_988F:
					; sub_968E+110j ...
		add	word ptr [bp+var_4], 8
		jmp	loc_96F2
; ---------------------------------------------------------------------------

loc_9896:
		cmp	[bp+var_6], 0
		jnz	short loc_98AF
		inc	[bp+var_6]
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		jmp	loc_96EC
; ---------------------------------------------------------------------------

loc_98AF:
		mov	bx, [bp+arg_18]
		mov	ax, [bp+var_8]
		mov	ss:[bx], ax
		cmp	[bp+var_E], 1
		jz	short loc_98C8
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0

loc_98C8:
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]

loc_98CE:
					; sub_968E+18Fj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_968E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far __DynamicCast(int, int, int, int, int, __int32, int, int, int, int, int)
@__DynamicCast$qnvt1t1t1i proc far

var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		sub	sp, 16h
		push	si
		push	di
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_98FF
		jmp	loc_9A03
; ---------------------------------------------------------------------------

loc_98FF:
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx-4]
		mov	[bp+var_E], dx
		mov	[bp+var_10], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_4+2]
		mov	ax, [bp+arg_4]
		sub	ax, es:[bx-2]
		mov	[bp+arg_4+2], dx
		mov	[bp+arg_4], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+arg_C]
		or	ax, [bp+arg_E]
		jz	short loc_9955
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_6]
		push	[bp+var_8]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		or	ax, ax
		jz	short loc_995E

loc_9955:
		mov	dx, [bp+var_E]
		mov	ax, [bp+var_10]
		jmp	loc_9A33
; ---------------------------------------------------------------------------

loc_995E:
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_2]
		push	[bp+var_4]
		push	cs
		call	near ptr sub_69A4
		add	sp, 8
		or	ax, ax
		jnz	short loc_99B7
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 1
		push	ax
		lea	ax, [bp+var_16]
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	[bp+var_6]
		push	[bp+var_8]
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_E]
		push	[bp+var_10]
		call	sub_968E
		add	sp, 20h
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_14]
		or	ax, [bp+var_12]
		jnz	short loc_99FB

loc_99B7:
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 1
		push	ax
		lea	ax, [bp+var_16]
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_6]
		push	[bp+var_8]
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_E]
		push	[bp+var_10]
		call	sub_968E
		add	sp, 20h
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_14]
		or	ax, [bp+var_12]
		jz	short loc_9A03
		cmp	[bp+var_16], 0
		jz	short loc_9A03

loc_99FB:
		mov	dx, [bp+var_12]
		mov	ax, [bp+var_14]
		jmp	short loc_9A33
; ---------------------------------------------------------------------------

loc_9A03:
					; __DynamicCast(void *,void *,void *,void *,int)+11Fj ...
		cmp	[bp+arg_10], 0
		jz	short loc_9A2F
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ds
		mov	ax, 401Bh
		push	ax		; src
		push	cs		; int
		mov	ax, 9A39h
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_9A2F:
		xor	dx, dx
		xor	ax, ax

loc_9A33:
					; __DynamicCast(void *,void *,void *,void *,int)+12Dj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__DynamicCast$qnvt1t1t1i endp

; ---------------------------------------------------------------------------
		db 1, 0, 1, 0, 0Ah, 0, 2 dup(0FFh), 2 dup(0), 42h, 61h
		db 64h,	5Fh, 63h, 61h, 73h, 74h, 2 dup(0), 1, 0, 1, 0
		db 0Ah,	0, 2 dup(0FFh),	2 dup(0), 42h, 61h, 64h, 5Fh, 74h
		db 79h,	70h, 65h, 69h, 64h, 2 dup(0), 4, 0, 10h, 20h, 0Ah
		db 0, 85h, 9Ah
		dw seg seg000
aTypeinfo	db 'typeinfo *',0
		db 0, 85h, 9Ah
		dw seg seg000
		db 4 dup(0), 0FEh, 94h
		dw seg seg000
		db 8			; Method
		db 0
		db 3			; Destructor/SafeFunction
		db 0
		db 26h,	3 dup(0), 73h, 10h, 30h, 0, 34h, 0Dh dup(0), 1
		db 0, 1, 0, 0FEh, 94h
		dw seg seg000
		db 5, 0, 38h, 0, 74h, 79h, 70h,	65h, 69h, 6Eh, 66h, 6Fh
		db 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __stdcall	_DOSCMD(int, int, char *s, int,	int)
__DOSCMD	proc near

dest		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
s		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Eh
		push	si
		push	di
		mov	[bp+var_2], 3
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jz	short loc_9AEA
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_2], ax

loc_9AEA:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_9B14
; ---------------------------------------------------------------------------

loc_9AF8:
		les	bx, [bp+var_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_2], ax
		add	word ptr [bp+var_6], 4

loc_9B14:
		les	bx, [bp+var_6]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_9AF8
		push	[bp+var_2]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		or	ax, dx
		jnz	short loc_9B3A
		xor	dx, dx
		xor	ax, ax
		jmp	loc_9BF0
; ---------------------------------------------------------------------------

loc_9B3A:
		mov	dx, word ptr [bp+var_A+2]
		mov	ax, word ptr [bp+var_A]
		inc	ax
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jz	short loc_9B7D
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]

loc_9B7D:
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_9BCB
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_9BBF
; ---------------------------------------------------------------------------

loc_9B93:
		les	bx, [bp+var_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]
		add	word ptr [bp+var_6], 4

loc_9BBF:
		les	bx, [bp+var_6]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_9B93

loc_9BCB:
		les	bx, [bp+dest]
		mov	byte ptr es:[bx-1], 0Dh
		mov	byte ptr es:[bx], 0
		mov	ax, word ptr [bp+dest]
		xor	dx, dx
		sub	ax, word ptr [bp+var_A]
		sbb	dx, 0
		add	al, 0FEh ; 'þ'
		les	bx, [bp+var_A]
		mov	es:[bx], al
		mov	dx, word ptr [bp+var_A+2]
		mov	ax, word ptr [bp+var_A]

loc_9BF0:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Ch
__DOSCMD	endp

include libs/BorlandC/exec.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int execl(char *path,	char *arg0, ...)
_execl		proc far
					; sub_A96C+53P	...

s		= dword	ptr  6
arg0		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ss		; int
		lea	ax, [bp+arg0]
		push	ax		; int
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		mov	ax, 9D5Fh
		push	ax		; int
		call	sub_A4F2
		add	sp, 10h
		pop	di
		pop	si
		pop	bp
		retf
_execl		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl setblock(unsigned	int __psp, unsigned int newsize)
_setblock	proc far

___psp		= word ptr  6
newsize		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ah, 4Ah	; 'J'
		mov	bx, [bp+newsize]
		mov	es, [bp+___psp]
		int	21h		; DOS -	2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
					; ES = segment address of block	to change
					; BX = new size	in paragraphs
		jb	short loc_9FD6
		mov	ax, 0FFFFh
		jmp	short loc_9FDC
; ---------------------------------------------------------------------------

loc_9FD6:
		push	bx
		push	ax
		call	__IOERROR
		pop	ax

loc_9FDC:
		pop	di
		pop	si
		pop	bp
		retf
_setblock	endp

include libs/BorlandC/setenvp.asm

unknown_libname_2:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_E762
		db 4 dup(0), 3Dh, 0A0h
		dw seg seg000
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_A092
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_A090
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_A094
; ---------------------------------------------------------------------------

loc_A090:
		jmp	short loc_A094
; ---------------------------------------------------------------------------

loc_A092:
		xor	ax, ax

loc_A094:
					; seg000:loc_A090j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_3:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_E90A
		dd byte_E8BC
		db 4 dup(0), 0B5h, 1
		dw seg seg003
		db 87h,	20h, 0FCh, 0FFh, 6 dup(0), 9Dh,	0A0h
		dw seg seg000
		db 0DEh, 0FFh, 2 dup(0), 5, 3 dup(0), 2	dup(0FFh), 6, 0
		db 5, 3	dup(0),	0A9h, 0A0h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_A114
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_A112
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_A116
; ---------------------------------------------------------------------------

loc_A112:
		jmp	short loc_A116
; ---------------------------------------------------------------------------

loc_A114:
		xor	ax, ax

loc_A116:
					; seg000:loc_A112j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_A161
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_A15F
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_A163
; ---------------------------------------------------------------------------

loc_A15F:
		jmp	short loc_A163
; ---------------------------------------------------------------------------

loc_A161:
		xor	ax, ax

loc_A163:
					; seg000:loc_A15Fj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_4:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
unk_A16C	db    0
		db    0
		db    0
		db    0
		dd unk_A16C
		db 0E2h, 0FFh, 0FDh, 0Bh
		dw seg seg003
		db 4 dup(0), 0C3h, 0Bh
		dw seg seg003
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FDh, 0Bh
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 8Bh, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 76h, 0A1h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 7Eh, 0A1h, 6, 0
		db 5, 0, 1, 0, 96h, 0A1h, 0FDh,	0Bh
		dw seg seg003
		db 4 dup(0), 0C3h, 0Bh
		dw seg seg003
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FDh, 0Bh
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 8Bh, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 0BAh,	0A1h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 0C2h, 0A1h, 6, 0
		db 5, 0, 1, 0, 0DAh, 0A1h, 0FDh, 0Bh
		dw seg seg003
		db 4 dup(0), 0C3h, 0Bh
		dw seg seg003
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FDh, 0Bh
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 8Bh, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 0FEh,	0A1h
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 6, 0A2h, 6, 0, 5
		db 0, 1, 0, 1Eh, 0A2h, 4 dup(0), 42h, 0A2h
		dw seg seg000
byte_A24A	db 0E2h, 0FFh, 49h, 0Bh
		dw seg seg003
		dd byte_F2ED
		dd 0
		dd byte_A24A+2
		db 0E2h, 0FFh, 4 dup(0), 5Eh, 0A2h
		dw seg seg000
		db 0E2h, 0FFh, 49h, 0Bh
		dw seg seg003
		dd byte_F1EB
		db 4 dup(0), 68h, 0A2h
		dw seg seg000
		db 0E2h, 0FFh, 4 dup(0), 7Ah, 0A2h
		dw seg seg000
byte_A282	db 0E2h, 0FFh, 49h, 0Bh
		dw seg seg003
		dd byte_F1EB
		dd 0
		dd byte_A282+2
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_A312
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_A310
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_A314
; ---------------------------------------------------------------------------

loc_A310:
		jmp	short loc_A314
; ---------------------------------------------------------------------------

loc_A312:
		xor	ax, ax

loc_A314:
					; seg000:loc_A310j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_A35F
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_A35D
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_A361
; ---------------------------------------------------------------------------

loc_A35D:
		jmp	short loc_A361
; ---------------------------------------------------------------------------

loc_A35F:
		xor	ax, ax

loc_A361:
					; seg000:loc_A35Dj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_A3AC
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_A3AA
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_A3AE
; ---------------------------------------------------------------------------

loc_A3AA:
		jmp	short loc_A3AE
; ---------------------------------------------------------------------------

loc_A3AC:
		xor	ax, ax

loc_A3AE:
					; seg000:loc_A3AAj
		pop	di
		pop	si
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================


sub_A3B2	proc far
		push	si
		push	di
		cmp	byte_10D56, 0
		jz	short loc_A3C5
		mov	byte_10D56, 0
		mov	al, byte_10D57
		jmp	short loc_A3CA
; ---------------------------------------------------------------------------

loc_A3C5:
		mov	ax, 700h
		int	21h		; DOS -	DIRECT STDIN INPUT, NO ECHO

loc_A3CA:
		mov	ah, 0
		pop	di
		pop	si
		retf
sub_A3B2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; int kbhit(void)
_kbhit		proc far
		push	si
		push	di
		cmp	byte_10D56, 0
		jz	short loc_A3DD
		mov	ax, 1
		jmp	short loc_A3E2
; ---------------------------------------------------------------------------

loc_A3DD:
		mov	ah, 0Bh
		int	21h		; DOS -	CHECK STANDARD INPUT STATUS
					; Return: AL = FFh if character	available
					; 00h if no character
		cbw

loc_A3E2:
		pop	di
		pop	si
		retf
_kbhit		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A3E5	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_A456
; ---------------------------------------------------------------------------

loc_A3FB:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		push	ax
		nop
		push	cs
		call	near ptr sub_54BB
		pop	cx
		or	ax, ax
		jz	short loc_A41A
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_A453
		jmp	short loc_A45F
; ---------------------------------------------------------------------------

loc_A41A:
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_A439
; ---------------------------------------------------------------------------

loc_A428:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		les	bx, [bp+var_8]
		cmp	al, es:[bx]
		jz	short loc_A442
		inc	word ptr [bp+var_8]

loc_A439:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_A428

loc_A442:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_A453
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_A463
; ---------------------------------------------------------------------------

loc_A453:
		inc	word ptr [bp+var_4]

loc_A456:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_A3FB

loc_A45F:
		xor	dx, dx
		xor	ax, ax

loc_A463:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_A3E5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_A469(int, int, char *pathname, char *src, int)
sub_A469	proc far

dest		= byte ptr -50h
arg_0		= word ptr  6
arg_2		= word ptr  8
pathname	= dword	ptr  0Ah
src		= dword	ptr  0Eh
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 50h
		push	si
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 10h
		cmp	[bp+arg_C], 0
		jz	short loc_A4BD
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		push	ds
		mov	ax, 1A18h
		push	ax		; varname
		push	ss
		lea	ax, [bp+dest]
		push	ax		; file
		nop
		push	cs
		call	near ptr __searchenv
		add	sp, 0Ch
		les	bx, [bp+pathname]
		cmp	byte ptr es:[bx], 0
		jz	short loc_A4EA
		jmp	short loc_A4E5
; ---------------------------------------------------------------------------

loc_A4BD:
		push	ss
		lea	ax, [bp+dest]
		push	ax		; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	ax, 4
		push	ax		; char
		push	ss
		lea	ax, [bp+dest]
		push	ax		; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		or	ax, ax
		jnz	short loc_A4EA

loc_A4E5:
		mov	ax, 1
		jmp	short loc_A4EC
; ---------------------------------------------------------------------------

loc_A4EA:
		xor	ax, ax

loc_A4EC:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_A469	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_A4F2(int, char *s, int, int, int, int, int)
sub_A4F2	proc near

pathname	= word ptr -9Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= dword	ptr -14h
s1		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
s		= dword	ptr  6
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 9Ch
		push	si
		push	di
		les	bx, [bp+s]
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		cmp	ax, 61h	; 'a'
		jb	short loc_A50C
		sub	dx, 20h	; ' '

loc_A50C:
		cmp	dx, 41h	; 'A'
		jb	short loc_A520
		cmp	dx, 5Ah	; 'Z'
		ja	short loc_A520
		les	bx, [bp+s]
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jz	short loc_A536

loc_A520:
		push	ds
		mov	ax, 1A1Dh
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		push	cs
		call	near ptr sub_A3E5
		add	sp, 8
		or	ax, dx
		jz	short loc_A53B

loc_A536:
		mov	[bp+arg_E], 0

loc_A53B:
		mov	[bp+var_1A], 0
		mov	ax, 2Eh	; '.'
		push	ax		; char
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr strrchr
		add	sp, 6
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		or	ax, dx
		jz	short loc_A59A
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 1A20h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_A469
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_A581
		jmp	loc_A605
; ---------------------------------------------------------------------------

loc_A581:
		push	ds
		mov	ax, 1A21h
		push	ax		; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		nop
		push	cs
		call	near ptr _stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_A605
		jmp	short loc_A600
; ---------------------------------------------------------------------------

loc_A59A:
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 1A26h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_A469
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_A605
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 1A2Bh
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_A469
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_A605
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 1A30h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_A469
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jz	short loc_A605

loc_A600:
		mov	[bp+var_1A], 1

loc_A605:
		cmp	[bp+var_18], 0
		jz	short loc_A627
		cmp	[bp+var_1A], 0
		jz	short loc_A630
		push	ds
		mov	ax, 1A35h
		push	ax		; name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jnz	short loc_A630

loc_A627:
		mov	_errno, 2
		jmp	loc_A6F6
; ---------------------------------------------------------------------------

loc_A630:
					; sub_A4F2+133j
		cmp	[bp+var_1A], 0
		jz	short loc_A649
		push	[bp+var_2]
		push	[bp+var_4]
		push	ds
		mov	ax, 1A3Dh
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		jmp	short loc_A65D
; ---------------------------------------------------------------------------

loc_A649:
		push	ss		; int
		lea	ax, [bp+pathname]
		push	ax		; int
		xor	ax, ax
		push	ax
		push	ax		; s
		mov	ax, [bp+arg_6]
		add	ax, 4
		push	[bp+arg_8]	; int
		push	ax		; int

loc_A65D:
		call	__DOSCMD
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jnz	short loc_A677
		mov	_errno, 8
		; Hack (jmp loc_A6F6)
		db 0e9h, 07fh, 000h
; ---------------------------------------------------------------------------

loc_A677:
		mov	ax, [bp+var_8]
		inc	ax
		push	[bp+var_6]
		push	ax		; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		cmp	ax, 80h	; '€'
		jb	short loc_A6A0
		mov	_errno, 14h
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	short loc_A6F6
; ---------------------------------------------------------------------------

loc_A6A0:
		mov	ax, [bp+arg_A]
		or	ax, [bp+arg_C]
		jnz	short loc_A6B5
		mov	dx, word ptr environ@+2
		mov	ax, word ptr environ@
		mov	[bp+arg_C], dx
		mov	[bp+arg_A], ax

loc_A6B5:
		push	[bp+arg_C]	; int
		push	[bp+arg_A]	; int
		cmp	[bp+var_1A], 0
		jz	short loc_A6C9
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		jmp	short loc_A6CF
; ---------------------------------------------------------------------------

loc_A6C9:
		mov	dx, ss
		lea	ax, [bp+pathname]

loc_A6CF:
		push	dx
		push	ax		; s
		push	ss
		lea	ax, [bp+var_14]
		push	ax		; __int32
		call	__DOSENV
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		or	ax, dx
		jnz	short loc_A6FB
		mov	_errno, 8
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_A6F6:
					; sub_A4F2+182j ...
		mov	ax, 0FFFFh
		jmp	short loc_A746
; ---------------------------------------------------------------------------

loc_A6FB:
		call	_exitbuf
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_6]
		push	[bp+var_8]
		cmp	[bp+var_1A], 0
		jz	short loc_A719
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		jmp	short loc_A71F
; ---------------------------------------------------------------------------

loc_A719:
		mov	dx, ss
		lea	ax, [bp+pathname]

loc_A71F:
		push	dx
		push	ax
		call	[bp+arg_0]
		add	sp, 0Ch
		mov	[bp+var_16], ax
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		nop
		push	cs
		call	near ptr _farfree
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 8
		mov	ax, [bp+var_16]

loc_A746:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_A4F2	endp

seg000		ends

; ===========================================================================

; Segment type:	Pure code
seg001		segment	byte public 'CODE' use16
		assume cs:seg001
		;org 0Ch
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A74C	proc near

var_C		= word ptr -0Ch
var_A		= byte ptr -0Ah
var_9		= byte ptr -9
var_8		= byte ptr -8
var_7		= byte ptr -7
var_6		= byte ptr -6
var_5		= byte ptr -5
var_4		= word ptr -4

		enter	0Ch, 0
		push	ds
		push	offset aMiko_cfg ; "MIKO.CFG"
		call	sub_A7A
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	0Ah
		call	sub_9C6
		call	sub_95A
		mov	ax, [bp+var_4]
		mov	[bp+var_C], ax
		mov	word ptr dword_10DA4+2,	ax
		mov	word ptr dword_10DA4, 0
		les	bx, dword_10DA4
		mov	al, [bp+var_A]
		mov	es:[bx+0Fh], al
		mov	al, [bp+var_9]
		mov	es:[bx+3Ah], al
		mov	al, [bp+var_8]
		mov	es:[bx+3Bh], al
		mov	al, [bp+var_7]
		mov	es:[bx+10h], al
		mov	al, [bp+var_6]
		mov	es:[bx+18h], al
		mov	al, [bp+var_5]
		mov	es:[bx+49h], al
		cmp	byte ptr es:[bx+3Ah], 6
		ja	short loc_A7B5
		cmp	byte ptr es:[bx+3Ah], 0
		jnz	short loc_A7BE

loc_A7B5:
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+3Ah], 3

loc_A7BE:
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+3Bh], 2
		jbe	short loc_A7CE
		mov	byte ptr es:[bx+3Bh], 2

loc_A7CE:
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+10h], 3
		jb	short loc_A7DE
		mov	byte ptr es:[bx+10h], 0

loc_A7DE:
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+18h], 3
		jb	short locret_A7EE
		mov	byte ptr es:[bx+18h], 0

locret_A7EE:
		leave
		retn
sub_A74C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A7F0	proc near

var_8		= byte ptr -8
var_7		= byte ptr -7
var_6		= byte ptr -6
var_5		= byte ptr -5
var_4		= byte ptr -4
var_3		= byte ptr -3
var_2		= byte ptr -2

		enter	8, 0
		push	ds
		push	offset aMiko_cfg ; "MIKO.CFG"
		call	sub_89A
		push	large 0
		push	0
		call	sub_AB6
		les	bx, dword_10DA4
		mov	al, es:[bx+0Fh]
		mov	[bp+var_8], al
		mov	al, es:[bx+3Ah]
		mov	[bp+var_7], al
		mov	al, es:[bx+3Bh]
		mov	[bp+var_6], al
		mov	al, es:[bx+10h]
		mov	[bp+var_5], al
		mov	al, es:[bx+18h]
		mov	[bp+var_4], al
		mov	al, es:[bx+49h]
		mov	[bp+var_3], al
		push	ss
		lea	ax, [bp+var_8]
		push	ax
		push	6
		call	sub_AF8
		push	large 9
		push	0
		call	sub_AB6
		mov	al, [bp+var_8]
		add	al, [bp+var_7]
		add	al, [bp+var_6]
		add	al, [bp+var_5]
		add	al, [bp+var_4]
		add	al, [bp+var_3]
		mov	[bp+var_2], al
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		push	1
		call	sub_AF8
		call	sub_95A
		leave
		retn
sub_A7F0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A873	proc near

var_A		= byte ptr -0Ah
var_9		= byte ptr -9
var_8		= byte ptr -8
var_7		= byte ptr -7
var_6		= byte ptr -6
var_5		= byte ptr -5
var_1		= byte ptr -1

		enter	0Ah, 0
		lea	ax, [bp+var_A]
		push	ss
		push	ax
		push	ds
		push	offset unk_F3D1
		mov	cx, 0Ah
		call	SCOPY@
		push	ds
		push	offset aMiko_cfg ; "MIKO.CFG"
		call	sub_89A
		push	large 0
		push	0
		call	sub_AB6
		les	bx, dword_10DA4
		mov	al, es:[bx+0Fh]
		mov	[bp+var_A], al
		mov	al, es:[bx+3Ah]
		mov	[bp+var_9], al
		mov	al, es:[bx+3Bh]
		mov	[bp+var_8], al
		mov	al, es:[bx+10h]
		mov	[bp+var_7], al
		mov	al, es:[bx+18h]
		mov	[bp+var_6], al
		mov	al, es:[bx+49h]
		mov	[bp+var_5], al
		mov	al, [bp+var_A]
		add	al, [bp+var_9]
		add	al, [bp+var_8]
		add	al, [bp+var_7]
		add	al, [bp+var_6]
		add	al, [bp+var_5]
		mov	[bp+var_1], al
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	0Ah
		call	sub_AF8
		call	sub_95A
		leave
		retn
sub_A873	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A8F1	proc near
		push	bp
		mov	bp, sp
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+11h], 0
		mov	al, es:[bx+3Ah]
		mov	es:[bx+0Ch], al
		mov	al, es:[bx+3Bh]
		mov	es:[bx+0Eh], al
		mov	byte ptr es:[bx+12h], 30h ; '0'
		mov	byte ptr es:[bx+13h], 30h ; '0'
		call	sub_D708
		or	ax, ax
		jnz	short loc_A96A
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+3Eh], 0
		call	sub_CCC8
		call	sub_A7F0
		call	sub_1356
		push	20Ah
		call	sub_DC74
		call	sub_E0AC
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+1Ah], 0
		jnz	short loc_A957
		push	large 0
		push	ds
		push	offset aMain	; "main"
		push	ds
		push	offset aMain	; "main"
		jmp	short loc_A962
; ---------------------------------------------------------------------------

loc_A957:
		push	large 0
		push	ds
		push	offset path	; "deb"
		push	ds
		push	offset path	; "deb"

loc_A962:
		call	_execl
		add	sp, 0Ch

loc_A96A:
		pop	bp
		retn
sub_A8F1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A96C	proc near
		push	bp
		mov	bp, sp
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+11h], 6
		mov	byte ptr es:[bx+0Ch], 3
		mov	byte ptr es:[bx+0Eh], 2
		mov	byte ptr es:[bx+12h], 30h ; '0'
		mov	byte ptr es:[bx+13h], 36h ; '6'
		call	sub_D708
		or	ax, ax
		jnz	short loc_A9C7
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+3Eh], 0
		call	sub_CCC8
		call	sub_A7F0
		call	sub_1356
		push	20Ah
		call	sub_DC74
		call	sub_E0AC
		push	large 0
		push	ds
		push	offset aMain	; "main"
		push	ds
		push	offset aMain	; "main"
		call	_execl
		add	sp, 0Ch

loc_A9C7:
		pop	bp
		retn
sub_A96C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A9C9	proc near
		push	bp
		mov	bp, sp
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+11h], 0
		mov	byte ptr es:[bx+0Ch], 3
		mov	byte ptr es:[bx+0Eh], 3
		inc	byte ptr es:[bx+3Eh]
		cmp	byte ptr es:[bx+3Eh], 4
		jbe	short loc_A9EF
		mov	byte ptr es:[bx+3Eh], 1

loc_A9EF:
		les	bx, dword_10DA4
		mov	al, es:[bx+3Eh]
		mov	ah, 0
		dec	ax
		mov	bx, ax
		cmp	bx, 3
		ja	short loc_AA6E
		add	bx, bx
		jmp	cs:off_AAAD[bx]

loc_AA08:
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+12h], 30h ; '0'
		mov	byte ptr es:[bx+13h], 33h ; '3'
		mov	byte ptr es:[bx+19h], 0
		mov	byte ptr es:[bx+3Ch], 3
		jmp	short loc_AA6E
; ---------------------------------------------------------------------------

loc_AA22:
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+12h], 31h ; '1'
		mov	byte ptr es:[bx+13h], 30h ; '0'
		mov	byte ptr es:[bx+19h], 0
		mov	byte ptr es:[bx+3Ch], 0
		jmp	short loc_AA6E
; ---------------------------------------------------------------------------

loc_AA3C:
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+12h], 30h ; '0'
		mov	byte ptr es:[bx+13h], 32h ; '2'
		mov	byte ptr es:[bx+19h], 1
		mov	byte ptr es:[bx+3Ch], 2
		jmp	short loc_AA6E
; ---------------------------------------------------------------------------

loc_AA56:
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+12h], 31h ; '1'
		mov	byte ptr es:[bx+13h], 31h ; '1'
		mov	byte ptr es:[bx+19h], 1
		mov	byte ptr es:[bx+3Ch], 1

loc_AA6E:
		push	1
		call	palette_black_out
		call	super_free
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		call	sub_CCC8
		call	sub_A7F0
		call	sub_1356
		call	sub_E0AC
		push	large 0
		push	ds
		push	offset aMain	; "main"
		push	ds
		push	offset aMain	; "main"
		call	_execl
		add	sp, 0Ch
		pop	bp
		retn
sub_A9C9	endp

; ---------------------------------------------------------------------------
off_AAAD	dw offset loc_AA08
		dw offset loc_AA22
		dw offset loc_AA3C
		dw offset loc_AA56

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AAB5	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	ax, si
		imul	ax, 14h
		add	ax, 0E0h ; 'à'
		mov	di, ax
		push	100h
		push	ax
		push	large 800010h
		call	sub_E378
		push	0C0h ; 'À'
		push	[bp+arg_0]
		call	grcg_setcolor
		mov	[bp+var_2], si
		mov	bx, si
		cmp	bx, 5
		ja	short loc_AB59
		add	bx, bx
		jmp	cs:off_ABCB[bx]

loc_AAF3:
		push	large 11000E0h
		push	0Ah
		call	far ptr	loc_DC92
		les	bx, dword_10DA4
		mov	al, es:[bx+0Fh]
		mov	ah, 0
		add	ax, 16h
		mov	[bp+var_2], ax
		jmp	short loc_AB59
; ---------------------------------------------------------------------------

loc_AB12:
		cmp	byte_13286, 0
		jnz	short loc_AB24
		push	large 0C0000Ch
		call	grcg_setcolor

loc_AB24:
		push	large 11000F4h
		push	0Bh
		jmp	short loc_AB54
; ---------------------------------------------------------------------------

loc_AB2E:
		push	large 1100108h
		push	0Ch
		jmp	short loc_AB54
; ---------------------------------------------------------------------------

loc_AB38:
		push	large 110011Ch
		push	0Dh
		jmp	short loc_AB54
; ---------------------------------------------------------------------------

loc_AB42:
		push	large 1100130h
		push	0Eh
		jmp	short loc_AB54
; ---------------------------------------------------------------------------

loc_AB4C:
		push	large 1100144h
		push	0Fh

loc_AB54:
		call	far ptr	loc_DC92

loc_AB59:
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		cmp	[bp+arg_0], 8
		jnz	short loc_ABC4
		push	100h
		push	di
		push	23h ; '#'
		call	far ptr	loc_E00E
		push	160h
		push	di
		push	24h ; '$'
		call	far ptr	loc_E00E
		push	large 180h
		push	large 2800010h
		call	sub_E378
		mov	word_FD7C, 2
		mov	bx, [bp+var_2]
		shl	bx, 2
		push	large dword ptr	[bx+9Eh] ; s
		call	_strlen
		add	sp, 4
		shl	ax, 3
		mov	dx, 270h
		sub	dx, ax
		push	dx
		push	large 180000Fh
		mov	bx, [bp+var_2]
		shl	bx, 2
		push	large dword ptr	[bx+9Eh]
		call	far ptr	loc_DEB4

loc_ABC4:
		pop	di
		pop	si
		leave
		retn	4
sub_AAB5	endp

; ---------------------------------------------------------------------------
		db 0
off_ABCB	dw offset loc_AAF3
		dw offset loc_AB12
		dw offset loc_AB2E
		dw offset loc_AB38
		dw offset loc_AB42
		dw offset loc_AB4C

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_ABD7	proc near
					; sub_B052+1FBp ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		push	di
		mov	di, 0E0h ; 'à'
		mov	ax, [bp+arg_2]
		shl	ax, 4
		add	ax, 0E0h ; 'à'
		mov	[bp+var_4], ax
		cmp	[bp+arg_2], 7
		jnz	short loc_ABF7
		mov	[bp+var_4], 154h

loc_ABF7:
		push	0E0h ; 'à'
		push	[bp+var_4]
		push	large 0C00010h
		call	sub_E378

loc_AC08:
		push	0C0h ; 'À'
		push	[bp+arg_0]
		call	grcg_setcolor
		mov	bx, [bp+arg_2]
		cmp	bx, 7
		ja	loc_AD9A
		add	bx, bx
		jmp	cs:off_AE18[bx]

loc_AC24:
		push	large 0E000E0h
		push	10h
		call	far ptr	loc_DC92
		push	large 14000E0h
		les	bx, dword_10DA4
		mov	al, es:[bx+0Fh]
		mov	ah, 0
		add	ax, 15h
		push	ax
		call	far ptr	loc_DC92
		les	bx, dword_10DA4
		mov	al, es:[bx+0Fh]
		mov	ah, 0
		add	ax, 6

loc_AC57:
					; sub_ABD7+16Aj ...
		mov	si, ax
		jmp	loc_AD9A
; ---------------------------------------------------------------------------

loc_AC5C:
		push	large 0E000F0h
		push	11h
		call	far ptr	loc_DC92
		push	large 14000F0h
		les	bx, dword_10DA4
		mov	al, es:[bx+3Ah]
		mov	ah, 0
		push	ax
		call	far ptr	loc_DC92
		mov	si, 0Ah
		jmp	loc_AD9A
; ---------------------------------------------------------------------------

loc_AC85:
		push	large 0E00100h
		push	12h
		call	far ptr	loc_DC92
		push	large 1400100h
		les	bx, dword_10DA4
		mov	al, es:[bx+3Bh]
		mov	ah, 0
		push	ax
		call	far ptr	loc_DC92
		mov	si, 0Bh
		jmp	loc_AD9A
; ---------------------------------------------------------------------------

loc_ACAE:
		push	large 0E00110h
		push	13h
		call	far ptr	loc_DC92
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+10h], 0
		jnz	short loc_ACCB
		mov	ax, 1Ch
		jmp	short loc_ACD8
; ---------------------------------------------------------------------------

loc_ACCB:
		les	bx, dword_10DA4
		mov	al, es:[bx+10h]
		mov	ah, 0
		add	ax, 18h

loc_ACD8:
		mov	[bp+var_2], ax
		push	large 1400110h
		push	ax
		call	far ptr	loc_DC92
		les	bx, dword_10DA4
		mov	al, es:[bx+10h]
		mov	ah, 0
		add	ax, 0Ch
		jmp	loc_AC57
; ---------------------------------------------------------------------------

loc_ACF7:
		push	large 0E00120h
		push	14h
		call	far ptr	loc_DC92
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+18h], 0
		jnz	short loc_AD14
		mov	ax, 1Ch
		jmp	short loc_AD25
; ---------------------------------------------------------------------------

loc_AD14:
		les	bx, dword_10DA4
		mov	al, es:[bx+18h]
		mov	ah, 0
		push	ax
		mov	ax, 1Fh
		pop	dx
		sub	ax, dx

loc_AD25:
		mov	[bp+var_2], ax
		push	large 1400120h
		push	ax
		call	far ptr	loc_DC92
		les	bx, dword_10DA4
		mov	al, es:[bx+18h]
		mov	ah, 0
		add	ax, 0Fh
		jmp	loc_AC57
; ---------------------------------------------------------------------------

loc_AD44:
		push	large 1100130h
		les	bx, dword_10DA4
		mov	al, es:[bx+49h]
		mov	ah, 0
		mov	dx, 21h	; '!'
		sub	dx, ax
		push	dx
		call	far ptr	loc_DC92
		mov	di, 100h
		les	bx, dword_10DA4
		mov	al, es:[bx+49h]
		mov	ah, 0
		add	ax, 12h
		jmp	loc_AC57
; ---------------------------------------------------------------------------

loc_AD72:
		push	large 1100140h
		push	1Fh
		call	far ptr	loc_DC92
		mov	di, 100h
		mov	si, 14h
		jmp	short loc_AD9A
; ---------------------------------------------------------------------------

loc_AD87:
		push	large 1100154h
		push	0Fh
		call	far ptr	loc_DC92
		mov	di, 100h
		mov	si, 15h

loc_AD9A:
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		cmp	[bp+arg_0], 8
		jnz	short loc_AE11
		push	di
		push	[bp+var_4]
		push	23h ; '#'
		call	far ptr	loc_E00E
		cmp	di, 100h
		jnz	short loc_ADBD
		lea	ax, [di+60h]
		push	ax
		jmp	short loc_ADC0
; ---------------------------------------------------------------------------

loc_ADBD:
		push	180h

loc_ADC0:
		push	[bp+var_4]
		push	24h ; '$'
		call	far ptr	loc_E00E
		push	large 180h
		push	large 2800010h
		call	sub_E378
		mov	word_FD7C, 2
		mov	bx, si
		shl	bx, 2
		push	large dword ptr	[bx+9Eh] ; s
		call	_strlen
		add	sp, 4
		shl	ax, 3
		mov	dx, 270h
		sub	dx, ax
		push	dx
		push	large 180000Fh
		mov	bx, si
		shl	bx, 2
		push	large dword ptr	[bx+9Eh]
		call	far ptr	loc_DEB4

loc_AE11:
		pop	di
		pop	si
		leave
		retn	4
sub_ABD7	endp

; ---------------------------------------------------------------------------
		db    0
off_AE18	dw offset loc_AC24
		dw offset loc_AC5C
		dw offset loc_AC85
		dw offset loc_ACAE
		dw offset loc_ACF7
		dw offset loc_AD44
		dw offset loc_AD72
		dw offset loc_AD87

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AE28	proc near

arg_0		= byte ptr  4
arg_2		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	al, byte_F3DB
		cbw
		push	ax
		push	1
		call	word_10DAA
		mov	al, [bp+arg_0]
		add	byte_F3DB, al
		mov	al, byte_F3DB
		cbw
		or	ax, ax
		jge	short loc_AE4B
		mov	al, [bp+arg_2]
		mov	byte_F3DB, al

loc_AE4B:
		mov	al, byte_F3DB
		cmp	al, [bp+arg_2]
		jle	short loc_AE58
		mov	byte_F3DB, 0

loc_AE58:
		cmp	byte_13286, 0
		jnz	short loc_AE76
		mov	al, byte_F3DB
		cbw
		cmp	ax, 1
		jnz	short loc_AE76
		cmp	byte_10DA8, 0
		jnz	short loc_AE76
		mov	al, [bp+arg_0]
		add	byte_F3DB, al

loc_AE76:
		mov	al, byte_F3DB
		cbw
		push	ax
		push	8
		call	word_10DAA
		call	sub_E2E6
		push	1
		call	sub_E2F2
		call	sub_E32C
		pop	bp
		retn	4
sub_AE28	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AE96	proc near
		push	bp
		mov	bp, sp
		push	si
		cmp	byte_F446, 0
		jnz	short loc_AEEB
		mov	byte_F3DD, 0
		mov	byte_10DAC, 0
		push	large 0C000E0h
		push	large 12000A0h
		call	sub_E378
		xor	si, si
		jmp	short loc_AED6
; ---------------------------------------------------------------------------

loc_AEC0:
		push	si
		mov	al, byte_F3DB
		cbw
		cmp	ax, si
		jnz	short loc_AECE
		mov	ax, 8
		jmp	short loc_AED1
; ---------------------------------------------------------------------------

loc_AECE:
		mov	ax, 1

loc_AED1:
		push	ax
		call	sub_AAB5
		inc	si

loc_AED6:
		cmp	si, 6
		jl	short loc_AEC0
		mov	word_10DAA, 375h
		mov	byte_F446, 1
		mov	byte_10DAC, 0

loc_AEEB:
		cmp	word_11A50, 0
		jnz	short loc_AEF7
		mov	byte_10DAC, 1

loc_AEF7:
		cmp	byte_10DAC, 0
		jz	loc_B043
		test	byte ptr word_11A50, 1
		jz	short loc_AF0E
		push	5
		push	0FFFFh
		call	sub_AE28

loc_AF0E:
		test	byte ptr word_11A50, 2
		jz	short loc_AF1C
		push	5
		push	1
		call	sub_AE28

loc_AF1C:
		test	byte ptr word_11A50+1, 20h
		jnz	short loc_AF2C
		test	byte ptr word_11A50, 20h
		jz	loc_B02B

loc_AF2C:
		call	sub_E2E6
		push	0Bh
		call	sub_E2F2
		call	sub_E32C
		mov	al, byte_F3DB
		cbw
		mov	bx, ax
		cmp	bx, 5
		ja	loc_B02B
		add	bx, bx
		jmp	cs:off_B046[bx]

loc_AF51:
		call	sub_A8F1
		jmp	short loc_AFBD
; ---------------------------------------------------------------------------

loc_AF56:
		call	sub_A96C
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aOp1_pi	; "op1.pi"
		call	sub_DAFD
		push	0
		call	sub_DA50
		push	large 0
		push	0
		call	sub_DA75
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		push	0
		call	graph_copy_page
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show
		mov	byte_F446, 0
		mov	byte_10DA8, 0
		mov	byte_F3DB, 1
		jmp	loc_B043
; ---------------------------------------------------------------------------

loc_AFAD:
		call	sub_CA94
		mov	byte_F446, 0
		jmp	short loc_B02B
; ---------------------------------------------------------------------------

loc_AFB7:
		call	sub_C3B7
		call	sub_CC97

loc_AFBD:
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aOp1_pi	; "op1.pi"
		call	sub_DAFD
		push	0
		call	sub_DA50
		push	large 0
		push	0
		call	sub_DA75
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		push	0
		call	graph_copy_page
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show
		mov	byte_F446, 0
		mov	byte_10DA8, 0
		mov	byte_F3DB, 0
		jmp	short loc_B043
; ---------------------------------------------------------------------------

loc_B010:
		mov	byte_F446, 0
		mov	byte_10DA8, 1
		mov	byte_F3DB, 0
		jmp	short loc_B02B
; ---------------------------------------------------------------------------

loc_B021:
		mov	byte_F446, 0
		mov	byte_F3DC, 1

loc_B02B:
		test	byte ptr word_11A50+1, 10h
		jz	short loc_B037
		mov	byte_F3DC, 1

loc_B037:
		cmp	word_11A50, 0
		jz	short loc_B043
		mov	byte_10DAC, 0

loc_B043:
					; sub_AE96+114j ...
		pop	si
		pop	bp
		retn
sub_AE96	endp

; ---------------------------------------------------------------------------
off_B046	dw offset loc_AF51
		dw offset loc_AF56
		dw offset loc_AFAD
		dw offset loc_AFB7
		dw offset loc_B010
		dw offset loc_B021

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B052	proc near
		push	bp
		mov	bp, sp
		push	si
		cmp	byte_F447, 0
		jnz	short loc_B0A2
		mov	byte_10DAD, 0
		push	large 11000E0h
		push	large 0A00090h
		call	sub_E378
		xor	si, si
		jmp	short loc_B08D
; ---------------------------------------------------------------------------

loc_B077:
		push	si
		mov	al, byte_F3DB
		cbw
		cmp	ax, si
		jnz	short loc_B085
		mov	ax, 8
		jmp	short loc_B088
; ---------------------------------------------------------------------------

loc_B085:
		mov	ax, 1

loc_B088:
		push	ax
		call	sub_ABD7
		inc	si

loc_B08D:
		cmp	si, 8
		jl	short loc_B077
		mov	word_10DAA, 497h
		mov	byte_F447, 1
		mov	byte_10DAD, 0

loc_B0A2:
		cmp	word_11A50, 0
		jnz	short loc_B0AE
		mov	byte_10DAD, 1

loc_B0AE:
		cmp	byte_10DAD, 0
		jz	loc_B35B
		test	byte ptr word_11A50, 1
		jz	short loc_B0C5
		push	7
		push	0FFFFh
		call	sub_AE28

loc_B0C5:
		test	byte ptr word_11A50, 2
		jz	short loc_B0D3
		push	7
		push	1
		call	sub_AE28

loc_B0D3:
		test	byte ptr word_11A50+1, 20h
		jnz	short loc_B0E3
		test	byte ptr word_11A50, 20h
		jz	loc_B16F

loc_B0E3:
		mov	al, byte_F3DB
		cbw
		cmp	ax, 6
		jz	short loc_B0F4
		cmp	ax, 7
		jz	short loc_B14F
		jmp	loc_B178
; ---------------------------------------------------------------------------

loc_B0F4:
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+0Fh], 1
		mov	byte ptr es:[bx+3Ah], 3
		mov	byte ptr es:[bx+3Bh], 2
		mov	byte ptr es:[bx+10h], 2
		mov	byte ptr es:[bx+18h], 1
		mov	byte ptr es:[bx+49h], 1
		push	100h
		call	sub_DC74
		les	bx, dword_10DA4
		mov	al, es:[bx+10h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+18h]
		mov	ah, 0
		push	ax
		call	sub_DCE4
		push	ds
		push	offset aOp	; "op"
		push	600h
		call	sub_DDCA
		push	0
		call	sub_DC74
		mov	byte_F447, 0
		jmp	short loc_B16F
; ---------------------------------------------------------------------------

loc_B14F:
		call	sub_E2E6
		push	0Bh
		call	sub_E2F2
		call	sub_E32C
		mov	byte_F447, 0
		mov	byte_F3DB, 4
		mov	byte_10DA8, 0

loc_B16F:
		test	byte ptr word_11A50, 8
		jz	loc_B250

loc_B178:
		mov	al, byte_F3DB
		cbw
		mov	bx, ax
		cmp	bx, 5
		ja	loc_B246
		add	bx, bx
		jmp	cs:off_B36B[bx]

loc_B18C:
		les	bx, dword_10DA4
		inc	byte ptr es:[bx+0Fh]
		cmp	byte ptr es:[bx+0Fh], 3
		jbe	loc_B246
		mov	byte ptr es:[bx+0Fh], 0
		jmp	loc_B246
; ---------------------------------------------------------------------------

loc_B1A5:
					; sub_B052+216j
		les	bx, dword_10DA4
		inc	byte ptr es:[bx+3Ah]
		cmp	byte ptr es:[bx+3Ah], 6
		jbe	loc_B246
		mov	byte ptr es:[bx+3Ah], 1
		jmp	loc_B246
; ---------------------------------------------------------------------------

loc_B1BE:
					; sub_B052+216j
		les	bx, dword_10DA4
		inc	byte ptr es:[bx+3Bh]
		cmp	byte ptr es:[bx+3Bh], 2
		jbe	short loc_B246
		mov	byte ptr es:[bx+3Bh], 0
		jmp	short loc_B246
; ---------------------------------------------------------------------------

loc_B1D4:
					; sub_B052+216j
		les	bx, dword_10DA4
		inc	byte ptr es:[bx+10h]
		cmp	byte ptr es:[bx+10h], 3
		jb	short loc_B1E8
		mov	byte ptr es:[bx+10h], 0

loc_B1E8:
		push	100h
		call	sub_DC74
		les	bx, dword_10DA4
		mov	al, es:[bx+10h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+18h]
		mov	ah, 0
		push	ax
		call	sub_DCE4
		push	ds
		push	offset aOp	; "op"
		push	600h
		call	sub_DDCA
		push	0
		call	sub_DC74
		jmp	short loc_B246
; ---------------------------------------------------------------------------

loc_B21C:
					; sub_B052+216j
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+18h], 0
		jnz	short loc_B22E
		mov	byte ptr es:[bx+18h], 2
		jmp	short loc_B246
; ---------------------------------------------------------------------------

loc_B22E:
		les	bx, dword_10DA4
		dec	byte ptr es:[bx+18h]
		jmp	short loc_B246
; ---------------------------------------------------------------------------

loc_B238:
					; sub_B052+216j
		les	bx, dword_10DA4
		mov	al, 1
		sub	al, es:[bx+49h]
		mov	es:[bx+49h], al

loc_B246:
					; sub_B052+147j ...
		mov	al, byte_F3DB
		cbw
		push	ax
		push	8
		call	sub_ABD7

loc_B250:
		test	byte ptr word_11A50, 4
		jz	loc_B339
		mov	al, byte_F3DB
		cbw
		mov	bx, ax
		cmp	bx, 5
		ja	loc_B32F
		add	bx, bx
		jmp	cs:off_B35F[bx]

loc_B26D:
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+0Fh], 0
		jnz	short loc_B27D
		mov	byte ptr es:[bx+0Fh], 4

loc_B27D:
		les	bx, dword_10DA4
		dec	byte ptr es:[bx+0Fh]
		jmp	loc_B32F
; ---------------------------------------------------------------------------

loc_B288:
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+3Ah], 1
		jnz	short loc_B298
		mov	byte ptr es:[bx+3Ah], 7

loc_B298:
		les	bx, dword_10DA4
		dec	byte ptr es:[bx+3Ah]
		jmp	loc_B32F
; ---------------------------------------------------------------------------

loc_B2A3:
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+3Bh], 0
		jnz	short loc_B2B3
		mov	byte ptr es:[bx+3Bh], 3

loc_B2B3:
		les	bx, dword_10DA4
		dec	byte ptr es:[bx+3Bh]
		jmp	short loc_B32F
; ---------------------------------------------------------------------------

loc_B2BD:
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+10h], 0
		jnz	short loc_B2CF
		mov	byte ptr es:[bx+10h], 2
		jmp	short loc_B2D7
; ---------------------------------------------------------------------------

loc_B2CF:
		les	bx, dword_10DA4
		dec	byte ptr es:[bx+10h]

loc_B2D7:
		push	100h
		call	sub_DC74
		les	bx, dword_10DA4
		mov	al, es:[bx+10h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+18h]
		mov	ah, 0
		push	ax
		call	sub_DCE4
		push	ds
		push	offset aOp	; "op"
		push	600h
		call	sub_DDCA
		push	0
		call	sub_DC74
		jmp	short loc_B32F
; ---------------------------------------------------------------------------

loc_B30B:
		les	bx, dword_10DA4
		inc	byte ptr es:[bx+18h]
		cmp	byte ptr es:[bx+18h], 3
		jb	short loc_B32F
		mov	byte ptr es:[bx+18h], 0
		jmp	short loc_B32F
; ---------------------------------------------------------------------------

loc_B321:
		les	bx, dword_10DA4
		mov	al, 1
		sub	al, es:[bx+49h]
		mov	es:[bx+49h], al

loc_B32F:
					; sub_B052+233j ...
		mov	al, byte_F3DB
		cbw
		push	ax
		push	8
		call	sub_ABD7

loc_B339:
		test	byte ptr word_11A50+1, 10h
		jz	short loc_B34F
		mov	byte_F447, 0
		mov	byte_F3DB, 4
		mov	byte_10DA8, 0

loc_B34F:
		cmp	word_11A50, 0
		jz	short loc_B35B
		mov	byte_10DAD, 0

loc_B35B:
					; sub_B052+302j
		pop	si
		pop	bp
		retn
sub_B052	endp

; ---------------------------------------------------------------------------
		db 0
off_B35F	dw offset loc_B26D
		dw offset loc_B288
		dw offset loc_B2A3
		dw offset loc_B2BD
		dw offset loc_B30B
		dw offset loc_B321
off_B36B	dw offset loc_B18C
		dw offset loc_B1A5
		dw offset loc_B1BE
		dw offset loc_B1D4
		dw offset loc_B21C
		dw offset loc_B238

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl main(int argc, const char	**argv,	const char **envp)
_main		proc far

_argc		= word ptr  6
_argv		= dword	ptr  8
_envp		= dword	ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		call	text_clear
		call	sub_2F48
		mov	word_11A4E, 5208h
		push	ds
		push	offset aMSzlEd_dat ; "Œ¶‘z‹½ed.dat"
		call	sub_E0F4
		add	sp, 4
		or	ax, ax
		jz	short loc_B3AB
		push	ds
		push	offset asc_F7F7	; "\n‹ó‚«ƒƒ‚ƒŠ•s‘«‚Å‚·Bƒƒ‚ƒŠ‹ó‚«‚ð‘‚â‚µ"...
		call	dos_puts2
		call	sub_A3B2

loc_B3AB:
		call	sub_1332
		push	ds
		push	offset aGameft_bft ; "GAMEFT.bft"
		call	sub_1372
		call	sub_A74C
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+0Fh], 0FFh
		jnz	short loc_B3D3
		call	sub_B9CE
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+0Fh], 1

loc_B3D3:
		les	bx, dword_10DA4
		mov	al, es:[bx+10h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+18h]
		mov	ah, 0
		push	ax
		call	sub_DCE4
		push	ds
		push	offset aMiko	; "miko"
		push	0B00h
		call	sub_DDCA
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+48h], 0
		jnz	short loc_B40D
		call	sub_BC35
		les	bx, dword_10DA4
		mov	byte ptr es:[bx+48h], 1

loc_B40D:
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+3Eh], 0
		jnz	short loc_B420
		push	100h
		call	sub_DC74

loc_B420:
		call	sub_CCD2
		call	sub_CBE3
		call	sub_CC97
		mov	byte_10DA8, 0
		mov	byte_F3DC, 0
		mov	byte_F3DB, 0
		jmp	short loc_B47B
; ---------------------------------------------------------------------------

loc_B43A:
		call	far ptr	sub_E1DC
		mov	al, byte_10DA8
		cbw
		or	ax, ax
		jz	short loc_B44E
		cmp	ax, 1
		jz	short loc_B45C
		jmp	short loc_B45F
; ---------------------------------------------------------------------------

loc_B44E:
		call	sub_AE96
		cmp	si, 280h
		jl	short loc_B45F
		call	sub_A9C9
		jmp	short loc_B45F
; ---------------------------------------------------------------------------

loc_B45C:
		call	sub_B052

loc_B45F:
		cmp	word_11A50, 0
		jnz	short loc_B469
		inc	si
		jmp	short loc_B46B
; ---------------------------------------------------------------------------

loc_B469:
		xor	si, si

loc_B46B:
		les	bx, dword_10DA4
		inc	dword ptr es:[bx+14h]
		push	1
		call	sub_DA3B

loc_B47B:
		cmp	byte_F3DC, 0
		jz	short loc_B43A
		call	sub_CCC8
		call	sub_A873
		call	sub_1356
		call	text_clear
		call	sub_DDB1
		call	sub_2FBE
		pop	si
		pop	bp
		retf
_main		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B49F	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		push	si
		push	di
		mov	ax, word_11E88
		shl	ax, 4
		push	ax
		push	10h
		call	sub_E378
		push	si
		push	di
		push	2
		call	super_put
		push	si
		lea	ax, [di+8]
		push	ax
		push	6
		call	super_put
		add	si, 10h
		mov	[bp+var_2], 1
		jmp	short loc_B4F5
; ---------------------------------------------------------------------------

loc_B4DA:
		push	si
		push	di
		push	0
		call	super_put
		push	si
		lea	ax, [di+8]
		push	ax
		push	3
		call	super_put
		inc	[bp+var_2]
		add	si, 10h

loc_B4F5:
		mov	ax, word_11E88
		dec	ax
		cmp	ax, [bp+var_2]
		jg	short loc_B4DA
		push	si
		push	di
		push	4
		call	super_put
		push	si
		lea	ax, [di+8]
		push	ax
		push	7
		call	super_put
		pop	di
		pop	si
		leave
		retn	4
sub_B49F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B519	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		push	si
		lea	ax, [di+8]
		push	ax
		mov	ax, word_11E88
		shl	ax, 4
		push	ax
		push	10h
		call	sub_E378
		push	si
		push	di
		push	6
		call	super_put
		add	si, 10h
		mov	[bp+var_2], 1
		jmp	short loc_B55A
; ---------------------------------------------------------------------------

loc_B54B:
		push	si
		push	di
		push	3
		call	super_put
		inc	[bp+var_2]
		add	si, 10h

loc_B55A:
		mov	ax, word_11E88
		dec	ax
		cmp	ax, [bp+var_2]
		jg	short loc_B54B
		push	si
		push	di
		push	7
		call	super_put
		pop	di
		pop	si
		leave
		retn	4
sub_B519	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B572	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	ax, [bp+arg_2]
		mov	[bp+var_2], ax
		mov	si, [bp+arg_0]
		push	ax
		push	si
		push	5
		call	super_put
		add	[bp+var_2], 10h
		mov	di, 1
		jmp	short loc_B5A3
; ---------------------------------------------------------------------------

loc_B593:
		push	[bp+var_2]
		push	si
		push	1
		call	super_put
		inc	di
		add	[bp+var_2], 10h

loc_B5A3:
		mov	ax, word_11E88
		dec	ax
		cmp	ax, di
		jg	short loc_B593
		push	[bp+var_2]
		push	si
		push	8
		call	super_put
		add	si, 10h
		mov	di, 1
		jmp	short loc_B5D0
; ---------------------------------------------------------------------------

loc_B5BE:
		push	[bp+arg_2]
		push	si
		call	sub_B49F
		push	1
		call	sub_DA3B
		inc	di
		add	si, 8

loc_B5D0:
		mov	ax, word_11E8A
		add	ax, ax
		add	ax, 0FFFDh
		cmp	ax, di
		jg	short loc_B5BE
		pop	di
		pop	si
		leave
		retn	4
sub_B572	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B5E2	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		push	si
		push	di
		mov	ax, word_11E88
		shl	ax, 4
		push	ax
		push	20h ; ' '
		call	sub_E378
		push	si
		push	di
		push	5
		call	super_put
		push	si
		lea	ax, [di+10h]
		push	ax
		push	6
		call	super_put
		add	si, 10h
		mov	[bp+var_2], 1
		jmp	short loc_B638
; ---------------------------------------------------------------------------

loc_B61D:
		push	si
		push	di
		push	1
		call	super_put
		push	si
		lea	ax, [di+10h]
		push	ax
		push	3
		call	super_put
		inc	[bp+var_2]
		add	si, 10h

loc_B638:
		mov	ax, word_11E88
		dec	ax
		cmp	ax, [bp+var_2]
		jg	short loc_B61D
		push	si
		push	di
		push	8
		call	super_put
		push	si
		lea	ax, [di+10h]
		push	ax
		push	7
		call	super_put
		pop	di
		pop	si
		leave
		retn	4
sub_B5E2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B65C	proc near
					; sub_B794+10Dp ...

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	ax, word_11E8A
		shl	ax, 4
		add	ax, 0FFF0h
		add	si, ax
		mov	di, 1
		jmp	short loc_B686
; ---------------------------------------------------------------------------

loc_B674:
		push	[bp+arg_2]
		push	si
		call	sub_B519
		push	1
		call	sub_DA3B
		inc	di
		sub	si, 8

loc_B686:
		mov	ax, word_11E8A
		add	ax, ax
		add	ax, 0FFFEh
		cmp	ax, di
		jg	short loc_B674
		pop	di
		pop	si
		pop	bp
		retn	4
sub_B65C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B698	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		mov	si, 88h	; 'ˆ'
		mov	ax, [bp+arg_2]
		or	ax, ax
		jz	short loc_B6C8
		cmp	ax, 1
		jz	short loc_B6BB
		cmp	ax, 2
		jnz	short loc_B6D3
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 0DB3h
		jmp	short loc_B6D3
; ---------------------------------------------------------------------------

loc_B6BB:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 0DC4h
		add	si, 10h
		jmp	short loc_B6D3
; ---------------------------------------------------------------------------

loc_B6C8:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 0DD5h
		add	si, 20h	; ' '

loc_B6D3:
		push	30h ; '0'
		push	si
		push	[bp+arg_0]
		push	large [bp+var_4]
		call	far ptr	loc_DEB4
		pop	si
		leave
		retn	4
sub_B698	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B6E7	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		mov	si, 88h	; 'ˆ'
		mov	ax, [bp+arg_2]
		or	ax, ax
		jz	short loc_B719
		cmp	ax, 1
		jz	short loc_B702
		cmp	ax, 2
		jz	short loc_B70C
		jmp	short loc_B724
; ---------------------------------------------------------------------------

loc_B702:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 0DE6h
		jmp	short loc_B724
; ---------------------------------------------------------------------------

loc_B70C:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 0DF7h
		add	si, 10h
		jmp	short loc_B724
; ---------------------------------------------------------------------------

loc_B719:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 0E08h
		add	si, 20h	; ' '

loc_B724:
		push	30h ; '0'
		push	si
		push	[bp+arg_0]
		push	large [bp+var_4]
		call	far ptr	loc_DEB4
		pop	si
		leave
		retn	4
sub_B6E7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B738	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, 88h	; 'ˆ'
		xor	si, si
		jmp	short loc_B75D
; ---------------------------------------------------------------------------

loc_B744:
		push	0D0h ; 'Ð'
		push	di
		push	0Fh
		mov	bx, si
		shl	bx, 2
		push	large dword ptr	[bx+0A4Ch]
		call	far ptr	loc_DEB4
		inc	si
		add	di, 10h

loc_B75D:
		cmp	si, 9
		jl	short loc_B744
		pop	di
		pop	si
		pop	bp
		retn
sub_B738	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B766	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, 88h	; 'ˆ'
		xor	si, si
		jmp	short loc_B78B
; ---------------------------------------------------------------------------

loc_B772:
		push	0D0h ; 'Ð'
		push	di
		push	0Fh
		mov	bx, si
		shl	bx, 2
		push	large dword ptr	[bx+0A70h]
		call	far ptr	loc_DEB4
		inc	si
		add	di, 10h

loc_B78B:
		cmp	si, 9
		jl	short loc_B772
		pop	di
		pop	si
		pop	bp
		retn
sub_B766	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B794	proc near

var_2		= word ptr -2

		enter	2, 0
		mov	word_11E88, 1Ch
		push	large 600050h
		call	sub_B5E2
		push	large 700058h
		push	0Fh
		push	ds
		push	offset aB@b@b@b@b@ogcp ; "@@@@@Žg—p‚·‚é‰¹Œ¹‚ð‘I‘ð‚µ‚Ä‰º‚³‚¢‚"...
		call	far ptr	loc_DEB4
		mov	word_11E88, 0Ah
		mov	word_11E8A, 4
		push	large 200080h
		call	sub_B572
		mov	[bp+var_2], 0
		jmp	short loc_B7EB
; ---------------------------------------------------------------------------

loc_B7D4:
		push	[bp+var_2]
		cmp	[bp+var_2], 2
		jnz	short loc_B7E2
		mov	ax, 0Fh
		jmp	short loc_B7E4
; ---------------------------------------------------------------------------

loc_B7E2:
		xor	ax, ax

loc_B7E4:
		push	ax
		call	sub_B698
		inc	[bp+var_2]

loc_B7EB:
		cmp	[bp+var_2], 3
		jl	short loc_B7D4
		mov	word_11E88, 19h
		mov	word_11E8A, 0Ah
		push	large 0C00080h
		call	sub_B572
		call	sub_B738
		mov	[bp+var_2], 2

loc_B80E:
		push	0
		call	sub_DB62
		push	1
		call	sub_DA3B
		test	byte ptr word_11A50+1, 20h
		jnz	short loc_B87A
		test	byte ptr word_11A50, 20h
		jnz	short loc_B87A
		test	byte ptr word_11A50, 1
		jz	short loc_B851
		push	[bp+var_2]
		push	0
		call	sub_B698
		cmp	[bp+var_2], 2
		jnz	short loc_B846
		mov	[bp+var_2], 0
		jmp	short loc_B849
; ---------------------------------------------------------------------------

loc_B846:
		inc	[bp+var_2]

loc_B849:
		push	[bp+var_2]
		push	0Fh
		call	sub_B698

loc_B851:
		test	byte ptr word_11A50, 2
		jz	short loc_B80E
		push	[bp+var_2]
		push	0
		call	sub_B698
		cmp	[bp+var_2], 0
		jnz	short loc_B86D
		mov	[bp+var_2], 2
		jmp	short loc_B870
; ---------------------------------------------------------------------------

loc_B86D:
		dec	[bp+var_2]

loc_B870:
		push	[bp+var_2]
		push	0Fh
		call	sub_B698
		jmp	short loc_B80E
; ---------------------------------------------------------------------------

loc_B87A:
		mov	word_11E88, 19h
		mov	word_11E8A, 0Ah
		push	large 0C00080h
		call	sub_B65C
		mov	word_11E88, 0Ah
		mov	word_11E8A, 4
		push	large 200080h
		call	sub_B65C
		les	bx, dword_10DA4
		mov	al, byte ptr [bp+var_2]
		mov	es:[bx+10h], al
		leave
		retn
sub_B794	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B8B1	proc near

var_2		= word ptr -2

		enter	2, 0
		mov	word_11E88, 1Ch
		push	large 600050h
		call	sub_B5E2
		push	large 700058h
		push	0Fh
		push	ds
		push	offset aB@b@b@b@m ; "@@@@Œø‰Ê‰¹‚ÉŽg—p‚·‚é‰¹Œ¹‚ð‘I‘ð‚µ‚Ä‚"...
		call	far ptr	loc_DEB4
		mov	word_11E88, 0Ah
		mov	word_11E8A, 4
		push	large 200080h
		call	sub_B572
		mov	[bp+var_2], 0
		jmp	short loc_B908
; ---------------------------------------------------------------------------

loc_B8F1:
		push	[bp+var_2]
		cmp	[bp+var_2], 1
		jnz	short loc_B8FF
		mov	ax, 0Fh
		jmp	short loc_B901
; ---------------------------------------------------------------------------

loc_B8FF:
		xor	ax, ax

loc_B901:
		push	ax
		call	sub_B6E7
		inc	[bp+var_2]

loc_B908:
		cmp	[bp+var_2], 3
		jl	short loc_B8F1
		mov	word_11E88, 19h
		mov	word_11E8A, 0Ah
		push	large 0C00080h
		call	sub_B572
		call	sub_B766
		mov	[bp+var_2], 1

loc_B92B:
		push	0
		call	sub_DB62
		push	1
		call	sub_DA3B
		test	byte ptr word_11A50+1, 20h
		jnz	short loc_B997
		test	byte ptr word_11A50, 20h
		jnz	short loc_B997
		test	byte ptr word_11A50, 2
		jz	short loc_B96E
		push	[bp+var_2]
		push	0
		call	sub_B6E7
		cmp	[bp+var_2], 2
		jnz	short loc_B963
		mov	[bp+var_2], 0
		jmp	short loc_B966
; ---------------------------------------------------------------------------

loc_B963:
		inc	[bp+var_2]

loc_B966:
		push	[bp+var_2]
		push	0Fh
		call	sub_B6E7

loc_B96E:
		test	byte ptr word_11A50, 1
		jz	short loc_B92B
		push	[bp+var_2]
		push	0
		call	sub_B6E7
		cmp	[bp+var_2], 0
		jnz	short loc_B98A
		mov	[bp+var_2], 2
		jmp	short loc_B98D
; ---------------------------------------------------------------------------

loc_B98A:
		dec	[bp+var_2]

loc_B98D:
		push	[bp+var_2]
		push	0Fh
		call	sub_B6E7
		jmp	short loc_B92B
; ---------------------------------------------------------------------------

loc_B997:
		mov	word_11E88, 19h
		mov	word_11E8A, 0Ah
		push	large 0C00080h
		call	sub_B65C
		mov	word_11E88, 0Ah
		mov	word_11E8A, 4
		push	large 200080h
		call	sub_B65C
		les	bx, dword_10DA4
		mov	al, byte ptr [bp+var_2]
		mov	es:[bx+18h], al
		leave
		retn
sub_B8B1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B9CE	proc near
		push	bp
		mov	bp, sp
		mov	PaletteTone, 0
		call	far ptr	palette_show
		push	ds
		push	offset aMswin_bft ; "mswin.bft"
		call	super_entry_bfnt
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aMs_pi	; "ms.pi"
		call	sub_DAFD
		push	0
		call	sub_DA50
		push	large 0
		push	0
		call	sub_DA75
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		push	0
		call	graph_copy_page
		push	1
		call	palette_black_in
		call	sub_B794
		push	1
		call	sub_DA3B
		push	0
		call	graph_copy_page
		call	sub_B8B1
		push	1
		call	palette_black_out
		call	super_free
		pop	bp
		retn
sub_B9CE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BA45	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	4, 0
		push	si
		push	di
		mov	di, [bp+arg_6]
		mov	[bp+var_4], 0
		mov	ax, 10h
		imul	[bp+arg_4]
		mov	[bp+arg_4], ax
		mov	ax, 10h
		imul	di
		mov	di, ax
		mov	si, 2B7Ch
		mov	[bp+var_2], 0
		jmp	short loc_BABC
; ---------------------------------------------------------------------------

loc_BA6D:
		cmp	byte ptr [si], 0
		jnz	short loc_BAB6
		mov	byte ptr [si], 1
		mov	byte ptr [si+1], 0
		mov	[si+2],	di
		mov	ax, [bp+arg_4]
		mov	[si+4],	ax
		mov	word ptr [si+8], 0
		mov	word ptr [si+6], 0
		call	sub_204E
		mov	bx, 0E0h ; 'à'
		cwd
		idiv	bx
		add	dx, 40h	; '@'
		mov	[si+0Ah], dx
		call	sub_204E
		mov	[si+0Ch], al
		mov	al, [bp+arg_0]
		mov	[si+0Dh], al
		inc	[bp+var_4]
		mov	ax, [bp+var_4]
		cmp	ax, [bp+arg_2]
		jge	short loc_BAC3

loc_BAB6:
		inc	[bp+var_2]
		add	si, 0Eh

loc_BABC:
		cmp	[bp+var_2], 100h
		jl	short loc_BA6D

loc_BAC3:
		pop	di
		pop	si
		leave
		retn	8
sub_BA45	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BAC9	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	8, 0
		push	si
		push	di
		mov	si, 2B7Ch
		xor	di, di
		jmp	loc_BBE8
; ---------------------------------------------------------------------------

loc_BAD7:
		cmp	byte ptr [si], 1
		jnz	loc_BBE4
		inc	byte ptr [si+1]
		mov	al, [si+1]
		mov	ah, 0
		mov	bx, 4
		cwd
		idiv	bx
		mov	[bp+var_2], ax
		mov	al, [si+0Dh]
		mov	ah, 0
		add	ax, [bp+var_2]
		mov	[bp+var_8], ax
		cmp	byte ptr [si+1], 28h ; '('
		jb	short loc_BB0A
		mov	byte ptr [si], 0
		mov	byte ptr [si+1], 0
		jmp	loc_BBE4
; ---------------------------------------------------------------------------

loc_BB0A:
		cmp	byte ptr [si+1], 10h
		jnb	short loc_BB29
		mov	ax, [si+2]
		mov	bx, 10h
		cwd
		idiv	bx
		add	ax, 0FFF8h
		push	ax
		mov	ax, [si+4]
		cwd
		idiv	bx
		add	ax, 0FFF8h
		jmp	loc_BBDB
; ---------------------------------------------------------------------------

loc_BB29:
		cmp	byte ptr [si+1], 20h ; ' '
		jnb	short loc_BB83
		cmp	byte ptr [si+1], 10h
		jnz	short loc_BB3C
		push	0Fh
		call	sub_E2F2

loc_BB3C:
		mov	ax, [si+8]
		mov	[si+6],	ax
		mov	ax, [si+0Ah]
		add	[si+8],	ax
		push	word ptr [si+2]
		push	word ptr [si+8]
		mov	al, [si+0Ch]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+648h]
		call	sub_DBB8
		add	ax, 0FF80h
		mov	[bp+var_4], ax
		push	word ptr [si+4]
		push	word ptr [si+8]
		mov	al, [si+0Ch]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+5C8h]
		call	sub_DBB8
		add	ax, 0FF80h
		jmp	short loc_BBC8
; ---------------------------------------------------------------------------

loc_BB83:
		mov	ax, [si+8]
		mov	[si+6],	ax
		mov	ax, [si+0Ah]
		add	[si+8],	ax
		push	word ptr [si+2]
		push	word ptr [si+8]
		mov	al, [si+0Ch]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+648h]
		call	sub_DBB8
		add	ax, 0FF00h
		mov	[bp+var_4], ax
		push	word ptr [si+4]
		push	word ptr [si+8]
		mov	al, [si+0Ch]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+5C8h]
		call	sub_DBB8
		add	ax, 0FF00h

loc_BBC8:
		mov	[bp+var_6], ax
		mov	ax, [bp+var_4]
		mov	bx, 10h
		cwd
		idiv	bx
		push	ax
		mov	ax, [bp+var_6]
		cwd
		idiv	bx

loc_BBDB:
		push	ax
		push	[bp+var_8]
		call	far ptr	loc_2B66

loc_BBE4:
		inc	di
		add	si, 0Eh

loc_BBE8:
		cmp	di, 100h
		jl	loc_BAD7
		pop	di
		pop	si
		leave
		retn
sub_BAC9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BBF4	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	si, si
		jmp	short loc_BC25
; ---------------------------------------------------------------------------

loc_BBFD:
		xor	di, di
		jmp	short loc_BC1F
; ---------------------------------------------------------------------------

loc_BC01:
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+di+2B4Ch]
		mov	ah, 0
		imul	[bp+arg_0]
		mov	bx, 64h	; 'd'
		cwd
		idiv	bx
		mov	bx, si
		imul	bx, 3
		mov	[bx+di+1A96h], al
		inc	di

loc_BC1F:
		cmp	di, 3
		jl	short loc_BC01
		inc	si

loc_BC25:
		cmp	si, 0Fh
		jl	short loc_BBFD
		call	far ptr	palette_show
		pop	di
		pop	si
		pop	bp
		retn	2
sub_BBF4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BC35	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= byte ptr -4
var_3		= byte ptr -3
var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	8, 0
		push	si
		push	di
		mov	[bp+var_2], 0
		mov	[bp+var_3], 0
		mov	[bp+var_4], 64h	; 'd'
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aZun00_pi ; "zun00.pi"
		call	sub_DAFD
		push	0
		call	sub_DA50
		push	large 0
		push	0
		call	sub_DA75
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		push	0
		call	graph_copy_page
		call	sub_E428
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		xor	si, si
		jmp	short loc_BCFD
; ---------------------------------------------------------------------------

loc_BCA8:
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+1A96h]
		mov	bx, si
		imul	bx, 3
		mov	[bx+2B4Ch], al
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+1A97h]
		mov	bx, si
		imul	bx, 3
		mov	[bx+2B4Dh], al
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+1A98h]
		mov	bx, si
		imul	bx, 3
		mov	[bx+2B4Eh], al
		mov	bx, si
		imul	bx, 3
		mov	byte ptr [bx+1A96h], 0
		mov	bx, si
		imul	bx, 3
		mov	byte ptr [bx+1A97h], 0
		mov	bx, si
		imul	bx, 3
		mov	byte ptr [bx+1A98h], 0
		inc	si

loc_BCFD:
		cmp	si, 0Fh
		jl	short loc_BCA8
		push	ds
		push	offset aLogo	; "logo"
		push	600h
		call	sub_DDCA
		push	0
		call	sub_DC74
		mov	[bp+var_6], 2B7Ch
		xor	si, si
		jmp	short loc_BD2A
; ---------------------------------------------------------------------------

loc_BD1E:
		mov	bx, [bp+var_6]
		mov	word ptr [bx], 0
		inc	si
		add	[bp+var_6], 0Eh

loc_BD2A:
		cmp	si, 100h
		jl	short loc_BD1E
		push	large 20000h
		call	sub_DD80
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show
		push	ds
		push	offset aZun02_bft ; "zun02.bft"
		call	super_entry_bfnt
		push	ds
		push	offset aZun04_bft ; "zun04.bft"
		call	super_entry_bfnt
		push	ds
		push	offset aZun01_bft ; "zun01.bft"
		call	super_entry_bfnt
		push	ds
		push	offset aZun03_bft ; "zun03.bft"
		call	super_entry_bfnt
		mov	[bp+var_1], 0
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	far ptr	sub_E1DC
		xor	di, di
		jmp	loc_BE87
; ---------------------------------------------------------------------------

loc_BD84:
		call	sub_E1E4
		cmp	word_11A50, 0
		jz	short loc_BD94
		mov	[bp+var_2], 1

loc_BD94:
		mov	[bp+var_8], di
		mov	cx, 0Ch		; switch 12 cases
		mov	bx, offset word_BEA5

loc_BD9D:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_8]
		jz	short loc_BDAC
		add	bx, 2
		loop	loc_BD9D
		jmp	short loc_BE15	; default
; ---------------------------------------------------------------------------

loc_BDAC:
		jmp	word ptr cs:[bx+18h] ; switch jump

loc_BDB0:
		push	large 0B400B4h	; jumptable 0000BDAC case 0
		jmp	short loc_BDEE
; ---------------------------------------------------------------------------

loc_BDB8:
		push	large 1CC00DCh	; jumptable 0000BDAC case 16
		jmp	short loc_BDF8
; ---------------------------------------------------------------------------

loc_BDC0:
		push	large 0DC00A0h	; jumptable 0000BDAC case 24
		jmp	short loc_BDEE
; ---------------------------------------------------------------------------

loc_BDC8:
		push	large 17C00F0h	; jumptable 0000BDAC case 32
		jmp	short loc_BDF8
; ---------------------------------------------------------------------------

loc_BDD0:
		push	large 15400C8h	; jumptable 0000BDAC case 44
		jmp	short loc_BDF8
; ---------------------------------------------------------------------------

loc_BDD8:
		push	large 11800AAh	; jumptable 0000BDAC case 48
		jmp	short loc_BDEE
; ---------------------------------------------------------------------------

loc_BDE0:
		push	large 17C0104h	; jumptable 0000BDAC case 52
		jmp	short loc_BDF8
; ---------------------------------------------------------------------------

loc_BDE8:
		push	large 0C800BEh	; jumptable 0000BDAC cases 40,56

loc_BDEE:
					; sub_BC35+191j ...
		push	14h
		jmp	short loc_BE04
; ---------------------------------------------------------------------------

loc_BDF2:
		push	large 1B800D2h	; jumptable 0000BDAC case 60

loc_BDF8:
					; sub_BC35+199j ...
		push	14h
		jmp	short loc_BE10
; ---------------------------------------------------------------------------

loc_BDFC:
		push	large 14000C8h	; jumptable 0000BDAC case 64
		push	40h ; '@'

loc_BE04:
		push	0
		jmp	short loc_BE12
; ---------------------------------------------------------------------------

loc_BE08:
		push	large 14000C8h	; jumptable 0000BDAC case 68
		push	40h ; '@'

loc_BE10:
		push	0Ah

loc_BE12:
		call	sub_BA45

loc_BE15:
		call	sub_E490	; default
		call	sub_BAC9
		call	far ptr	sub_E1DC

loc_BE22:
		cmp	vsync_Count1, 2
		jb	short loc_BE22
		mov	vsync_Count1, 0
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+var_1]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, 1
		sub	al, [bp+var_1]
		mov	[bp+var_1], al
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		cmp	[bp+var_2], 0
		jnz	short loc_BE66
		cmp	di, 10h
		jl	short loc_BE5B
		cmp	[bp+var_3], 64h	; 'd'
		jnb	short loc_BE5B
		mov	al, [bp+var_3]
		add	al, 2
		mov	[bp+var_3], al

loc_BE5B:
					; sub_BC35+21Cj
		mov	al, [bp+var_3]
		mov	ah, 0
		push	ax
		call	sub_BBF4
		jmp	short loc_BE81
; ---------------------------------------------------------------------------

loc_BE66:
		cmp	[bp+var_4], 0
		jbe	short loc_BE96
		mov	al, [bp+var_4]
		add	al, 0FEh ; 'þ'
		mov	[bp+var_4], al
		mov	al, [bp+var_4]
		mov	ah, 0
		mov	PaletteTone, ax
		call	far ptr	palette_show

loc_BE81:
		call	sub_E32C
		inc	di

loc_BE87:
		cmp	di, 0AAh ; 'ª'
		jl	loc_BD84
		push	1
		call	palette_black_out

loc_BE96:
		call	super_free
		call	sub_E4C6
		pop	di
		pop	si
		leave
		retn
sub_BC35	endp

; ---------------------------------------------------------------------------
		db 0
word_BEA5	dw	0,   10h,   18h,   20h
		dw    28h,   2Ch,   30h,   34h ; value table for switch	statement
		dw    38h,   3Ch,   40h,   44h
		dw offset loc_BDB0	; jump table for switch	statement
		dw offset loc_BDB8
		dw offset loc_BDC0
		dw offset loc_BDC8
		dw offset loc_BDE8
		dw offset loc_BDD0
		dw offset loc_BDD8
		dw offset loc_BDE0
		dw offset loc_BDE8
		dw offset loc_BDF2
		dw offset loc_BDFC
		dw offset loc_BE08

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BED5	proc near

var_1		= byte ptr -1
arg_0		= byte ptr  4
arg_2		= byte ptr  6

		enter	2, 0
		mov	al, 1
		sub	al, byte ptr word_12DBC+1
		mov	[bp+var_1], al
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		push	10h
		mov	al, [bp+arg_2]
		mov	ah, 0
		shl	ax, 4
		add	ax, 8
		push	ax
		mov	al, [bp+arg_0]
		mov	ah, 0
		push	ax
		mov	al, [bp+arg_2]
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		push	large dword ptr	[bx+0EB6h]
		call	far ptr	loc_DEB4
		mov	dx, 0A6h ; '¦'
		mov	al, byte ptr word_12DBC+1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	10h
		mov	al, [bp+arg_2]
		mov	ah, 0
		shl	ax, 4
		add	ax, 8
		push	ax
		mov	al, [bp+arg_0]
		mov	ah, 0
		push	ax
		mov	al, [bp+arg_2]
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		push	large dword ptr	[bx+0EB6h]
		call	far ptr	loc_DEB4
		leave
		retn	4
sub_BED5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BF41	proc near

arg_0		= byte ptr  4

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_BF5E
; ---------------------------------------------------------------------------

loc_BF49:
		push	si
		mov	al, [bp+arg_0]
		mov	ah, 0
		cmp	ax, si
		jnz	short loc_BF57
		mov	al, 3
		jmp	short loc_BF59
; ---------------------------------------------------------------------------

loc_BF57:
		mov	al, 5

loc_BF59:
		push	ax
		call	sub_BED5
		inc	si

loc_BF5E:
		cmp	si, 18h
		jl	short loc_BF49
		pop	si
		pop	bp
		retn	2
sub_BF41	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BF68	proc near
		push	bp
		mov	bp, sp
		push	si
		push	7D00h
		call	hmem_allocbyte
		mov	word_12DC0, ax
		xor	si, si
		jmp	short loc_BF90
; ---------------------------------------------------------------------------

loc_BF7B:
		les	bx, dword_1161A
		add	bx, si
		mov	eax, es:[bx]
		mov	es, word_12DC0
		mov	es:[si], eax
		add	si, 4

loc_BF90:
		cmp	si, 7D00h
		jl	short loc_BF7B
		pop	si
		pop	bp
		retn
sub_BF68	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BF99	proc near
		push	bp
		mov	bp, sp
		push	word_12DC0
		call	hmem_free
		pop	bp
		retn
sub_BF99	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BFA7	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		mov	ax, word_12DC0
		mov	ds, ax
		xor	di, di
		xor	si, si
		mov	cx, 3E80h
		rep movsw
		pop	ds
		pop	di
		pop	si
		pop	bp
		retn
sub_BFA7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BFC5	proc near

var_3		= byte ptr -3
var_2		= word ptr -2
arg_0		= byte ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		enter	4, 0
		push	si
		push	di
		mov	di, [bp+arg_A]
		sar	[bp+arg_6], 4
		mov	[bp+var_2], 0
		jmp	short loc_C02A
; ---------------------------------------------------------------------------

loc_BFD9:
		mov	ax, [bp+var_2]
		shl	ax, 8
		cwd
		idiv	[bp+arg_2]
		add	al, [bp+arg_0]
		mov	[bp+var_3], al
		push	[bp+arg_8]
		push	[bp+arg_4]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+648h]
		call	sub_DBB8
		mov	bx, [bp+var_2]
		shl	bx, 2
		mov	[bx+di], ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		mov	al, [bp+var_3]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+5C8h]
		call	sub_DBB8
		mov	bx, [bp+var_2]
		shl	bx, 2
		mov	[bx+di+2], ax
		inc	[bp+var_2]

loc_C02A:
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_2]
		jl	short loc_BFD9
		mov	bx, [bp+var_2]
		shl	bx, 2
		mov	ax, [di]
		mov	[bx+di], ax
		mov	bx, [bp+var_2]
		shl	bx, 2
		mov	ax, [di+2]
		mov	[bx+di+2], ax
		pop	di
		pop	si
		leave
		retn	0Ch
sub_BFC5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C04E	proc near
		push	bp
		mov	bp, sp
		push	si
		cmp	byte_102AE, 0
		jnz	loc_C0FD
		xor	si, si
		jmp	loc_C0F1
; ---------------------------------------------------------------------------

loc_C060:
		call	sub_204E
		mov	bx, 280h
		cwd
		idiv	bx
		mov	bx, si
		shl	bx, 2
		mov	[bx+39DCh], dx
		call	sub_204E
		mov	bx, 1900h
		cwd
		idiv	bx
		mov	bx, si
		shl	bx, 2
		mov	[bx+39DEh], dx
		call	sub_204E
		and	ax, 7
		mov	dx, 4
		sub	dx, ax
		mov	bx, si
		shl	bx, 2
		mov	[bx+3A1Ch], dx
		mov	bx, si
		shl	bx, 2
		cmp	word ptr [bx+3A1Ch], 0
		jnz	short loc_C0B5
		mov	bx, si
		shl	bx, 2
		mov	word ptr [bx+3A1Ch], 1

loc_C0B5:
		call	sub_204E
		and	ax, 3
		shl	ax, 4
		add	ax, 20h	; ' '
		mov	bx, si
		shl	bx, 2
		mov	[bx+3A1Eh], ax
		call	sub_204E
		mov	[si+3A5Ch], al
		call	sub_204E
		and	al, 7
		mov	dl, 4
		sub	dl, al
		mov	[si+3A6Ch], dl
		cmp	byte ptr [si+3A6Ch], 0
		jnz	short loc_C0F0
		mov	byte ptr [si+3A6Ch], 4

loc_C0F0:
		inc	si

loc_C0F1:
		cmp	si, 10h
		jl	loc_C060
		mov	byte_102AE, 1

loc_C0FD:
		xor	si, si
		jmp	loc_C23A
; ---------------------------------------------------------------------------

loc_C102:
		push	39B4h
		mov	bx, si
		shl	bx, 2
		push	word ptr [bx+39DCh]
		mov	bx, si
		shl	bx, 2
		push	word ptr [bx+39DEh]
		mov	ax, si
		and	ax, 3
		shl	ax, 4
		add	ax, 40h	; '@'
		push	ax
		mov	ax, si
		mov	bx, 4
		cwd
		idiv	bx
		add	ax, 3
		push	ax
		mov	al, [si+3A5Ch]
		push	ax
		call	sub_BFC5
		mov	bx, si
		shl	bx, 2
		mov	ax, [bx+3A1Ch]
		mov	bx, si
		shl	bx, 2
		add	[bx+39DCh], ax
		mov	bx, si
		shl	bx, 2
		mov	ax, [bx+3A1Eh]
		mov	bx, si
		shl	bx, 2
		add	[bx+39DEh], ax
		mov	al, [si+3A6Ch]
		add	[si+3A5Ch], al
		mov	bx, si
		shl	bx, 2
		cmp	word ptr [bx+39DCh], 0
		jle	short loc_C17C
		mov	bx, si
		shl	bx, 2
		cmp	word ptr [bx+39DCh], 27Fh
		jl	short loc_C18E

loc_C17C:
		mov	bx, si
		shl	bx, 2
		mov	dx, 0FFFFh
		mov	ax, [bx+3A1Ch]
		imul	dx
		mov	[bx+3A1Ch], ax

loc_C18E:
		mov	bx, si
		shl	bx, 2
		cmp	word ptr [bx+39DEh], 1F40h
		jl	loc_C224
		call	sub_204E
		mov	bx, 280h
		cwd
		idiv	bx
		mov	bx, si
		shl	bx, 2
		mov	[bx+39DCh], dx
		mov	bx, si
		shl	bx, 2
		mov	word ptr [bx+39DEh], 0F9C0h
		call	sub_204E
		and	ax, 0Fh
		mov	dx, 8
		sub	dx, ax
		mov	bx, si
		shl	bx, 2
		mov	[bx+3A1Ch], dx
		mov	bx, si
		shl	bx, 2
		cmp	word ptr [bx+3A1Ch], 0
		jnz	short loc_C1E9
		mov	bx, si
		shl	bx, 2
		mov	word ptr [bx+3A1Ch], 1

loc_C1E9:
		call	sub_204E
		and	ax, 3
		shl	ax, 4
		add	ax, 20h	; ' '
		mov	bx, si
		shl	bx, 2
		mov	[bx+3A1Eh], ax
		call	sub_204E
		mov	[si+3A5Ch], al
		call	sub_204E
		and	al, 7
		mov	dl, 4
		sub	dl, al
		mov	[si+3A6Ch], dl
		cmp	byte ptr [si+3A6Ch], 0
		jnz	short loc_C224
		mov	byte ptr [si+3A6Ch], 4

loc_C224:
					; sub_C04E+1CFj
		push	ds
		push	offset unk_12CF4
		mov	ax, si
		mov	bx, 4
		cwd
		idiv	bx
		add	ax, 3
		push	ax
		call	sub_DC2
		inc	si

loc_C23A:
		cmp	si, 10h
		jl	loc_C102
		pop	si
		pop	bp
		retn
sub_C04E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C244	proc near
		push	bp
		mov	bp, sp
		call	sub_BFA7
		push	large 0CE000Fh
		call	grcg_setcolor
		call	sub_C04E
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		mov	dx, 0A4h ; '¤'
		mov	al, byte ptr word_12DBC+1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, 1
		sub	al, byte ptr word_12DBC+1
		mov	byte ptr word_12DBC+1, al
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		push	1
		call	sub_E6DE
		pop	bp
		retn
sub_C244	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C27B	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	ds
		push	offset a_music_txt ; "_MUSIC.TXT"
		call	sub_A7A
		mov	ax, [bp+arg_0]
		imul	ax, 320h
		cwde
		push	eax
		push	0
		call	sub_AB6
		push	ds
		push	offset unk_12DD2
		push	320h
		call	sub_9C6
		call	sub_95A
		xor	si, si
		jmp	short loc_C2BA
; ---------------------------------------------------------------------------

loc_C2AF:
		mov	bx, si
		imul	bx, 28h
		mov	byte ptr [bx+3AB8h], 0
		inc	si

loc_C2BA:
		cmp	si, 14h
		jl	short loc_C2AF
		pop	si
		pop	bp
		retn	2
sub_C27B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C2C4	proc near
		push	bp
		mov	bp, sp
		push	si
		push	large 1400040h
		push	7
		push	ds
		push	offset unk_12DD2
		call	far ptr	loc_DEB4
		mov	si, 1
		jmp	short loc_C306
; ---------------------------------------------------------------------------

loc_C2DE:
		mov	bx, si
		imul	bx, 28h
		cmp	byte ptr [bx+3A92h], 3Bh ; ';'
		jz	short loc_C305
		push	140h
		lea	ax, [si+4]
		shl	ax, 4
		push	ax
		push	7
		push	ds
		mov	ax, si
		imul	ax, 28h
		add	ax, 3A92h
		push	ax
		call	far ptr	loc_DEB4

loc_C305:
		inc	si

loc_C306:
		cmp	si, 14h
		jl	short loc_C2DE
		pop	si
		pop	bp
		retn
sub_C2C4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C30E	proc near
		push	bp
		mov	bp, sp
		push	si
		mov	si, 4
		jmp	short loc_C328
; ---------------------------------------------------------------------------

loc_C317:
		mov	word_FD7C, si
		call	sub_C2C4
		call	sub_C244
		call	sub_C2C4
		call	sub_C244
		inc	si

loc_C328:
		cmp	si, 8
		jl	short loc_C317
		mov	word_FD7C, 2
		call	sub_C2C4
		call	sub_C244
		call	sub_C2C4
		pop	si
		pop	bp
		retn
sub_C30E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C33F	proc near
		push	bp
		mov	bp, sp
		mov	word_FD7C, 2
		push	large 1400040h
		push	large 1400140h
		call	far ptr	loc_E4F8
		call	sub_C244
		push	large 1400040h
		push	large 1400140h
		call	far ptr	loc_E4F8
		pop	bp
		retn
sub_C33F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C36F	proc near
					; sub_C3B7+145p

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		cmp	byte_12DBE, 0
		jz	short loc_C37C
		call	sub_C33F

loc_C37C:
		push	[bp+arg_0]
		call	sub_C27B
		call	sub_BFA7
		push	large 1400040h
		push	large 1400140h
		call	far ptr	loc_E4F8
		cmp	byte_12DBE, 0
		jz	short loc_C3A2
		call	sub_C30E
		jmp	short loc_C3B0
; ---------------------------------------------------------------------------

loc_C3A2:
		mov	byte_12DBE, 1
		call	sub_C2C4
		call	sub_C244
		call	sub_C2C4

loc_C3B0:
		call	sub_BFA7
		pop	bp
		retn	2
sub_C36F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C3B7	proc near
		push	bp
		mov	bp, sp
		mov	byte_12DBE, 0
		call	sub_E6D0
		call	text_clear
		mov	byte ptr word_12DBC+1, 1
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aMusic_pi ; "music.pi"
		call	sub_DAFD
		push	0
		call	sub_DA50
		push	large 0
		push	0
		call	sub_DA75
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		mov	al, byte_102AF
		mov	byte ptr word_12DBC, al
		push	word_12DBC
		call	sub_BF41
		push	0
		call	graph_copy_page
		call	sub_E428
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_BF68
		mov	al, byte_102AF
		mov	ah, 0
		push	ax
		call	sub_C36F
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show

loc_C454:
					; sub_C3B7+172j
		call	far ptr	sub_E1DC
		cmp	word_11A50, 0
		jz	short loc_C465
		call	sub_C244
		jmp	short loc_C454
; ---------------------------------------------------------------------------

loc_C465:
					; sub_C3B7+179j
		call	far ptr	sub_E1DC
		test	byte ptr word_11A50, 1
		jz	short loc_C4A0
		push	word_12DBC
		push	5
		call	sub_BED5
		cmp	byte ptr word_12DBC, 0
		jbe	short loc_C487
		dec	byte ptr word_12DBC
		jmp	short loc_C48C
; ---------------------------------------------------------------------------

loc_C487:
		mov	byte ptr word_12DBC, 17h

loc_C48C:
		cmp	byte ptr word_12DBC, 16h
		jnz	short loc_C497
		dec	byte ptr word_12DBC

loc_C497:
		push	word_12DBC
		push	3
		call	sub_BED5

loc_C4A0:
		test	byte ptr word_11A50, 2
		jz	short loc_C4D6
		push	word_12DBC
		push	5
		call	sub_BED5
		cmp	byte ptr word_12DBC, 17h
		jnb	short loc_C4BD
		inc	byte ptr word_12DBC
		jmp	short loc_C4C2
; ---------------------------------------------------------------------------

loc_C4BD:
		mov	byte ptr word_12DBC, 0

loc_C4C2:
		cmp	byte ptr word_12DBC, 16h
		jnz	short loc_C4CD
		inc	byte ptr word_12DBC

loc_C4CD:
		push	word_12DBC
		push	3
		call	sub_BED5

loc_C4D6:
		test	byte ptr word_11A50, 20h
		jnz	short loc_C4E4
		test	byte ptr word_11A50+1, 20h
		jz	short loc_C51D

loc_C4E4:
		cmp	byte ptr word_12DBC, 17h
		jz	short loc_C533
		push	220h
		call	sub_DC74
		mov	al, byte ptr word_12DBC
		mov	byte_102AF, al
		mov	ah, 0
		push	ax
		call	sub_C36F
		mov	al, byte ptr word_12DBC
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		push	large dword ptr	[bx+0F16h]
		push	600h
		call	sub_DDCA
		push	0
		call	sub_DC74

loc_C51D:
		test	byte ptr word_11A50+1, 10h
		jnz	short loc_C533
		cmp	word_11A50, 0
		jnz	loc_C454
		call	sub_C244
		jmp	loc_C465
; ---------------------------------------------------------------------------

loc_C533:
					; sub_C3B7+16Bj ...
		call	far ptr	sub_E1DC
		cmp	word_11A50, 0
		jz	short loc_C544
		call	sub_C244
		jmp	short loc_C533
; ---------------------------------------------------------------------------

loc_C544:
		push	210h
		call	sub_DC74
		call	sub_BF99
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		push	1
		call	palette_black_out
		call	sub_E4C6
		push	ds
		push	offset aOp_2	; "op"
		push	600h
		call	sub_DDCA
		push	0
		call	sub_DC74
		pop	bp
		retn
sub_C3B7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C57A	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		mov	si, 4
		jmp	short loc_C5A7
; ---------------------------------------------------------------------------

loc_C584:
		mov	al, [si+3DB3h]
		mov	[bp+var_1], al
		mov	al, byte_130F3
		ror	[bp+var_1], 3
		xor	[bp+var_1], al
		mov	al, [si+3DB2h]
		mov	dl, byte_130F2
		add	dl, [bp+var_1]
		add	al, dl
		mov	[si+3DB2h], al
		inc	si

loc_C5A7:
		cmp	si, 0C3h ; 'Ã'
		jl	short loc_C584
		mov	al, byte_130F2
		add	[si+3DB2h], al
		xor	cx, cx
		mov	si, 4
		jmp	short loc_C5C4
; ---------------------------------------------------------------------------

loc_C5BB:
		mov	al, [si+3DB2h]
		mov	ah, 0
		add	cx, ax
		inc	si

loc_C5C4:
		cmp	si, 0C4h ; 'Ä'
		jl	short loc_C5BB
		cmp	word_130F4, cx
		jz	short loc_C5D4
		mov	al, 1
		jmp	short loc_C624
; ---------------------------------------------------------------------------

loc_C5D4:
		mov	si, 4
		jmp	short loc_C5FC
; ---------------------------------------------------------------------------

loc_C5D9:
		mov	al, [si+3E77h]
		mov	[bp+var_1], al
		mov	al, byte_131B7
		ror	[bp+var_1], 3
		xor	[bp+var_1], al
		mov	al, [si+3E76h]
		mov	dl, byte_131B6
		add	dl, [bp+var_1]
		add	al, dl
		mov	[si+3E76h], al
		inc	si

loc_C5FC:
		cmp	si, 0C3h ; 'Ã'
		jl	short loc_C5D9
		mov	al, byte_131B6
		add	[si+3E76h], al
		xor	cx, cx
		mov	si, 4
		jmp	short loc_C619
; ---------------------------------------------------------------------------

loc_C610:
		mov	al, [si+3E76h]
		mov	ah, 0
		add	cx, ax

loc_C618:
		inc	si

loc_C619:
		cmp	si, 0C4h ; 'Ä'
		jl	short loc_C610
		mov	al, byte_131B8
		sub	al, cl

loc_C624:
		pop	si
		leave
		retn
sub_C57A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C627	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		mov	word_130F4, 0
		mov	si, 4
		jmp	short loc_C642
; ---------------------------------------------------------------------------

loc_C637:
		mov	al, [si+3DB2h]
		mov	ah, 0
		add	word_130F4, ax
		inc	si

loc_C642:
		cmp	si, 0C4h ; 'Ä'
		jl	short loc_C637
		call	sub_204E
		mov	byte_130F2, al
		call	sub_204E
		mov	byte_130F3, al
		mov	[bp+var_1], 0
		mov	si, 0C3h ; 'Ã'
		jmp	short loc_C684
; ---------------------------------------------------------------------------

loc_C661:
		mov	al, [si+3DB2h]
		mov	dl, byte_130F2
		add	dl, [bp+var_1]
		sub	al, dl
		mov	[si+3DB2h], al
		mov	al, [si+3DB2h]
		mov	[bp+var_1], al
		mov	al, byte_130F3
		ror	[bp+var_1], 3
		xor	[bp+var_1], al
		dec	si

loc_C684:
		cmp	si, 4
		jge	short loc_C661
		pop	si
		leave
		retn
sub_C627	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C68C	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		push	di
		mov	[bp+var_1], 0A9h ; '©'
		xor	si, si
		jmp	short loc_C700
; ---------------------------------------------------------------------------

loc_C69A:
		mov	byte_131A0, 19h
		xor	di, di
		jmp	short loc_C6AE
; ---------------------------------------------------------------------------

loc_C6A3:
		mov	bx, si
		shl	bx, 3
		mov	byte ptr [bx+di+3E10h],	0A0h ; ' '
		inc	di

loc_C6AE:
		cmp	di, 8
		jl	short loc_C6A3
		or	si, si
		jnz	short loc_C6C3
		mov	bx, si
		shl	bx, 3
		mov	byte ptr [bx+3E15h], 0A1h ; '¡'
		jmp	short loc_C6D2
; ---------------------------------------------------------------------------

loc_C6C3:
		mov	bx, si
		shl	bx, 3
		mov	al, [bp+var_1]
		mov	[bx+3E14h], al
		dec	[bp+var_1]

loc_C6D2:
		mov	ax, si
		cwd
		sub	ax, dx
		sar	ax, 1
		mov	dl, 0A5h ; '¥'
		sub	dl, al
		mov	[si+3E62h], dl
		xor	di, di
		jmp	short loc_C6F0
; ---------------------------------------------------------------------------

loc_C6E5:
		mov	bx, si
		imul	bx, 9
		mov	byte ptr [bx+di+3DB6h],	0C4h ; 'Ä'
		inc	di

loc_C6F0:
		cmp	di, 8
		jl	short loc_C6E5
		mov	bx, si
		imul	bx, 9
		mov	byte ptr [bx+3DBEh], 0
		inc	si

loc_C700:
		cmp	si, 0Ah
		jl	short loc_C69A
		push	ds
		push	offset aGensou_scr ; "GENSOU.SCR"
		call	sub_96A
		xor	si, si
		jmp	short loc_C725
; ---------------------------------------------------------------------------

loc_C712:
		call	sub_C627
		push	ds
		push	offset byte_130F2
		push	0C4h ; 'Ä'
		call	sub_AF8
		call	sub_C57A
		inc	si

loc_C725:
		cmp	si, 0Ah
		jl	short loc_C712
		call	sub_95A
		pop	di
		pop	si
		leave
		retn
sub_C68C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C733	proc near
		push	bp
		mov	bp, sp
		push	ds
		push	offset aGensou_scr ; "GENSOU.SCR"
		call	sub_9AA
		or	ax, ax
		jz	short loc_C793
		push	ds
		push	offset aGensou_scr ; "GENSOU.SCR"
		call	sub_A7A
		mov	al, byte_1327B
		mov	ah, 0
		imul	ax, 0C4h
		movzx	eax, ax
		push	eax
		push	0
		call	sub_AB6
		push	ds
		push	offset byte_130F2
		push	0C4h ; 'Ä'
		call	sub_9C6
		push	large 310h
		push	1
		call	sub_AB6
		push	ds
		push	offset byte_131B6
		push	0C4h ; 'Ä'
		call	sub_9C6
		call	sub_95A
		call	sub_C57A
		or	al, al
		jz	short loc_C79A

loc_C793:
		call	sub_C68C
		mov	al, 1
		pop	bp
		retn
; ---------------------------------------------------------------------------

loc_C79A:
		mov	al, 0
		pop	bp
		retn
sub_C733	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C79E	proc near
					; sub_C8F5+100p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		push	di
		mov	di, [bp+arg_2]
		mov	si, [bp+arg_0]
		mov	[bp+var_4], 10h
		mov	bx, si
		shl	bx, 3
		mov	al, [bx+3E17h]
		mov	ah, 0
		add	ax, 0FF60h
		cmp	ax, 0Ah
		jl	short loc_C7E0
		push	8Ch ; 'Œ'
		push	di
		mov	bx, si
		shl	bx, 3
		mov	al, [bx+3E17h]
		mov	ah, 0
		add	ax, 0FF60h
		mov	bx, 0Ah
		cwd
		idiv	bx
		push	ax
		call	super_put

loc_C7E0:
		mov	bx, si
		shl	bx, 3
		mov	al, [bx+3EDBh]
		mov	ah, 0
		add	ax, 0FF60h
		cmp	ax, 0Ah
		jl	short loc_C811
		push	1C0h
		push	di
		mov	bx, si
		shl	bx, 3
		mov	al, [bx+3EDBh]
		mov	ah, 0
		add	ax, 0FF60h
		mov	bx, 0Ah
		cwd
		idiv	bx
		push	ax
		call	super_put

loc_C811:
		push	9Ch ; 'œ'
		push	di
		mov	bx, si
		shl	bx, 3
		mov	al, [bx+3E17h]
		mov	ah, 0
		add	ax, 0FF60h
		mov	bx, 0Ah
		cwd
		idiv	bx
		push	dx
		call	super_put
		push	1D0h
		push	di
		mov	bx, si
		shl	bx, 3
		mov	al, [bx+3EDBh]
		mov	ah, 0
		add	ax, 0FF60h
		mov	bx, 0Ah
		cwd
		idiv	bx
		push	dx
		call	super_put
		mov	[bp+var_2], 6
		jmp	short loc_C899
; ---------------------------------------------------------------------------

loc_C854:
		mov	ax, [bp+var_4]
		add	ax, 9Ch	; 'œ'
		push	ax
		push	di
		mov	bx, si
		shl	bx, 3
		add	bx, [bp+var_2]
		mov	al, [bx+3E10h]
		mov	ah, 0
		add	ax, 0FF60h
		push	ax
		call	super_put
		mov	ax, [bp+var_4]
		add	ax, 1D0h
		push	ax
		push	di
		mov	bx, si
		shl	bx, 3
		add	bx, [bp+var_2]
		mov	al, [bx+3ED4h]
		mov	ah, 0
		add	ax, 0FF60h
		push	ax
		call	super_put
		dec	[bp+var_2]
		add	[bp+var_4], 10h

loc_C899:
		cmp	[bp+var_2], 0
		jge	short loc_C854
		pop	di
		pop	si
		leave
		retn	4
sub_C79E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C8A5	proc near
					; sub_C8F5+10Ep ...

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_2]
		cmp	[bp+arg_0], 0FFh
		jz	short loc_C8D0
		lea	ax, [si+2]
		push	ax
		lea	ax, [di+2]
		push	ax
		push	[bp+arg_0]
		push	0Eh
		call	sub_3E34
		push	si
		push	di
		push	[bp+arg_0]
		jmp	short loc_C8E8
; ---------------------------------------------------------------------------

loc_C8D0:
		lea	ax, [si+2]
		push	ax
		lea	ax, [di+2]
		push	ax
		push	large 0EF000Eh
		call	sub_3E34
		push	si
		push	di
		push	0EFh ; 'ï'

loc_C8E8:
		push	7
		call	sub_3E34
		pop	di
		pop	si
		pop	bp
		retn	6
sub_C8A5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C8F5	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_0]
		or	si, si
		jnz	loc_C989
		push	large 0A0062h
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3DB6h
		push	ds
		push	ax
		push	0Eh
		call	sub_3D8A
		push	large 80060h
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3DB6h
		push	ds
		push	ax
		push	7
		call	sub_3D8A
		push	large 1420062h
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3E7Ah
		push	ds
		push	ax
		push	0Eh
		call	sub_3D8A
		push	large 1400060h
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3E7Ah
		push	ds
		push	ax
		push	7
		call	sub_3D8A
		push	large 600000h
		call	sub_C79E
		push	large 1240060h
		mov	al, [si+3E62h]
		mov	ah, 0
		push	ax
		call	sub_C8A5
		push	large 2580060h
		jmp	loc_CA0A
; ---------------------------------------------------------------------------

loc_C989:
		mov	ax, si
		shl	ax, 4
		add	ax, 70h	; 'p'
		mov	di, ax
		push	0Ah
		add	ax, 2
		push	ax
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3DB6h
		push	ds
		push	ax
		push	0Eh
		call	sub_3D8A
		push	8
		push	di
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3DB6h
		push	ds
		push	ax
		push	2
		call	sub_3D8A
		push	142h
		lea	ax, [di+2]
		push	ax
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3E7Ah
		push	ds
		push	ax
		push	0Eh
		call	sub_3D8A
		push	140h
		push	di
		push	10h
		mov	ax, si
		imul	ax, 9
		add	ax, 3E7Ah
		push	ds
		push	ax
		push	2
		call	sub_3D8A
		push	di
		push	si
		call	sub_C79E
		push	124h
		push	di
		mov	al, [si+3E62h]
		mov	ah, 0
		push	ax
		call	sub_C8A5
		push	258h
		push	di

loc_CA0A:
		mov	al, [si+3F26h]
		mov	ah, 0
		push	ax
		call	sub_C8A5
		pop	di
		pop	si
		pop	bp
		retn	2
sub_C8F5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CA1A	proc near
					; sub_CA94+98p
		push	bp
		mov	bp, sp
		push	si
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		call	sub_DA50
		push	large 0
		push	0
		call	sub_DA75
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		call	sub_DA50
		push	large 0
		push	0
		call	sub_DA75
		push	0
		call	sub_C8F5
		mov	si, 1
		jmp	short loc_CA5B
; ---------------------------------------------------------------------------

loc_CA56:
		push	si
		call	sub_C8F5
		inc	si

loc_CA5B:
		cmp	si, 9
		jl	short loc_CA56
		push	9
		call	sub_C8F5
		push	large 1F00178h
		mov	al, byte_1327B
		mov	ah, 0
		add	ax, ax
		add	ax, 0Ah
		push	ax
		call	super_put
		push	large 2300178h
		mov	al, byte_1327B
		mov	ah, 0
		add	ax, ax
		add	ax, 0Bh
		push	ax
		call	super_put
		pop	si
		pop	bp
		retn
sub_CA1A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CA94	proc near
		push	bp
		mov	bp, sp
		push	100h
		call	sub_DC74
		push	ds
		push	offset aName	; "name"
		push	600h
		call	sub_DDCA
		push	0
		call	sub_DC74
		push	280h
		call	sub_DC74
		push	1
		call	palette_black_out
		les	bx, dword_10DA4
		assume es:nothing
		mov	al, es:[bx+0Fh]
		mov	byte_1327B, al
		call	sub_C733
		push	0
		push	ds
		push	offset aHi01_pi	; "hi01.pi"
		call	sub_DAFD

loc_CADA:
		call	sub_CA1A
		push	1
		call	palette_black_in

loc_CAE4:
		call	far ptr	sub_E1DC
		push	1
		call	sub_DA3B
		test	byte ptr word_11A50+1, 20h
		jnz	short loc_CB58
		test	byte ptr word_11A50, 20h
		jnz	short loc_CB58
		test	byte ptr word_11A50+1, 10h
		jnz	short loc_CB58
		test	byte ptr word_11A50+1, 20h
		jnz	short loc_CB58
		test	byte ptr word_11A50, 4
		jz	short loc_CB36
		cmp	byte_1327B, 0
		jz	short loc_CB36
		dec	byte_1327B
		mov	PaletteTone, 0
		call	far ptr	palette_show
		call	sub_C733
		call	sub_CA1A
		push	1
		call	palette_black_in

loc_CB36:
		test	byte ptr word_11A50, 8
		jz	short loc_CAE4
		cmp	byte_1327B, 4
		jnb	short loc_CAE4
		inc	byte_1327B
		mov	PaletteTone, 0
		call	far ptr	palette_show
		call	sub_C733
		jmp	short loc_CADA
; ---------------------------------------------------------------------------

loc_CB58:
		push	201h
		call	sub_DC74
		push	1
		call	palette_black_out
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aOp1_pi_0 ; "op1.pi"
		call	sub_DAFD
		push	0
		call	sub_DA50
		push	large 0
		push	0
		call	sub_DA75
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		push	0
		call	graph_copy_page
		push	1
		call	palette_black_in

loc_CBB3:
		call	far ptr	sub_E1DC
		push	1
		call	sub_DA3B
		cmp	word_11A50, 0
		jnz	short loc_CBB3
		push	100h
		call	sub_DC74
		push	ds
		push	offset aOp_0	; "op"
		push	600h
		call	sub_DDCA
		push	0
		call	sub_DC74
		pop	bp
		retn
sub_CA94	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBE3	proc near
		push	bp
		mov	bp, sp
		mov	byte_1327B, 0
		jmp	loc_CC6F
; ---------------------------------------------------------------------------

loc_CBEE:
		call	sub_C733
		or	al, al
		jnz	loc_CC78
		mov	al, byte_1327B
		mov	ah, 0
		mov	dl, byte_131A0
		mov	bx, ax
		mov	[bx+3F3Ch], dl
		mov	al, byte_1327B
		mov	ah, 0
		mov	dl, byte_13264
		mov	bx, ax
		mov	[bx+3F41h], dl
		mov	al, byte_1327B
		mov	ah, 0
		mov	bx, ax
		cmp	byte ptr [bx+3F3Ch], 3
		jbe	short loc_CC2F
		mov	al, byte_1327B
		mov	ah, 0
		mov	bx, ax
		mov	byte ptr [bx+3F3Ch], 0

loc_CC2F:
		mov	al, byte_1327B
		mov	ah, 0
		mov	bx, ax
		cmp	byte ptr [bx+3F41h], 3
		jbe	short loc_CC49
		mov	al, byte_1327B
		mov	ah, 0
		mov	bx, ax
		mov	byte ptr [bx+3F41h], 0

loc_CC49:
		cmp	byte_1327B, 0
		jz	short loc_CC6B
		mov	al, byte_1327B
		mov	ah, 0
		mov	bx, ax
		mov	al, [bx+3F3Ch]
		mov	dl, byte_1327B
		mov	dh, 0
		mov	bx, dx
		or	al, [bx+3F41h]
		or	byte_13286, al

loc_CC6B:
		inc	byte_1327B

loc_CC6F:
		cmp	byte_1327B, 5
		jb	loc_CBEE

loc_CC78:
		les	bx, dword_10DA4
		mov	al, es:[bx+0Fh]
		mov	byte_1327B, al
		push	ds
		push	offset aScnum_bft ; "scnum.bft"
		call	super_entry_bfnt
		push	ds
		push	offset aHi_m_bft ; "hi_m.bft"
		call	super_entry_bfnt
		pop	bp
		retn
sub_CBE3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CC97	proc near
		push	bp
		mov	bp, sp
		push	0
		push	ds
		push	offset aSft1_cd2 ; "sft1.cd2"
		call	sub_E63E
		push	0Ah
		push	ds
		push	offset aSft2_cd2 ; "sft2.cd2"
		call	sub_E63E
		push	23h ; '#'
		push	ds
		push	offset aCar_cd2	; "car.cd2"
		call	sub_E63E
		push	28h ; '('
		push	ds
		push	offset aSl_cd2	; "sl.cd2"
		call	far ptr	sub_E638
		pop	bp
		retn
sub_CC97	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CCC8	proc near
		push	bp
		mov	bp, sp
		call	sub_E6D0
		pop	bp
		retn
sub_CCC8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CCD2	proc near

var_4		= byte ptr -4
var_3		= byte ptr -3
var_2		= word ptr -2

		enter	4, 0
		push	si
		push	di
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 0C0000Fh
		call	grcg_setcolor
		push	large 0
		push	large 4F018Fh
		call	grcg_byteboxfill_x
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		push	0
		call	graph_copy_page
		push	0
		push	ds
		push	offset aOp5b_pi	; "op5b.pi"
		call	sub_DAFD
		push	1
		push	ds
		push	offset aOp4b_pi	; "op4b.pi"
		call	sub_DAFD
		push	2
		push	ds
		push	offset aOp3b_pi	; "op3b.pi"
		call	sub_DAFD
		push	3
		push	ds
		push	offset aOp2b_pi	; "op2b.pi"
		call	sub_DAFD
		push	4
		push	ds
		push	offset aOp1b_pi	; "op1b.pi"
		call	sub_DAFD
		push	5
		push	ds
		push	offset aOp0b_pi	; "op0b.pi"
		call	sub_DAFD
		push	0
		call	sub_DA50
		push	4
		call	palette_black_in
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		xor	si, si
		mov	[bp+var_3], 0
		mov	di, 64h	; 'd'
		mov	[bp+var_4], 0
		jmp	short loc_CDC4
; ---------------------------------------------------------------------------

loc_CD7A:
		mov	ax, si
		mov	bx, 4
		cwd
		idiv	bx
		or	dx, dx
		jnz	short loc_CDB0
		cmp	[bp+var_3], 6
		jnb	short loc_CDB0
		push	large 26h ; '&'
		mov	al, [bp+var_3]
		mov	ah, 0
		push	ax
		call	sub_DA75
		inc	[bp+var_3]
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+var_4]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, 1
		sub	al, [bp+var_4]
		mov	[bp+var_4], al
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A

loc_CDB0:
		mov	PaletteTone, di
		call	far ptr	palette_show
		add	di, 2
		push	1
		call	sub_DA3B
		inc	si

loc_CDC4:
		cmp	si, 1Ch
		jl	short loc_CD7A
		mov	PaletteTone, 0C8h	; 'È'
		call	far ptr	palette_show
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		push	ds
		push	offset unk_11710
		push	large [dword_116B4]
		call	graph_pi_free
		push	ds
		push	offset unk_11758
		push	large [dword_116B8]
		call	graph_pi_free
		push	ds
		push	offset unk_117A0
		push	large [dword_116BC]
		call	graph_pi_free
		push	ds
		push	offset unk_117E8
		push	large [dword_116C0]
		call	graph_pi_free
		push	ds
		push	offset unk_11830
		push	large [dword_116C4]
		call	graph_pi_free
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+3Eh], 0
		jnz	short loc_CE50
		push	ds
		push	offset aOp_1	; "op"
		push	600h
		call	sub_DDCA
		push	0
		call	sub_DC74

loc_CE50:
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aOp1_pi_1 ; "op1.pi"
		call	sub_DAFD
		push	0
		call	sub_DA50
		push	large 0
		push	0
		call	sub_DA75
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		push	0
		call	graph_copy_page
		xor	si, si
		jmp	short loc_CEAA
; ---------------------------------------------------------------------------

loc_CE8B:
		mov	bx, si
		imul	bx, 3
		mov	byte ptr [bx+1A96h], 0FFh
		mov	bx, si
		imul	bx, 3
		mov	byte ptr [bx+1A97h], 0FFh
		mov	bx, si
		imul	bx, 3
		mov	byte ptr [bx+1A98h], 0FFh
		inc	si

loc_CEAA:
		cmp	si, 10h
		jl	short loc_CE8B
		call	far ptr	palette_show
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show
		xor	si, si
		mov	[bp+var_3], 0F0h ; 'ð'
		jmp	short loc_CEE8
; ---------------------------------------------------------------------------

loc_CEC7:
		mov	al, [bp+var_3]
		mov	Palettes, al
		mov	Palettes+1, al
		mov	Palettes+2, al
		call	far ptr	palette_show
		push	1
		call	sub_DA3B
		inc	si
		mov	al, [bp+var_3]
		add	al, 0F0h ; 'ð'
		mov	[bp+var_3], al

loc_CEE8:
		cmp	si, 0Fh
		jl	short loc_CEC7
		xor	si, si
		mov	[bp+var_3], 0FCh ; 'ü'
		jmp	short loc_CF4E
; ---------------------------------------------------------------------------

loc_CEF5:
		mov	di, 1
		jmp	short loc_CF34
; ---------------------------------------------------------------------------

loc_CEFA:
		mov	[bp+var_2], 0
		jmp	short loc_CF2D
; ---------------------------------------------------------------------------

loc_CF01:
		mov	bx, di
		imul	bx, 3
		add	bx, [bp+var_2]
		mov	al, [bx+23A0h]
		mov	bx, di
		imul	bx, 3
		add	bx, [bp+var_2]
		cmp	al, [bx+1A96h]
		jnb	short loc_CF2A
		mov	bx, di
		imul	bx, 3
		add	bx, [bp+var_2]
		mov	al, [bp+var_3]
		mov	[bx+1A96h], al

loc_CF2A:
		inc	[bp+var_2]

loc_CF2D:
		cmp	[bp+var_2], 3
		jl	short loc_CF01
		inc	di

loc_CF34:
		cmp	di, 10h
		jl	short loc_CEFA
		call	far ptr	palette_show
		push	1
		call	sub_DA3B
		inc	si
		mov	al, [bp+var_3]
		add	al, 0FCh ; 'ü'
		mov	[bp+var_3], al

loc_CF4E:
		cmp	si, 3Fh	; '?'
		jl	short loc_CEF5
		push	0
		call	sub_DA50
		pop	di
		pop	si
		leave
		retn
sub_CCD2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CF5E	proc near

var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	0Ah, 0
		push	si
		push	di
		push	7D0h
		call	hmem_allocbyte
		mov	word ptr dword_132BA+2,	ax
		mov	word ptr dword_132BA, 0
		push	7D0h
		call	hmem_allocbyte
		mov	word ptr dword_132BE+2,	ax
		mov	word ptr dword_132BE, 0
		mov	di, 0DC5h
		mov	[bp+var_8], 0DE9h
		mov	[bp+var_2], 0
		xor	si, si
		jmp	loc_D050
; ---------------------------------------------------------------------------

loc_CF98:
		mov	[bp+var_4], 0
		mov	[bp+var_6], di
		mov	ax, [bp+var_8]
		mov	[bp+var_A], ax
		jmp	loc_D03E
; ---------------------------------------------------------------------------

loc_CFA9:
		les	bx, dword_1161A
		add	bx, [bp+var_6]
		mov	al, es:[bx]
		les	bx, dword_132BA
		mov	es:[bx+si], al
		les	bx, dword_1161A
		add	bx, [bp+var_A]
		mov	al, es:[bx]
		les	bx, dword_132BE
		mov	es:[bx+si], al
		inc	si
		les	bx, dword_1161E
		add	bx, [bp+var_6]
		mov	al, es:[bx]
		les	bx, dword_132BA
		mov	es:[bx+si], al
		les	bx, dword_1161E
		add	bx, [bp+var_A]
		mov	al, es:[bx]
		les	bx, dword_132BE
		mov	es:[bx+si], al
		inc	si
		les	bx, dword_11622
		add	bx, [bp+var_6]
		mov	al, es:[bx]
		les	bx, dword_132BA
		mov	es:[bx+si], al
		les	bx, dword_11622
		add	bx, [bp+var_A]
		mov	al, es:[bx]
		les	bx, dword_132BE
		mov	es:[bx+si], al
		inc	si
		les	bx, dword_11626
		add	bx, [bp+var_6]
		mov	al, es:[bx]
		les	bx, dword_132BA
		mov	es:[bx+si], al
		les	bx, dword_11626
		add	bx, [bp+var_A]
		mov	al, es:[bx]
		les	bx, dword_132BE
		mov	es:[bx+si], al
		inc	si
		inc	[bp+var_4]
		inc	[bp+var_6]
		inc	[bp+var_A]

loc_D03E:
		cmp	[bp+var_4], 20h	; ' '
		jl	loc_CFA9
		inc	[bp+var_2]
		add	di, 50h	; 'P'
		add	[bp+var_8], 50h	; 'P'

loc_D050:
		cmp	[bp+var_2], 8
		jl	loc_CF98
		mov	[bp+var_2], 0
		jmp	loc_D0F2
; ---------------------------------------------------------------------------

loc_D060:
		les	bx, dword_1161A
		add	bx, di
		mov	al, es:[bx]
		les	bx, dword_132BA
		mov	es:[bx+si], al
		les	bx, dword_1161A
		add	bx, [bp+var_8]
		mov	al, es:[bx]
		les	bx, dword_132BE
		mov	es:[bx+si], al
		inc	si
		les	bx, dword_1161E
		add	bx, di
		mov	al, es:[bx]
		les	bx, dword_132BA
		mov	es:[bx+si], al
		les	bx, dword_1161E
		add	bx, [bp+var_8]
		mov	al, es:[bx]
		les	bx, dword_132BE
		mov	es:[bx+si], al
		inc	si
		les	bx, dword_11622
		add	bx, di
		mov	al, es:[bx]
		les	bx, dword_132BA
		mov	es:[bx+si], al
		les	bx, dword_11622
		add	bx, [bp+var_8]
		mov	al, es:[bx]
		les	bx, dword_132BE
		mov	es:[bx+si], al
		inc	si
		les	bx, dword_11626
		add	bx, di
		mov	al, es:[bx]
		les	bx, dword_132BA
		mov	es:[bx+si], al
		les	bx, dword_11626
		add	bx, [bp+var_8]
		mov	al, es:[bx]
		les	bx, dword_132BE
		mov	es:[bx+si], al
		inc	si
		inc	[bp+var_2]
		add	di, 50h	; 'P'
		add	[bp+var_8], 50h	; 'P'

loc_D0F2:
		cmp	[bp+var_2], 0F4h ; 'ô'
		jl	loc_D060
		pop	di
		pop	si
		leave
		retn
sub_CF5E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D0FF	proc near

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= byte ptr  4

		enter	6, 0
		push	si
		push	di
		cmp	[bp+arg_0], 0
		jnz	short loc_D114
		mov	dx, 0DC5h
		mov	eax, dword_132BA
		jmp	short loc_D11B
; ---------------------------------------------------------------------------

loc_D114:
		mov	dx, 0DE9h
		mov	eax, dword_132BE

loc_D11B:
		mov	[bp+var_6], eax
		xor	cx, cx
		jmp	short loc_D18A
; ---------------------------------------------------------------------------

loc_D123:
		mov	[bp+var_2], 0
		mov	di, dx
		jmp	short loc_D180
; ---------------------------------------------------------------------------

loc_D12C:
		les	bx, dword_1161A
		add	bx, di
		push	es
		les	si, [bp+var_6]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+var_6]
		les	bx, dword_1161E
		add	bx, di
		push	es
		les	si, [bp+var_6]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+var_6]
		les	bx, dword_11622
		add	bx, di
		push	es
		les	si, [bp+var_6]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+var_6]
		les	bx, dword_11626
		add	bx, di
		push	es
		les	si, [bp+var_6]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+var_6]
		inc	[bp+var_2]
		inc	di

loc_D180:
		cmp	[bp+var_2], 20h	; ' '
		jl	short loc_D12C
		inc	cx
		add	dx, 50h	; 'P'

loc_D18A:
		cmp	cx, 8
		jl	short loc_D123
		xor	cx, cx
		jmp	short loc_D1E7
; ---------------------------------------------------------------------------

loc_D193:
		les	bx, dword_1161A
		add	bx, dx
		push	es
		les	si, [bp+var_6]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+var_6]
		les	bx, dword_1161E
		add	bx, dx
		push	es
		les	si, [bp+var_6]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+var_6]
		les	bx, dword_11622
		add	bx, dx
		push	es
		les	si, [bp+var_6]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+var_6]
		les	bx, dword_11626
		add	bx, dx
		push	es
		les	si, [bp+var_6]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+var_6]
		inc	cx
		add	dx, 50h	; 'P'

loc_D1E7:
		cmp	cx, 0F4h ; 'ô'
		jl	short loc_D193
		pop	di
		pop	si
		leave
		retn	2
sub_D0FF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D1F3	proc near
					; sub_D708+2B8p ...
		push	bp
		mov	bp, sp
		push	word ptr dword_132BA+2
		call	hmem_free
		push	word ptr dword_132BE+2
		call	hmem_free
		pop	bp
		retn
sub_D1F3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D20A	proc near

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= byte ptr  4

		enter	6, 0
		push	si
		push	di
		cmp	[bp+arg_0], 0
		jnz	short loc_D21B
		mov	si, 1046h
		jmp	short loc_D21E
; ---------------------------------------------------------------------------

loc_D21B:
		mov	si, 106Ah

loc_D21E:
		push	large 0C00001h
		call	grcg_setcolor
		mov	[bp+var_6], 0AAAAAAAAh
		xor	di, di
		jmp	short loc_D273
; ---------------------------------------------------------------------------

loc_D235:
		test	di, 1
		jnz	short loc_D243
		mov	eax, 0AAAAAAAAh
		jmp	short loc_D249
; ---------------------------------------------------------------------------

loc_D243:
		mov	eax, 55555555h

loc_D249:
		mov	[bp+var_6], eax
		mov	[bp+var_2], 0
		jmp	short loc_D269
; ---------------------------------------------------------------------------

loc_D254:
		les	bx, dword_1161A
		add	bx, si
		mov	eax, [bp+var_6]
		mov	es:[bx], eax
		add	[bp+var_2], 4
		add	si, 4

loc_D269:
		cmp	[bp+var_2], 20h	; ' '
		jl	short loc_D254
		inc	di
		add	si, 30h	; '0'

loc_D273:
		cmp	di, 0F4h ; 'ô'
		jl	short loc_D235
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		pop	di
		pop	si
		leave
		retn	2
sub_D20A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D285	proc near

var_2		= word ptr -2
arg_0		= word ptr  4

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	ax, si
		or	ax, ax
		jz	short loc_D29B
		cmp	ax, 1
		jz	short loc_D2A0
		jmp	short loc_D2A3
; ---------------------------------------------------------------------------

loc_D29B:
		mov	di, 50h	; 'P'
		jmp	short loc_D2A3
; ---------------------------------------------------------------------------

loc_D2A0:
		mov	di, 170h

loc_D2A3:
		mov	[bp+var_2], 138h
		lea	ax, [di+8]
		push	ax
		mov	ax, [bp+var_2]
		add	ax, 8
		push	ax
		push	0Fh
		mov	bx, si
		shl	bx, 3
		push	large dword ptr	[bx+13D4h]
		call	far ptr	loc_DEB4
		lea	ax, [di+8]
		push	ax
		mov	ax, [bp+var_2]
		add	ax, 28h	; '('
		push	ax
		push	0Fh
		mov	bx, si
		shl	bx, 3
		push	large dword ptr	[bx+13D8h]
		call	far ptr	loc_DEB4
		mov	ax, 1
		sub	ax, si
		mov	si, ax
		or	ax, ax
		jz	short loc_D2F2
		cmp	ax, 1
		jz	short loc_D2F7
		jmp	short loc_D2FA
; ---------------------------------------------------------------------------

loc_D2F2:
		mov	di, 50h	; 'P'
		jmp	short loc_D2FA
; ---------------------------------------------------------------------------

loc_D2F7:
		mov	di, 170h

loc_D2FA:
		lea	ax, [di+8]
		push	ax
		mov	ax, [bp+var_2]
		add	ax, 8
		push	ax
		push	3
		mov	bx, si
		shl	bx, 3
		push	large dword ptr	[bx+13D4h]
		call	far ptr	loc_DEB4
		lea	ax, [di+8]
		push	ax
		mov	ax, [bp+var_2]
		add	ax, 28h	; '('
		push	ax
		push	3
		mov	bx, si
		shl	bx, 3
		push	large dword ptr	[bx+13D8h]
		call	far ptr	loc_DEB4
		pop	di
		pop	si
		leave
		retn	2
sub_D285	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D338	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		or	ax, ax
		jz	short loc_D34B
		cmp	ax, 1
		jz	short loc_D350
		jmp	short loc_D353
; ---------------------------------------------------------------------------

loc_D34B:
		mov	si, 50h	; 'P'
		jmp	short loc_D353
; ---------------------------------------------------------------------------

loc_D350:
		mov	si, 170h

loc_D353:
		mov	di, 138h
		push	large 0C00001h
		call	grcg_setcolor
		lea	ax, [si+8]
		push	ax
		lea	ax, [di+8]
		push	ax
		lea	ax, [si+0C8h]
		push	ax
		lea	ax, [di+48h]
		push	ax
		push	8
		call	sub_FF0
		push	large 0C00002h
		call	grcg_setcolor
		push	si
		push	di
		lea	ax, [si+0C0h]
		push	ax
		lea	ax, [di+40h]
		push	ax
		push	8
		call	sub_FF0
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		pop	di
		pop	si
		pop	bp
		retn	2
sub_D338	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D3A2	proc near
					; sub_D708+114p
		push	bp
		mov	bp, sp
		cmp	byte_132B8, 0
		jnz	short loc_D407
		push	large 28002Ch
		push	28h ; '('
		call	sub_E176
		push	1
		call	sub_D0FF
		push	large 1500034h
		push	29h ; ')'
		call	sub_E176
		push	1
		call	sub_D20A
		push	large 0C00001h
		call	grcg_setcolor
		push	large 250034h
		push	large 25011Fh
		call	grcg_byteboxfill_x
		push	large 60120h
		push	large 250127h
		call	grcg_byteboxfill_x
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		push	0
		jmp	short loc_D460
; ---------------------------------------------------------------------------

loc_D407:
		push	large 148002Ch
		push	29h ; ')'
		call	sub_E176
		push	0
		call	sub_D0FF
		push	large 300034h
		push	28h ; '('
		call	sub_E176
		push	0
		call	sub_D20A
		push	large 0C00001h
		call	grcg_setcolor
		push	large 490034h
		push	large 49011Fh
		call	grcg_byteboxfill_x
		push	large 2A0120h
		push	large 490127h
		call	grcg_byteboxfill_x
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		push	1

loc_D460:
		call	sub_D285
		pop	bp
		retn
sub_D3A2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D465	proc near
					; sub_D708+23Dp

var_5		= byte ptr -5
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	6, 0
		push	si
		push	di
		mov	di, [bp+arg_0]
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+11h], 6
		jnz	short loc_D47E
		mov	ax, 4
		jmp	short loc_D488
; ---------------------------------------------------------------------------

loc_D47E:
		les	bx, dword_10DA4
		mov	al, es:[bx+0Fh]
		mov	ah, 0

loc_D488:
		mov	[bp+var_4], ax
		mov	ax, di
		or	ax, ax
		jz	short loc_D498
		cmp	ax, 1
		jz	short loc_D4A1
		jmp	short loc_D4A8
; ---------------------------------------------------------------------------

loc_D498:
		mov	si, 138h
		mov	[bp+var_5], 1
		jmp	short loc_D4A8
; ---------------------------------------------------------------------------

loc_D4A1:
		mov	si, 150h
		mov	[bp+var_5], 2

loc_D4A8:
		mov	[bp+var_2], 140h
		mov	al, byte_132B8
		mov	ah, 0
		imul	ax, 5
		add	ax, [bp+var_4]
		mov	dl, [bp+var_5]
		mov	bx, ax
		test	[bx+3F3Ch], dl
		jz	short loc_D4E5
		mov	word_FD7C, 0
		mov	ax, [bp+var_2]
		add	ax, 0FFF8h
		push	ax
		lea	ax, [si+4]
		push	ax
		push	0Fh
		push	ds
		push	offset aStar
		call	far ptr	loc_DEB4
		mov	word_FD7C, 2

loc_D4E5:
		mov	ax, [bp+var_2]
		add	ax, 8
		push	ax
		lea	ax, [si+4]
		push	ax
		push	0Fh
		mov	al, byte_132B8
		mov	ah, 0
		shl	ax, 3
		mov	dx, di
		shl	dx, 2
		add	ax, dx
		mov	bx, ax
		push	large dword ptr	[bx+13E4h]
		call	far ptr	loc_DEB4
		mov	ax, 1
		sub	ax, di
		mov	di, ax
		or	ax, ax
		jz	short loc_D51F
		cmp	ax, 1
		jz	short loc_D528
		jmp	short loc_D52F
; ---------------------------------------------------------------------------

loc_D51F:
		mov	si, 138h
		mov	[bp+var_5], 1
		jmp	short loc_D52F
; ---------------------------------------------------------------------------

loc_D528:
		mov	si, 150h
		mov	[bp+var_5], 2

loc_D52F:
		mov	al, byte_132B8
		mov	ah, 0
		imul	ax, 5
		add	ax, [bp+var_4]
		mov	dl, [bp+var_5]
		mov	bx, ax
		test	[bx+3F3Ch], dl
		jz	short loc_D567
		mov	word_FD7C, 0
		mov	ax, [bp+var_2]
		add	ax, 0FFF8h
		push	ax
		lea	ax, [si+4]
		push	ax
		push	0Fh
		push	ds
		push	offset aStar
		call	far ptr	loc_DEB4
		mov	word_FD7C, 2

loc_D567:
		mov	ax, [bp+var_2]
		add	ax, 8
		push	ax
		lea	ax, [si+4]
		push	ax
		push	3
		mov	al, byte_132B8
		mov	ah, 0
		shl	ax, 3
		mov	dx, di
		shl	dx, 2
		add	ax, dx
		mov	bx, ax
		push	large dword ptr	[bx+13E4h]
		call	far ptr	loc_DEB4
		pop	di
		pop	si
		leave
		retn	2
sub_D465	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D595	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, 138h
		mov	di, 140h
		push	large 0C00001h
		call	grcg_setcolor
		lea	ax, [di+8]
		push	ax
		lea	ax, [si+8]
		push	ax
		lea	ax, [di+0C7h]
		push	ax
		lea	ax, [si+1Fh]
		push	ax
		push	8
		call	sub_FF0
		lea	ax, [di+8]
		push	ax
		lea	ax, [si+20h]
		push	ax
		lea	ax, [di+0C7h]
		push	ax
		lea	ax, [si+37h]
		push	ax
		push	8
		call	sub_FF0
		push	88h ; 'ˆ'
		lea	ax, [si+8]
		push	ax
		push	147h
		lea	ax, [si+1Fh]
		push	ax
		push	8
		call	sub_FF0
		push	large 0C00002h
		call	grcg_setcolor
		push	di
		push	si
		lea	ax, [di+0C0h]
		push	ax
		lea	ax, [si+17h]
		push	ax
		push	8
		call	sub_FF0
		push	di
		lea	ax, [si+18h]
		push	ax
		lea	ax, [di+0C0h]
		push	ax
		lea	ax, [si+2Fh]
		push	ax
		push	8
		call	sub_FF0
		push	80h ; '€'
		push	si
		push	13Fh
		lea	ax, [si+17h]
		push	ax
		push	8
		call	sub_FF0
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		push	98h ; '˜'
		lea	ax, [si+4]
		push	ax
		push	3
		push	ds
		push	offset aGtgugegfgGuvSi ; "ƒTƒuƒEƒFƒ|ƒ“‚Ì‘I‘ð"
		call	far ptr	loc_DEB4
		pop	di
		pop	si
		pop	bp
		retn
sub_D595	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D650	proc near
		push	bp
		mov	bp, sp
		cmp	byte_132B8, 0
		jnz	short loc_D664
		push	large 0B8002Ch
		push	28h ; '('
		jmp	short loc_D66C
; ---------------------------------------------------------------------------

loc_D664:
		push	large 0B8002Ch
		push	29h ; ')'

loc_D66C:
		call	sub_E176
		push	large 0C00001h
		call	grcg_setcolor
		push	large 370034h
		push	large 37011Fh
		call	grcg_byteboxfill_x
		push	large 180120h
		push	large 370127h
		call	grcg_byteboxfill_x
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		call	sub_D595
		mov	al, byte_132B9
		mov	ah, 0
		push	ax
		call	sub_D465
		pop	bp
		retn
sub_D650	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D6B2	proc near
		push	bp
		mov	bp, sp
		mov	PaletteTone, 0
		call	far ptr	palette_show
		push	0
		push	ds
		push	offset aSlb1_pi	; "slb1.pi"
		call	sub_DAFD
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		call	sub_DA50
		push	large 0
		push	0
		call	sub_DA75
		call	sub_CF5E
		push	0
		call	sub_D338
		push	1
		call	sub_D338
		call	sub_D3A2
		push	0
		call	graph_copy_page
		push	1
		call	palette_black_in
		pop	bp
		retn
sub_D6B2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D708	proc near

var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	2, 0
		push	si
		push	di
		les	bx, dword_10DA4
		cmp	byte ptr es:[bx+11h], 6
		jnz	short loc_D78D
		xor	di, di
		jmp	short loc_D786
; ---------------------------------------------------------------------------

loc_D71D:
		mov	[bp+var_2], 0
		mov	si, 1
		jmp	short loc_D735
; ---------------------------------------------------------------------------

loc_D726:
		mov	bx, di
		imul	bx, 5
		mov	al, [bx+si+3F3Ch]
		and	al, 1
		or	[bp+var_2], al
		inc	si

loc_D735:
		cmp	si, 4
		jl	short loc_D726
		mov	bx, di
		add	bx, bx
		push	bx
		cmp	[bp+var_2], 0
		jz	short loc_D74A
		mov	ax, 1
		jmp	short loc_D74C
; ---------------------------------------------------------------------------

loc_D74A:
		xor	ax, ax

loc_D74C:
		pop	bx
		mov	[bx+3F82h], al
		mov	[bp+var_2], 0
		mov	si, 1
		jmp	short loc_D769
; ---------------------------------------------------------------------------

loc_D75A:
		mov	bx, di
		imul	bx, 5
		mov	al, [bx+si+3F3Ch]
		and	al, 2
		or	[bp+var_2], al
		inc	si

loc_D769:
		cmp	si, 4
		jl	short loc_D75A
		mov	bx, di
		add	bx, bx
		push	bx
		cmp	[bp+var_2], 0
		jz	short loc_D77E
		mov	ax, 1
		jmp	short loc_D780
; ---------------------------------------------------------------------------

loc_D77E:
		xor	ax, ax

loc_D780:
		pop	bx
		mov	[bx+3F83h], al
		inc	di

loc_D786:
		cmp	di, 2
		jl	short loc_D71D
		jmp	short loc_D7A1
; ---------------------------------------------------------------------------

loc_D78D:
		mov	byte_132C2, 1
		mov	byte_132C3, 1
		mov	byte_132C4, 1
		mov	byte_132C5, 1

loc_D7A1:
		cmp	byte_132C2, 0
		jnz	short loc_D7AF
		cmp	byte_132C3, 0
		jz	short loc_D7B3

loc_D7AF:
		mov	al, 0
		jmp	short loc_D7B5
; ---------------------------------------------------------------------------

loc_D7B3:
		mov	al, 1

loc_D7B5:
		mov	byte_132B8, al

loc_D7B8:
		call	sub_D6B2

loc_D7BB:
		call	far ptr	sub_E1DC
		cmp	[bp+var_1], 0
		jnz	loc_D8DF
		test	byte ptr word_11A50, 4
		jnz	short loc_D7D6
		test	byte ptr word_11A50, 8
		jz	short loc_D84C

loc_D7D6:
		call	sub_E2E6
		push	1
		call	sub_E2F2
		call	sub_E32C
		mov	al, 1
		sub	al, byte_132B8
		mov	byte_132B8, al
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		cmp	byte ptr [bx+3F82h], 0
		jnz	short loc_D816
		mov	al, byte_132B8
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		cmp	byte ptr [bx+3F83h], 0
		jnz	short loc_D816
		mov	al, 1
		sub	al, byte_132B8
		mov	byte_132B8, al

loc_D816:
					; sub_D708+103j
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_D3A2
		mov	vsync_Count1, 0
		push	1
		call	sub_DA3B
		mov	dx, 0A4h ; '¤'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		call	graph_copy_page
		mov	vsync_Count1, 0
		push	1
		call	sub_DA3B
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A

loc_D84C:
		test	byte ptr word_11A50+1, 20h
		jnz	short loc_D85A
		test	byte ptr word_11A50, 20h
		jz	short loc_D8B2

loc_D85A:
		call	sub_E2E6
		push	0Bh
		call	sub_E2F2
		call	sub_E32C
		mov	al, byte_132B8
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		cmp	byte ptr [bx+3F82h], 0
		jz	short loc_D87F
		mov	al, 0
		jmp	short loc_D881
; ---------------------------------------------------------------------------

loc_D87F:
		mov	al, 1

loc_D881:
		mov	byte_132B9, al
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	PaletteTone, 0C8h	; 'È'
		call	far ptr	palette_show
		push	large 0
		push	0
		call	sub_DA75
		call	sub_D650
		push	0
		call	graph_copy_page
		push	1
		call	palette_white_in

loc_D8B0:
		jmp	short loc_D8F4
; ---------------------------------------------------------------------------

loc_D8B2:
		test	byte ptr word_11A50+1, 10h
		jz	short loc_D8D7
		push	1
		call	palette_black_out
		call	sub_D1F3
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		mov	ax, 1
		jmp	loc_DA0D
; ---------------------------------------------------------------------------

loc_D8D7:
		mov	al, byte ptr word_11A50
		mov	[bp+var_1], al
		jmp	short loc_D8EA
; ---------------------------------------------------------------------------

loc_D8DF:
		cmp	word_11A50, 0
		jnz	short loc_D8EA
		mov	[bp+var_1], 0

loc_D8EA:
					; sub_D708+1DCj
		push	1
		call	sub_DA3B
		jmp	loc_D7BB
; ---------------------------------------------------------------------------

loc_D8F4:
		call	far ptr	sub_E1DC
		cmp	[bp+var_1], 0
		jnz	loc_D9F8
		test	byte ptr word_11A50, 1
		jnz	short loc_D90F
		test	byte ptr word_11A50, 2
		jz	short loc_D986

loc_D90F:
		mov	al, 1
		sub	al, byte_132B9
		mov	byte_132B9, al
		mov	al, byte_132B8
		mov	ah, 0
		add	ax, ax
		mov	dl, byte_132B9
		mov	dh, 0
		add	ax, dx
		mov	bx, ax
		cmp	byte ptr [bx+3F82h], 0
		jnz	short loc_D939
		mov	al, 1
		sub	al, byte_132B9
		mov	byte_132B9, al

loc_D939:
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, byte_132B9
		mov	ah, 0
		push	ax
		call	sub_D465
		mov	vsync_Count1, 0
		push	1
		call	sub_DA3B
		mov	dx, 0A4h ; '¤'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		call	graph_copy_page
		mov	vsync_Count1, 0
		push	1
		call	sub_DA3B
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_E2E6
		push	1
		call	sub_E2F2
		call	sub_E32C

loc_D986:
		test	byte ptr word_11A50+1, 20h
		jnz	short loc_D994
		test	byte ptr word_11A50, 20h
		jz	short loc_D9D5

loc_D994:
		call	sub_E2E6
		push	0Bh
		call	sub_E2F2
		call	sub_E32C
		les	bx, dword_10DA4
		mov	al, byte_132B9
		mov	es:[bx+19h], al
		mov	al, byte_132B8
		add	al, 30h	; '0'
		mov	es:[bx+12h], al
		push	1
		call	palette_black_out
		call	sub_D1F3
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		xor	ax, ax
		jmp	short loc_DA0D
; ---------------------------------------------------------------------------

loc_D9D5:
		test	byte ptr word_11A50+1, 10h
		jz	short loc_D9F0
		call	sub_D1F3
		push	ds
		push	offset unk_116C8
		push	large [dword_116B0]
		call	graph_pi_free
		jmp	loc_D7B8
; ---------------------------------------------------------------------------

loc_D9F0:
		mov	al, byte ptr word_11A50
		mov	[bp+var_1], al
		jmp	short loc_DA03
; ---------------------------------------------------------------------------

loc_D9F8:
		cmp	word_11A50, 0
		jnz	short loc_DA03
		mov	[bp+var_1], 0

loc_DA03:
					; sub_D708+2F5j
		push	1
		call	sub_DA3B
		jmp	loc_D8B0
; ---------------------------------------------------------------------------

loc_DA0D:
					; sub_D708+2CBj
		pop	di
		pop	si
		leave
		retn
sub_D708	endp

seg001		ends

; ===========================================================================

; Segment type:	Pure code
seg002		segment	byte public 'CODE' use16
		assume cs:seg002
		;org 1
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DA12	proc far
		push	bp
		mov	bp, sp
		mov	dword_1161A, 0A8000000h
		mov	dword_1161E, 0B0000000h
		mov	dword_11622, 0B8000000h
		mov	dword_11626, 0E0000000h
		pop	bp
		retf
sub_DA12	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DA3B	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	vsync_Count1, 0

loc_DA44:
		mov	ax, vsync_Count1
		cmp	ax, [bp+arg_0]
		jb	short loc_DA44
		pop	bp
		retf	2
sub_DA3B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DA50	proc far
					; sub_AE96+13AP ...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	30h ; '0'       ; n
		push	ds
		mov	ax, [bp+arg_0]
		imul	ax, 48h
		add	ax, 23A0h
		push	ax		; src
		push	ds
		push	offset Palettes ; dest
		call	_memcpy
		add	sp, 0Ah
		call	far ptr	palette_show
		pop	bp
		retf	2
sub_DA50	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DA75	proc far
					; sub_AE96+144P ...

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		enter	6, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		mov	bx, di
		shl	bx, 2
		mov	ax, [bx+2372h]
		mov	dx, [bx+2370h]
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		mov	[bp+var_6], 0
		jmp	short loc_DAE9
; ---------------------------------------------------------------------------

loc_DA9B:
		push	[bp+arg_4]
		push	si
		push	large [bp+var_4]
		mov	bx, di
		imul	bx, 48h
		push	word ptr [bx+239Ch]
		call	sub_1C5E
		inc	si
		cmp	si, 190h
		jl	short loc_DABC
		sub	si, 190h

loc_DABC:
		mov	bx, di
		imul	bx, 48h
		mov	ax, [bx+239Ch]
		shr	ax, 1
		add	word ptr [bp+var_4], ax
		mov	eax, [bp+var_4]
		shr	eax, 10h
		mov	dx, word ptr [bp+var_4]
		shr	dx, 4
		add	ax, dx
		mov	dx, word ptr [bp+var_4]
		and	dx, 0Fh
		mov	word ptr [bp+var_4+2], ax
		mov	word ptr [bp+var_4], dx
		inc	[bp+var_6]

loc_DAE9:
		mov	bx, di
		imul	bx, 48h
		mov	ax, [bx+239Eh]
		cmp	ax, [bp+var_6]
		ja	short loc_DA9B
		pop	di
		pop	si
		leave
		retf	6
sub_DA75	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DAFD	proc far
					; sub_AE96+133P ...

var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		enter	2, 0
		push	si
		mov	si, [bp+arg_4]
		mov	ax, si
		imul	ax, 48h
		add	ax, 2388h
		push	ds
		push	ax
		mov	bx, si
		shl	bx, 2
		push	large dword ptr	[bx+2370h]
		call	graph_pi_free
		push	large [bp+arg_0]
		mov	ax, si
		imul	ax, 48h
		add	ax, 2388h
		push	ds
		push	ax
		mov	ax, si
		shl	ax, 2
		add	ax, 2370h
		push	ds
		push	ax
		call	graph_pi_load_pack
		mov	[bp+var_2], ax
		pop	si
		leave
		retf	6
sub_DAFD	endp

; ---------------------------------------------------------------------------
		db    0
; ---------------------------------------------------------------------------
		push	di
		xor	ax, ax
		mov	di, 2538h
		xor	dl, dl
		jmp	short loc_DB59
; ---------------------------------------------------------------------------

loc_DB4E:
		xor	dl, dl
		mov	cx, 8

loc_DB53:
		rol	al, 1
		rcr	dl, 1
		loop	loc_DB53

loc_DB59:
		mov	[di], dl
		inc	di
		inc	al
		jnz	short loc_DB4E
		pop	di
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DB62	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_0]
		xor	di, di

loc_DB6C:
		nop
		push	cs
		call	sub_E1DC
		push	1
		nop
		push	cs
		call	near ptr sub_DA3B
		nop
		push	cs
		call	near ptr sub_E1E4
		cmp	word_11A50, 0
		jnz	short loc_DB6C
		or	si, si
		jnz	short loc_DBAE
		mov	si, 270Fh
		jmp	short loc_DBAE
; ---------------------------------------------------------------------------

loc_DB8D:
		nop
		push	cs
		call	sub_E1DC
		push	1
		nop
		push	cs
		call	near ptr sub_DA3B
		nop
		push	cs
		call	near ptr sub_E1E4
		cmp	word_11A50, 0
		jnz	short loc_DBB2
		inc	di
		cmp	si, 270Fh
		jnz	short loc_DBAE
		xor	di, di

loc_DBAE:
		cmp	di, si
		jl	short loc_DB8D

loc_DBB2:
		pop	di
		pop	si
		pop	bp
		retf	2
sub_DB62	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DBB8	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		movsx	eax, [bp+arg_2]
		movsx	edx, [bp+arg_0]
		imul	eax, edx
		sar	eax, 8
		add	ax, [bp+arg_4]
		pop	bp
		retf	6
sub_DBB8	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+0Eh]
		mov	bx, [bp+6]
		add	bx, bx
		movsx	eax, word ptr [bp+8]
		movsx	edx, word ptr [bx+648h]
		imul	eax, edx
		sar	eax, 8
		add	ax, [bp+0Ch]
		mov	[si], ax
		movsx	eax, word ptr [bp+8]
		movsx	edx, word ptr [bx+5C8h]
		imul	eax, edx
		sar	eax, 8
		add	ax, [bp+0Ah]
		mov	[si+2],	ax
		pop	si
		pop	bp
		retf	0Ah

; =============== S U B	R O U T	I N E =======================================


sub_DC16	proc far
		xor	ax, ax
		mov	byte_11978, 60h	; '`'
		mov	byte_FD22, al
		mov	byte_FD21, al
		mov	byte_FD20, al
		mov	es, ax
		les	bx, dword ptr es:[0180h]
		assume es:nothing
		cmp	byte ptr es:[bx+2], 50h	; 'P'
		jnz	short locret_DC43
		cmp	byte ptr es:[bx+3], 4Dh	; 'M'
		jnz	short locret_DC43
		cmp	byte ptr es:[bx+4], 44h	; 'D'
		jnz	short locret_DC43
		inc	ax

locret_DC43:
		retf
sub_DC16	endp


; =============== S U B	R O U T	I N E =======================================


sub_DC44	proc far
		xor	ax, ax
		mov	es, ax
		les	bx, dword ptr es:[0184h]
		assume es:nothing
		cmp	byte ptr es:[bx+2], 4Dh	; 'M'
		jnz	short loc_DC70
		cmp	byte ptr es:[bx+3], 4Dh	; 'M'
		jnz	short loc_DC70
		cmp	byte ptr es:[bx+4], 44h	; 'D'
		jnz	short loc_DC70
		mov	byte_11978, 61h	; 'a'
		mov	byte_FD22, 1
		mov	ax, 1
		retf
; ---------------------------------------------------------------------------

loc_DC70:
		xor	ax, ax
		retf
sub_DC44	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DC74	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		cmp	byte_FD21, 0
		jz	short loc_DC8E
		mov	ax, [bp+arg_0]
		cmp	byte_FD21, 3
		jz	short loc_DC8C
		int	60h
		jmp	short loc_DC8E
; ---------------------------------------------------------------------------

loc_DC8C:
		int	61h		; reserved for user interrupt

loc_DC8E:
		pop	bp
		retf	2
sub_DC74	endp

; ---------------------------------------------------------------------------

loc_DC92:
					; sub_AAB5:loc_AB54P ...
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+6]
		shl	si, 4
		add	si, 2716h
		mov	di, [bp+0Ah]
		sar	di, 3
		add	di, [si+6]
		mov	ax, [si+8]
		mov	cs:word_DCD3, ax
		jmp	short $+2
		shl	ax, 2
		add	ax, 50h	; 'P'
		mov	dx, ax
		mov	ax, [bp+8]
		mov	bx, ax
		shl	ax, 2
		add	ax, bx
		add	ax, 0A800h
		mov	es, ax
		push	ds
		mov	ds, word ptr [si+0Ch]
		xor	si, si
		cld
		nop
; ---------------------------------------------------------------------------
		db 0B9h
word_DCD3	dw 1234h
		db 0F3h, 66h, 0A5h, 2Bh, 0FAh, 79h, 0F6h, 1Fh, 5Fh, 5Eh
		db 5Dh,	0CAh, 6, 0, 90h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DCE4	proc far
					; sub_B052+1B0P ...

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		nop
		push	cs
		call	near ptr sub_DC16
		cmp	si, 3
		jnz	short loc_DCFE
		nop
		push	cs
		call	near ptr sub_DC44

loc_DCFE:
		mov	ah, 9
		int	60h
		cmp	al, 0FFh
		jnz	short loc_DD0D
		mov	byte_FD21, 0
		jmp	short loc_DD1D
; ---------------------------------------------------------------------------

loc_DD0D:
		or	al, al
		jnz	short loc_DD18
		mov	byte_FD21, 1
		jmp	short loc_DD1D
; ---------------------------------------------------------------------------

loc_DD18:
		mov	byte_FD21, 2

loc_DD1D:
		cmp	di, 1
		jnz	short loc_DD35
		cmp	byte_FD21, 0
		jz	short loc_DD2E
		mov	ax, 1
		jmp	short loc_DD30
; ---------------------------------------------------------------------------

loc_DD2E:
		xor	ax, ax

loc_DD30:
		mov	byte_FD20, al
		jmp	short loc_DD46
; ---------------------------------------------------------------------------

loc_DD35:
		cmp	di, 2
		jnz	short loc_DD41
		mov	byte_FD20, 2
		jmp	short loc_DD46
; ---------------------------------------------------------------------------

loc_DD41:
		mov	byte_FD20, 0

loc_DD46:
		or	si, si
		jnz	short loc_DD51
		mov	byte_FD21, 0
		jmp	short loc_DD75
; ---------------------------------------------------------------------------

loc_DD51:
		cmp	si, 3
		jnz	short loc_DD64
		cmp	byte_FD22, 0
		jz	short loc_DD64
		mov	byte_FD21, 3
		jmp	short loc_DD75
; ---------------------------------------------------------------------------

loc_DD64:
		cmp	si, 1
		jnz	short loc_DD75
		cmp	byte_FD21, 0
		jz	short loc_DD75
		mov	byte_FD21, 1

loc_DD75:
		mov	al, byte_FD21
		mov	ah, 0
		pop	di
		pop	si
		pop	bp
		retf	4
sub_DCE4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DD80	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		cmp	byte_FD21, 0
		jnz	short loc_DD96
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr sub_DA3B
		pop	bp
		retf	4
; ---------------------------------------------------------------------------

loc_DD96:
		mov	ah, 5
		cmp	byte_FD21, 3
		jz	short loc_DDA3
		int	60h		; - FTP	Packet Driver -	BASIC FUNC - TERMINATE DRIVER FOR HANDLE
					; BX = handle
					; Return: CF set on error, DH =	error code
					; CF clear if successful
		jmp	short loc_DDA8
; ---------------------------------------------------------------------------

loc_DDA3:
		mov	dx, 0C0h ; 'À'
		int	61h		; reserved for user interrupt

loc_DDA8:
		cmp	ax, [bp+arg_2]
		jb	short loc_DD96
		pop	bp
		retf	4
sub_DD80	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DDB1	proc far
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_E0AC
		call	key_beep_on
		call	text_systemline_show
		call	text_cursor_show
		pop	bp
		retf
sub_DDB1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DDCA	proc far
					; sub_B052+1BCP ...

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_DDDF
; ---------------------------------------------------------------------------

loc_DDD2:
		les	bx, [bp+arg_2]
		add	bx, si
		mov	al, es:[bx]
		mov	[si+2700h], al
		inc	si

loc_DDDF:
		cmp	si, 0Dh
		jl	short loc_DDD2
		xor	si, si

loc_DDE6:
		inc	si
		cmp	byte ptr [si+2700h], 0
		jnz	short loc_DDE6
		mov	byte ptr [si+2704h], 0
		mov	byte ptr [si+2700h], 2Eh ; '.'
		inc	si
		cmp	[bp+arg_0], 0B00h
		jnz	short loc_DE32
		mov	byte ptr [si+2700h], 65h ; 'e'
		mov	byte ptr [si+2701h], 66h ; 'f'
		cmp	byte_FD20, 0
		jz	loc_DEAF
		cmp	byte_FD20, 2
		jnz	short loc_DE2B
		mov	byte ptr [si+2702h], 73h ; 's'
		push	ds
		push	offset unk_11A40
		call	bgm_read_sdata
		jmp	loc_DEAF
; ---------------------------------------------------------------------------

loc_DE2B:
		mov	byte ptr [si+2702h], 63h ; 'c'
		jmp	short loc_DE82
; ---------------------------------------------------------------------------

loc_DE32:
		cmp	byte_FD21, 0
		jz	short loc_DEAF
		push	100h
		nop
		push	cs
		call	near ptr sub_DC74
		mov	al, byte_FD21
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		les	bx, [bx+9E4h]
		mov	al, es:[bx]
		mov	[si+2700h], al
		mov	al, byte_FD21
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		les	bx, [bx+9E4h]
		mov	al, es:[bx+1]
		mov	[si+2701h], al
		mov	al, byte_FD21
		mov	ah, 0
		shl	ax, 2
		mov	bx, ax
		les	bx, [bx+9E4h]
		mov	al, es:[bx+2]
		mov	[si+2702h], al

loc_DE82:
		push	ds
		mov	dx, 2700h
		mov	ax, 3D00h
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read
		mov	bx, ax
		mov	ax, [bp+arg_0]
		cmp	ah, 6
		jnz	short loc_DEA0
		cmp	byte_FD21, 3
		jnz	short loc_DEA0
		int	61h		; reserved for user interrupt
		jmp	short loc_DEA2
; ---------------------------------------------------------------------------

loc_DEA0:
		int	60h

loc_DEA2:
		mov	ax, 3F00h
		mov	cx, 5000h
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle

loc_DEAF:
		pop	si
		pop	bp
		retf	6
sub_DDCA	endp

; ---------------------------------------------------------------------------

loc_DEB4:
					; sub_ABD7+235P ...
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	dx, [bp+0Ah]
		mov	al, 0C0h ; 'À'
		pushf
		cli
		out	7Ch, al
		popf
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		mov	dx, [bp+0Ch]
		shl	dx, 6
		mov	di, dx
		shr	dx, 2
		add	di, dx
		mov	cx, [bp+0Eh]
		mov	al, 0Bh
		out	68h, al
		mov	bx, word_FD7C
		add	bx, bx
		cmp	bx, 8
		jb	short loc_DF10
		cmp	bx, 10h
		jnb	short loc_DF10
		mov	ax, [bx+0A0Ch]
		mov	cs:word_E00B, ax
		mov	bx, 8

loc_DF10:
		mov	ax, [bx+0A00h]
		mov	cs:word_DF73, ax
		mov	ax, [bx+0A0Ah]
		mov	cs:word_DFC5, ax
		mov	ax, word_FD7E
		mov	cs:word_DF92, ax
		mov	cs:word_DFD9, ax
		push	ds
		pop	fs
		assume fs:dseg
		lds	si, [bp+6]
		lodsb
		or	al, al
		jz	short loc_DF9D

loc_DF36:
		mov	dx, cx
		shr	dx, 3
		add	di, dx
		and	cx, 7
		mov	ah, 9
		test	al, 0E0h
		jns	short loc_DFAF
		jp	short loc_DFAC
		mov	ah, al
		lodsb
		shl	ah, 1
		cmp	al, 9Fh	; 'Ÿ'
		jnb	short loc_DF56
		cmp	al, 80h	; '€'
		adc	ax, 0FEDFh

loc_DF56:
		sbb	al, 0FEh ; 'þ'
		and	ax, 7F7Fh
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		nop
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, ch
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
; ---------------------------------------------------------------------------
		db 0E8h
word_DF73	dw 78h
		db 8Ah,	0F8h, 0B3h, 0, 0D3h, 0E8h, 0D3h, 0EBh, 86h, 0E0h
		db 0ABh, 26h, 88h, 1Dh,	83h, 0C7h, 4Eh,	0FEh, 0C5h, 80h
		db 0FDh, 10h, 72h, 0D5h, 81h, 0EFh, 0, 5, 0BAh
word_DF92	dw 1234h
; ---------------------------------------------------------------------------

loc_DF94:
		xor	ch, ch
		add	cx, dx
		lodsb
		or	al, al
		jnz	short loc_DF36

loc_DF9D:
		mov	al, 0Ah
		out	68h, al
		xor	al, al
		out	7Ch, al
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ah
; ---------------------------------------------------------------------------

loc_DFAC:
		add	ax, 80h	; '€'

loc_DFAF:
		cmp	al, 20h	; ' '
		jz	short near ptr byte_DFD8
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		nop
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		xor	ah, ah
; ---------------------------------------------------------------------------
		db 0E8h
word_DFC5	dw 26h
		db 0D3h, 0C8h, 0ABh, 83h, 0C7h,	4Eh, 0FEh, 0C5h, 80h, 0FDh
		db 10h,	72h, 0E6h, 81h,	0EFh, 0, 5
byte_DFD8	db 0BAh
word_DFD9	dw 1234h
; ---------------------------------------------------------------------------
		shr	dx, 1
		jmp	short loc_DF94
; ---------------------------------------------------------------------------
		nop
		mov	dx, ax
		add	dx, dx
		or	ax, dx
		retn
; ---------------------------------------------------------------------------
		mov	dx, ax
		shl	dx, 1
		or	ax, dx

; =============== S U B	R O U T	I N E =======================================


sub_DFED	proc near
		mov	dx, ax
		mov	bp, ax
		add	bp, bp
		or	ax, bp
		xor	dx, ax
		add	dx, dx
		not	dx
		and	ax, dx
		retn
sub_DFED	endp

; ---------------------------------------------------------------------------
		db 0E8h, 0ECh, 0FFh, 8Ah, 0DDh,	83h, 0E3h, 2 dup(3), 0DBh
		db 64h,	23h, 87h
word_E00B	dw 1234h
; ---------------------------------------------------------------------------
		retn
; ---------------------------------------------------------------------------

loc_E00E:
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		cli
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	dx, 7Eh	; '~'
		xor	al, al
		out	dx, al
		out	dx, al
		out	dx, al
		out	dx, al
		sti
		mov	si, [bp+6]
		shl	si, 4
		add	si, 2716h
		mov	ax, [si+0Eh]
		mov	cs:word_E086, ax
		jmp	short $+2
		mov	ax, [bp+8]
		mov	bx, ax
		shl	ax, 2
		add	ax, bx
		add	ax, 0A800h
		mov	es, ax
		assume es:nothing
		push	0
		add	ax, 3800h
		push	ax
		sub	ax, 2800h
		push	ax
		sub	ax, 800h
		push	ax
		mov	ax, [bp+0Ah]
		shr	ax, 3
		add	ax, [si+6]
		mov	di, ax
		mov	bx, ax
		mov	ax, [si+8]
		mov	bp, ax
		shl	ax, 2
		add	ax, 50h	; 'P'
		mov	dx, ax
		mov	ax, [si+0Ch]
		mov	ds, ax
		xor	si, si
		cld
		nop

loc_E076:
		mov	cx, bp
		rep movsd
		sub	di, dx
		jns	short loc_E076
		xor	al, al
		out	7Ch, al
		xor	si, si
; ---------------------------------------------------------------------------
		db 0B8h
word_E086	dw 1234h
; ---------------------------------------------------------------------------
		mov	ds, ax

loc_E08A:
		mov	di, bx

loc_E08C:
		mov	cx, bp

loc_E08E:
		lodsd
		or	es:[di], eax
		add	di, 4
		loop	loc_E08E
		sub	di, dx
		jns	short loc_E08C
		pop	ax
		mov	es, ax
		or	ax, ax
		jnz	short loc_E08A
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	6
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E0AC	proc far
		push	bp
		mov	bp, sp
		call	sub_309E
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_28FE
		call	vsync_end
		call	text_clear
		call	js_end
		call	egc_start
		call	bgm_finish
		pop	bp
		retf
sub_E0AC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E0F4	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	word_11A4E
		call	mem_assign_dos
		or	ax, ax
		jz	short loc_E109
		mov	ax, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_E109:
		nop
		push	cs
		call	near ptr sub_DA12
		call	graph_start
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	graph_clear
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	bbufsiz, 2000h
		call	vsync_start
		call	key_beep_off
		call	text_systemline_hide
		call	text_cursor_hide
		call	egc_start
		call	sub_323A
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx], 0
		jz	short loc_E169
		push	word ptr [bp+arg_0+2]
		push	bx
		call	sub_2FE2

loc_E169:
		push	400h
		call	bgm_init
		xor	ax, ax
		pop	bp
		retf
sub_E0F4	endp

; ---------------------------------------------------------------------------
		db    0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E176	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ax, [bp+arg_2]
		mov	bx, ax
		shl	ax, 2
		add	ax, bx
		add	ax, 0A800h
		mov	es, ax
		add	ax, 3800h
		push	ax
		sub	ax, 2800h
		push	ax
		sub	ax, 800h
		push	ax
		mov	si, [bp+arg_0]
		shl	si, 4
		add	si, 2716h
		mov	bx, [bp+arg_4]
		sar	bx, 3
		add	bx, [si+6]
		mov	ax, [si+8]
		mov	bp, ax
		shl	ax, 2
		add	ax, 50h	; 'P'
		mov	dx, ax
		mov	ax, [si+0Eh]
		mov	ds, ax
		xor	si, si
		mov	al, 4
		cld
		nop

loc_E1C2:
		mov	di, bx

loc_E1C4:
		mov	cx, bp
		rep movsd
		sub	di, dx
		jns	short loc_E1C4
		dec	al
		jz	short loc_E1D4
		pop	es
		jmp	short loc_E1C2
; ---------------------------------------------------------------------------

loc_E1D4:
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	6
sub_E176	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E1DC	proc near
					; sub_BC35+145P ...
		xor	ax, ax
		mov	word_11A50, ax
		mov	word_10DD2, ax
sub_E1DC	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_E1E4	proc far
					; sub_DB62+18p	...
		xor	ax, ax
		mov	es, ax
		mov	ah, byte ptr es:[531h]
		test	ah, 4
		jz	short loc_E1F7
		or	word_11A50, 1

loc_E1F7:
		test	ah, 20h
		jz	short loc_E201
		or	word_11A50, 2

loc_E201:
		test	ah, 8
		jz	short loc_E20B
		or	word_11A50, 4

loc_E20B:
		test	ah, 10h
		jz	short loc_E215
		or	word_11A50, 8

loc_E215:
		mov	ah, byte ptr es:[533h]
		test	ah, 1
		jz	short loc_E224
		or	word_11A50, 8

loc_E224:
		test	ah, 4
		jz	short loc_E22F
		or	word_11A50, 400h

loc_E22F:
		test	ah, 8
		jz	short loc_E239
		or	word_11A50, 2

loc_E239:
		test	ah, 10h
		jz	short loc_E244
		or	word_11A50, 800h

loc_E244:
		mov	ah, byte ptr es:[532h]
		test	ah, 40h
		jz	short loc_E253
		or	word_11A50, 4

loc_E253:
		test	ah, 4
		jz	short loc_E25E
		or	word_11A50, 100h

loc_E25E:
		test	ah, 8
		jz	short loc_E268
		or	word_11A50, 1

loc_E268:
		test	ah, 10h
		jz	short loc_E273
		or	word_11A50, 200h

loc_E273:
		mov	ah, byte ptr es:[52Fh]
		test	ah, 2
		jz	short loc_E282
		or	word_11A50, 20h

loc_E282:
		test	ah, 4
		jz	short loc_E28C
		or	word_11A50, 10h

loc_E28C:
		mov	ah, byte ptr es:[52Ch]
		test	ah, 1
		jz	short loc_E29C
		or	word_11A50, 4000h

loc_E29C:
		mov	ah, byte ptr es:[52Ah]
		test	ah, 1
		jz	short loc_E2AC
		or	word_11A50, 1000h

loc_E2AC:
		mov	ah, byte ptr es:[52Dh]
		test	ah, 10h
		jz	short loc_E2BC
		or	word_11A50, 2000h

loc_E2BC:
		mov	ah, byte ptr es:[530h]
		test	ah, 10h
		jz	short loc_E2CB
		or	word_11A50, 20h

loc_E2CB:
		mov	ah, 2
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		and	al, 1
		mov	byte_11A52, al
		cmp	word_F8BC, 0
		jz	short locret_E2E4
		call	sub_349A
		or	word_11A50, ax

locret_E2E4:
		retf
sub_E1E4	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E2E6	proc far
					; sub_AE96:loc_AF2CP ...
		mov	byte_FD81, 0
		mov	byte_FD80, 0FFh
		retf
sub_E2E6	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E2F2	proc far
		mov	bx, sp
		mov	dx, ss:[bx+4]
		cmp	byte_FD20, 0
		jz	short locret_E328
		cmp	byte_FD80, 0FFh
		jnz	short loc_E30D
		mov	byte_FD80, dl
		retf	2
; ---------------------------------------------------------------------------

loc_E30D:
		mov	bl, byte_FD80
		xor	bh, bh
		mov	al, [bx+9BEh]
		mov	bx, dx
		cmp	al, [bx+9BEh]
		ja	short locret_E328
		mov	byte_FD80, dl
		mov	byte_FD81, 0

locret_E328:
		retf	2
sub_E2F2	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E32C	proc far
		cmp	byte_FD20, 0
		jz	short locret_E377
		cmp	byte_FD80, 0FFh
		jz	short locret_E377
		cmp	byte_FD81, 0
		jnz	short loc_E359
		mov	al, byte_FD80
		cmp	byte_FD20, 2
		jz	short loc_E351
		mov	ah, 0Ch
		int	60h		; - Banyan VINES, 3com - GET STATION ADDRESS
					; Return: AL = status, 00h successful, ES:SI ->	6-byte station address
					; 02h semaphore	service	is unavailable
		jmp	short loc_E359
; ---------------------------------------------------------------------------

loc_E351:
		xor	ah, ah
		push	ax
		call	bgm_sound

loc_E359:
		inc	byte_FD81
		mov	bl, byte_FD80
		xor	bh, bh
		mov	al, [bx+9CFh]
		cmp	al, byte_FD81
		jnb	short locret_E377
		mov	byte_FD81, 0
		mov	byte_FD80, 0FFh

locret_E377:
		retf
sub_E32C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E378	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	di
		cld
		call	sub_E3E8
		mov	dx, 4A4h
		mov	ax, 29F0h
		out	dx, ax
		mov	ax, [bp+arg_6]
		mov	dx, [bp+arg_4]
		mov	bx, ax
		sar	bx, 4
		shl	bx, 1
		shl	dx, 6
		add	bx, dx
		shr	dx, 2
		add	bx, dx
		mov	di, bx
		and	ax, 0Fh
		mov	cx, ax
		add	ax, [bp+arg_2]
		shr	ax, 4
		or	cx, cx
		jz	short loc_E3B0
		inc	ax

loc_E3B0:
		mov	word_11A54, ax
		mov	cx, 28h	; '('
		sub	cx, ax
		shl	cx, 1
		mov	bx, [bp+arg_0]
		mov	bp, cx
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing

loc_E3C4:
		mov	cx, word_11A54

loc_E3C8:
		mov	al, 1
		out	0A6h, al	; Interrupt Controller #2, 8259A
		mov	dx, es:[di]
		xor	ax, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A
		mov	ax, dx
		stosw
		loop	loc_E3C8
		add	di, bp
		dec	bx
		jns	short loc_E3C4
		call	egc_off
		pop	di
		pop	bp
		retf	8
sub_E378	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E3E8	proc near
		push	es
		push	0
		pop	es
		pushf
		cli
		mov	al, 80h	; '€'
		out	7Ch, al
		mov	byte ptr es:[495h], al
		popf
		pop	es
		assume es:nothing
		mov	al, 7
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 5
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 6
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	dx, 4A0h
		mov	ax, 0FFF0h
		out	dx, ax
		mov	dx, 4A2h
		mov	ax, 0FFh
		out	dx, ax
		mov	dx, 4A8h
		mov	ax, 0FFFFh
		out	dx, ax
		mov	dx, 4ACh
		sub	ax, ax
		out	dx, ax
		mov	dx, 4AEh
		mov	ax, 0Fh
		out	dx, ax
		retn
sub_E3E8	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E428	proc far
		push	si
		push	di
		cmp	word_FD82, 0
		jnz	short loc_E45D
		push	7D00h
		call	hmem_allocbyte
		mov	word_FD82, ax
		push	7D00h
		call	hmem_allocbyte
		mov	word_FD84, ax
		push	7D00h
		call	hmem_allocbyte
		mov	word_FD86, ax
		push	7D00h
		call	hmem_allocbyte
		mov	word_FD88, ax

loc_E45D:
		mov	dl, 4
		push	ds
		push	0E000h
		push	word_FD88
		push	0B800h
		push	word_FD86
		push	0B000h
		push	word_FD84
		push	0A800h
		push	word_FD82

loc_E47C:
		pop	es
		pop	ds
		xor	si, si
		xor	di, di
		mov	cx, 1F40h
		rep movsd
		dec	dl
		jnz	short loc_E47C
		pop	ds
		pop	di
		pop	si
		retf
sub_E428	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_E490	proc far
		push	si
		push	di
		mov	dl, 4
		push	ds
		push	0E000h
		push	word_FD88
		push	0B800h
		push	word_FD86
		push	0B000h
		push	word_FD84
		push	0A800h
		push	word_FD82

loc_E4B1:
		pop	ds
		pop	es
		xor	si, si
		xor	di, di
		mov	cx, 1F40h
		rep movsd
		dec	dl
		jnz	short loc_E4B1
		pop	ds
		pop	di
		pop	si
		retf
sub_E490	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E4C6	proc far
					; sub_C3B7+1A9P
		cmp	word_FD82, 0
		jz	short locret_E4F7
		push	word_FD82
		call	hmem_free
		push	word_FD84
		call	hmem_free
		push	word_FD86
		call	hmem_free
		push	word_FD88
		call	hmem_free
		mov	word_FD82, 0

locret_E4F7:
		retf
sub_E4C6	endp

; ---------------------------------------------------------------------------

loc_E4F8:
		push	bp
		mov	bp, sp
		push	di
		push	si
		push	ds
		cld
		mov	ax, [bp+0Ch]
		mov	dx, [bp+0Ah]
		mov	bx, ax
		sar	bx, 4
		shl	bx, 1
		shl	dx, 6
		add	bx, dx
		shr	dx, 2
		add	bx, dx
		mov	cs:word_E55E, bx
		and	ax, 0Fh
		mov	cx, ax
		add	ax, [bp+8]
		shr	ax, 4
		or	cx, cx
		jz	short loc_E52B
		inc	ax

loc_E52B:
		mov	cs:word_E563, ax
		jmp	short $+2
		mov	cx, 28h	; '('
		sub	cx, ax
		shl	cx, 1
		mov	ax, [bp+6]
		mov	bp, cx
		push	0E000h
		push	word_FD88
		push	0B800h
		push	word_FD86
		push	0B000h
		push	word_FD84
		push	0A800h
		push	word_FD82
		mov	dl, 4
		mov	bx, ax
; ---------------------------------------------------------------------------
		db 0BFh
word_E55E	dw 1234h
		db 1Fh,	7, 0B9h
word_E563	dw 1234h
		db 8Bh,	0F7h, 0F3h, 0A5h, 3, 0FDh, 4Bh,	79h, 0F4h, 0FEh
		db 0CAh, 75h, 0E9h, 1Fh, 5Eh, 5Fh, 5Dh,	0CAh, 8, 0, 90h
		db 0C6h, 6, 4Ah, 0Ah, 1, 90h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+0Ch]
		push	di
		nop
		push	cs
		call	near ptr sub_E69A
		shl	di, 4
		add	di, 2716h
		push	large dword ptr	[bp+8]
		call	sub_A7A
		push	ds
		push	di
		push	10h
		call	sub_9C6
		mov	ax, [di]
		mov	dx, ax
		cmp	byte ptr [di+0Bh], 0
		jz	short loc_E5BC
		shl	ax, 2
		cmp	byte ptr [di+0Bh], 2
		jz	short loc_E5BC
		add	ax, dx

loc_E5BC:
		mul	word ptr [bp+6]
		movzx	eax, ax
		push	eax
		push	1
		call	sub_AB6
		call	sub_E5E0
		call	sub_95A
		mov	byte_FD8A, 0
		pop	di
		pop	si
		pop	bp
		retf	8
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E5E0	proc near
		mov	al, [di+0Bh]
		or	al, al
		jz	short loc_E615
		cmp	al, 2
		jz	short loc_E5F2
		cmp	byte_FD8A, 0
		jnz	short loc_E608

loc_E5F2:
		push	word ptr [di]
		call	hmem_allocbyte
		mov	[di+0Ch], ax
		push	ax
		push	0
		push	word ptr [di]
		call	sub_9C6
		jmp	short loc_E615
; ---------------------------------------------------------------------------

loc_E608:
		movzx	eax, word ptr [di]
		push	eax
		push	1
		call	sub_AB6

loc_E615:
		cmp	byte ptr [di+0Bh], 2
		jz	short locret_E637
		mov	ax, [di]
		shl	ax, 2
		push	ax
		call	hmem_allocbyte
		mov	[di+0Eh], ax
		push	ax
		push	0
		mov	ax, [di]
		shl	ax, 2
		push	ax
		call	sub_9C6

locret_E637:
		retn
sub_E5E0	endp


; =============== S U B	R O U T	I N E =======================================


sub_E638	proc near
		mov	byte_FD8A, 1
		nop
sub_E638	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E63E	proc far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	large [bp+arg_0]
		call	sub_A7A
		mov	di, [bp+arg_4]
		shl	di, 4
		add	di, 2716h
		push	ds
		push	di
		push	10h
		call	sub_9C6
		mov	si, di
		mov	bp, [bp+arg_4]
		mov	al, [si+0Ah]
		mov	byte_11E56, al
		push	ds
		pop	es
		assume es:dseg

loc_E66C:
		push	bp
		push	cs
		call	near ptr sub_E69A
		mov	cx, 3
		rep movsd
		sub	si, 0Ch
		sub	di, 0Ch
		call	sub_E5E0
		inc	bp
		add	di, 10h
		dec	byte_11E56
		jnz	short loc_E66C
		call	sub_95A
		mov	byte_FD8A, 0
		pop	di
		pop	si
		pop	bp
		retf	6
sub_E63E	endp


; =============== S U B	R O U T	I N E =======================================


sub_E69A	proc far
		mov	bx, sp
		push	di
		mov	di, ss:[bx+4]
		shl	di, 4
		add	di, 2722h
		cmp	word ptr [di], 0
		jz	short loc_E6B8
		push	word ptr [di]
		call	hmem_free
		mov	word ptr [di], 0

loc_E6B8:
		add	di, 2
		cmp	word ptr [di], 0
		jz	short loc_E6CB
		push	word ptr [di]
		call	hmem_free
		mov	word ptr [di], 0

loc_E6CB:
		pop	di
		retf	2
sub_E69A	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E6D0	proc far
		push	si
		mov	si, 3Fh	; '?'

loc_E6D4:
		push	si
		push	cs
		call	near ptr sub_E69A
		dec	si
		jge	short loc_E6D4
		pop	si
		retf
sub_E6D0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E6DE	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	vsync_Count1, 0

loc_E6E7:
		mov	ax, vsync_Count1
		cmp	ax, [bp+arg_0]
		jb	short loc_E6E7
		pop	bp
		retf	2
sub_E6DE	endp

seg002		ends

; ===========================================================================

; Segment type:	Pure code
seg003		segment	byte public 'CODE' use16
		assume cs:seg003
		;org 3
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::string(string	const &)
@string@$bctr$qmx6string proc far
					; xmsg::xmsg(xmsg &)+56P ...

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A045h
		call	___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_E722
		mov	ax, 4
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_E73C

loc_E722:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, es:[bx]
		inc	word ptr es:[bx]

loc_E73C:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bctr$qmx6string endp

; ---------------------------------------------------------------------------
byte_E762	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 4Bh,	0A0h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0B4h, 0
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0), 4, 0, 3, 0,	26h, 0,	2 dup(0FFh)
		db 3, 0, 2Ch, 0, 30h, 0Dh dup(0), 1, 0,	1, 0, 52h, 67h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far string__string(__int32, char *s)
@string@$bctr$qnxc proc	far
					; string::assert_element(uint)+5Ap ...

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
src		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A0B7h
		call	___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_E80B
		mov	ax, 4
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_E87F

loc_E80B:
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jz	short loc_E86F
		mov	[bp+var_16], 0Eh
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, word ptr [bp+src]
		or	ax, word ptr [bp+src+2]
		jz	short loc_E841
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; s
		call	_strlen
		pop	cx
		pop	cx
		jmp	short loc_E843
; ---------------------------------------------------------------------------

loc_E841:
		xor	ax, ax

loc_E843:
		push	ax		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		nop
		push	cs
		call	near ptr @TStringRef@$bctr$qnxcuit1uiui	; TStringRef::TStringRef(char *,uint,char *,uint,uint)
		add	sp, 12h
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_E86F:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_E87F:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		call	___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bctr$qnxc endp

; ---------------------------------------------------------------------------
		db 4, 0, 90h, 20h, 0Ah,	0, 94h,	2
		dw seg seg003
aTstringref	db 'TStringRef *',0
byte_E8BC	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 0CDh, 0A0h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLengther	db 'string::lengtherror',0
		dd byte_E94C
		dw 0
		db 3, 0Dh dup(0)
byte_E90A	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 1Ah,	0A1h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 5Ch,	2
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0)
byte_E94C	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 52h,	67h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 0Ch, 0
		db 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 32h, 0, 3Eh, 0Dh dup(0)
		db 1, 0, 1, 0, 0ABh, 6
		dw seg seg003
		db 5, 0, 42h, 0, 54h, 53h, 74h,	72h, 69h, 6Eh, 67h, 52h
		db 65h,	66h, 2 dup(0), 0DAh, 2
		dw seg seg003
		dw 0
		db 3, 0Dh dup(0), 2, 0,	3, 0, 1Ah, 0, 2	dup(0FFh), 1, 0
		db 26h,	0, 2Ah,	0Dh dup(0), 54h, 52h, 65h, 66h,	65h, 72h
		db 65h,	6Eh, 63h, 65h, 0Ah dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far string___string(void (*driver)(void), char)
@string@$bdtr$qv proc far
					; xmsg::~xmsg(void)+3FP ...

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A170h
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_EA70
		les	bx, [bp+driver]
		les	bx, es:[bx]
		dec	word ptr es:[bx]
		mov	ax, es:[bx]
		or	ax, ax
		jnz	short loc_EA5D
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+driver]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		nop
		push	cs
		call	near ptr sub_ED9B
		add	sp, 6

loc_EA5D:
		test	[bp+arg_4], 1
		jz	short loc_EA70
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	_registerbgidriver
		pop	cx
		pop	cx

loc_EA70:
					; string::~string(void)+69j
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bdtr$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::assert_element(unsigned int)const
@string@assert_element$xqui proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A1A4h
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jbe	short loc_EAAB
		mov	ax, 1
		jmp	short loc_EAAD
; ---------------------------------------------------------------------------

loc_EAAB:
		xor	ax, ax

loc_EAAD:
		or	ax, ax
		jnz	short loc_EB2E
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 0A296h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 19BCh
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFDh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_EB2E:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@assert_element$xqui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::assert_index(unsigned	int)const
@string@assert_index$xqui proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A1E8h
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jb	short loc_EB69
		mov	ax, 1
		jmp	short loc_EB6B
; ---------------------------------------------------------------------------

loc_EB69:
		xor	ax, ax

loc_EB6B:
		or	ax, ax
		jnz	short loc_EBEC
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 0A296h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 19DAh
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFDh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_EBEC:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@assert_index$xqui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; TSubString::assert_element(unsigned int)const
@TSubString@assert_element$xqui	proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A22Ch
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jbe	short loc_EC24
		mov	ax, 1
		jmp	short loc_EC26
; ---------------------------------------------------------------------------

loc_EC24:
		xor	ax, ax

loc_EC26:
		or	ax, ax
		jnz	short loc_ECA7
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 0A296h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 19F8h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFDh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_ECA7:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@TSubString@assert_element$xqui	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far TStringRef__TStringRef(__int32, void *src, size_t n, int, int, int,	int)
@TStringRef@$bctr$qnxcuit1uiui proc far

arg_0		= dword	ptr  6
src		= dword	ptr  0Ah
n		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_ECD9
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jnz	short loc_ECD9
		jmp	loc_ED7F
; ---------------------------------------------------------------------------

loc_ECD9:
					; TStringRef::TStringRef(char *,uint,char *,uint,uint)+1Fj
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 1
		mov	word ptr es:[bx+0Ah], 0
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		mov	es:[bx+6], ax
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_10]
		push	ax
		nop
		push	cs
		call	near ptr sub_EF33
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		call	_malloc
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_ED33
		push	ds
		mov	ax, 1712h
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_ED33:
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2] ; dest
		call	_memcpy
		push	[bp+arg_E]	; n
		push	[bp+arg_C]
		push	[bp+arg_A]	; src
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		add	ax, [bp+n]
		push	word ptr es:[bx+4]
		push	ax		; dest
		call	_memcpy
		add	sp, 14h
		les	bx, [bp+arg_0]
		les	bx, es:[bx+2]
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		add	bx, ax
		mov	byte ptr es:[bx], 0

loc_ED7F:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@TStringRef@$bctr$qnxcuit1uiui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far sub_ED9B(void (*driver)(void), char)
sub_ED9B	proc far

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::~TStringRef(void)
@TStringRef@$bdtr$qv:
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A246h
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_EDED
		les	bx, [bp+driver]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_farfree
		pop	cx
		pop	cx
		test	[bp+arg_4], 1
		jz	short loc_EDED
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	_registerbgidriver
		pop	cx
		pop	cx

loc_EDED:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_ED9B	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::reserve(unsigned int)
@TStringRef@reserve$qui:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A258h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		or	word ptr es:[bx+0Ah], 1
		mov	ax, [bp+0Ah]
		inc	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_EF33
		pop	cx
		mov	[bp-20h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-20h]
		cmp	ax, word_10CFA
		jbe	short loc_EE5B
		mov	ax, [bp-20h]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp-20h]
		mov	es:[bx+8], ax

loc_EE5B:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::check_freeboard(void)
@TStringRef@check_freeboard$qv:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A262h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		push	word ptr es:[bx+6]
		nop
		push	cs
		call	near ptr sub_EF33
		pop	cx
		mov	[bp-20h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-20h]
		cmp	ax, word_10CFA
		jbe	short loc_EEC3
		mov	ax, [bp-20h]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp-20h]
		mov	es:[bx+8], ax

loc_EEC3:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_EED1	proc far

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::grow_to(unsigned int)
@TStringRef@grow_to$qui:
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A274h
		call	___InitExceptBlocks
		les	bx, [bp+arg_0]
		mov	ax, [bp+arg_4]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_EF25
		push	ds
		mov	ax, 1712h
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_EF25:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_EED1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_EF33	proc far
					; seg003:072Dp	...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; TStringRef::round_capacity(unsigned int)
@TStringRef@round_capacity$qui:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A27Eh
		call	___InitExceptBlocks
		mov	ax, word_10CF6
		mov	[bp+var_20], ax
		mov	cx, word_10CF8
		mov	ax, [bp+arg_0]
		sub	ax, [bp+var_20]
		add	ax, cx
		dec	ax
		xor	dx, dx
		div	cx
		imul	cx
		add	ax, [bp+var_20]
		push	ax
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_EF33	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::splice(unsigned int, unsigned int, char const *, unsigned	int)
@TStringRef@splice$quiuinxcui:
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 0A290h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		add	ax, [bp+12h]
		sub	ax, [bp+0Ch]
		mov	[bp-24h], ax
		push	ax
		push	cs
		call	near ptr sub_EF33
		pop	cx
		mov	[bp-26h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		cmp	ax, [bp-26h]
		jnb	short loc_EFBA
		push	word ptr [bp-26h]
		push	word ptr [bp+8]
		push	bx
		push	cs
		call	near ptr sub_EED1
		add	sp, 6
		jmp	short loc_F029
; ---------------------------------------------------------------------------

loc_EFBA:
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-26h]
		cmp	ax, word_10CFA
		jbe	short loc_F029
		test	byte ptr es:[bx+0Ah], 1
		jnz	short loc_F029
		mov	ax, [bp-26h]
		inc	ax
		push	ax
		call	_malloc
		pop	cx
		mov	[bp-20h], dx
		mov	[bp-22h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_EFFB
		push	ds
		mov	ax, 1712h
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_EFFB:
		cmp	word ptr [bp+0Ah], 0
		jz	short loc_F01D
		push	word ptr [bp+0Ah]
		les	bx, [bp+6]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		push	word ptr [bp-20h]
		push	word ptr [bp-22h]
		call	_memcpy
		add	sp, 0Ah

loc_F01D:
		les	bx, [bp+6]
		mov	ax, [bp-26h]
		mov	es:[bx+8], ax
		jmp	short loc_F03A
; ---------------------------------------------------------------------------

loc_F029:
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	[bp-20h], dx
		mov	[bp-22h], ax

loc_F03A:
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, [bp-20h]
		jnz	short loc_F057
		cmp	ax, [bp-22h]
		jnz	short loc_F057
		mov	ax, [bp+12h]
		cmp	ax, [bp+0Ch]
		jz	short loc_F089

loc_F057:
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		sub	ax, [bp+0Ah]
		sub	ax, [bp+0Ch]
		push	ax
		mov	ax, es:[bx+2]
		add	ax, [bp+0Ah]
		add	ax, [bp+0Ch]
		push	word ptr es:[bx+4]
		push	ax
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		add	ax, [bp+12h]
		push	word ptr [bp-20h]
		push	ax
		call	_memmove
		add	sp, 0Ah

loc_F089:
		cmp	word ptr [bp+12h], 0
		jz	short loc_F0CD
		mov	ax, [bp+0Eh]
		or	ax, [bp+10h]
		jz	short loc_F0B4
		push	word ptr [bp+12h]
		push	word ptr [bp+10h]
		push	word ptr [bp+0Eh]
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		push	word ptr [bp-20h]
		push	ax
		call	_memmove
		add	sp, 0Ah
		jmp	short loc_F0CD
; ---------------------------------------------------------------------------

loc_F0B4:
		push	word ptr [bp+12h]
		mov	ax, 20h	; ' '
		push	ax
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		push	word ptr [bp-20h]
		push	ax
		call	_memset
		add	sp, 8

loc_F0CD:
		les	bx, [bp+6]
		mov	ax, [bp-24h]
		mov	es:[bx+6], ax
		push	es
		les	ax, [bp-22h]
		mov	dx, es
		pop	es
		add	ax, es:[bx+6]
		mov	bx, ax
		mov	es, dx
		mov	byte ptr es:[bx], 0
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, [bp-20h]
		jnz	short loc_F0FF
		cmp	ax, [bp-22h]
		jz	short loc_F122

loc_F0FF:
		les	bx, [bp+6]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_farfree
		pop	cx
		pop	cx
		les	bx, [bp+6]
		mov	dx, [bp-20h]
		mov	ax, [bp-22h]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax

loc_F122:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::set_case_sensitive(int)
@string@set_case_sensitive$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_10CF0
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_10CF0, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::set_paranoid_check(int)
@string@set_paranoid_check$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_10CF2
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_10CF2, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::skip_whitespace(int)
@string@skip_whitespace$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_10CF4
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_10CF4, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::initial_capacity(unsigned int)
@string@initial_capacity$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_10CF6
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_10CF6, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::resize_increment(unsigned int)
@string@resize_increment$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_10CF8
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_10CF8, ax
		cmp	word_10CF8, 0
		jnz	short loc_F1C5
		mov	word_10CF8, 1

loc_F1C5:
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::max_waste(unsigned int)
@string@max_waste$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_10CFA
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_10CFA, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
byte_F1EB	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 0CBh, 0A2h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLength_0	db 'string::lengtherror',0
		dd byte_F27B
		db 2 dup(0), 3,	0Dh dup(0), 6, 0, 3, 0,	26h, 0,	2 dup(0FFh)
		db 7, 0, 2Eh, 0, 3Ah, 0Dh dup(0), 2, 0,	2, 0, 18h, 0A3h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 8Bh,	0Bh
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0)
byte_F27B	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 52h,	67h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 4, 0
		db 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h, 0Dh dup(0)
		db 1, 0, 1, 0, 8, 3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_F2ED	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 65h,	0A3h
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringOutofran	db 'string::outofrange',0
		db 0, 8Bh, 0Bh
		dw seg seg003
		db 2 dup(0), 3,	12h dup(0)
seg003		ends

; ===========================================================================

; Segment type:	Pure data
dseg		segment	para public 'DATA' use16
		assume cs:dseg

include libs/BorlandC/c0[data].asm

		db    0
unk_F3D1	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_F3DB	db 0
byte_F3DC	db 0
					; sub_AE96+19Cw ...
byte_F3DD	db 1
		dd aGqbGav		; "ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·"
		dd aGgglgxgggigxge	; "ƒGƒLƒXƒgƒ‰ƒXƒe[ƒW‚ðŠJŽn‚µ‚Ü‚·"
		dd aMNVGngcgxgrgav	; "Œ»Ý‚ÌƒnƒCƒXƒRƒA‚ð•\\Ž¦‚µ‚Ü‚·"
		dd aIKyoVU		; "‰¹ŠyŽº‚É“ü‚è‚Ü‚·"
		dd aKeoarTsv		; "ŠeŽíÝ’è‚ð•ÏXo—ˆ‚Ü‚·"
		dd aVcvnvrvCVsvV	; "‚c‚n‚r‚É–ß‚è‚Ü‚·"
		dd aUqiUxv		; "“ïˆÕ“x‚ð‚â‚³‚µ‚­‚µ‚Ü‚·@i‰SŽÒŒü‚¯A‚"...
		dd aUqiUxv_1		; "“ïˆÕ“x‚ð•W€‚É‚µ‚Ü‚·@@@iˆê”ÊŒü‚¯A‘"...
		dd aUqiUxv_0		; "“ïˆÕ“x‚ð“ï‚µ‚­‚µ‚Ü‚·@@@iƒA[ƒP[ƒ_"...
		dd aUqiUxv_2		; "“ïˆÕ“x‚ð”ñí‚É“ï‚µ‚­‚µ‚Ü‚·@iƒVƒ…[ƒ^"...
		dd aGqbGagxgBGgouv	; "ƒQ[ƒ€ƒXƒ^[ƒgŽž‚Ìl”‚ð•ÏXo—ˆ‚Ü‚·i"...
		dd aGGavOgcpi		; "ƒ{ƒ€‚ÌŽg—p‰ñ”‚ð•ÏXo—ˆ‚Ü‚·iœ‚­ƒGƒLƒ"...
		dd aVavfvlvCmvVVV	; "‚a‚f‚l‚Í—¬‚ê‚Ü‚¹‚ñ"
		dd aVavfvlvVqvuvji	; "‚a‚f‚l‚É‚Q‚U‚j‰¹Œ¹ŒÝŠ·‚ðŽg—p‚µ‚Ü‚·"
		dd aVavfvlvVwvuiMM	; "‚a‚f‚l‚É‚W‚U‰¹Œ¹ŒÝŠ·‚ðŽg—p‚µ‚Ü‚·"
		dd aM_0			; "Œø‰Ê‰¹‚Í—¬‚ê‚Ü‚¹‚ñ"
		dd aM_2			; "Œø‰Ê‰¹‚É‚e‚l‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·"
		dd aM_1			; "Œø‰Ê‰¹‚É‚a‚…‚…‚‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·"
		dd aUgtevSVvpPkvBa	; "“G’e‚Ì‘½‚¢êŠ‚ÅA‚í‚´‚Æˆ——Ž‚¿iƒXƒ"...
		dd aPicacovV		; "ˆ——Ž‚¿‚ðƒ}ƒVƒ“‚ÌƒXƒs[ƒh‚É”C‚¹‚Ü‚·i•"...
		dd aVVGigvgvgzguv	; "‚±‚ÌƒIƒvƒVƒ‡ƒ“‚ð‘S‚Ä•W€‚É–ß‚µ‚Ü‚·"
		dd aGigvgvgzguv		; "ƒIƒvƒVƒ‡ƒ“‚ðI—¹‚µ‚Ü‚·"
		dd aGqbGav_0		; "ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒC[ƒW[j"
		dd aGqbGav_1		; "ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒm[ƒ}ƒ‹j"
		dd aGqbGav_2		; "ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒn[ƒhj"
		dd aGqbGav_3		; "ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒ‹ƒiƒeƒBƒbƒNj"
byte_F446	db 0
byte_F447	db 0
aMiko_cfg	db 'MIKO.CFG',0
; char aMain[]
aMain		db 'main',0
; char path[]
path		db 'deb',0
aGqbGav		db 'ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·',0
aGgglgxgggigxge	db 'ƒGƒLƒXƒgƒ‰ƒXƒe[ƒW‚ðŠJŽn‚µ‚Ü‚·',0
aMNVGngcgxgrgav	db 'Œ»Ý‚ÌƒnƒCƒXƒRƒA‚ð•\Ž¦‚µ‚Ü‚·',0
aIKyoVU		db '‰¹ŠyŽº‚É“ü‚è‚Ü‚·',0
aKeoarTsv	db 'ŠeŽíÝ’è‚ð•ÏXo—ˆ‚Ü‚·',0
aVcvnvrvCVsvV	db '‚c‚n‚r‚É–ß‚è‚Ü‚·',0
aUqiUxv		db '“ïˆÕ“x‚ð‚â‚³‚µ‚­‚µ‚Ü‚·@i‰SŽÒŒü‚¯A‚T–ÊƒGƒ“ƒhj',0
aUqiUxv_1	db '“ïˆÕ“x‚ð•W€‚É‚µ‚Ü‚·@@@iˆê”ÊŒü‚¯A‘S‚U–Êj@@',0
aUqiUxv_0	db '“ïˆÕ“x‚ð“ï‚µ‚­‚µ‚Ü‚·@@@iƒA[ƒP[ƒ_[Œü‚¯j@@',0
aUqiUxv_2	db '“ïˆÕ“x‚ð”ñí‚É“ï‚µ‚­‚µ‚Ü‚·@iƒVƒ…[ƒ^[Œü‚¯j@@',0
aGqbGagxgBGgouv	db 'ƒQ[ƒ€ƒXƒ^[ƒgŽž‚Ìl”‚ð•ÏXo—ˆ‚Ü‚·iœ‚­ƒGƒLƒXƒgƒ‰j',0
aGGavOgcpi	db 'ƒ{ƒ€‚ÌŽg—p‰ñ”‚ð•ÏXo—ˆ‚Ü‚·iœ‚­ƒGƒLƒXƒgƒ‰j',0
aVavfvlvCmvVVV	db '‚a‚f‚l‚Í—¬‚ê‚Ü‚¹‚ñ',0
aVavfvlvVqvuvji	db '‚a‚f‚l‚É‚Q‚U‚j‰¹Œ¹ŒÝŠ·‚ðŽg—p‚µ‚Ü‚·',0
aVavfvlvVwvuiMM	db '‚a‚f‚l‚É‚W‚U‰¹Œ¹ŒÝŠ·‚ðŽg—p‚µ‚Ü‚·',0
aM_0		db 'Œø‰Ê‰¹‚Í—¬‚ê‚Ü‚¹‚ñ',0
aM_2		db 'Œø‰Ê‰¹‚É‚e‚l‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·',0
aM_1		db 'Œø‰Ê‰¹‚É‚a‚…‚…‚‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·',0
aUgtevSVvpPkvBa	db '“G’e‚Ì‘½‚¢êŠ‚ÅA‚í‚´‚Æˆ——Ž‚¿iƒXƒ[j‚³‚¹‚Ü‚·i‰SŽÒ—pj',0
aPicacovV	db 'ˆ——Ž‚¿‚ðƒ}ƒVƒ“‚ÌƒXƒs[ƒh‚É”C‚¹‚Ü‚·i•W€j',0
aVVGigvgvgzguv	db '‚±‚ÌƒIƒvƒVƒ‡ƒ“‚ð‘S‚Ä•W€‚É–ß‚µ‚Ü‚·',0
aGigvgvgzguv	db 'ƒIƒvƒVƒ‡ƒ“‚ðI—¹‚µ‚Ü‚·',0
aGqbGav_0	db 'ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒC[ƒW[j',0
aGqbGav_1	db 'ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒm[ƒ}ƒ‹j',0
aGqbGav_2	db 'ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒn[ƒhj',0
aGqbGav_3	db 'ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒ‹ƒiƒeƒBƒbƒNj',0
aOp1_pi		db 'op1.pi',0
					; sub_AE96+130o
aOp		db 'op',0
					; sub_B052+1B6o ...
aMSzlEd_dat	db 'Œ¶‘z‹½ed.dat',0
asc_F7F7	db 0Ah
		db '‹ó‚«ƒƒ‚ƒŠ•s‘«‚Å‚·Bƒƒ‚ƒŠ‹ó‚«‚ð‘‚â‚µ‚Ä‚©‚çŽÀs‚µ‚Ä‚Ë',0Ah,0
aGameft_bft	db 'GAMEFT.bft',0
aMiko		db 'miko',0
include libs/master.lib/atrtcmod[data].asm
include libs/master.lib/bfnt_id[data].asm
include libs/master.lib/clip[data].asm
include libs/master.lib/edges[data].asm
word_F880	dw 0
word_F882	dw 0FFFFh
include libs/master.lib/dos_ropen[data].asm
include libs/master.lib/get_machine_98[data].asm
include libs/master.lib/get_machine_at[data].asm
word_F8A6	dw 0
		db  10h
		db    0
		db  10h
		db    0
		db    0
		db    0
		db 0FFh
		db    0
include libs/master.lib/grp[data].asm
		db    0
word_F8BC	dw 0
					; sub_E1E4+F0r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
include libs/master.lib/machine[data].asm
include libs/master.lib/pal[data].asm
include libs/master.lib/pf[data].asm
		db    0
word_F904	dw 1
word_F906	dw 0
include libs/master.lib/sin8[data].asm
include libs/master.lib/tx[data].asm
include libs/master.lib/vs[data].asm
include libs/master.lib/wordmask[data].asm
include libs/master.lib/mem[data].asm
include libs/master.lib/super_entry_bfnt[data].asm
include libs/master.lib/superpa[data].asm
aPal98Grb	db 'pal98 grb',0
		dw 0FFFFh
a_exe		db '.exe',0
		db    0
include libs/master.lib/bgm_timerhook[data].asm
include libs/master.lib/bgm[data].asm
		db 0
		db    0
		db  20h
		db  10h
		db    2
		db  12h
		db  12h
		db  40h	; @
		db  10h
		db  11h
		db    2
		db  12h
		db  20h
		db  20h
		db  20h
		db  20h
		db    0
		db    0
		db    0
		db  24h	; $
		db  10h
		db    4
		db  10h
		db    8
		db  30h	; 0
		db  50h	; P
		db  11h
		db    4
		db  0Bh
		db  50h	; P
		db  50h	; P
		db  50h	; P
		db  20h
		db    0
byte_FD20	db 0
					; sub_DCE4:loc_DD30w ...
byte_FD21	db 0
byte_FD22	db 0
		db    0
		dd aM26			; "m26"
		dd aM26			; "m26"
		dd aM86			; "m86"
		dd aMmd			; "mmd"
aM26		db 'm26',0
aM86		db 'm86',0
aMmd		db 'mmd',0
		db  71h	; q
		db    0
		db  6Bh	; k
		db    0
		db  78h	; x
		db    0
		db  72h	; r
		db    0
		db  89h	; ‰
		db    0
		db  1Fh
		db    0
		db  19h
		db    0
		db  26h	; &
		db    0
		db  20h
		db    0
		db  37h	; 7
		db    0
		db  1Ch
		db  0Ah
		db  24h	; $
		db  0Ah
		db  2Ch	; ,
		db  0Ah
		db  34h	; 4
		db  0Ah
		db  88h	; ˆ
		db  88h	; ˆ
		db    0
		db    0
		db  22h	; "
		db  22h	; "
		db    0
		db    0
		db  88h	; ˆ
		db  88h	; ˆ
		db  44h	; D
		db  44h	; D
		db  22h	; "
		db  22h	; "
		db  11h
		db  11h
		db 0AAh	; ª
		db 0AAh	; ª
		db  44h	; D
		db  44h	; D
		db 0AAh	; ª
		db 0AAh	; ª
		db  11h
		db  11h
		db 0AAh	; ª
		db 0AAh	; ª
		db  55h	; U
		db  55h	; U
		db 0AAh	; ª
		db 0AAh	; ª
		db  55h	; U
		db  55h	; U
word_FD7C	dw 2
					; sub_ABD7+204w ...
word_FD7E	dw 10h
byte_FD80	db 0FFh
byte_FD81	db 0
word_FD82	dw 0
word_FD84	dw 0
word_FD86	dw 0
word_FD88	dw 0
byte_FD8A	db 0
		db    0
		dd aGxgegmgivevliM	; "ƒXƒeƒŒƒI‚e‚l‰¹Œ¹FPC-9801-86(ŒÝŠ·)ƒ{[ƒ"...
		dd aB@b@b@b@b@b@b@	; "@@@@@@@@@CanBe“à‘ ‰¹Œ¹‚È‚ÇA  "...
		dd aB@b@b@b@b@b@_0	; "@@@@@@@‚e‚l‚U‰¹{‚r‚r‚f‚R‰¹{ƒŠƒ"...
		dd aB@xwpavevliMBf	; "@•W€‚e‚l‰¹Œ¹F  PC-9801-26K(ŒÝŠ·)ƒ{["...
		dd aPc9801dausvUrs	; "		     PC-9801DA“™‚É“à‘ ‚Ì‰¹"...
		dd aB@b@b@b@b@b@_1	; "@@@@@@@@@‚e‚l‚R‰¹{‚r‚r‚f‚R‰¹ "...
		dd aB@b@iKycVBfb@b	; "@@‰¹Šy–³‚µF@@‚e‚l‰¹Œ¹‚ª–³‚¢ê‡	  "...
		dd asc_FF1D		; "					  "...
		dd aVVibavVVcvRTsv	; "‚È‚¨A‚±‚ê‚ç‚ÌÝ’è‚Í‚n‚‚”‚‰‚‚Ž‚Å•ÏX‰"...
		dd aB@vevliMB@bfm	; "@‚e‚l‰¹Œ¹@FŒø‰Ê‰¹‚É‚e‚l‰¹Œ¹‚ðŽg—p‚µ‚"...
		dd aB@b@b@b@b@b@_2	; "@@@@@@@‚a‚f‚l‚ªƒXƒeƒŒƒI‚e‚l‰¹Œ¹Ž"...
		dd aB@B@B@b@bixwpa	; "@ @ @@i•W€‚e‚l‰¹Œ¹‚Å‚ÍA3ch‚ðŽg—p"...
		dd aB@B@b@b@b@VVBa	; "@ @@@@ ‚Ì‚ÅA‚a‚f‚l‚ª³í‚É‚«‚¯‚È‚"...
		dd aVavevevriMBfm	; "‚a‚…‚…‚‰¹Œ¹FŒø‰Ê‰¹‚É‚a‚…‚…‚‰¹Œ¹‚ðŽg—"...
		dd aVevliMVkcVvpNz	; "		 ‚e‚l‰¹Œ¹‚ª–³‚¢ê‡Žg—p‚µ‚"...
		dd aM			; " Œø‰Ê‰¹–³‚µ F‰½‚ç‚©‚ÌŽ–î‚ÅŒø‰Ê‰¹‚ð–Â‚"...
		dd aB@b@b@b@b@b@_3	; "@@@@@@@–³‚¢ê‡		  "...
		dd aVVibavVVcvRTsv	; "‚È‚¨A‚±‚ê‚ç‚ÌÝ’è‚Í‚n‚‚”‚‰‚‚Ž‚Å•ÏX‰"...
aGxgegmgivevliM	db 'ƒXƒeƒŒƒI‚e‚l‰¹Œ¹FPC-9801-86(ŒÝŠ·)ƒ{[ƒh@@@',0
aB@b@b@b@b@b@b@	db '@@@@@@@@@CanBe“à‘ ‰¹Œ¹‚È‚ÇA         ',0
aB@b@b@b@b@b@_0	db '@@@@@@@‚e‚l‚U‰¹{‚r‚r‚f‚R‰¹{ƒŠƒYƒ€‰¹Œ¹',0
aB@xwpavevliMBf	db '@•W€‚e‚l‰¹Œ¹F  PC-9801-26K(ŒÝŠ·)ƒ{[ƒh     ',0
aPc9801dausvUrs	db '                  PC-9801DA“™‚É“à‘ ‚Ì‰¹Œ¹‚È‚Ç ',0
aB@b@b@b@b@b@_1	db '@@@@@@@@@‚e‚l‚R‰¹{‚r‚r‚f‚R‰¹        ',0
aB@b@iKycVBfb@b	db '@@‰¹Šy–³‚µF@@‚e‚l‰¹Œ¹‚ª–³‚¢ê‡          ',0
asc_FF1D	db '                                              ',0
aVVibavVVcvRTsv	db '‚È‚¨A‚±‚ê‚ç‚ÌÝ’è‚Í‚n‚‚”‚‰‚‚Ž‚Å•ÏX‰Â”\‚Å‚·',0
aB@vevliMB@bfm	db '@‚e‚l‰¹Œ¹@FŒø‰Ê‰¹‚É‚e‚l‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·@@',0
aB@b@b@b@b@b@_2	db '@@@@@@@‚a‚f‚l‚ªƒXƒeƒŒƒI‚e‚l‰¹Œ¹Žž„§@',0
aB@B@B@b@bixwpa	db '@ @ @@i•W€‚e‚l‰¹Œ¹‚Å‚ÍA3ch‚ðŽg—p‚µ‚Ü‚· ',0
aB@B@b@b@b@VVBa	db '@ @@@@ ‚Ì‚ÅA‚a‚f‚l‚ª³í‚É‚«‚¯‚È‚¢‚©‚àj',0
aVavevevriMBfm	db '‚a‚…‚…‚‰¹Œ¹FŒø‰Ê‰¹‚É‚a‚…‚…‚‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·',0
aVevliMVkcVvpNz	db '              ‚e‚l‰¹Œ¹‚ª–³‚¢ê‡Žg—p‚µ‚Ü‚·@@',0
aM		db ' Œø‰Ê‰¹–³‚µ F‰½‚ç‚©‚ÌŽ–î‚ÅŒø‰Ê‰¹‚ð–Â‚ç‚µ‚½‚­',0
aB@b@b@b@b@b@_3	db '@@@@@@@–³‚¢ê‡                        ',0
aGxgegmgivevl_0	db 'ƒXƒeƒŒƒI‚e‚l‰¹Œ¹',0
aB@xwpavevliMB@	db '@•W€‚e‚l‰¹Œ¹@',0
aB@b@iKycVB@b@	db '@@‰¹Šy–³‚µ@@',0
aB@b@vevliMB@b@	db '@@‚e‚l‰¹Œ¹@@',0
aB@vavevevriMB@	db '@‚a‚…‚…‚‰¹Œ¹@',0
aB@M		db '@ Œø‰Ê‰¹–³‚µ @',0
aB@b@b@b@b@ogcp	db '@@@@@Žg—p‚·‚é‰¹Œ¹‚ð‘I‘ð‚µ‚Ä‰º‚³‚¢‚Ë™',0
aB@b@b@b@m	db '@@@@Œø‰Ê‰¹‚ÉŽg—p‚·‚é‰¹Œ¹‚ð‘I‘ð‚µ‚Ä‚Ë™',0
aMswin_bft	db 'mswin.bft',0
aMs_pi		db 'ms.pi',0
		db    0
aZun00_pi	db 'zun00.pi',0
aLogo		db 'logo',0
aZun02_bft	db 'zun02.bft',0
aZun04_bft	db 'zun04.bft',0
aZun01_bft	db 'zun01.bft',0
aZun03_bft	db 'zun03.bft',0
		dd aNo_1MSzlBLotus	; "No.1	  Œ¶‘z‹½  ` Lotus Land	Story"
		dd aNo_2WitchingDr	; "No.2		Witching Dream	     "
		dd aNo_3SeleneSLig	; "No.3		Selene's light       "
		dd aNo_4Sxp		; "No.4	 ‘•üí@` Decoration Battle"
		dd aNo_5BreakTheSa	; "No.5	       Break the Sabbath     "
		dd aNo_6NglLBScarl	; "No.6	  g‹¿‹È  ` Scarlet Phoneme "
		dd aNo_7BadApple	; "No.7		  Bad Apple!!	     "
		dd aNo_8CRab@bPerd	; "No.8	   —ìí@` Perdition crisis "
		dd aNo_9GagkgxgGgg	; "No.9	       ƒAƒŠƒXƒ}ƒGƒXƒeƒ‰	     "
		dd aNo_10Pnpcuyszl	; "No.10   ­—ãY‘z‹È@` Capriccio  "
		dd aNo_11RpvKab@bC	; "No.11  ¯‚ÌŠí@` Casket of Star  "
		dd aNo_12LotusLove	; "No.12	  Lotus	Love	     "
		dd aNo_13CVVslXBSl	; "No.13 –°‚ê‚é‹°•| `Sleeping Terror"
		dd aNo_14DreamLand	; "No.14	  Dream	Land	     "
		dd aNo_15ChcB@bIna	; "No.15   —H–²@` Inanimate Dream  "
		dd aNo_16LVVVsv		; "No.16     ‹Ö‚¶‚´‚é‚ð‚¦‚È‚¢—V‹Y    "
		dd aNo_17GbgcghmSz	; "No.17 ƒƒCƒhŒ¶‘z@`	Icemilk	Magic"
		dd aNo_18Vivavvvvi	; "No.18  ‚©‚í‚¢‚¢ˆ«–‚@` Innocence "
		dd aNo_19Days		; "No.19	     Days	     "
		dd aNo_20Peaceful	; "No.20	   Peaceful	     "
		dd aNo_21ArcadianD	; "No.21	Arcadian Dream	     "
		dd aNo_22MSzvPzrl	; "No.22	  Œ¶‘z‚ÌZl	     "
		dd asc_105B2		; "				     "
		dd aB@b@vpvxvivf	; "	       @@‚p‚•‚‰‚”	     "
		dd aOp_2		; "op"
		dd aSt00		; "st00"
		dd aSt10		; "st10"
		dd aSt00b		; "st00b"
		dd aSt01		; "st01"
		dd aSt01b		; "st01b"
		dd aSt02		; "st02"
		dd aSt02b		; "st02b"
		dd aSt03		; "st03"
		dd aSt03c		; "st03c"
		dd aSt03b		; "st03b"
		dd aSt04		; "st04"
		dd aSt04b		; "st04b"
		dd aSt05		; "st05"
		dd aSt05b		; "st05b"
		dd aSt06		; "st06"
		dd aSt06b		; "st06b"
		dd aSt06c		; "st06c"
		dd aEnd1		; "end1"
		dd aEnd2		; "end2"
		dd aStaff		; "staff"
		dd aName_0		; "name"
byte_102AE	db 0
byte_102AF	db 0
aNo_1MSzlBLotus	db 'No.1   Œ¶‘z‹½  ` Lotus Land Story',0
aNo_2WitchingDr	db 'No.2         Witching Dream       ',0
aNo_3SeleneSLig	db 'No.3         Selene',27h,'s light       ',0
aNo_4Sxp	db 'No.4  ‘•üí@` Decoration Battle',0
aNo_5BreakTheSa	db 'No.5        Break the Sabbath     ',0
aNo_6NglLBScarl	db 'No.6   g‹¿‹È  ` Scarlet Phoneme ',0
aNo_7BadApple	db 'No.7           Bad Apple!!        ',0
aNo_8CRab@bPerd	db 'No.8    —ìí@` Perdition crisis ',0
aNo_9GagkgxgGgg	db 'No.9        ƒAƒŠƒXƒ}ƒGƒXƒeƒ‰      ',0
aNo_10Pnpcuyszl	db 'No.10   ­—ãY‘z‹È@` Capriccio  ',0
aNo_11RpvKab@bC	db 'No.11  ¯‚ÌŠí@` Casket of Star  ',0
aNo_12LotusLove	db 'No.12          Lotus Love         ',0
aNo_13CVVslXBSl	db 'No.13 –°‚ê‚é‹°•| `Sleeping Terror',0
aNo_14DreamLand	db 'No.14          Dream Land         ',0
aNo_15ChcB@bIna	db 'No.15   —H–²@` Inanimate Dream  ',0
aNo_16LVVVsv	db 'No.16     ‹Ö‚¶‚´‚é‚ð‚¦‚È‚¢—V‹Y    ',0
aNo_17GbgcghmSz	db 'No.17 ƒƒCƒhŒ¶‘z@` Icemilk Magic',0
aNo_18Vivavvvvi	db 'No.18  ‚©‚í‚¢‚¢ˆ«–‚@` Innocence ',0
aNo_19Days	db 'No.19             Days            ',0
aNo_20Peaceful	db 'No.20           Peaceful          ',0
aNo_21ArcadianD	db 'No.21        Arcadian Dream       ',0
aNo_22MSzvPzrl	db 'No.22          Œ¶‘z‚ÌZl         ',0
asc_105B2	db '                                  ',0
aB@b@vpvxvivf	db '            @@‚p‚•‚‰‚”          ',0
aOp_2		db 'op',0
aSt00		db 'st00',0
aSt10		db 'st10',0
aSt00b		db 'st00b',0
aSt01		db 'st01',0
aSt01b		db 'st01b',0
aSt02		db 'st02',0
aSt02b		db 'st02b',0
aSt03		db 'st03',0
aSt03c		db 'st03c',0
aSt03b		db 'st03b',0
aSt04		db 'st04',0
aSt04b		db 'st04b',0
aSt05		db 'st05',0
aSt05b		db 'st05b',0
aSt06		db 'st06',0
aSt06b		db 'st06b',0
aSt06c		db 'st06c',0
aEnd1		db 'end1',0
aEnd2		db 'end2',0
aStaff		db 'staff',0
aName_0		db 'name',0
a_music_txt	db '_MUSIC.TXT',0
aMusic_pi	db 'music.pi',0
aGensou_scr	db 'GENSOU.SCR',0
aName		db 'name',0
aHi01_pi	db 'hi01.pi',0
aOp1_pi_0	db 'op1.pi',0
aOp_0		db 'op',0
aScnum_bft	db 'scnum.bft',0
aHi_m_bft	db 'hi_m.bft',0
		db    0
aSft1_cd2	db 'sft1.cd2',0
aSft2_cd2	db 'sft2.cd2',0
aCar_cd2	db 'car.cd2',0
aSl_cd2		db 'sl.cd2',0
aOp5b_pi	db 'op5b.pi',0
aOp4b_pi	db 'op4b.pi',0
aOp3b_pi	db 'op3b.pi',0
aOp2b_pi	db 'op2b.pi',0
aOp1b_pi	db 'op1b.pi',0
aOp0b_pi	db 'op0b.pi',0
aOp_1		db 'op',0
aOp1_pi_1	db 'op1.pi',0
		db    0
		dd aB@focasCBiiPcv	; "@”Ž—íèË–²i›Þ—‚³‚ñj "
		dd aNlfINumvmB@		; "	L”ÍˆÍUŒ‚Œ^@	  "
		dd aCIjcvcanBicvc@	; " –¶‰J–‚—¹i–‚–@Žg‚¢j"
		dd aNumvcPdolm		; "	UŒ‚—ÍdŽ‹Œ^	  "
		dd aB@GtbGGvgzgbgg	; "@  ƒT[ƒ`ƒVƒ‡ƒbƒg@	 "
		dd aGpgcghgvgzgbgg	; "    ƒƒCƒhƒVƒ‡ƒbƒg	 "
		dd aGcgkgebGwgzgug	; "ƒCƒŠƒ…[ƒWƒ‡ƒ“ƒŒ[ƒU["
		dd aGigsgbghgvgzgb	; "   ƒ‰ƒsƒbƒhƒVƒ‡ƒbƒg	 "
aB@focasCBiiPcv	db '@”Ž—íèË–²i›Þ—‚³‚ñj ',0
aNlfINumvmB@	db '     L”ÍˆÍUŒ‚Œ^@    ',0
aCIjcvcanBicvc@	db ' –¶‰J–‚—¹i–‚–@Žg‚¢j',0
aNumvcPdolm	db '     UŒ‚—ÍdŽ‹Œ^      ',0
aB@GtbGGvgzgbgg	db '@  ƒT[ƒ`ƒVƒ‡ƒbƒg@  ',0
aGpgcghgvgzgbgg	db '    ƒƒCƒhƒVƒ‡ƒbƒg    ',0
aGcgkgebGwgzgug	db 'ƒCƒŠƒ…[ƒWƒ‡ƒ“ƒŒ[ƒU[',0
aGigsgbghgvgzgb	db '   ƒ‰ƒsƒbƒhƒVƒ‡ƒbƒg   ',0
aStar		db '™',0
aGtgugegfgGuvSi	db 'ƒTƒuƒEƒFƒ|ƒ“‚Ì‘I‘ð',0
aSlb1_pi	db 'slb1.pi',0
aAbnormalProgra	db 'Abnormal program termination',0Dh,0Ah,0
		db    0
include libs/BorlandC/atexit[data].asm
include libs/BorlandC/exit[data].asm
include libs/BorlandC/files[data].asm
include libs/BorlandC/__IOERROR[data].asm
		db    0
unk_10A52	db    0
		db    0
		db    0
		db    0
word_10A56	dw 0
word_10A58	dw 4425h
					; set_new_handler(void (*)(void))+1Fw ...
seg_10A5A	dw seg seg000
					; set_new_handler(void (*)(void))+1Bw ...
aOutOfMemory	db 'Out of memory',0
__stklen	dw 1000h
		public __ctype
; unsigned __int8 _ctype[257]
__ctype		db    0, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 21h, 21h,	21h, 21h, 21h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 81h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 12h, 12h, 12h,	12h, 12h, 12h, 12h
		db  12h, 12h, 12h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 14h, 14h,	14h, 14h, 14h, 14h
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	40h, 40h, 40h, 40h
		db  40h, 40h, 18h, 18h,	18h, 18h, 18h, 18h
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	40h, 40h, 40h, 40h
		db  20h,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		dd @terminate$qv	; terminate(void)
		dd @unexpected$qv	; unexpected(void)
word_10B80	dw 0
word_10B82	dw 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_10C96	dw 0
include libs/BorlandC/fbrk[data].asm
include libs/BorlandC/signal[data].asm
dword_10CC0	dd 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  5Ch	; \
		db    0
word_10CD4	dw 0
					; _setvbuf+4Bw
word_10CD6	dw 0
					; _setvbuf+35w
include libs/BorlandC/sysnerr[data].asm
aNotype		db '<notype>',0
aBccxh1		db '**BCCxh1',0
include libs/BorlandC/setenvp[data].asm
word_10CF0	dw 1
word_10CF2	dw 0
word_10CF4	dw 1
word_10CF6	dw 3Fh
word_10CF8	dw 40h
word_10CFA	dw 3Fh
aStringReferenc	db 'String reference out of range',0
aStringRefere_0	db 'String reference out of range',0
aStringRefere_1	db 'String reference out of range',0
byte_10D56	db 0
byte_10D57	db 0
aPath		db 'PATH',0
		db '/\',0
		db    0
a_bat		db '.BAT',0
a_com		db '.COM',0
a_exe_0		db '.EXE',0
a_bat_0		db '.BAT',0
aComspec	db 'COMSPEC',0
		db  2Fh	; /
		db  63h	; c
		db    0

InitStart	label byte
		db    1
		db  20h
		dd @string@contains$xqnxc ; string::contains(char *)
include libs/BorlandC/setupio[initdata].asm
		db    0
		db  10h
		db  1Fh
		db  4Bh	; K
		db    0
		db    0
		db    0
		db  0Fh
		db  72h	; r
		db  54h	; T
		db    0
		db    0
include libs/BorlandC/setenvp[initdata].asm
InitEnd	label byte

ExitStart	label byte
		db    1
		db  20h
		dd loc_45D3
ExitEnd	label byte

bdata@	label byte
dword_10DA4	dd 0
byte_10DA8	db 0
					; sub_AE96+10Aw ...
		db    0
word_10DAA	dw 0
byte_10DAC	db 0
byte_10DAD	db 0
include libs/master.lib/clip[bss].asm
		db    0
		db    0
		db    0
		db    0
dword_10DC2	dd 0
word_10DC6	dw 0
word_10DC8	dw 0
word_10DCA	dw 0
word_10DCC	dw 0
word_10DCE	dw 0
word_10DD0	dw 0
					; sub_8EE:loc_91Fw ...
word_10DD2	dw 0
		db    0
		db    0
include libs/master.lib/pal[bss].asm
include libs/master.lib/vs[bss].asm
include libs/master.lib/vsync[bss].asm
include libs/master.lib/mem[bss].asm
include libs/master.lib/superpa[bss].asm
word_11618	dw 0
dword_1161A	dd 0
					; sub_CF5E:loc_CFA9r ...
dword_1161E	dd 0
dword_11622	dd 0
dword_11626	dd 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_116AA	dw 0
word_116AC	dw 0
word_116AE	dw 0
dword_116B0	dd 0
dword_116B4	dd 0
dword_116B8	dd 0
dword_116BC	dd 0
dword_116C0	dd 0
dword_116C4	dd 0
unk_116C8	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_11710	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_11758	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_117A0	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_117E8	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
unk_11830	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_11978	db 0
		db    0
include libs/master.lib/bgm[bss].asm
unk_11A40	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
word_11A4E	dw ?
word_11A50	dw ?
					; sub_AE96+6Ar	...
byte_11A52	db ?
		db    ?	;
word_11A54	dw ?
					; sub_E378:loc_E3C4r
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
byte_11E56	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
word_11E88	dw ?
					; sub_B49F:loc_B4F5r ...
word_11E8A	dw ?
					; sub_B65C+8r ...
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
unk_12CF4	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
		db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
word_12DBC	dw ?
byte_12DBE	db ?
		db    ?	;
word_12DC0	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
unk_12DD2	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
byte_130F2	db ?
byte_130F3	db ?
word_130F4	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
byte_131A0	db ?
					; sub_CBE3+19r
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
byte_131B6	db ?
byte_131B7	db ?
byte_131B8	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
byte_13264	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
byte_1327B	db ?
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
byte_13286	db ?
					; sub_AE28:loc_AE58r ...
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
byte_132B8	db ?
byte_132B9	db ?
					; sub_D708:loc_D881w ...
dword_132BA	dd ?
dword_132BE	dd ?
byte_132C2	db ?
					; sub_D708:loc_D7A1r
byte_132C3	db ?
byte_132C4	db ?
byte_132C5	db ?
include libs/BorlandC/atexit[bss].asm
include libs/BorlandC/sigdata[bss].asm
word_1334A	dw ?
		db    ?	;
		db    ?	;
include libs/BorlandC/signal[bss].asm
dword_13352	dd ?
dword_13356	dd ?
		dw ?
edata@	label byte

		dd ?
dseg		ends

; ===========================================================================

; Segment type:	Uninitialized
seg005		segment	byte stack 'STACK' use16
		assume cs:seg005
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		db 80h dup(?)
seg005		ends


		end startx
