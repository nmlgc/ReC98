;
; +-------------------------------------------------------------------------+
; |   This file has been generated by The Interactive Disassembler (IDA)    |
; |        Copyright (c) 2009 by Hex-Rays, <support@hex-rays.com>           |
; +-------------------------------------------------------------------------+
;
; Input	MD5   :	F97D1B72F01476639E9D33E361F57330

; File Name   :	th05/OP.EXE
; Format      :	MS-DOS executable (EXE)
; Base Address:	0h Range: 0h-14240h Loaded length: 1280Ah
; Entry	Point :	0:0
; OS type	  :  MS	DOS
; Application type:  Executable	16bit

		.386
		.model large

include ReC98.inc

; ===========================================================================

; Segment type:	Pure code
seg000		segment	word public 'CODE' use16
		assume cs:seg000
		assume es:nothing, ss:seg005, ds:dseg, fs:nothing, gs:nothing

include libs/BorlandC/c0.asm
		db 0
include libs/master.lib/bfnt_entry_pat.asm
include libs/master.lib/bfnt_header_read.asm
include libs/master.lib/bfnt_header_analysis.asm
include libs/master.lib/atrtcmod.asm
include libs/master.lib/bcloser.asm
include libs/master.lib/bfill.asm
include libs/master.lib/bfnt_palette_set.asm
include libs/master.lib/bgetc.asm
include libs/master.lib/palette_black_in.asm
include libs/master.lib/palette_black_out.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_682		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	mem_AllocID, 6
		mov	ax, word_F566
		add	ax, 9
		push	ax
		call	hmem_allocbyte
		jb	short loc_6BE
		mov	es, ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	dos_ropen
		jb	short loc_6C5
		mov	es:0, ax
		mov	word ptr es:2, 0
		mov	ax, word_F566
		mov	es:6, ax
		mov	ax, es
		pop	bp
		retf	4
; ---------------------------------------------------------------------------

loc_6BE:
		mov	byte_F568, 3
		jmp	short loc_6CF
; ---------------------------------------------------------------------------

loc_6C5:
		push	es
		call	hmem_free
		mov	byte_F568, 1

loc_6CF:
		xor	ax, ax
		pop	bp
		retf	4
sub_682		endp

include libs/master.lib/bread.asm
include libs/master.lib/bseek.asm
include libs/master.lib/bseek_.asm
include libs/master.lib/dos_axdx.asm
include libs/master.lib/dos_keyclear.asm
include libs/master.lib/dos_puts2.asm
include libs/master.lib/dos_read.asm
include libs/master.lib/dos_seek.asm
include libs/master.lib/dos_setvect.asm
include libs/master.lib/egc.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_878		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	ax, 0
		mov	bx, word_F4F4
		cmp	bx, 0FFFFh
		jnz	short loc_8C8
		mov	ax, 3D02h
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	dos_axdx
		or	ax, dx
		mov	word_F4F4, ax
		mov	cx, ax
		xor	ax, ax
		mov	word_11DF4, ax
		mov	word_11DF2, ax
		mov	word_11DF6, ax
		mov	word_11DF8, ax
		mov	word_11DEE, ax
		mov	word_11DF0, ax
		inc	dx
		jz	short loc_8C8
		mov	bx, cx
		xor	cx, cx
		mov	dx, cx
		mov	ax, 4202h
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from end of file
		mov	word_11DEE, ax
		mov	word_11DF0, dx
		mov	ax, 1

loc_8C8:
		pop	bp
		retf	4
sub_878		endp


; =============== S U B	R O U T	I N E =======================================


sub_8CC		proc far
		mov	bx, word_F4F4
		cmp	bx, 0FFFFh
		jz	short locret_936
		mov	ax, word_11DF2
		cmp	word_11DF4, ax
		jnb	short loc_90A
		push	ds
		mov	cx, word_11DF2
		lds	dx, dword_11DEA
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jb	short loc_8FD
		add	word_11DEE, ax
		adc	word_11DF0, 0
		cmp	word_11DF2, ax
		jz	short loc_903

loc_8FD:
		mov	word_11DF8, 1

loc_903:
		mov	word_11DF2, 0
		retf
; ---------------------------------------------------------------------------

loc_90A:
		cmp	word_11DF4, 0
		jz	short locret_936
		mov	dx, ax
		mov	cx, 0
		add	dx, word_11DEE
		mov	word_11DF4, cx
		mov	word_11DF2, cx
		adc	cx, word_11DF0
		mov	ax, 4200h
		mov	bx, word_F4F4
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from beginning of	file
		mov	word_11DEE, ax
		mov	word_11DF0, dx

locret_936:
		retf
sub_8CC		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_938		proc far
		push	cs
		call	near ptr sub_8CC
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		mov	word_F4F4, 0FFFFh
		retf
sub_938		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_948		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		mov	ax, 0
		mov	bx, word_F4F4
		cmp	bx, 0FFFFh
		jnz	short loc_984
		mov	cx, 20h	; ' '
		mov	ah, 3Ch	; '<'
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		nopcall	dos_axdx
		or	ax, dx
		mov	word_F4F4, ax
		xor	ax, ax
		mov	word_11DF4, ax
		mov	word_11DF2, ax
		mov	word_11DF6, ax
		mov	word_11DF8, ax
		mov	word_11DEE, ax
		mov	word_11DF0, ax
		mov	ax, dx
		inc	ax

loc_984:
		pop	bp
		retf	4
sub_948		endp


; =============== S U B	R O U T	I N E =======================================


sub_988		proc far
		mov	bx, sp
		push	word ptr ss:[bx+6]
		push	word ptr ss:[bx+4]
		nop
		call	dos_ropen
		jb	short loc_99E
		xchg	ax, bx
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle

loc_99E:
		sbb	ax, ax
		inc	ax
		retf	4
sub_988		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_9A4		proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_F4F2, 0
		jz	short loc_A28
		mov	bx, [bp+arg_0]
		les	di, [bp+arg_2]

loc_9B6:
		mov	ax, word_11DF4
		cmp	word_11DF2, ax
		jb	short loc_9EC
		add	word_11DEE, ax
		adc	word_11DF0, 0
		push	bx
		push	ds
		mov	cx, word_F4F2
		mov	bx, word_F4F4
		lds	dx, dword_11DEA
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		pop	bx
		cmc
		sbb	dx, dx
		and	ax, dx
		mov	word_11DF4, ax
		jz	short loc_A47
		mov	word_11DF2, 0

loc_9EC:
		mov	si, word_11DF4
		sub	si, word_11DF2
		sub	si, bx
		sbb	ax, ax
		and	si, ax
		add	si, bx
		mov	ax, es
		or	ax, di
		jz	short loc_A1D
		or	si, si
		jz	short loc_A1D
		push	si
		push	ds
		mov	cx, si
		mov	ax, word_11DF2
		lds	si, dword_11DEA
		add	si, ax
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		pop	si

loc_A1D:
		add	word_11DF2, si
		sub	bx, si
		jnz	short loc_9B6
		jmp	short loc_A4D
; ---------------------------------------------------------------------------
		nop

loc_A28:
		push	ds
		mov	cx, [bp+arg_0]
		mov	bx, word_F4F4
		lds	dx, [bp+arg_2]
		mov	ah, 3Fh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		pop	ds
		add	word_11DEE, ax
		adc	word_11DF0, 0
		mov	bx, cx
		sub	bx, ax
		jz	short loc_A4D

loc_A47:
		mov	word_11DF6, 1

loc_A4D:
		mov	ax, [bp+arg_0]
		sub	ax, bx
		pop	di
		pop	si
		pop	bp
		retf	6
sub_9A4		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A58		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		xor	ax, ax
		mov	bx, word_F4F4
		cmp	bx, 0FFFFh
		jnz	short loc_A8F
		push	[bp+arg_2]
		push	[bp+arg_0]
		nop
		call	dos_ropen
		sbb	bx, bx
		or	ax, bx
		mov	word_F4F4, ax
		xor	ax, ax
		mov	word_11DF4, ax
		mov	word_11DEE, ax
		mov	word_11DF0, ax
		mov	word_11DF2, ax
		mov	word_11DF6, ax
		mov	word_11DF8, ax
		lea	ax, [bx+1]

loc_A8F:
		pop	bp
		retf	4
sub_A58		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_A94		proc far
		push	cs
		call	near ptr sub_8CC
		cmp	bx, 0FFFFh
		jz	short locret_AC5
		push	bp
		mov	bp, sp
		mov	al, [bp+6]
		mov	ah, 42h	; 'B'
		mov	dx, [bp+8]
		mov	cx, [bp+0Ah]
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method:
					; 0-from beginnig,1-from current,2-from	end
		pop	bp
		mov	ax, 4201h
		mov	dx, 0
		mov	cx, dx
		int	21h		; DOS -	2+ - MOVE FILE READ/WRITE POINTER (LSEEK)
					; AL = method: offset from present location
		mov	word_11DF6, 0
		mov	word_11DEE, ax
		mov	word_11DF0, dx

locret_AC5:
		retf	6
sub_A94		endp

; ---------------------------------------------------------------------------
		mov	ax, word_11DF2
		xor	dx, dx
		add	ax, word_11DEE
		adc	dx, word_11DF0
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_AD6		proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		cmp	word_F4F2, 0
		jz	short loc_B4C
		mov	bx, [bp+arg_0]
		mov	si, word ptr [bp+arg_2]

loc_AE8:
		mov	cx, word_F4F2
		sub	cx, word_11DF2
		sub	cx, bx
		sbb	ax, ax
		and	cx, ax
		add	cx, bx
		les	di, dword_11DEA
		add	di, word_11DF2
		sub	bx, cx
		add	word_11DF2, cx
		push	ds
		mov	ds, word ptr [bp+arg_2+2]
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		or	ax, ax
		jns	short loc_B42
		push	ds
		push	bx
		mov	cx, word_F4F2
		mov	bx, word_F4F4
		lds	dx, dword_11DEA
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	bx
		pop	ds
		jb	short loc_B5E
		cmp	word_F4F2, ax
		jnz	short loc_B5E
		mov	word_11DF2, 0
		add	word_11DEE, ax
		adc	word_11DF0, 0

loc_B42:
		or	bx, bx
		jnz	short loc_AE8
		mov	ax, 1
		jmp	short loc_B74
; ---------------------------------------------------------------------------
		nop

loc_B4C:
		push	ds
		mov	cx, [bp+arg_0]
		mov	bx, word_F4F4
		lds	dx, [bp+arg_2]
		mov	ah, 40h
		int	21h		; DOS -	2+ - WRITE TO FILE WITH	HANDLE
					; BX = file handle, CX = number	of bytes to write, DS:DX -> buffer
		pop	ds
		jnb	short loc_B66

loc_B5E:
		mov	word_11DF8, 1
		xor	ax, ax

loc_B66:
		add	word_11DEE, ax
		adc	word_11DF0, 0
		add	ax, 0FFFFh
		sbb	ax, ax

loc_B74:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf	6
sub_AD6		endp

include libs/master.lib/dos_close.asm
include libs/master.lib/dos_ropen.asm

; =============== S U B	R O U T	I N E =======================================


sub_BAC		proc far
		push	di
		mov	di, sp
		mov	ax, word_F4C6
		mov	cx, ax
		mov	bx, ss:[di+0Ah]
		sub	bx, ax
		jg	short loc_BBE
		xor	bx, bx

loc_BBE:
		mov	ax, bx
		shl	ax, 2
		add	ax, bx
		add	ax, word_F4CC
		mov	es, ax
		mov	ax, word_F4C8
		mov	dx, ss:[di+6]
		sub	dx, cx
		cmp	dx, ax
		jl	short loc_BDA
		mov	dx, ax

loc_BDA:
		sub	dx, bx
		jl	short loc_C10
		mov	ax, ss:[di+0Ch]
		mov	bx, ss:[di+8]
		sub	bx, ax
		jl	short loc_C10
		inc	bx
		mov	di, dx
		shl	di, 2
		add	di, dx
		shl	di, 4
		add	di, ax
		lea	dx, [bx+50h]
		mov	ax, 0FFFFh
		test	di, 1
		jnz	short loc_C22
		shr	bx, 1
		jb	short loc_C14
		nop

loc_C08:
		mov	cx, bx
		rep stosw
		sub	di, dx
		jnb	short loc_C08

loc_C10:
		pop	di
		retf	8
; ---------------------------------------------------------------------------

loc_C14:
		mov	cx, bx
		rep stosw
		stosb
		sub	di, dx
		jnb	short loc_C14
		pop	di
		retf	8
; ---------------------------------------------------------------------------
		nop

loc_C22:
		shr	bx, 1
		jb	short loc_C36
		dec	bx
		nop

loc_C28:
		mov	cx, bx
		stosb
		rep stosw
		stosb
		sub	di, dx
		jnb	short loc_C28
		pop	di
		retf	8
; ---------------------------------------------------------------------------

loc_C36:
		mov	cx, bx
		stosb
		rep stosw
		sub	di, dx
		jnb	short loc_C36
		pop	di
		retf	8
sub_BAC		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C44		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	di
		mov	dx, [bp+arg_0]
		sub	dx, word_F4C6
		cmp	dx, word_F4C8
		ja	short loc_CC4
		mov	cx, [bp+arg_4]
		mov	bx, [bp+arg_2]
		mov	bp, dx
		shl	bp, 2
		add	bp, dx
		shl	bp, 4
		mov	ax, word_F4C0
		sub	cx, ax
		sub	bx, ax
		test	cx, bx
		js	short loc_CC4
		cmp	cx, bx
		jg	short loc_C76
		xchg	cx, bx

loc_C76:
		cmp	bx, 8000h
		sbb	dx, dx
		and	bx, dx
		mov	di, word_F4C2
		sub	cx, di
		sbb	dx, dx
		and	cx, dx
		add	cx, di
		sub	cx, bx
		jl	short loc_CC4
		mov	es, word_F4CC
		add	bx, ax
		mov	di, bx
		shr	di, 4
		shl	di, 1
		add	di, bp
		and	bx, 0Fh
		add	cx, bx
		sub	cx, 10h
		shl	bx, 1
		mov	ax, [bx+4F0h]
		not	ax
		mov	bx, cx
		and	bx, 0Fh
		shl	bx, 1
		sar	cx, 4
		js	short loc_CBF
		stosw
		mov	ax, 0FFFFh
		rep stosw

loc_CBF:
		and	ax, [bx+4F2h]
		stosw

loc_CC4:
		pop	di
		pop	bp
		retf	6
sub_C44		endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CCA		proc far

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 0Ch
		push	di
		push	si
		mov	ax, [bp+arg_0]
		dec	ax
		mov	cx, ax
		shl	ax, 2
		mov	[bp+arg_0], ax
		les	si, [bp+arg_2]
		xor	ax, ax
		mov	[bp+var_8], ax
		mov	[bp+var_A], ax
		mov	ax, es:[si+2]
		mov	[bp+var_4], ax
		mov	[bp+var_C], ax
		mov	ax, es:[si]
		mov	di, ax
		mov	bx, 4

loc_CFB:
		mov	dx, es:[bx+si+2]
		cmp	dx, [bp+var_4]
		jge	short loc_D10
		mov	[bp+var_8], bx
		mov	[bp+var_A], bx
		mov	[bp+var_4], dx
		jmp	short loc_D22
; ---------------------------------------------------------------------------
		nop

loc_D10:
		cmp	[bp+var_4], dx
		jnz	short loc_D1A
		mov	[bp+var_A], bx
		jmp	short loc_D22
; ---------------------------------------------------------------------------

loc_D1A:
		cmp	[bp+var_C], dx
		jge	short loc_D22
		mov	[bp+var_C], dx

loc_D22:
		mov	dx, es:[bx+si]
		cmp	ax, dx
		jl	short loc_D34
		mov	ax, dx
		jmp	short loc_D3A
; ---------------------------------------------------------------------------
		nop

loc_D2E:
		pop	si
		pop	di
		leave
		retf	6
; ---------------------------------------------------------------------------

loc_D34:
		cmp	di, dx
		jge	short loc_D3A
		mov	di, dx

loc_D3A:
		add	bx, 4
		loop	loc_CFB
		cmp	word_F4C4, ax
		jl	short loc_D2E
		cmp	word_F4C0, di
		jg	short loc_D2E
		mov	ax, [bp+var_4]
		cmp	word_F4CA, ax
		jl	short loc_D2E
		mov	dx, [bp+var_C]
		cmp	word_F4C6, dx
		jg	short loc_D2E
		mov	ax, word_F4CA
		cmp	ax, dx
		jge	short loc_D66
		mov	dx, ax

loc_D66:
		mov	[bp+var_C], dx
		mov	ax, [bp+arg_0]
		cmp	[bp+var_8], 0
		jnz	short loc_D7F
		cmp	[bp+var_A], ax
		jnz	short loc_D7F
		mov	[bp+var_8], ax
		mov	[bp+var_A], 0

loc_D7F:
		mov	bx, [bp+var_8]
		mov	dx, [bp+arg_0]
		mov	ax, word_F4C6

loc_D88:
		mov	cx, bx
		sub	bx, 4
		jns	short loc_D91
		mov	bx, dx

loc_D91:
		cmp	es:[bx+si+2], ax
		jl	short loc_D88
		mov	ax, es:[bx+si+2]
		mov	[bp+var_6], ax
		mov	[bp+var_8], bx
		mov	bx, cx
		mov	dx, es:[bx+si+2]
		mov	di, es:[bx+si]
		mov	bx, [bp+var_8]
		cmp	dx, word_F4C6
		jge	short loc_DCF
		mov	ax, dx
		sub	ax, [bp+var_6]
		push	ax
		mov	ax, di
		sub	ax, es:[bx+si]
		mov	cx, word_F4C6
		sub	cx, dx
		imul	cx
		pop	cx
		idiv	cx
		add	di, ax
		mov	dx, word_F4C6

loc_DCF:
		mov	[bp+var_4], dx
		xchg	di, dx
		mov	ax, es:[bx+si]
		mov	cx, [bp+var_6]
		sub	cx, di
		mov	bx, 2DF6h
		call	sub_1986
		mov	bx, [bp+var_A]
		mov	cx, [bp+arg_0]
		mov	ax, word_F4C6

loc_DEB:
		mov	di, bx
		add	bx, 4
		cmp	bx, cx
		jle	short loc_DF6
		xor	bx, bx

loc_DF6:
		cmp	es:[bx+si+2], ax
		jl	short loc_DEB
		mov	ax, es:[bx+si+2]
		mov	[bp+var_2], ax
		mov	[bp+var_A], bx
		add	di, si
		mov	cx, es:[di+2]
		mov	di, es:[di]
		mov	bx, es:[bx+si]
		cmp	cx, [bp+var_4]
		jge	short loc_E2B
		mov	ax, word_F4C6
		sub	ax, cx
		push	cx
		mov	cx, di
		sub	cx, bx
		imul	cx
		pop	cx
		sub	cx, [bp+var_2]
		idiv	cx
		add	di, ax

loc_E2B:
		mov	dx, di
		mov	ax, bx
		mov	cx, [bp+var_2]
		sub	cx, [bp+var_4]
		mov	bx, 2DFEh
		call	sub_1986
		mov	si, [bp+var_4]

loc_E3E:
		mov	di, [bp+var_6]
		cmp	di, [bp+var_2]
		jle	short loc_E49
		mov	di, [bp+var_2]

loc_E49:
		cmp	[bp+var_C], di
		jle	short loc_EC2
		push	di
		lea	dx, [di-1]
		sub	dx, si
		sub	si, word_F4C6
		mov	ax, si
		shl	si, 2
		add	si, ax
		shl	si, 4
		mov	es, word_F4CC
		call	loc_2BD6
		pop	si
		les	di, [bp+arg_2]
		cmp	si, [bp+var_6]
		jnz	short loc_E95
		mov	bx, [bp+var_8]
		mov	dx, es:[bx+di]
		sub	bx, 4
		jns	short loc_E80
		mov	bx, [bp+arg_0]

loc_E80:
		mov	[bp+var_8], bx
		mov	ax, es:[bx+di]
		mov	cx, es:[bx+di+2]
		mov	[bp+var_6], cx
		sub	cx, si
		mov	bx, 2DF6h
		call	sub_1986

loc_E95:
		cmp	[bp+var_2], si
		jnz	short loc_E3E
		mov	bx, [bp+var_A]
		mov	dx, es:[bx+di]
		add	bx, 4
		cmp	bx, [bp+arg_0]
		jle	short loc_EAA
		xor	bx, bx

loc_EAA:
		mov	[bp+var_A], bx
		mov	ax, es:[bx+di]
		mov	cx, es:[bx+di+2]
		mov	[bp+var_2], cx
		sub	cx, si
		mov	bx, 2DFEh
		push	0E3Eh
		jmp	sub_1986
; ---------------------------------------------------------------------------

loc_EC2:
		mov	es, word_F4CC
		mov	dx, [bp+var_C]
		sub	dx, si
		sub	si, word_F4C6
		mov	ax, si
		shl	si, 2
		add	si, ax
		shl	si, 4
		call	loc_2BD6
		pop	si
		pop	di
		leave
		retf	6
sub_CCA		endp


; =============== S U B	R O U T	I N E =======================================


sub_EE2		proc far
		mov	bx, sp
		mov	al, ss:[bx+6]
		mov	ah, ss:[bx+4]
		mov	dx, 7Eh	; '~'
		pushf
		cli
		out	7Ch, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		popf
		retf	4
sub_EE2		endp

; ---------------------------------------------------------------------------
		nop
		xor	al, al
		out	7Ch, al
		retf
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_F12		proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	di
		mov	ax, word_F4C6
		mov	cx, word_F4C8
		mov	bx, [bp+arg_2]
		mov	dx, [bp+arg_0]
		cmp	bx, dx
		jl	short loc_F29
		xchg	bx, dx

loc_F29:
		sub	dx, ax
		jl	short loc_F92
		sub	bx, ax
		cmp	bh, 80h	; '€'
		sbb	di, di
		and	bx, di
		cmp	bx, cx
		jg	short loc_F92
		sub	dx, cx
		sbb	di, di
		and	dx, di
		add	dx, cx
		mov	ax, [bp+arg_4]
		cmp	ax, word_F4C0
		jl	short loc_F92
		cmp	ax, word_F4C4
		jg	short loc_F92
		mov	cx, ax
		and	cl, 7
		shr	ax, 3
		mov	di, ax
		mov	al, 80h	; '€'
		shr	al, cl
		mov	cx, dx
		mov	dx, 4Fh	; 'O'
		sub	cx, bx
		imul	bx, 50h
		add	di, bx
		mov	es, word_F4CC
		inc	cx
		shr	cx, 1
		jnb	short loc_F77
		stosb
		add	di, dx

loc_F77:
		shr	cx, 1
		jnb	short loc_F81
		stosb
		add	di, dx
		stosb
		add	di, dx

loc_F81:
		jcxz	short loc_F92
		nop

loc_F84:
		stosb
		add	di, dx
		stosb
		add	di, dx
		stosb
		add	di, dx
		stosb
		add	di, dx
		loop	loc_F84

loc_F92:
		pop	di
		pop	bp
		retf	6
sub_F12		endp

include libs/master.lib/get_machine_98.asm
include libs/master.lib/get_machine_at.asm
include libs/master.lib/get_machine_dosbox.asm
include libs/master.lib/check_machine_fmr.asm
include libs/master.lib/get_machine.asm

; =============== S U B	R O U T	I N E =======================================


sub_11C8	proc far
		mov	ah, 42h	; 'B'
		mov	ch, 0C0h ; 'À'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		mov	ax, 0A800h
		mov	word_F518, ax
		mov	word_F4CC, ax
		mov	word_F51A, 3E80h
		xor	ax, ax
		mov	word_F4C0, ax
		mov	word_F4C6, ax
		mov	es, ax
		mov	ah, byte ptr es:[54Dh]
		and	ah, 4
		add	ah, 3Fh	; '?'
		and	ah, 40h
		mov	word_F520, ax
		mov	ax, 27Fh
		mov	word_F4C4, ax
		mov	word_F4C2, ax
		mov	ax, 190h
		mov	word_F51C, ax
		dec	ax
		mov	word_F4CA, ax
		mov	word_F4C8, ax
		mov	word_F4CE, 7CB0h
		retf
sub_11C8	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_1216	proc far
		mov	al, 80h	; '€'
		pushf
		cli
		out	7Ch, al
		popf
		xor	ax, ax
		mov	dx, 7Eh	; '~'
		out	dx, al
		out	dx, al
		out	dx, al
		out	dx, al
		mov	bx, di
		xor	di, di
		mov	cx, word_F51A
		mov	es, word_F518
		assume es:nothing
		rep stosw
		mov	di, bx
		out	7Ch, al
		retf
sub_1216	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_123A	proc near
		xor	al, 1
		out	0A6h, al	; Interrupt Controller #2, 8259A
		mov	ds, bx
		mov	es, dx
		xor	di, di
		mov	si, di
		rep movsw
		mov	cx, di
		shr	cx, 1
		xchg	bx, dx
		retn
sub_123A	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_1250	proc far
					; sub_A9D6+139P ...
		xor	dx, dx
		mov	cx, word_F51A
		mov	bx, cx
		shl	bx, 1
		push	bx
		nop
		call	smem_wget
		xchg	ax, dx
		jb	short locret_12A2
		xor	al, al
		out	7Ch, al
		mov	bx, sp
		mov	ax, ss:[bx+4]
		and	al, 1
		push	si
		push	di
		push	ds
		mov	bx, 0A800h
		call	sub_123A
		call	sub_123A
		mov	bx, 0B000h
		call	sub_123A
		call	sub_123A
		mov	bx, 0B800h
		call	sub_123A
		call	sub_123A
		mov	bx, 0E000h
		call	sub_123A
		call	sub_123A
		pop	ds
		pop	di
		pop	si
		push	dx
		nop
		call	smem_release
		mov	ax, 1

locret_12A2:
		retf	2
sub_1250	endp

include libs/master.lib/graph_extmode.asm
include libs/master.lib/graph_pi_free.asm
include libs/master.lib/graph_pi_load_pack.asm

; =============== S U B	R O U T	I N E =======================================


sub_193C	proc far
		mov	ah, 40h	; '@'
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		retf
sub_193C	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_1942	proc far
		mov	al, 41h	; 'A'
		out	6Ah, al		; PC-98	GDC (6a):
					; Set display mode to LCD
		mov	PaletteTone, 0
		call	palette_show
		mov	al, 0
		out	0A4h, al	; Interrupt Controller #2, 8259A
		out	0A6h, al	; Interrupt Controller #2, 8259A
		push	cs
		call	near ptr sub_193C
		push	cs
		call	near ptr sub_11C8
		push	cs
		call	near ptr sub_1216
		call	palette_init
		retf
sub_1942	endp

include libs/master.lib/js_end.asm
include libs/master.lib/keybeep.asm

; =============== S U B	R O U T	I N E =======================================


sub_1986	proc near
		push	si
		mov	[bx], dx
		sub	ax, dx
		cmp	cx, 1
		adc	cx, 0
		cwd
		idiv	cx
		cmp	dx, 8000h
		adc	ax, 0FFFFh
		mov	[bx+6],	ax
		cmp	dx, 8000h
		cmc
		sbb	si, si
		add	dx, si
		xor	dx, si
		xor	ax, ax
		div	cx
		add	ax, si
		xor	ax, si
		mov	[bx+2],	ax
		mov	word ptr [bx+4], 8000h
		pop	si
		retn
sub_1986	endp

include libs/master.lib/palette_init.asm
include libs/master.lib/palette_show.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1AFA	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	es, [bp+arg_0]
		assume es:nothing
		push	word ptr es:0
		call	bcloser
		push	[bp+arg_0]
		call	hmem_free
		pop	bp
		retf	2
sub_1AFA	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		mov	es, word ptr [bp+6]
		call	word ptr es:2
		pop	bp
		retf	2
; ---------------------------------------------------------------------------
		nop
		cmp	word ptr es:1Ah, 0
		jz	short loc_1B42
		dec	word ptr es:1Ah
		add	word ptr es:12h, 1
		adc	word ptr es:14h, 0
		mov	ax, es:1Ch
		retn
; ---------------------------------------------------------------------------

loc_1B42:
		call	word ptr es:4
		test	ah, ah
		jnz	short locret_1B71
		cmp	ax, es:1Ch
		mov	es:1Ch,	ax
		jnz	short locret_1B71
		push	ax
		call	word ptr es:4
		test	ah, ah
		jnz	short loc_1B70
		mov	es:1Ah,	ax
		sub	word ptr es:12h, 1
		sbb	word ptr es:14h, 0

loc_1B70:
		pop	ax

locret_1B71:
		retn

; =============== S U B	R O U T	I N E =======================================


sub_1B72	proc near
		mov	ax, es:0Ah
		mov	dx, es:0Ch
		cmp	dx, es:8
		jb	short loc_1B8F
		ja	short loc_1B8B
		cmp	ax, es:6
		jb	short loc_1B8F

loc_1B8B:
		mov	ax, 0FFFFh
		retn
; ---------------------------------------------------------------------------

loc_1B8F:
		add	ax, 1
		adc	dx, 0
		mov	es:0Ah,	ax
		mov	es:0Ch,	dx
		add	word ptr es:12h, 1
		adc	word ptr es:14h, 0
		push	es
		push	word ptr es:0
		call	bgetc
		pop	es
		retn
sub_1B72	endp

; ---------------------------------------------------------------------------
		call	sub_1B72
		or	ah, ah
		jnz	short locret_1BC2
		xor	al, es:1Eh

locret_1BC2:
		retn
; ---------------------------------------------------------------------------
		db 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1BC4	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		cld
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_4]
		test	si, si
		jz	short loc_1BE7

loc_1BD4:
		mov	es, [bp+arg_0]
		call	word ptr es:2
		inc	ah
		jz	short loc_1BE7
		mov	es, [bp+arg_6]
		stosb
		dec	si
		jnz	short loc_1BD4

loc_1BE7:
		mov	ax, di
		sub	ax, [bp+arg_4]
		pop	di
		pop	si
		pop	bp
		retf	8
sub_1BC4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1BF2	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		mov	es, [bp+arg_0]
		xor	ax, ax
		mov	es:1Ah,	ax
		mov	word ptr es:1Ch, 0FFFFh
		mov	es:0Ah,	ax
		mov	es:0Ch,	ax
		mov	es:12h,	ax
		mov	es:14h,	ax
		push	word ptr es:0
		push	word ptr es:10h
		push	word ptr es:0Eh
		push	ax
		call	bseek_
		pop	bp
		retf	2
sub_1BF2	endp

; ---------------------------------------------------------------------------
		db 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_1C2E	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	di
		mov	es, [bp+arg_4]
		inc	[bp+arg_2]
		mov	di, [bp+arg_0]
		or	di, di
		jz	short loc_1C4B

loc_1C3F:
		call	word ptr es:2
		test	ah, ah
		jnz	short loc_1C50
		dec	di
		jnz	short loc_1C3F

loc_1C4B:
		dec	[bp+arg_2]
		jnz	short loc_1C3F

loc_1C50:
		mov	ax, es:12h
		mov	dx, es:14h
		pop	di
		pop	bp
		retf	6
sub_1C2E	endp


; =============== S U B	R O U T	I N E =======================================


sub_1C5E	proc far
		mov	ax, 4E35h
		mul	word_F56E
		mov	cx, ax
		mov	ax, 15Ah
		mul	word_F56C
		add	cx, ax
		mov	ax, 4E35h
		mul	word_F56C
		add	ax, 1
		adc	dx, cx
		mov	word_F56C, ax
		mov	ax, dx
		mov	word_F56E, ax
		and	ah, 7Fh
		retf
sub_1C5E	endp

include libs/master.lib/rottbl.asm
include libs/master.lib/smem_release.asm
include libs/master.lib/smem_wget.asm

; =============== S U B	R O U T	I N E =======================================


sub_20D4	proc near
		mov	dx, 188h

loc_20D7:
		in	al, dx
		test	al, 80h
		jnz	short loc_20D7
		mov	al, bh
		out	dx, al

loc_20DF:
		in	al, dx
		test	al, 80h
		jnz	short loc_20DF
		inc	dx
		inc	dx
		mov	al, bl
		out	dx, al
		retn
sub_20D4	endp


; =============== S U B	R O U T	I N E =======================================


sub_20EA	proc near
		mov	dx, 188h

loc_20ED:
		in	al, dx
		test	al, 80h
		jnz	short loc_20ED
		mov	al, bh
		out	dx, al

loc_20F5:
		in	al, dx
		test	al, 80h
		jnz	short loc_20F5
		inc	dx
		inc	dx
		in	al, dx
		retn
sub_20EA	endp

include libs/BorlandC/text_clear.asm
include libs/BorlandC/txesc.asm
		db 0
include libs/master.lib/vsync.asm
include libs/master.lib/vsync_wait.asm
include libs/master.lib/hmem_lallocate.asm
include libs/master.lib/mem_assign_dos.asm
include libs/master.lib/mem_assign.asm
include libs/master.lib/memheap.asm

; =============== S U B	R O U T	I N E =======================================


sub_24CE	proc far
		cmp	mem_TopSeg, 0
		jz	short loc_24E9
		mov	ax, mem_TopSeg
		mov	es, ax
		xor	ax, ax
		cmp	mem_MyOwn, ax
		mov	mem_TopSeg, ax
		jz	short loc_24E9
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed

loc_24E9:
		mov	ax, 1
		retf
sub_24CE	endp

; ---------------------------------------------------------------------------
		xor	ax, ax
		stc
		retf

include libs/master.lib/super_free.asm
include libs/master.lib/super_entry_pat.asm
include libs/master.lib/super_entry_at.asm
include libs/master.lib/super_entry_bfnt.asm
include libs/master.lib/super_cancel_pat.asm

loc_2730:
		pop	di
		pop	si
		pop	bp
		retf	6
; ---------------------------------------------------------------------------

loc_2736:
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	bx, [bp+6]
		shl	bx, 1
		mov	ax, [bx+2E60h]
		mov	cs:word_28ED, ax
		mov	bx, [bx+3260h]
		xor	ax, ax
		xchg	al, bh
		mov	word_12640, ax
		mov	cx, ax
		shl	cx, 3
		add	cx, [bp+0Ah]
		dec	cx
		imul	bx
		mov	cs:word_2926, ax
		cmp	cx, word_F4C4
		jg	short loc_278A
		mov	dx, word_F4C0
		cmp	[bp+0Ah], dx
		jl	short loc_278A
		mov	di, [bp+8]
		cmp	word_F4C6, di
		jg	short loc_278A
		mov	ax, bx
		add	ax, di
		cmp	ax, word_F4CA
		jge	short loc_278A
		pop	di
		pop	si
		pop	bp
		jmp	near ptr sub_292A
; ---------------------------------------------------------------------------

loc_278A:
		cmp	cx, word_F4C0
		jl	short loc_2730
		mov	dx, word_F4C4
		cmp	[bp+0Ah], dx
		jg	short loc_2730
		mov	di, [bp+8]
		cmp	word_F4CA, di
		jl	short loc_2730
		mov	ax, bx
		add	ax, di
		cmp	ax, word_F4C6
		jle	short loc_2730
		cmp	cx, dx
		jle	short loc_27B2
		mov	cx, dx

loc_27B2:
		mov	al, [bp+0Ah]
		and	al, 7
		mov	cs:byte_282F, al
		xor	si, si
		mov	ax, word_F4C0
		cmp	[bp+0Ah], ax
		jge	short loc_27D7
		mov	dx, ax
		shr	dx, 3
		add	si, dx
		mov	dx, [bp+0Ah]
		sar	dx, 3
		sub	si, dx
		mov	[bp+0Ah], ax

loc_27D7:
		sub	di, word_F4C6
		jns	short loc_27E8
		add	bx, di
		mov	ax, word_12640
		imul	di
		sub	si, ax
		xor	di, di

loc_27E8:
		lea	ax, [bx+di-1]
		sub	ax, word_F4C8
		jle	short loc_27F3
		sub	bx, ax

loc_27F3:
		mov	cs:word_28F1, bx
		mov	ax, [bp+0Ah]
		shr	ax, 3
		imul	bx, di,	50h
		add	bx, ax
		mov	cs:word_28F4, bx
		mov	bx, cx
		mov	dx, 80FFh
		and	cl, 7
		sar	dh, cl
		mov	cl, [bp+0Ah]
		and	cl, 7
		shr	dl, cl
		mov	cx, ax
		shr	bx, 3
		sub	bx, cx
		jnz	short loc_2825
		and	dl, dh

loc_2825:
		mov	cs:word_28F7, bx
		mov	es, word_F4CC
; ---------------------------------------------------------------------------
		db 0B1h
byte_282F	db 12h
; ---------------------------------------------------------------------------
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	al, 0
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		call	loc_28EA
		mov	al, 0CEh ; 'Î'
		out	7Ch, al
		mov	al, 0FFh
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		call	loc_28EA
		mov	ax, 0CDh ; 'Í'
		out	7Ch, al
		call	loc_28EA
		mov	ax, 0CBh ; 'Ë'
		out	7Ch, al
		call	loc_28EA
		mov	ax, 0C7h ; 'Ç'
		out	7Ch, al
		call	loc_28EA
		mov	al, 0
		out	7Ch, al
		pop	di
		pop	si
		pop	bp
		retf	6

; =============== S U B	R O U T	I N E =======================================


sub_2874	proc near
		test	si, si
		jz	short loc_287B

loc_2878:
		mov	ah, [si-1]

loc_287B:
		mov	al, [si]
		inc	si
		mov	bx, ax
		shr	bx, cl
		and	bl, dl
		mov	es:[di], bl
		inc	di
		mov	ch, 12h
		dec	ch
		js	short loc_28AE
		jz	short loc_28A1

loc_2890:
		mov	ah, al
		mov	al, [si]
		inc	si
		mov	bx, ax
		shr	bx, cl
		mov	es:[di], bl
		inc	di
		dec	ch
		jnz	short loc_2890

loc_28A1:
		mov	ah, al
		mov	al, [si]
		inc	si
		shr	ax, cl
		and	al, dh
		mov	es:[di], al
		inc	di

loc_28AE:
		add	si, 1234h
		add	di, 1234h
		dec	bp
		jnz	short loc_2878
		retn
sub_2874	endp

; ---------------------------------------------------------------------------

loc_28BA:
		mov	al, [si]
		inc	si
		and	al, dl
		mov	es:[di], al
		inc	di
		cmp	bx, 1
		jl	short loc_28D7
		lea	cx, [bx-1]
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		lodsb
		and	al, dh
		stosb

loc_28D7:
		mov	al, 0
		xchg	al, ah
		add	si, ax
		sub	si, bx
		mov	ah, al
		add	di, 4Fh	; 'O'
		sub	di, bx
		dec	bp
		jnz	short loc_28BA
		retn
; ---------------------------------------------------------------------------

loc_28EA:
		push	si
		push	ds
; ---------------------------------------------------------------------------
		db 0B8h
word_28ED	dw 1234h
		db 50h,	0BDh
word_28F1	dw 1234h
		db 0BFh
word_28F4	dw 1234h
		db 0BBh
word_28F7	dw 1234h
		db 0A1h, 60h, 36h, 48h,	80h, 0F9h, 0, 75h, 8, 8Ah, 0E0h
		db 1Fh,	68h, 22h, 29h, 0EBh, 0B0h, 2Eh,	88h, 1Eh, 89h
		db 28h,	2Bh, 0C3h, 2Eh,	0A3h, 0B0h, 28h, 0B8h, 4Fh, 0
		db 2Bh,	0C3h, 2Eh, 0A3h, 0B4h, 28h, 1Fh, 0E8h, 52h, 0FFh
		db 1Fh,	5Eh, 81h, 0C6h
word_2926	dw 1234h
; ---------------------------------------------------------------------------
		retn
; ---------------------------------------------------------------------------
		db 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_292A	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	ds
		push	si
		push	di
		mov	bx, [bp+arg_0]
		shl	bx, 1
		mov	dx, [bx+3260h]
		mov	cx, [bp+arg_4]
		mov	bp, [bp+arg_2]
		mov	ax, bp
		shl	ax, 2
		add	bp, ax
		shl	bp, 4
		mov	ax, cx
		and	cx, 7
		shr	ax, 3
		add	bp, ax
		mov	si, cx
		mov	ch, dh
		shr	ch, 1
		mov	al, dl
		mov	ah, [si+820h]
		mov	cs:word_2AD7, ax
		test	bp, 1
		jnz	short loc_299A
		test	dh, 1
		jnz	short loc_2984
		mov	cs:byte_2A37, ch
		mov	al, 50h	; 'P'
		sub	al, dh
		mov	cs:byte_2A35, al
		mov	cs:word_2ADA, 0FF3Eh
		jmp	short loc_29CC
; ---------------------------------------------------------------------------

loc_2984:
		mov	cs:byte_2A65, ch
		mov	al, 50h	; 'P'
		sub	al, dh
		mov	cs:byte_2A63, al
		mov	cs:word_2ADA, 0FF62h
		jmp	short loc_29CC
; ---------------------------------------------------------------------------

loc_299A:
		dec	bp
		test	dh, 1
		jnz	short loc_29B8
		dec	ch
		mov	cs:byte_2A9C, ch
		mov	al, 4Eh	; 'N'
		sub	al, dh
		mov	cs:byte_2A9A, al
		mov	cs:word_2ADA, 0FF90h
		jmp	short loc_29CC
; ---------------------------------------------------------------------------

loc_29B8:
		mov	cs:byte_2ACD, ch
		mov	al, 4Fh	; 'O'
		sub	al, dh
		mov	cs:byte_2ACB, al
		mov	cs:word_2ADA, 0FFC6h

loc_29CC:
		mov	ds, word ptr [bx+2E60h]
		xor	si, si
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	ax, si
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		call	loc_2AD4
		mov	ax, 0FFCEh
		out	7Ch, al
		mov	al, ah
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		out	7Eh, al
		call	loc_2AD4
		mov	al, 0CDh ; 'Í'
		out	7Ch, al
		call	loc_2AD4
		mov	al, 0CBh ; 'Ë'
		out	7Ch, al
		call	loc_2AD4
		mov	al, 0C7h ; 'Ç'
		out	7Ch, al
		call	loc_2AD4
		xor	al, al
		out	7Ch, al
		pop	di
		pop	si
		pop	ds
		pop	bp
		retf	6
sub_292A	endp

; ---------------------------------------------------------------------------
		db 32h,	0D2h, 0ADh, 0D3h, 0C8h,	8Ah, 0F0h, 22h,	0C7h, 32h
		db 0F0h, 0Ah, 0C2h, 0ABh, 8Ah, 0D6h, 0FEh, 0CDh, 75h, 0EEh
		db 26h,	88h, 15h, 8Ah, 0D5h, 83h, 0C7h
byte_2A35	db 50h
		db 0B5h
byte_2A37	db 11h
		db 0FEh, 0CBh, 75h, 0E0h, 0C3h,	90h, 32h, 0D2h,	0Ah, 0EDh
		db 74h,	12h, 0ADh, 0D3h, 0C8h, 8Ah, 0F0h, 22h, 0C7h, 32h
		db 0F0h, 0Ah, 0C2h, 0ABh, 8Ah, 0D6h, 0FEh, 0CDh, 75h, 0EEh
		db 0ACh, 32h, 0E4h, 0D3h, 0C8h,	0Ah, 0C2h, 0ABh, 4Fh, 8Ah
		db 0D5h, 83h, 0C7h
byte_2A63	db 50h
		db 0B5h
byte_2A65	db 11h
		db 0FEh, 0CBh, 75h, 0D6h, 0C3h,	90h, 0ACh, 32h,	0E4h, 0D3h
		db 0C8h, 8Ah, 0D4h, 86h, 0E0h, 32h, 0C0h, 0ABh,	0Ah, 0EDh
		db 74h,	12h, 0ADh, 0D3h, 0C8h, 8Ah, 0F0h, 22h, 0C7h, 32h
		db 0F0h, 0Ah, 0C2h, 0ABh, 8Ah, 0D6h, 0FEh, 0CDh, 75h, 0EEh
		db 0ACh, 32h, 0E4h, 0D3h, 0C8h,	0Ah, 0C2h, 0ABh, 8Ah, 0D5h
		db 83h,	0C7h
byte_2A9A	db 50h
		db 0B5h
byte_2A9C	db 11h
		db 0FEh, 0CBh, 75h, 0CBh, 0C3h,	0ACh, 32h, 0E4h, 0D3h
		db 0C8h, 8Ah, 0D4h, 86h, 0E0h, 32h, 0C0h, 0ABh,	0Ah, 0EDh
		db 74h,	12h, 0ADh, 0D3h, 0C8h, 8Ah, 0F0h, 22h, 0C7h, 32h
		db 0F0h, 0Ah, 0C2h, 0ABh, 8Ah, 0D6h, 0FEh, 0CDh, 75h, 0EEh
		db 26h,	88h, 15h, 8Ah, 0D5h, 83h, 0C7h
byte_2ACB	db 50h
		db 0B5h
byte_2ACD	db 11h
		db 0FEh, 0CBh, 75h, 0D0h, 0C3h,	90h
; ---------------------------------------------------------------------------

loc_2AD4:
		mov	di, bp
; ---------------------------------------------------------------------------
		db 0BBh
word_2AD7	dw 1234h
		db 0E9h
word_2ADA	dw 0FF3Eh

; =============== S U B	R O U T	I N E =======================================


sub_2ADC	proc far
		push	si
		push	di
		mov	ah, 52h
		int	21h		; DOS -	2+ internal - GET LIST OF LISTS
					; Return: ES:BX	-> DOS list of lists
		cld
		mov	bx, es:[bx-2]

loc_2AE7:
		mov	es, bx
		assume es:nothing
		inc	bx
		mov	ax, es:1
		or	ax, ax
		jz	short loc_2AFF
		mov	di, 10h
		mov	cx, 0Ah
		mov	si, 856h
		repe cmpsb
		jz	short loc_2B10

loc_2AFF:
		mov	ax, es:3
		add	bx, ax
		mov	al, es:0
		cmp	al, 4Dh	; 'M'
		jz	short loc_2AE7
		mov	bx, 0

loc_2B10:
		mov	ax, bx
		mov	ResPalSeg, ax
		pop	di
		pop	si
		retf
sub_2ADC	endp


; =============== S U B	R O U T	I N E =======================================


sub_2B18	proc far
		push	si
		push	di
		nop
		push	cs
		call	near ptr sub_2ADC
		or	ax, ax
		mov	ax, 2
		jnz	short loc_2B8A
		mov	ax, 5800h
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: get allocation strategy
		mov	dx, ax
		mov	ax, 5801h
		mov	bx, 1
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ah, 48h	; 'H'
		mov	bx, 4
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired
		mov	cx, 0
		jb	short loc_2B81
		mov	bx, cs
		cmp	bx, ax
		jnb	short loc_2B5C
		mov	es, ax
		assume es:nothing
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed
		mov	ax, 5801h
		mov	bx, 2
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ah, 48h	; 'H'
		mov	bx, 4
		int	21h		; DOS -	2+ - ALLOCATE MEMORY
					; BX = number of 16-byte paragraphs desired

loc_2B5C:
		mov	cx, ax
		mov	ResPalSeg, ax
		dec	cx
		mov	es, cx
		assume es:nothing
		mov	ax, 0FFFFh
		mov	es:1, ax
		inc	cx
		mov	es, cx
		assume es:nothing
		cld
		xor	di, di
		mov	si, 856h
		mov	cx, 0Ah
		rep movsb
		xor	ax, ax
		stosw
		stosw
		stosw
		mov	cx, 1

loc_2B81:
		mov	ax, 5801h
		mov	bx, dx
		int	21h		; DOS -	3+ - GET/SET MEMORY ALLOCATION STRATEGY
					; AL = function	code: set allocation strategy
		mov	ax, cx

loc_2B8A:
		pop	di
		pop	si
		retf
sub_2B18	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_2B8E	proc far
		mov	ax, ResPalSeg
		or	ax, ax
		jnz	short loc_2B9E
		nop
		push	cs
		call	near ptr sub_2ADC
		or	ax, ax
		jnz	short locret_2BAA

loc_2B9E:
		mov	es, ax
		assume es:nothing
		mov	ah, 49h
		int	21h		; DOS -	2+ - FREE MEMORY
					; ES = segment address of area to be freed
		mov	ResPalSeg, 0

locret_2BAA:
		retf
sub_2B8E	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_2BAC	proc far
		mov	cx, 100h
		mov	dx, 188h

loc_2BB2:
		in	al, dx
		inc	al
		jnz	short loc_2BBD
		loop	loc_2BB2
		xor	ax, ax
		jmp	short loc_2BD1
; ---------------------------------------------------------------------------

loc_2BBD:
		pushf
		cli
		mov	bh, 7
		call	sub_20EA
		and	al, 3Fh
		or	al, 80h
		mov	bl, al
		call	sub_20D4
		popf
		mov	ax, 1

loc_2BD1:
		mov	word_F524, ax
		retf
sub_2BAC	endp

; ---------------------------------------------------------------------------
		nop

loc_2BD6:
		mov	ax, word_F4CE
		mov	cs:word_2C18, ax
		mov	ax, word_11DDC
		mov	cs:word_2C89, ax
		mov	ax, word_11DE4
		mov	cs:word_2C97, ax
		mov	ax, word_11DD8
		mov	cs:word_2C81, ax
		mov	ax, word_11DE0
		mov	cs:word_2C93, ax
		mov	ax, word_F4C0
		mov	cs:word_2C1D, ax
		mov	cs:word_2C47, ax
		mov	ax, word_F4C2
		mov	cs:word_2C37, ax
		jmp	short $+2
		push	bp
		mov	cx, word_11DD6
		mov	bp, word_11DDE
; ---------------------------------------------------------------------------
		db 81h,	0FEh
word_2C18	dw 1234h
		db 77h,	61h, 0B8h
word_2C1D	dw 1234h
		db 2Bh,	0C8h, 8Bh, 0DDh, 2Bh, 0D8h, 85h, 0CBh, 78h, 54h
		db 3Bh,	0CBh, 7Fh, 2, 87h, 0CBh, 80h, 0FFh, 80h, 1Bh, 0C0h
		db 23h,	0D8h, 0BFh
word_2C37	dw 1234h
		db 2Bh,	0CFh, 1Bh, 0C0h, 23h, 0C8h, 3, 0CFh, 2Bh, 0CBh
		db 7Ch,	38h, 81h, 0C3h
word_2C47	dw 1234h
		db 8Bh,	0FBh, 0C1h, 0EFh, 4, 0D1h, 0E7h, 3, 0FEh, 83h
		db 0E3h, 0Fh, 3, 0CBh, 83h, 0E9h, 10h, 0D1h, 0E3h, 8Bh
		db 87h,	0F0h, 4, 0F7h, 0D0h, 23h, 6, 60h, 8, 8Bh, 0D9h
		db 83h,	0E3h, 0Fh, 0D1h, 0E3h, 0C1h, 0F9h, 4, 78h, 6, 0ABh
		db 0A1h, 60h, 8, 0F3h, 0ABh, 23h, 87h, 0F2h, 4,	0ABh, 81h
		db 6, 0FAh, 2Dh
word_2C81	dw 1234h
		db 8Bh,	0Eh, 0F6h, 2Dh,	81h, 0D1h
word_2C89	dw 1234h
		db 89h,	0Eh, 0F6h, 2Dh,	81h, 6,	2, 2Eh
word_2C93	dw 1234h
		db 81h,	0D5h
word_2C97	dw 1234h
		db 83h,	0C6h, 50h, 4Ah,	78h, 3,	0E9h, 74h, 0FFh, 89h, 2Eh
		db 0FEh, 2Dh, 5Dh, 0C3h

; =============== S U B	R O U T	I N E =======================================


sub_2CA8	proc near
		mov	bh, 0Fh
		call	sub_20D4
		mov	dx, 188h
		mov	al, 0Eh
		out	dx, al
		inc	dx
		inc	dx
		in	al, dx
		not	al
		retn
sub_2CA8	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_2CBA	proc far
		pushf
		cli
		mov	bl, 80h	; '€'
		call	sub_2CA8
		and	ax, 3Fh
		popf
		retf
sub_2CBA	endp

; ---------------------------------------------------------------------------
		xchg	dx, bx
		out	dx, al
		xchg	dx, bx
		in	al, dx
		not	al
		retn
; ---------------------------------------------------------------------------

include libs/master.lib/bgm_bell_org.asm
include libs/master.lib/bgm_mget.asm
include libs/master.lib/bgm_read_sdata.asm
include libs/master.lib/bgm_timer.asm
include libs/master.lib/bgm_pinit.asm
include libs/master.lib/bgm_timerhook.asm
include libs/master.lib/bgm_play.asm
include libs/master.lib/bgm_sound.asm
include libs/master.lib/bgm_effect_sound.asm
include libs/master.lib/bgm_stop_play.asm
include libs/master.lib/bgm_set_tempo.asm
include libs/master.lib/bgm_init_finish.asm
include libs/master.lib/bgm_stop_sound.asm

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR sub_35B0

loc_35AA:
		pop	di
		pop	si
		pop	bp
		retf	0Ah
; END OF FUNCTION CHUNK	FOR sub_35B0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_35B0	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

; FUNCTION CHUNK AT 35AA SIZE 00000006 BYTES

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_6]
		mov	cx, [bp+arg_0]
		sar	cx, 3
		jle	short loc_35AA
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_8]
		sar	di, 3
		jns	short loc_35D6
		add	cx, di
		jle	short loc_35AA
		shl	di, 2
		add	si, di
		xor	di, di

loc_35D6:
		cmp	di, 50h	; 'P'
		jge	short loc_35AA
		add	cx, di
		cmp	cx, 50h	; 'P'
		jl	short loc_35E5
		mov	cx, 50h	; 'P'

loc_35E5:
		sub	cx, di
		imul	ax, 50h
		add	di, ax
		push	ds
		mov	es, word_F4CC
		assume es:nothing
		mov	ds, [bp+arg_4]
		mov	bp, cx
		cld
		nop

loc_35F8:
		mov	cl, 2
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		mov	ax, cs:[bx+1C88h]
		mov	dx, cs:[bx+1C8Ah]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1C88h]
		or	dx, cs:[bx+1C8Ah]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1C88h]
		or	dx, cs:[bx+1C8Ah]
		inc	si
		shl	ax, cl
		shl	dx, cl
		mov	bl, [si]
		mov	bh, 0
		shl	bx, cl
		or	ax, cs:[bx+1C88h]
		or	dx, cs:[bx+1C8Ah]
		inc	si
		mov	es:[di], al
		mov	bx, es
		mov	es:[di-8000h], ah
		add	bh, 10h
		mov	es, bx
		assume es:nothing
		mov	es:[di], dl
		add	bh, 28h	; '('
		mov	es, bx
		assume es:nothing
		mov	es:[di], dh
		sub	bh, 38h	; '8'
		mov	es, bx
		assume es:nothing
		inc	di
		dec	bp
		jnz	short loc_35F8
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ah
sub_35B0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3674	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	es, word_F518
		assume es:nothing
		mov	cx, [bp+arg_A]
		mov	di, [bp+arg_8]
		mov	bx, [bp+arg_6]
		lds	si, [bp+arg_2]
		mov	dx, [bp+arg_0]
		mov	bp, bx
		mov	ax, di
		shl	ax, 2
		add	di, ax
		shl	di, 4
		mov	al, 0C0h ; 'À'
		pushf
		cli
		out	7Ch, al
		popf
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		mov	al, 0Bh
		out	68h, al

loc_36BC:
		lodsb
		or	al, al
		jz	short loc_370E
		mov	ah, 0
		add	ax, 5680h
		and	ax, 0FF7Fh
		mov	bx, cx
		and	cx, 7
		shr	bx, 3
		add	di, bx
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	dx, 10h
		xor	ch, ch

loc_36DE:
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, ch
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	bh, al
		mov	bl, 0
		shr	ax, cl
		shr	bx, cl
		xchg	al, ah
		stosw
		mov	es:[di], bl
		add	di, 4Eh	; 'N'
		inc	ch
		dec	dx
		jnz	short loc_36DE
		sub	di, 500h
		xor	ch, ch
		add	cx, bp
		jmp	short loc_36BC
; ---------------------------------------------------------------------------

loc_370E:
		mov	al, 0Ah
		out	68h, al
		xor	al, al
		out	7Ch, al
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ch
sub_3674	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_371E	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	di
		mov	cx, [bp+arg_6]
		mov	di, [bp+arg_4]
		mov	dx, [bp+arg_0]
		mov	bp, [bp+arg_2]
		add	bp, 5680h
		and	bp, 0FF7Fh
		pushf
		mov	al, 0C0h ; 'À'
		cli
		out	7Ch, al
		popf
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		mov	al, 0Bh
		out	68h, al
		mov	ax, di
		shl	ax, 2
		add	di, ax
		shl	di, 4
		mov	ax, cx
		and	cx, 7
		shr	ax, 3
		add	di, ax
		mov	es, word_F518
		mov	ax, bp
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		mov	dx, 10h
		xor	ch, ch

loc_377E:
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, ch
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	bh, al
		mov	bl, 0
		shr	ax, cl
		shr	bx, cl
		xchg	al, ah
		stosw
		mov	es:[di], bl
		add	di, 4Eh	; 'N'
		inc	ch
		dec	dx
		jnz	short loc_377E
		mov	al, 0Ah
		out	68h, al
		xor	al, al
		out	7Ch, al
		pop	di
		pop	bp
		retf	8
sub_371E	endp

; ---------------------------------------------------------------------------
		nop
dword_37B2	dd 0
byte_37B6	db 0
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_37B8	proc far
					; sub_C490+309P ...

var_10		= word ptr -10h
var_A		= word ptr -0Ah
arg_0		= dword	ptr  6

		enter	10h, 0
		push	si
		push	di
		mov	ax, word ptr cs:dword_37B2
		or	ax, word ptr cs:dword_37B2+2
		jnz	short loc_3831
		push	large [bp+arg_0]
		push	cs
		call	near ptr sub_A58
		lea	ax, [bp+var_10]
		push	ss
		push	ax
		push	10h
		push	cs
		call	near ptr sub_9A4
		mov	di, [bp+var_10]
		mov	si, [bp+var_A]
		push	di
		call	hmem_allocbyte
		mov	word_12EFC, ax
		push	ax
		push	0
		push	di
		push	cs
		call	near ptr sub_9A4
		push	cs
		call	near ptr sub_938
		mov	cx, di
		mov	ax, word_12EFC
		mov	es, ax
		mov	ax, si
		xor	bx, bx

loc_3801:
		xor	es:[bx], al
		sub	al, es:[bx]
		inc	bx
		loop	loc_3801
		mov	ax, 3521h
		int	21h		; DOS -	2+ - GET INTERRUPT VECTOR
					; AL = interrupt number
					; Return: ES:BX	= value	of interrupt vector
		mov	word ptr cs:dword_37B2,	bx
		mov	word ptr cs:dword_37B2+2, es
		mov	word_12EF8, 0
		mov	word_12EFA, 0FFFFh
		push	ds
		push	cs
		pop	ds
		assume ds:seg000
		mov	dx, 3890h
		mov	ax, 2521h
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		assume ds:dseg

loc_3831:
		push	ds
		mov	cx, 0FFFFh
		mov	al, 0
		les	di, [bp+arg_0]
		repne scasb
		not	cx
		sub	di, cx
		mov	si, di
		mov	di, 3E98h
		push	ds
		push	es
		pop	ds
		pop	es
		shr	cx, 1
		rep movsw
		adc	cx, cx
		rep movsb
		pop	ds
		pop	di
		pop	si
		leave
		retf	4
sub_37B8	endp


; =============== S U B	R O U T	I N E =======================================


sub_3858	proc far
					; sub_C490:loc_C790P ...
		mov	ax, word ptr cs:dword_37B2
		or	ax, word ptr cs:dword_37B2+2
		jz	short locret_388F
		push	word_12EFC
		call	hmem_free
		push	ds
		lds	dx, cs:dword_37B2
		mov	ax, 2521h
		int	21h		; DOS -	SET INTERRUPT VECTOR
					; AL = interrupt number
					; DS:DX	= new vector to	be used	for specified interrupt
		pop	ds
		xor	ax, ax
		mov	word ptr cs:dword_37B2,	ax
		mov	word ptr cs:dword_37B2+2, ax
		cmp	word_12EF8, ax
		jz	short locret_388F
		push	word_12EF8
		push	cs
		call	near ptr sub_1AFA

locret_388F:
		retf
sub_3858	endp

; ---------------------------------------------------------------------------
		cmp	cs:byte_37B6, 0
		jz	short loc_389D
		jmp	cs:dword_37B2
; ---------------------------------------------------------------------------

loc_389D:
		pusha
		push	ds
		push	es
		mov	bp, sp
		mov	di, seg	dseg
		mov	ds, di
		inc	cs:byte_37B6
		push	word ptr [bp+18h]
		popf
		mov	cs:byte_38F4, ah
		mov	si, 38C4h

loc_38B8:
		add	si, 4
		cmp	ah, cs:[si]
		jnz	short loc_38B8
		mov	di, word_12EFA
		jmp	word ptr cs:[si+2]
; ---------------------------------------------------------------------------
		db 3Dh,	0, 0F8h, 38h, 3Eh, 0, 2Ah, 39h,	3Fh, 0,	47h, 39h
		db 42h,	0, 5Bh,	39h, 46h, 0, 0BCh, 39h,	40h, 0,	0C0h, 39h
		db 45h,	0, 0C0h, 39h, 4Ch, 0, 9Eh, 39h,	57h, 0,	0C0h, 39h
		db 5Ch,	0, 0C0h, 39h, 44h, 0, 0AAh, 39h
byte_38F4	db 0
		db 0
		les	di, [bx+di]
		test	al, 0Fh
		jnz	loc_39C4
		or	di, di
		jns	loc_39C4
		push	ds
		push	offset unk_12E78
		push	word ptr [bp+2]
		push	dx
		push	cs
		call	near ptr sub_39F0
		or	ax, ax
		jz	loc_39C4
		mov	word_12EF8, ax
		mov	es, ax
		mov	es, word ptr es:0
		mov	ax, es:0
		mov	word_12EFA, ax
		jmp	loc_39DF
; ---------------------------------------------------------------------------
		cmp	bx, di
		jnz	loc_39C4
		push	word_12EF8
		push	cs
		call	near ptr sub_1AFA
		mov	word_12EF8, 0
		mov	word_12EFA, 0FFFFh
		jmp	loc_39DF
; ---------------------------------------------------------------------------
		cmp	bx, di
		jnz	short loc_39C4
		push	word ptr [bp+2]
		push	dx
		push	cx
		push	word_12EF8
		push	cs
		call	near ptr sub_1BC4
		jmp	loc_39DF
; ---------------------------------------------------------------------------
		cmp	bx, di
		jnz	short loc_39C4
		or	cx, cx
		jl	short loc_39D6
		cmp	al, 1
		jz	short loc_398F
		jl	short loc_3983
		mov	es, word_12EF8
		mov	dx, es:16h
		mov	cx, es:18h
		sub	dx, es:12h
		sbb	cx, es:14h
		jmp	short loc_398F
; ---------------------------------------------------------------------------

loc_3983:
		push	cx
		push	dx
		push	word_12EF8
		push	cs
		call	near ptr sub_1BF2
		pop	dx
		pop	cx

loc_398F:
		push	word_12EF8
		push	cx
		push	dx
		push	cs
		call	near ptr sub_1C2E
		mov	[bp+0Eh], dx
		jmp	short loc_39DF
; ---------------------------------------------------------------------------
		db 2Eh,	0C5h, 16h, 0B2h, 37h, 0B8h, 21h, 25h, 0CDh, 21h
		db 0EBh, 1Ah, 8Ah, 0C8h, 0B8h, 1, 0, 0D3h, 0E0h, 2Eh, 85h
		db 6, 0BAh, 39h, 75h, 8, 0EBh, 0Ah, 0CFh, 14h, 8Bh, 0CFh
		db 74h,	16h, 3Bh, 0DFh,	74h, 12h
; ---------------------------------------------------------------------------

loc_39C4:
		dec	cs:byte_37B6
		push	word ptr [bp+18h]
		popf
		pop	es
		pop	ds
		popa
		cli
		jmp	cs:dword_37B2
; ---------------------------------------------------------------------------

loc_39D6:
		or	byte ptr [bp+18h], 1
		mov	ax, 1
		jmp	short loc_39E3
; ---------------------------------------------------------------------------

loc_39DF:
		and	byte ptr [bp+18h], 0FEh

loc_39E3:
		mov	[bp+12h], ax
		dec	cs:byte_37B6
		pop	es
		pop	ds
		popa
		iret
; ---------------------------------------------------------------------------
		db 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_39F0	proc far

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	1Fh
		call	hmem_allocbyte
		jb	loc_3AD8
		mov	si, ax
		push	large [bp+arg_4]
		push	cs
		call	near ptr sub_682
		or	ax, ax
		jz	loc_3AD1
		mov	es, si
		mov	es:0, ax
		mov	ax, word_12EFC
		mov	fs, ax
		xor	ax, ax
		mov	di, ax

loc_3A1E:
		cmp	byte ptr fs:[di], 0
		jz	loc_3AC6
		lea	bx, [di+3]
		push	large [bp+arg_0]
		push	fs
		push	bx
		call	sub_3AE0
		jnz	short loc_3A3A
		add	di, 20h	; ' '
		jmp	short loc_3A1E
; ---------------------------------------------------------------------------

loc_3A3A:
		mov	es, si
		mov	eax, fs:[di+14h]
		mov	es:0Eh,	eax
		push	word ptr es:0
		push	eax
		push	0
		call	bseek_
		mov	ax, 1B72h
		mov	dl, fs:[di+2]
		or	dl, dl
		mov	es, si
		jz	short loc_3A68
		mov	es:1Eh,	dl
		mov	ax, 1BB6h

loc_3A68:
		mov	es:4, ax
		mov	ax, fs:[di]
		cmp	ax, 0F388h
		jz	short loc_3A7E
		cmp	ax, 9595h
		jz	short loc_3A88
		mov	ax, 5
		jmp	short loc_3AC6
; ---------------------------------------------------------------------------

loc_3A7E:
		mov	ax, es:4
		mov	es:2, ax
		jmp	short loc_3A9D
; ---------------------------------------------------------------------------

loc_3A88:
		mov	word ptr es:2, 1B24h
		mov	word ptr es:1Ah, 0
		mov	word ptr es:1Ch, 0FFFFh

loc_3A9D:
		movzx	ebx, word ptr fs:[di+10h]
		movzx	edx, word ptr fs:[di+12h]
		mov	es:6, ebx
		mov	es:16h,	edx
		xor	eax, eax
		mov	es:0Ah,	eax
		mov	es:12h,	eax
		mov	ax, si
		jmp	short loc_3ADA
; ---------------------------------------------------------------------------

loc_3AC6:
		mov	es, si
		push	word ptr es:0
		call	bcloser

loc_3AD1:
		push	si
		call	hmem_free
		jmp	short $+2

loc_3AD8:
		xor	ax, ax

loc_3ADA:
		pop	di
		pop	si
		pop	bp
		retf	8
sub_39F0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_3AE0	proc near

arg_0		= dword	ptr  4
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	ds
		cld
		les	bx, [bp+arg_4]
		lds	si, [bp+arg_0]

loc_3AEC:
		mov	ah, es:[bx]
		inc	bx
		lodsb
		sub	al, 61h	; 'a'
		cmp	al, 19h
		ja	short loc_3AF9
		sub	al, 20h	; ' '

loc_3AF9:
		sub	ah, 61h	; 'a'
		cmp	ah, 19h
		ja	short loc_3B04
		sub	ah, 20h	; ' '

loc_3B04:
		cmp	ah, al
		jnz	short loc_3B0E
		add	al, 61h	; 'a'
		jnz	short loc_3AEC
		jmp	short loc_3B10
; ---------------------------------------------------------------------------

loc_3B0E:
		xor	ax, ax

loc_3B10:
		test	ax, ax
		pop	ds
		pop	si
		pop	bp
		retn	8
sub_3AE0	endp

include libs/BorlandC/__abort.asm
include libs/BorlandC/stpcpy.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; void abort(void)
_abort		proc far
					; ___call_terminate+6Ep ...
		push	si
		push	di
		mov	ax, 16h
		push	ax
		nop
		call	raise
		pop	cx
		nop
		push	cs
		call	near ptr __abort
_abort		endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

include libs/BorlandC/atexit.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl registerbgidriver(void (*driver)(void))
_registerbgidriver proc	far
					; seg000:4304p	...

driver		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_2]
		push	[bp+driver]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
_registerbgidriver endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl registerbgifont(void (*font)(void))
_registerbgifont proc far

driver		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
_registerbgifont endp

include libs/BorlandC/dosenv.asm
include libs/BorlandC/dosgdriv.asm
include libs/BorlandC/errormsg.asm
include libs/BorlandC/exit.asm
include libs/BorlandC/f_scopy.asm
include libs/BorlandC/getvect.asm
include libs/BorlandC/H_LDIV.ASM
include libs/BorlandC/H_LLSH.ASM
include libs/BorlandC/H_PADD.ASM
include libs/BorlandC/__IOERROR.ASM
include libs/BorlandC/_isatty.asm
include libs/BorlandC/lseek.asm

; ---------------------------------------------------------------------------
		dd byte_4284
		db 4, 0, 0FAh, 0FFh, 0Ah dup(0), 0DCh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	59h, 40h
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		sub	sp, 24h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 4067h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax
		push	ax
		push	ax
		push	ax
		mov	ax, 5
		push	ax
		mov	ax, seg	seg000
		push	ax
		mov	ax, 415Fh
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	ds
		mov	ax, 2A9Ah
		push	ax
		push	ss
		lea	ax, [bp-6]
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		mov	ax, word_11A7E
		mov	[bp-2],	ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp-6]
		push	ss
		push	ax
		push	cs
		mov	ax, 4284h
		push	ax
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_new_handler(void (*)(void))
@set_new_handler$qnqv$v	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	dx, seg_11A82
		mov	ax, word_11A80
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	seg_11A82, dx
		mov	word_11A80, ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_new_handler$qnqv$v	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; operator new(unsigned	int)
@$bnew$qui	proc far
					; xmsg::xmsg(string &)+21p ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	[bp+var_2], 0
		mov	[bp+var_4], 0
		cmp	[bp+arg_0], 0
		jz	short loc_412B
		mov	ax, [bp+arg_0]
		jmp	short loc_412E
; ---------------------------------------------------------------------------

loc_412B:
		mov	ax, 1

loc_412E:
		mov	[bp+arg_0], ax
		jmp	short loc_4137
; ---------------------------------------------------------------------------

loc_4133:
		call	dword ptr word_11A80

loc_4137:
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jnz	short loc_4153
		mov	ax, word_11A80
		or	ax, seg_11A82
		jnz	short loc_4133

loc_4153:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@$bnew$qui	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+0Ah]
		mov	ax, es:[bx+4]
		les	bx, [bp+6]
		mov	es:[bx+4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		dd byte_4284
		dw 0
		dd unk_11A7A
		dd byte_424A
		db 4, 0, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	0A2h, 41h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::contains(char	const *)const
@string@contains$xqnxc proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
driver		= byte ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 41BAh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_16], 6
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 2AA4h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		call	@string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ds
		mov	ax, 2A9Ah
		push	ax
		nop
		push	cs
		call	near ptr @xalloc@$bctr$qmx6stringui ; xalloc::xalloc(string &,uint)
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 10h
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@contains$xqnxc endp

; ---------------------------------------------------------------------------

loc_4223:
		push	si
		push	di
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	ds
		mov	ax, 2A9Ah
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
byte_424A	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
		db 0Dh dup(0), 1, 0, 1,	0, 9, 3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_4284	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 0C6h, 42h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 13h,	43h
		dw seg seg000
		dw 0
		db 3, 0Dh dup(0)
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_430D
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_430B
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_430F
; ---------------------------------------------------------------------------

loc_430B:
		jmp	short loc_430F
; ---------------------------------------------------------------------------

loc_430D:
		xor	ax, ax

loc_430F:
					; seg000:loc_430Bj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 0A2h, 63h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)

include libs/BorlandC/N_LXMUL.ASM
include libs/BorlandC/N_PCMP.ASM
include libs/BorlandC/setupio.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl toupper(int ch)
_toupper	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_0]
		cmp	dx, 0FFFFh
		jnz	short loc_4439
		mov	ax, 0FFFFh
		jmp	short loc_4453
; ---------------------------------------------------------------------------

loc_4439:
		mov	al, dl
		mov	ah, 0
		mov	bx, ax
		test	(__ctype+1)[bx], 8
		jz	short loc_444F
		mov	al, dl
		mov	ah, 0
		add	ax, 0FFE0h
		jmp	short loc_4453
; ---------------------------------------------------------------------------

loc_444F:
		mov	al, dl
		mov	ah, 0

loc_4453:
		pop	di
		pop	si
		pop	bp
		retf
_toupper	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __RefDestructorCount(void)
@__RefDestructorCount$qv proc far
		mov	dx, ss
		mov	ax, 10h
		retf
@__RefDestructorCount$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __RefExceptionList(void)
@__RefExceptionList$qv proc far
					; ___ExitExceptBlocks+4p
		mov	dx, ss
		mov	ax, 14h
		retf
@__RefExceptionList$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

___InitExceptBlocks proc far
					; string::contains(char	*)+10p	...
		mov	es, ax
		mov	dx, bx
		mov	cx, bp
		mov	bx, es:[bx+4]
		add	bx, cx
		mov	ss:[bx+6], dx
		mov	ss:[bx+8], ax
		mov	ax, sp
		add	ax, 4
		mov	ss:[bx+0Ah], ax
		mov	ax, seg	dseg
		mov	ss:[bx+0Eh], ax
		mov	ss:[bx+10h], si
		mov	word ptr ss:[bx+2], offset __ExceptionHandler
		mov	word ptr ss:[bx+4], seg	seg000
		mov	word ptr ss:[bx+0Ch], 0
		mov	word ptr ss:[bx+12h], 0
		push	bx
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		pop	bx
		xchg	ax, bx
		mov	es, dx
		mov	cx, es:[bx]
		mov	dx, es:[bx+2]
		mov	bx, ax
		mov	ss:[bx+1Ah], cx
		mov	ss:[bx+1Ch], dx
		push	bx
		push	cs
		call	near ptr @__RefExceptionList$qv	; __RefExceptionList(void)
		pop	bx
		xchg	ax, bx
		mov	es, dx
		mov	cx, es:[bx]
		mov	es:[bx], ax
		mov	bx, ax
		mov	ss:[bx], cx
		retf
___InitExceptBlocks endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

___ExitExceptBlocks proc far
					; seg000:45D2p	...

arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		push	cs
		call	near ptr @__RefExceptionList$qv	; __RefExceptionList(void)
		mov	bx, [bp+arg_0]
		xchg	ax, bx
		mov	es, dx
		mov	es:[bx], ax
		pop	bp
		retf	2
___ExitExceptBlocks endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; terminate(void)
@terminate$qv	proc near
		push	si
		push	di
		nop
		push	cs
		call	near ptr _abort
@terminate$qv	endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_terminate(void (*)(void))
@set_terminate$qnqv$v proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_4526
		les	bx, ss:16h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+0Ch], dx
		mov	es:[bx+0Ah], ax

loc_4526:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_terminate$qnqv$v endp

; ---------------------------------------------------------------------------
		db 4 dup(0), 0C0h, 45h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 32h,	45h
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

___call_terminate proc far
					; sub_7117+272p ...

var_26		= dword	ptr -26h
var_22		= word ptr -22h
var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_12		= word ptr -12h

		push	bp
		mov	bp, sp
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 454Ah
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_22], ds
		nop
		push	cs
		call	near ptr _flushall
		les	bx, ss:16h
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax
		mov	[bp+var_12], 6
		les	bx, ss:16h
		cmp	word ptr es:[bx+12h], 0
		jnz	short loc_45A4
		les	bx, ss:16h
		mov	word ptr es:[bx+12h], ds

loc_45A4:
		les	bx, ss:16h
		mov	ax, es:[bx+12h]
		mov	[bp+var_20], ax
		mov	ds, [bp+var_20]
		call	[bp+var_26]
		mov	ds, [bp+var_22]
		mov	[bp+var_12], 0
		jmp	short loc_45C8
; ---------------------------------------------------------------------------
		mov	ds, [bp+var_22]
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_45C8:
		nop
		push	cs
		call	near ptr _abort
___call_terminate endp

; ---------------------------------------------------------------------------
		push	word ptr [bp-1Eh]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn

; unexpected(void)
@unexpected$qv	proc near
		push	si
		push	di
		push	cs
		call	near ptr ___call_terminate
@unexpected$qv	endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; set_unexpected(void (*)(void))
@set_unexpected$qnqv$v proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_461A
		les	bx, ss:16h
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	es:[bx+10h], dx
		mov	es:[bx+0Eh], ax

loc_461A:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@set_unexpected$qnqv$v endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function noreturn	bp-based frame

___call_unexpected proc	far

var_6		= dword	ptr -6
var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+10h]
		mov	ax, es:[bx+0Eh]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		les	bx, ss:16h
		cmp	word ptr es:[bx+14h], 0
		jnz	short loc_4656
		les	bx, ss:16h
		mov	word ptr es:[bx+14h], ds

loc_4656:
		les	bx, ss:16h
		mov	ax, es:[bx+14h]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		call	[bp+var_6]
		pop	ds
		nop
		push	cs
		call	near ptr _abort
___call_unexpected endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __GetPolymorphicDTC(void *, unsigned int)
@__GetPolymorphicDTC$qnvui proc	far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_4689
		xor	ax, ax
		jmp	short loc_46C3
; ---------------------------------------------------------------------------

loc_4689:
		les	bx, [bp+arg_0]
		add	bx, [bp+arg_4]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx+1Ah]

loc_46C3:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetPolymorphicDTC$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __GetPolymorphicDTCfar(void *, unsigned int)
@__GetPolymorphicDTCfar$qnvui proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_46DD
		xor	ax, ax
		jmp	short loc_471B
; ---------------------------------------------------------------------------

loc_46DD:
		les	bx, [bp+arg_0]
		add	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx+1Ah]

loc_471B:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetPolymorphicDTCfar$qnvui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

__ExceptInit	proc far
		push	si
		push	di
		mov	word ptr ss:12h, 0
		mov	word ptr ss:10h, 0
		mov	word ptr ss:18h, ds
		mov	word ptr ss:16h, 2BB6h
		mov	word ptr ss:1Ah, 0FEEDh
		mov	ax, ds
		mov	word_11BAA, ax
		mov	word_11BA8, ax
		mov	dx, ss:18h
		mov	ax, ss:16h
		add	ax, 0A8h ; '¨'
		les	bx, ss:16h
		mov	es:[bx+22h], dx
		mov	es:[bx+20h], ax
		mov	word ptr ss:14h, 0FFFFh
		pop	di
		pop	si
		retf
__ExceptInit	endp

; ---------------------------------------------------------------------------

unknown_libname_1:			; BCC v4.x/5.x DOS runtime
		pushf
		pop	bx
		mov	ax, 0FFFh
		and	ax, bx
		push	ax
		popf
		pushf
		pop	ax
		and	ax, 0F000h
		cmp	ax, 0F000h
		mov	word_11CBE, 0
		jz	short locret_47CA
		or	bx, 0F000h
		push	bx
		popf
		pushf
		pop	ax
		and	ax, 0F000h
		mov	word_11CBE, 2
		jz	short locret_47CA
		mov	edx, esp
		and	sp, 0FFFCh
		pushfd
		pop	eax
		mov	ecx, eax
		xor	eax, 40000h
		push	eax
		popfd
		pushfd
		pop	eax
		xor	eax, ecx
		mov	word_11CBE, 3
		mov	esp, edx
		jz	short locret_47CA
		mov	word_11CBE, 4

locret_47CA:
		retn
; ---------------------------------------------------------------------------

include libs/BorlandC/FARHEAP.ASM
include libs/BorlandC/fbrk.asm
include libs/BorlandC/signal.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far _access(char *pathname, char)
__access	proc far

pathname	= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax		; func
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		call	__chmod
		add	sp, 6
		mov	dx, ax
		cmp	dx, 0FFFFh
		jnz	short loc_50A6
		jmp	short loc_50BE
; ---------------------------------------------------------------------------

loc_50A6:
		test	[bp+arg_4], 2
		jz	short loc_50B1
		test	dl, 1
		jnz	short loc_50B5

loc_50B1:
		xor	ax, ax
		jmp	short loc_50BE
; ---------------------------------------------------------------------------

loc_50B5:
		mov	_errno, 5
		mov	ax, 0FFFFh

loc_50BE:
		pop	di
		pop	si
		pop	bp
		retf
__access	endp

; ---------------------------------------------------------------------------
		db 50h,	51h, 52h, 53h, 54h, 55h, 56h, 57h, 1Eh,	6, 8Bh
		db 0ECh, 0A1h, 8, 2Dh, 0Bh, 6, 0Ah, 2Dh, 75h, 27h, 0BEh
		db 2 dup(0FFh),	1Eh, 0B8h, 0, 63h, 0F8h, 0CDh, 21h, 8Ch
		db 0D8h, 1Fh, 72h, 0Bh,	8Ch, 0DAh, 3Bh,	0C2h, 74h, 5, 83h
		db 0FEh, 0FFh, 75h, 6, 0BEh, 0Ch, 2Dh, 0B8h
		dw seg dseg
; ---------------------------------------------------------------------------
		mov	word ptr dword_11CE8, si
		mov	word ptr dword_11CE8+2,	ax
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_510B	proc far
					; sub_554E+24Bp ...

arg_0		= byte ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	al, [bp+arg_0]
		xor	cx, cx
		les	bx, dword_11CE8

loc_5119:
		mov	dx, es:[bx]
		or	dx, dx
		jz	short loc_512B
		cmp	al, dl
		jb	short loc_512B
		inc	bx
		inc	bx
		cmp	al, dh
		ja	short loc_5119
		inc	cx

loc_512B:
		xchg	ax, cx
		pop	di
		pop	si
		pop	bp
		retf
sub_510B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5130	proc far
					; sub_554E+175p ...

var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		xor	cx, cx
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_5146:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5153
		xor	cx, cx
		jmp	short loc_5181
; ---------------------------------------------------------------------------

loc_5153:
		cmp	cx, 1
		jnz	short loc_515D
		mov	cx, 2
		jmp	short loc_5174
; ---------------------------------------------------------------------------

loc_515D:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		push	ax
		push	cs
		call	near ptr sub_510B
		pop	cx
		or	ax, ax
		jz	short loc_5172
		mov	cx, 1
		jmp	short loc_5174
; ---------------------------------------------------------------------------

loc_5172:
		xor	cx, cx

loc_5174:
		mov	ax, word ptr [bp+var_4]
		cmp	ax, [bp+arg_4]
		jnb	short loc_5181
		inc	word ptr [bp+var_4]
		jmp	short loc_5146
; ---------------------------------------------------------------------------

loc_5181:
		or	cx, cx
		jnz	short loc_518A
		mov	ax, 1
		jmp	short loc_518C
; ---------------------------------------------------------------------------

loc_518A:
		xor	ax, ax

loc_518C:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_5130	endp

include libs/BorlandC/chmoda.asm
include libs/BorlandC/fflush.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int flushall(void)
_flushall	proc far
					; _fflush+12p

var_8		= word ptr -8
var_6		= word ptr -6
stream		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	[bp+var_8], 0
		mov	ax, __nfile
		mov	[bp+var_6], ax
		mov	word ptr [bp+stream+2],	ds
		mov	word ptr [bp+stream], 2884h
		jmp	short loc_52BD
; ---------------------------------------------------------------------------

loc_52A1:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 3
		jz	short loc_52B9
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		call	_fflush
		pop	cx
		pop	cx
		inc	[bp+var_8]

loc_52B9:
		add	word ptr [bp+stream], 14h

loc_52BD:
		mov	ax, [bp+var_6]
		dec	[bp+var_6]
		or	ax, ax
		jnz	short loc_52A1
		mov	ax, [bp+var_8]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_flushall	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_52D0	proc near

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	word ptr es:[bx], 0
		jge	short loc_52ED
		mov	cx, es:[bx+6]
		add	cx, es:[bx]
		inc	cx
		mov	ax, cx
		jmp	short loc_52FA
; ---------------------------------------------------------------------------

loc_52ED:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		cwd
		xor	ax, dx
		sub	ax, dx
		mov	cx, ax

loc_52FA:
		mov	[bp+var_2], ax
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+2], 40h
		jnz	short loc_534E
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Eh]
		mov	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		cmp	word ptr es:[bx], 0
		jge	short loc_5347
		jmp	short loc_532F
; ---------------------------------------------------------------------------

loc_5320:
		dec	word ptr [bp+var_6]
		les	bx, [bp+var_6]
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_532F
		inc	[bp+var_2]

loc_532F:
		mov	ax, cx
		dec	cx
		or	ax, ax
		jnz	short loc_5320
		jmp	short loc_534E
; ---------------------------------------------------------------------------

loc_5338:
		les	bx, [bp+var_6]
		inc	word ptr [bp+var_6]
		cmp	byte ptr es:[bx], 0Ah
		jnz	short loc_5347
		inc	[bp+var_2]

loc_5347:
		mov	ax, cx
		dec	cx
		or	ax, ax
		jnz	short loc_5338

loc_534E:
		mov	ax, [bp+var_2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	4
sub_52D0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl fseek(FILE *stream, __int32 offset, int whence)
_fseek		proc far

stream		= dword	ptr  6
_offset		= dword	ptr  0Ah
whence		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream] ; stream
		nop
		call	_fflush
		pop	cx
		pop	cx
		or	ax, ax
		jz	short loc_5374
		mov	ax, 0FFFFh
		jmp	short loc_53D7
; ---------------------------------------------------------------------------

loc_5374:
		cmp	[bp+whence], 1
		jnz	short loc_5391
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jle	short loc_5391
		push	word ptr [bp+stream+2]
		push	bx
		call	sub_52D0
		cwd
		sub	word ptr [bp+_offset], ax
		sbb	word ptr [bp+_offset+2],	dx

loc_5391:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FE5Fh
		mov	word ptr es:[bx], 0
		mov	dx, es:[bx+0Ah]
		mov	ax, es:[bx+8]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		push	[bp+whence]	; fromwhere
		push	word ptr [bp+_offset+2]
		push	word ptr [bp+_offset] ; offset
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		cmp	dx, 0FFFFh
		jnz	short loc_53D5
		cmp	ax, 0FFFFh
		jnz	short loc_53D5
		mov	ax, 0FFFFh
		jmp	short loc_53D7
; ---------------------------------------------------------------------------

loc_53D5:
		xor	ax, ax

loc_53D7:
		pop	di
		pop	si
		pop	bp
		retf
_fseek		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; __int32 __cdecl ftell(FILE *stream)
_ftell		proc far

var_8		= word ptr -8
var_6		= word ptr -6
_offset		= dword	ptr -4
stream		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	ax, 1
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	word ptr [bp+_offset+2],	dx
		mov	word ptr [bp+_offset], ax
		cmp	dx, 0FFFFh
		jnz	short loc_540F
		cmp	ax, 0FFFFh
		jnz	short loc_540F
		jmp	loc_54B0
; ---------------------------------------------------------------------------

loc_540F:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jl	short loc_541B
		jmp	loc_54A0
; ---------------------------------------------------------------------------

loc_541B:
		mov	al, es:[bx+4]
		cbw
		add	ax, ax
		mov	bx, ax
		test	byte ptr [bx+2A17h], 8
		jz	short loc_548E
		mov	ax, 2
		push	ax		; fromwhere
		xor	ax, ax
		push	ax
		push	ax		; offset
		mov	bx, word ptr [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		cmp	dx, 0FFFFh
		jnz	short loc_5456
		cmp	ax, 0FFFFh
		jnz	short loc_5456
		jmp	short loc_54B6
; ---------------------------------------------------------------------------

loc_5456:
		xor	ax, ax
		push	ax		; fromwhere
		push	word ptr [bp+_offset+2]
		push	word ptr [bp+_offset] ; offset
		les	bx, [bp+stream]
		mov	al, es:[bx+4]
		cbw
		push	ax		; handle
		nop
		push	cs
		call	near ptr _lseek
		add	sp, 8
		cmp	dx, 0FFFFh
		jnz	short loc_5482
		cmp	ax, 0FFFFh
		jnz	short loc_5482
		mov	dx, 0FFFFh
		mov	ax, 0FFFFh
		jmp	short loc_54B6
; ---------------------------------------------------------------------------

loc_5482:
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	word ptr [bp+_offset+2],	dx
		mov	word ptr [bp+_offset], ax

loc_548E:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream]
		call	sub_52D0
		cwd
		add	word ptr [bp+_offset], ax
		adc	word ptr [bp+_offset+2],	dx
		jmp	short loc_54B0
; ---------------------------------------------------------------------------

loc_54A0:
		push	word ptr [bp+stream+2]
		push	word ptr [bp+stream]
		call	sub_52D0
		cwd
		sub	word ptr [bp+_offset], ax
		sbb	word ptr [bp+_offset+2],	dx

loc_54B0:
		mov	dx, word ptr [bp+_offset+2]
		mov	ax, word ptr [bp+_offset]

loc_54B6:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_ftell		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_54BC	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+arg_0]
		cmp	ax, 5Ch	; '\'
		jz	short loc_54CE
		cmp	ax, 2Fh	; '/'
		jnz	short loc_54D3

loc_54CE:
		mov	ax, 1
		jmp	short loc_54D5
; ---------------------------------------------------------------------------

loc_54D3:
		xor	ax, ax

loc_54D5:
		pop	di
		pop	si
		pop	bp
		retn	2
sub_54BC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_54DB	proc near
					; sub_554E+122p ...

arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	al, es:[bx]
		mov	ah, 0
		push	ax
		call	sub_54BC
		or	ax, ax
		jz	short loc_550D
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		nop
		push	cs
		call	near ptr sub_5130
		add	sp, 8
		or	ax, ax
		jz	short loc_550D
		mov	ax, 1
		jmp	short loc_550F
; ---------------------------------------------------------------------------

loc_550D:
		xor	ax, ax

loc_550F:
		pop	di
		pop	si
		pop	bp
		retn	8
sub_54DB	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_5515	proc far

var_C		= dword	ptr -0Ch
var_4		= word ptr -4
var_2		= word ptr -2
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 12h
		push	si
		push	di
		mov	ax, 0A1h ; '¡'
		push	ax
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jnz	short loc_5534
		jmp	loc_5777
; ---------------------------------------------------------------------------

loc_5534:
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		les	bx, [bp+var_C]
		mov	al, es:[bx]
		cbw
		mov	bx, ax
		test	byte ptr [bx+2AB5h], 0Ch
sub_5515	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_554E	proc far
		jz	short loc_5574
		mov	bx, [bp-0Ch]
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jnz	short loc_5574
		mov	al, es:[bx]
		cbw
		mov	[bp-10h], ax
		push	ax		; ch
		nop
		push	cs
		call	near ptr _toupper
		pop	cx
		add	ax, 0FFC0h
		mov	[bp-12h], ax
		add	word ptr [bp-0Ch], 2
		jmp	short loc_558A
; ---------------------------------------------------------------------------

loc_5574:
		push	ss
		lea	ax, [bp-12h]
		push	ax		; drive
		nop
		call	__dos_getdrive
		pop	cx
		pop	cx
		mov	ax, [bp-12h]
		add	ax, 41h	; 'A'
		dec	ax
		mov	[bp-10h], ax

loc_558A:
		les	bx, [bp-0Ch]
		mov	al, es:[bx]
		cbw
		push	ax
		call	sub_54BC
		or	ax, ax
		jnz	short loc_55F2
		mov	ax, 0A1h ; '¡'
		push	ax		; len
		push	word ptr [bp-2]
		push	word ptr [bp-4]	; buf
		push	word ptr [bp-12h] ; drive
		nopcall	__getdcwd
		add	sp, 8
		or	ax, dx
		jnz	short loc_55C2
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	loc_5777
; ---------------------------------------------------------------------------

loc_55C2:
		push	word ptr [bp-2]
		push	word ptr [bp-4]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	dx, [bp-2]
		add	ax, [bp-4]
		mov	[bp-6],	dx
		mov	[bp-8],	ax
		push	dx
		push	word ptr [bp-4]
		dec	ax
		push	dx
		push	ax
		call	sub_54DB
		or	ax, ax
		jnz	short loc_5614
		les	bx, [bp-8]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		jmp	short loc_5611
; ---------------------------------------------------------------------------

loc_55F2:
		mov	dx, [bp-2]
		mov	ax, [bp-4]
		mov	[bp-6],	dx
		mov	[bp-8],	ax
		les	bx, [bp-8]
		mov	al, [bp-10h]
		mov	es:[bx], al
		inc	word ptr [bp-8]
		les	bx, [bp-8]
		mov	byte ptr es:[bx], 3Ah ;	':'

loc_5611:
		inc	word ptr [bp-8]

loc_5614:
		push	word ptr [bp-0Ah]
		push	word ptr [bp-0Ch] ; src
		push	word ptr [bp-6]
		push	word ptr [bp-8]	; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	dx, [bp-2]
		mov	ax, [bp-4]
		mov	[bp-6],	dx
		mov	[bp-8],	ax
		mov	[bp-0Ah], dx
		mov	[bp-0Ch], ax

loc_563A:
					; sub_554E+25Fj ...
		les	bx, [bp-0Ch]
		inc	word ptr [bp-0Ch]
		mov	al, es:[bx]
		cbw
		mov	[bp-0Eh], ax
		or	ax, ax
		jz	short loc_5656
		push	ax
		call	sub_54BC
		or	ax, ax
		jnz	short loc_5656
		jmp	loc_5788
; ---------------------------------------------------------------------------

loc_5656:
					; sub_554E+103j
		les	bx, [bp-8]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_567D
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		mov	ax, [bp-8]
		add	ax, 0FFFEh
		push	word ptr [bp-6]
		push	ax
		call	sub_54DB
		or	ax, ax
		jz	short loc_567D
		sub	word ptr [bp-8], 2
		jmp	short loc_56F4
; ---------------------------------------------------------------------------

loc_567D:
					; sub_554E+127j
		les	bx, [bp-8]
		cmp	byte ptr es:[bx-1], 2Eh	; '.'
		jnz	short loc_56F4
		cmp	byte ptr es:[bx-2], 2Eh	; '.'
		jnz	short loc_56F4
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		mov	ax, [bp-8]
		add	ax, 0FFFDh
		push	word ptr [bp-6]
		push	ax
		call	sub_54DB
		or	ax, ax
		jz	short loc_56F4
		sub	word ptr [bp-8], 3
		les	bx, [bp-8]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_56DD
		mov	ax, [bp-8]
		dec	ax
		push	word ptr [bp-6]
		push	ax
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		nop
		push	cs
		call	near ptr sub_5130
		add	sp, 8
		or	ax, ax
		jz	short loc_56DD
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	loc_5777
; ---------------------------------------------------------------------------

loc_56DD:
					; sub_554E+17Dj ...
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		dec	word ptr [bp-8]
		mov	ax, [bp-8]
		push	word ptr [bp-6]
		push	ax
		call	sub_54DB
		or	ax, ax
		jz	short loc_56DD

loc_56F4:
					; sub_554E+137j ...
		cmp	word ptr [bp-0Eh], 0
		jz	short loc_56FD
		jmp	loc_577D
; ---------------------------------------------------------------------------

loc_56FD:
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		mov	ax, [bp-8]
		dec	ax
		push	word ptr [bp-6]
		push	ax
		call	sub_54DB
		or	ax, ax
		jz	short loc_5715
		dec	word ptr [bp-8]

loc_5715:
		les	bx, [bp-8]
		cmp	byte ptr es:[bx-1], 3Ah	; ':'
		jnz	short loc_5743
		mov	ax, [bp-8]
		dec	ax
		push	word ptr [bp-6]
		push	ax
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		nop
		push	cs
		call	near ptr sub_5130
		add	sp, 8
		or	ax, ax
		jz	short loc_5743
		les	bx, [bp-8]
		mov	byte ptr es:[bx], 5Ch ;	'\'
		inc	word ptr [bp-8]

loc_5743:
					; sub_554E+1E9j
		les	bx, [bp-8]
		mov	byte ptr es:[bx], 0
		push	word ptr [bp-2]
		push	word ptr [bp-4]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		inc	ax
		mov	dx, ax
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jnz	short loc_5765
		jmp	loc_57E9
; ---------------------------------------------------------------------------

loc_5765:
		cmp	dx, [bp+0Eh]
		jbe	short loc_57C2
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_5777:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_57F8
; ---------------------------------------------------------------------------

loc_577D:
		les	bx, [bp-8]
		mov	al, [bp-0Eh]
		mov	es:[bx], al
		jmp	short loc_57BC
; ---------------------------------------------------------------------------

loc_5788:
		les	bx, [bp-8]
		mov	al, [bp-0Eh]
		mov	es:[bx], al
		inc	word ptr [bp-8]
		push	word ptr [bp-0Eh]
		nop
		push	cs
		call	near ptr sub_510B
		pop	cx
		or	ax, ax
		jnz	short loc_57A4
		jmp	loc_563A
; ---------------------------------------------------------------------------

loc_57A4:
		les	bx, [bp-0Ch]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_57B0
		jmp	loc_563A
; ---------------------------------------------------------------------------

loc_57B0:
		mov	al, es:[bx]
		les	bx, [bp-8]
		mov	es:[bx], al
		inc	word ptr [bp-0Ch]

loc_57BC:
		inc	word ptr [bp-8]
		jmp	loc_563A
; ---------------------------------------------------------------------------

loc_57C2:
		push	word ptr [bp-2]
		push	word ptr [bp-4]	; src
		push	word ptr [bp+8]
		push	word ptr [bp+6]	; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 0Ch
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		jmp	short loc_57F8
; ---------------------------------------------------------------------------

loc_57E9:
		push	dx
		push	word ptr [bp-2]
		push	word ptr [bp-4]
		nop
		push	cs
		call	near ptr _realloc
		add	sp, 6

loc_57F8:
					; sub_554E+299j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_554E	endp

include libs/BorlandC/getdcwd.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; char *__cdecl	getenv(const char *name)
_getenv		proc far
					; sub_A142+126p

var_4		= dword	ptr -4
_name		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	di, [bp+_name]
		mov	ax, es
		or	ax, di
		jz	short loc_58CC
		mov	al, 0
		mov	ah, es:[di]
		mov	cx, 0FFFFh
		cld
		repne scasb
		not	cx
		dec	cx
		jz	short loc_58CC
		les	di, environ@
		mov	word ptr [bp+var_4+2], es
		mov	bx, es
		or	bx, di
		mov	word ptr [bp+var_4], di
		jnz	short loc_58D9

loc_58CC:
		xor	dx, dx
		xor	ax, ax
		jmp	short loc_5905
; ---------------------------------------------------------------------------

loc_58D2:
		add	word ptr [bp+var_4], 4
		les	di, [bp+var_4]

loc_58D9:
		les	di, es:[di]
		mov	bx, es
		or	bx, di
		jz	short loc_58CC
		mov	al, es:[di]
		or	al, al
		jz	short loc_58CC
		cmp	ah, al
		jnz	short loc_58D2
		mov	bx, cx
		cmp	byte ptr es:[bx+di], 3Dh ; '='
		jnz	short loc_58D2
		push	ds
		lds	si, [bp+_name]
		repe cmpsb
		pop	ds
		xchg	cx, bx
		jnz	short loc_58D2
		inc	di
		mov	ax, di
		mov	dx, es

loc_5905:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
_getenv		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl memcmp(const void	*s1, const void	*s2, size_t n)
_memcmp		proc far

s1		= dword	ptr  6
s2		= dword	ptr  0Ah
n		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ax, [bp+n]
		mov	cx, ax
		jcxz	short loc_592C
		lds	si, [bp+s1]
		les	di, [bp+s2]
		cld
		repe cmpsb
		mov	al, [si-1]
		xor	ah, ah
		mov	cl, es:[di-1]
		xor	ch, ch

loc_592C:
		pop	ds
		sub	ax, cx
		pop	di
		pop	si
		pop	bp
		retf
_memcmp		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void *__cdecl	memcpy(void *dest, const void *src, size_t n)
_memcpy		proc far

dest		= dword	ptr  6
src		= dword	ptr  0Ah
n		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, ds
		les	di, [bp+dest]
		lds	si, [bp+src]
		mov	cx, [bp+n]
		shr	cx, 1
		cld
		rep movsw
		jnb	short loc_594B
		movsb

loc_594B:
		mov	ds, dx
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		pop	bp
		retf
_memcpy		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl setmem(void *dest, unsigned int length, char value)
_setmem		proc far

dest		= dword	ptr  6
_length		= word ptr  0Ah
value		= byte ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	di, [bp+dest]
		mov	cx, [bp+_length]
		mov	al, [bp+value]
		mov	ah, al
		cld
		test	di, 1
		jz	short loc_5972
		jcxz	short loc_5979
		stosb
		dec	cx

loc_5972:
		shr	cx, 1
		rep stosw
		jnb	short loc_5979
		stosb

loc_5979:
		pop	di
		pop	si
		pop	bp
		retf
_setmem		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void *__cdecl	memset(void *s,	int c, size_t n)
_memset		proc far

dest		= dword	ptr  6
value		= byte ptr  0Ah
_length		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+value] ; value
		push	[bp+_length]	; length
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		push	cs
		call	near ptr _setmem
		add	sp, 8
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		pop	bp
		retf
_memset		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl movmem(const void *src, void *dest, unsigned int	length)
_movmem		proc far

src		= dword	ptr  6
dest		= dword	ptr  0Ah
_length		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	cx, word ptr [bp+dest+2]
		mov	bx, word ptr [bp+dest]
		mov	dx, word ptr [bp+src+2]
		mov	ax, word ptr [bp+src]
		call	N_PCMP@
		jnb	short loc_59BC
		std
		mov	ax, 1
		jmp	short loc_59BF
; ---------------------------------------------------------------------------

loc_59BC:
		cld
		xor	ax, ax

loc_59BF:
		lds	si, [bp+src]
		les	di, [bp+dest]
		mov	cx, [bp+_length]
		or	ax, ax
		jz	short loc_59D2
		add	si, cx
		dec	si
		add	di, cx
		dec	di

loc_59D2:
		test	di, 1
		jz	short loc_59DC
		jcxz	short loc_59EB
		movsb
		dec	cx

loc_59DC:
		sub	si, ax
		sub	di, ax
		shr	cx, 1
		rep movsw
		jnb	short loc_59EB
		add	si, ax
		add	di, ax
		movsb

loc_59EB:
		cld
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf
_movmem		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void *__cdecl	memmove(void *dest, const void *src, size_t n)
_memmove	proc far

dest		= dword	ptr  6
src		= dword	ptr  0Ah
_length		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+_length]	; length
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	cs
		call	near ptr _movmem
		add	sp, 0Ah
		mov	dx, word ptr [bp+dest+2]
		mov	ax, word ptr [bp+dest]
		pop	di
		pop	si
		pop	bp
		retf
_memmove	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; void __cdecl _searchenv(const	char *file, const char *varname, char *pathname)
__searchenv	proc far

var_4		= dword	ptr -4
src		= dword	ptr  6
varname		= dword	ptr  0Ah
pathname	= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	word ptr [bp+varname+2]
		push	word ptr [bp+varname] ;	name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jnz	short loc_5A3D
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 2D18h

loc_5A3D:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		nop
		push	cs
		call	near ptr sub_5A5D
		add	sp, 0Ch
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__searchenv	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_5A5D(char *src,	__int32, char *pathname)
sub_5A5D	proc far

var_4		= word ptr -4
var_2		= word ptr -2
src		= dword	ptr  6
arg_4		= dword	ptr  0Ah
pathname	= dword	ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, 50h	; 'P'
		push	ax		; len
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; buf
		xor	ax, ax
		push	ax		; drive
		nopcall	__getdcwd
		add	sp, 8
		or	ax, dx
		jnz	short loc_5A82
		xor	dx, dx
		jmp	short loc_5A91
; ---------------------------------------------------------------------------

loc_5A82:
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		mov	dx, ax

loc_5A91:
		les	bx, [bp+pathname]
		add	bx, dx
		mov	byte ptr es:[bx], 0
		or	dx, dx
		jz	short loc_5AE6
		mov	bx, dx
		add	bx, word ptr [bp+pathname]
		mov	bl, es:[bx-1]
		mov	al, bl
		cmp	al, 5Ch	; '\'
		jz	short loc_5AB7
		cmp	bl, 2Fh	; '/'
		jz	short loc_5AB7
		cmp	bl, 3Ah	; ':'
		jnz	short loc_5AD3

loc_5AB7:
		mov	ax, word ptr [bp+pathname]
		add	ax, dx
		dec	ax
		push	word ptr [bp+pathname+2]
		push	ax
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname]
		nop
		push	cs
		call	near ptr sub_5130
		add	sp, 8
		or	ax, ax
		jnz	short loc_5AE6

loc_5AD3:
		push	ds
		mov	ax, 2D1Ah
		push	ax		; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8

loc_5AE6:
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 8
		xor	ax, ax
		push	ax		; char
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		or	ax, ax
		jz	short loc_5B5A
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5B21
		les	bx, [bp+pathname]
		mov	byte ptr es:[bx], 0
		jmp	short loc_5B99
; ---------------------------------------------------------------------------

loc_5B21:
		xor	dx, dx
		jmp	short loc_5B39
; ---------------------------------------------------------------------------

loc_5B25:
		les	bx, [bp+pathname]
		add	bx, dx
		push	es
		les	si, [bp+arg_4]
		mov	al, es:[si]
		pop	es
		mov	es:[bx], al
		inc	word ptr [bp+arg_4]
		inc	dx

loc_5B39:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 3Bh ;	';'
		jz	short loc_5B48
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5B25

loc_5B48:
		les	bx, [bp+arg_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_5B54
		jmp	loc_5A91
; ---------------------------------------------------------------------------

loc_5B54:
		inc	word ptr [bp+arg_4]
		jmp	loc_5A91
; ---------------------------------------------------------------------------

loc_5B5A:
		mov	ax, 50h	; 'P'
		push	ax
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname]
		xor	ax, ax
		push	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_5515
		add	sp, 0Ah
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_5B99
		push	[bp+var_2]
		push	[bp+var_4]	; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	[bp+var_2]
		push	[bp+var_4]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 0Ch

loc_5B99:
					; sub_5A5D+11Bj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_5A5D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl setvbuf(FILE *stream, char *buf, int type, size_t	size)
_setvbuf	proc far

stream		= dword	ptr  6
buf		= dword	ptr  0Ah
_type		= word ptr  0Eh
_size		= word ptr  10h

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+stream]
		mov	ax, es:[bx+12h]
		cmp	ax, word ptr [bp+stream]
		jz	short loc_5BB3
		jmp	loc_5C8A
; ---------------------------------------------------------------------------

loc_5BB3:
		cmp	[bp+_type], 2
		jle	short loc_5BBC
		jmp	loc_5C8A
; ---------------------------------------------------------------------------

loc_5BBC:
		cmp	[bp+_size], 7FFFh
		jbe	short loc_5BC6
		jmp	loc_5C8A
; ---------------------------------------------------------------------------

loc_5BC6:
		cmp	word_11CFE, 0
		jnz	short loc_5BDC
		cmp	word ptr [bp+stream], 2898h
		jnz	short loc_5BDC
		mov	word_11CFE, 1
		jmp	short loc_5BF0
; ---------------------------------------------------------------------------

loc_5BDC:
		cmp	word_11CFC, 0
		jnz	short loc_5BF0
		cmp	word ptr [bp+stream], 2884h
		jnz	short loc_5BF0
		mov	word_11CFC, 1

loc_5BF0:
		les	bx, [bp+stream]
		cmp	word ptr es:[bx], 0
		jz	short loc_5C0D
		mov	ax, 1
		push	ax		; whence
		xor	ax, ax
		push	ax
		push	ax		; offset
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		push	cs
		call	near ptr _fseek
		add	sp, 0Ah

loc_5C0D:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 4
		jz	short loc_5C26
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_5C26:
		les	bx, [bp+stream]
		and	word ptr es:[bx+2], 0FFF3h
		mov	word ptr es:[bx+6], 0
		mov	dx, word ptr [bp+stream+2]
		mov	ax, word ptr [bp+stream]
		add	ax, 5
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		cmp	[bp+_type], 2
		jz	short loc_5CBA
		cmp	[bp+_size], 0
		jbe	short loc_5CBA
		mov	word ptr _exitbuf+2, seg seg000
		mov	word ptr _exitbuf, 5FC8h
		mov	ax, word ptr [bp+buf]
		or	ax, word ptr [bp+buf+2]
		jnz	short loc_5C8F
		push	[bp+_size]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+buf+2], dx
		mov	word ptr [bp+buf], ax
		or	ax, dx
		jz	short loc_5C8A
		les	bx, [bp+stream]
		or	word ptr es:[bx+2], 4
		jmp	short loc_5C8F
; ---------------------------------------------------------------------------

loc_5C8A:
		mov	ax, 0FFFFh
		jmp	short loc_5CBC
; ---------------------------------------------------------------------------

loc_5C8F:
		les	bx, [bp+stream]
		mov	dx, word ptr [bp+buf+2]
		mov	ax, word ptr [bp+buf]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	ax, [bp+_size]
		mov	es:[bx+6], ax
		cmp	[bp+_type], 1
		jnz	short loc_5CBA
		or	word ptr es:[bx+2], 8

loc_5CBA:
		xor	ax, ax

loc_5CBC:
		pop	di
		pop	si
		pop	bp
		retf
_setvbuf	endp

include libs/BorlandC/_strcat.asm
include libs/BorlandC/_strcmp.asm
include libs/BorlandC/_strcpy.asm
include libs/BorlandC/_stricmp.asm
include libs/BorlandC/_strlen.asm
include libs/BorlandC/strrchr.asm
include libs/BorlandC/write.asm
include libs/BorlandC/writea.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__xfflush	proc far

var_6		= word ptr -6
stream		= dword	ptr -4

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_6], 4
		mov	word ptr [bp+stream+2],	ds
		mov	word ptr [bp+stream], 2884h
		jmp	short loc_5FFB
; ---------------------------------------------------------------------------

loc_5FDF:
		les	bx, [bp+stream]
		test	byte ptr es:[bx+2], 3
		jz	short loc_5FF4
		push	word ptr [bp+stream+2]
		push	bx		; stream
		nop
		call	_fflush
		pop	cx
		pop	cx

loc_5FF4:
		dec	[bp+var_6]
		add	word ptr [bp+stream], 14h

loc_5FFB:
		cmp	[bp+var_6], 0
		jnz	short loc_5FDF
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__xfflush	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xalloc::xalloc(string	const &, unsigned int)
@xalloc@$bctr$qmx6stringui proc	far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_6028
		mov	ax, 6
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_6046

loc_6028:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx6string	; xmsg::xmsg(string &)
		add	sp, 8
		les	bx, [bp+arg_0]
		mov	ax, [bp+arg_8]
		mov	es:[bx+4], ax

loc_6046:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@xalloc@$bctr$qmx6stringui endp

; ---------------------------------------------------------------------------
		dd byte_6141
		db 4 dup(0), 41h, 61h
		dw seg seg000
		db 4, 0, 0FAh, 0FFh, 6 dup(0), 62h, 60h
		dw seg seg000
		db 0DCh, 0FFh, 2 dup(0), 5, 3 dup(0), 6Ah, 60h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xalloc::raise(void)
@xalloc@raise$qv proc far
					; sub_EB72+4DP	...

var_28		= dword	ptr -28h
src		= byte ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 6078h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 60FEh
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_28+2],	dx
		mov	word ptr [bp+var_28], ax
		push	dx
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+var_28]
		mov	ax, es:[bx+4]
		mov	[bp+var_2], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 6141h
		push	ax		; int
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xalloc@raise$qv endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		les	bx, [bp+0Ah]
		mov	ax, es:[bx+4]
		les	bx, [bp+6]
		mov	es:[bx+4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
byte_6141	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 83h,	61h
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0D0h, 61h
		dw seg seg000
		db 2 dup(0), 3,	0Dh dup(0)
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_61CA
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_61C8
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_61CC
; ---------------------------------------------------------------------------

loc_61C8:
		jmp	short loc_61CC
; ---------------------------------------------------------------------------

loc_61CA:
		xor	ax, ax

loc_61CC:
					; seg000:loc_61C8j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 0A2h, 63h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 76h, 65h
		dw seg seg000
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	8, 62h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::xmsg(string const &)
@xmsg@$bctr$qmx6string proc far
					; string::assert_element(uint)+6AP ...

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 6216h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_625B
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_62AD

loc_625B:
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_629D
		mov	[bp+var_16], 0Eh
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_629D:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_62AD:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$bctr$qmx6string endp

; ---------------------------------------------------------------------------
		dd byte_6576
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	0D3h, 62h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::xmsg(xmsg const	&)
@xmsg@$bctr$qmx4xmsg proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 62E1h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_6326
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_637C

loc_6326:
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_636C
		mov	[bp+var_16], 0Eh
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_636C:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_637C:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$bctr$qmx4xmsg endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far xmsg___xmsg(void (*driver)(void), char)
@xmsg@$bdtr$qv	proc far

driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_63FC
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+driver]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		test	[bp+arg_4], 1
		jz	short loc_63FC
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx

loc_63FC:
					; xmsg::~xmsg(void)+4Bj
		pop	di
		pop	si
		pop	bp
		retf
@xmsg@$bdtr$qv	endp

; ---------------------------------------------------------------------------
		dd byte_653E
		db 5 dup(0), 64h
		dw seg seg000
		db 0E2h, 0FFh

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::raise(void)
@xmsg@raise$qv	proc far

src		= byte ptr -22h
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 6408h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 62F7h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	ss
		lea	ax, [bp+src]
		push	ax
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 653Eh
		push	ax		; int
		nop
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@raise$qv	endp

; ---------------------------------------------------------------------------
		dd byte_6576
		db 87h,	20h, 0FCh, 0FFh, 0Ah dup(0), 0DEh, 0FFh, 2 dup(0)
		db 5, 3	dup(0),	2 dup(0FFh), 6,	0, 5, 3	dup(0),	61h, 64h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; xmsg::operator=(xmsg const &)
@xmsg@$basg$qmx4xmsg proc far

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 646Fh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_64A8
		cmp	ax, word ptr [bp+arg_4]
		jz	short loc_6526

loc_64A8:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		call	@string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	ax, 4
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jz	short loc_6516
		mov	[bp+var_16], 0Eh
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	dx
		push	[bp+var_4]
		call	@string@$bctr$qmx6string ; string::string(string &)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_6516:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_6526:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		push	dx
		push	ax
		push	[bp+var_22]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	ax
		pop	dx
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@xmsg@$basg$qmx4xmsg endp

; ---------------------------------------------------------------------------
byte_653E	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 0A2h, 63h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)
byte_6576	db 4, 0, 10h, 20h, 0Ah,	0, 89h,	65h
					; seg000:6461o
		dw seg seg000
aString		db 'string *',0
		db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h
		db 0Dh dup(0), 1, 0, 1,	0, 9, 3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

___JumpToCatch__ proc far
		push	si
		push	di
		mov	sp, bx
		mov	bp, cx
		push	dx
		push	ax
		retf
___JumpToCatch__ endp

; ---------------------------------------------------------------------------
		pop	di
		pop	si
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_65CF	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_65E3
		mov	dx, ds
		mov	ax, 2D22h
		jmp	short loc_65F0
; ---------------------------------------------------------------------------

loc_65E3:
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+4]

loc_65F0:
		pop	di
		pop	si
		pop	bp
		retf
sub_65CF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_65F4	proc far
					; sub_6691+106p ...

var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_660C
		cmp	ax, word ptr [bp+arg_4]
		jz	short loc_6688

loc_660C:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		les	bx, [bp+arg_4]
		cmp	ax, es:[bx+2]
		jnz	short loc_6680
		les	bx, [bp+arg_0]
		mov	ax, es:[bx]
		les	bx, [bp+arg_4]
		cmp	ax, es:[bx]
		jnz	short loc_6680
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		les	bx, [bp+arg_4]
		or	ax, es:[bx+2]
		test	al, 80h
		jnz	short loc_6680
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax

loc_6662:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_8]
		mov	al, es:[bx]
		cbw
		mov	[bp+var_A], ax
		inc	word ptr [bp+var_8]
		cmp	dx, [bp+var_A]
		jz	short loc_6684

loc_6680:
		xor	ax, ax
		jmp	short loc_668B
; ---------------------------------------------------------------------------

loc_6684:
		or	dx, dx
		jnz	short loc_6662

loc_6688:
		mov	ax, 1

loc_668B:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_65F4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6691	proc near
					; sub_6691+135p ...

var_A		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_66AC:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		mov	ax, word ptr [bp+var_A]
		or	ax, word ptr [bp+var_A+2]
		jz	short loc_6740
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 8
		jnz	short loc_6739
		cmp	[bp+arg_C], 0
		jz	short loc_66E8
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_66E8
		mov	ax, 1
		jmp	short loc_66EA
; ---------------------------------------------------------------------------

loc_66E8:
		xor	ax, ax

loc_66EA:
		mov	[bp+var_6], ax
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		or	ax, ax
		jz	short loc_670D
		cmp	[bp+var_6], 0
		jz	short loc_670D
		jmp	loc_67D0
; ---------------------------------------------------------------------------

loc_670D:
		les	bx, [bp+var_A]
		test	byte ptr es:[bx+8], 4
		jz	short loc_6739
		push	[bp+var_6]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		call	sub_6691
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_6739
		jmp	loc_67D0
; ---------------------------------------------------------------------------

loc_6739:
		add	word ptr [bp+var_4], 8
		jmp	loc_66AC
; ---------------------------------------------------------------------------

loc_6740:
		les	bx, [bp+arg_0]
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		add	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_6753:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		mov	ax, word ptr [bp+var_A]
		or	ax, word ptr [bp+var_A+2]
		jz	short loc_67DC
		cmp	[bp+arg_C], 0
		jz	short loc_6785
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_6785
		mov	ax, 1
		jmp	short loc_6787
; ---------------------------------------------------------------------------

loc_6785:
		xor	ax, ax

loc_6787:
		mov	[bp+var_6], ax
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		or	ax, ax
		jz	short loc_67A7
		cmp	[bp+var_6], 0
		jnz	short loc_67D0

loc_67A7:
		les	bx, [bp+var_A]
		test	byte ptr es:[bx+8], 4
		jz	short loc_67D5
		push	[bp+var_6]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+var_A+2]
		push	word ptr [bp+var_A]
		call	sub_6691
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_67D5

loc_67D0:
		mov	ax, 1
		jmp	short loc_67DE
; ---------------------------------------------------------------------------

loc_67D5:
					; sub_6691+13Dj
		add	word ptr [bp+var_4], 8
		jmp	loc_6753
; ---------------------------------------------------------------------------

loc_67DC:
		xor	ax, ax

loc_67DE:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6691	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_67E4	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	cx, [bp+arg_8]

loc_67EF:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		cmp	dx, word ptr [bp+arg_4+2]
		jnz	short loc_6802
		cmp	ax, word ptr [bp+arg_4]
		jnz	short loc_6802
		jmp	loc_6917
; ---------------------------------------------------------------------------

loc_6802:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		mov	[bp+var_2], ax
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		mov	ax, [bp+var_2]
		and	ax, [bp+var_4]
		test	al, 10h
		jz	short loc_6892
		and	[bp+var_2], 3300h
		and	[bp+var_4], 3300h
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jnz	short loc_6835
		jmp	loc_68D8
; ---------------------------------------------------------------------------

loc_6835:
		or	cx, cx
		jz	short loc_683C
		jmp	loc_6950
; ---------------------------------------------------------------------------

loc_683C:
		mov	ax, [bp+var_2]
		and	ax, 300h
		mov	dx, [bp+var_4]
		and	dx, 300h
		cmp	ax, dx
		jz	short loc_6872
		mov	ax, [bp+var_4]
		and	ax, 300h
		not	ax
		and	ax, [bp+var_2]
		test	ah, 3
		jz	short loc_6860
		jmp	loc_6950
; ---------------------------------------------------------------------------

loc_6860:
		or	[bp+var_2], 300h
		or	[bp+var_4], 300h
		mov	ax, [bp+var_2]
		cmp	ax, [bp+var_4]
		jz	short loc_68D8

loc_6872:
		mov	ax, [bp+var_2]
		or	ax, 3000h
		mov	dx, [bp+var_4]
		or	dx, 3000h
		cmp	ax, dx
		jz	short loc_6886
		jmp	loc_6950
; ---------------------------------------------------------------------------

loc_6886:
		test	byte ptr [bp+var_2+1], 10h
		jnz	short loc_688F
		jmp	loc_6950
; ---------------------------------------------------------------------------

loc_688F:
		jmp	loc_6917
; ---------------------------------------------------------------------------

loc_6892:
		mov	ax, [bp+var_2]
		and	ax, [bp+var_4]
		test	ah, 4
		jz	short loc_6900
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_4]
		cmp	dx, es:[bx+0Ch]
		jnz	short loc_68B7
		cmp	ax, es:[bx+0Ah]
		jz	short loc_68D8

loc_68B7:
		or	cx, cx
		jz	short loc_68BE
		jmp	loc_6950
; ---------------------------------------------------------------------------

loc_68BE:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+0Ch]
		mov	ax, es:[bx+0Ah]
		les	bx, [bp+arg_4]
		or	ax, es:[bx+0Ah]
		or	dx, es:[bx+0Ch]
		or	ax, dx
		jnz	short loc_6950

loc_68D8:
		mov	cx, 1
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_4+2], dx
		mov	word ptr [bp+arg_4], ax
		jmp	loc_67EF
; ---------------------------------------------------------------------------

loc_6900:
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		or	ax, ax
		jz	short loc_691C

loc_6917:
					; sub_67E4:loc_688Fj
		mov	ax, 1
		jmp	short loc_6952
; ---------------------------------------------------------------------------

loc_691C:
		test	byte ptr [bp+var_2], 2
		jz	short loc_6950
		test	byte ptr [bp+var_4], 1
		jz	short loc_6950
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+8], 4
		jz	short loc_6950
		mov	ax, 1
		push	ax
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_6691
		add	sp, 0Eh
		jmp	short loc_6952
; ---------------------------------------------------------------------------

loc_6950:
		xor	ax, ax

loc_6952:
					; sub_67E4+16Aj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_67E4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6958	proc far

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_69A8
		cmp	[bp+arg_0], 80h	; '€'
		ja	short loc_698A
		les	bx, ss:16h
		test	byte ptr es:[bx+4], 1
		jz	short loc_698F

loc_698A:
		nop
		push	cs
		call	near ptr _abort
; ---------------------------------------------------------------------------

loc_698F:
		les	bx, ss:16h
		or	word ptr es:[bx+4], 1
		les	bx, ss:16h
		mov	dx, es:[bx+22h]
		mov	ax, es:[bx+20h]
		jmp	short loc_69AE
; ---------------------------------------------------------------------------

loc_69A8:
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]

loc_69AE:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_6958	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+22h]
		mov	ax, es:[bx+20h]
		cmp	dx, [bp+8]
		jnz	short loc_69DC
		cmp	ax, [bp+6]
		jnz	short loc_69DC
		les	bx, ss:16h
		and	word ptr es:[bx+4], 0FFFEh
		jmp	short loc_69E9
; ---------------------------------------------------------------------------

loc_69DC:
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_69E9:
		pop	di
		pop	si
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_69ED	proc near
					; __ExceptionHandler+F7p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= dword	ptr  0Ch
arg_C		= byte ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_67E4
		add	sp, 0Eh
		or	ax, ax
		jz	short loc_6A17
		jmp	loc_6AB3
; ---------------------------------------------------------------------------

loc_6A17:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		mov	[bp+var_2], ax
		les	bx, [bp+arg_8]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		test	byte ptr [bp+var_4], 20h
		jz	short loc_6AA7
		push	[bp+arg_6]
		push	[bp+arg_4]
		mov	ax, 1
		push	ax
		les	bx, [bp+arg_8]
		push	word ptr es:[bx+8]
		push	word ptr es:[bx+6]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_67E4
		add	sp, 0Eh
		or	ax, ax
		jnz	short loc_6AB3
		les	bx, [bp+arg_8]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+arg_8+2], dx
		mov	word ptr [bp+arg_8], ax
		les	bx, [bp+arg_8]
		mov	ax, es:[bx+2]
		mov	[bp+var_4], ax
		test	byte ptr [bp+var_4], 10h
		jz	short loc_6AEA
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_8+2]
		push	word ptr [bp+arg_8]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	sub_67E4
		add	sp, 0Eh
		or	ax, ax
		jnz	short loc_6AB3
		mov	ax, [bp+var_2]
		and	ax, 3000h
		mov	dx, [bp+var_4]
		and	dx, 3000h
		cmp	ax, dx
		jnz	short loc_6AEA

loc_6AA7:
		test	byte ptr [bp+var_4], 10h
		jz	short loc_6AEA
		test	[bp+arg_C], 1
		jz	short loc_6AB8

loc_6AB3:
		mov	ax, 1
		jmp	short loc_6AEC
; ---------------------------------------------------------------------------

loc_6AB8:
		test	byte ptr [bp+var_2], 10h
		jz	short loc_6AEA
		test	byte ptr [bp+var_2+1], 20h
		jz	short loc_6ACA
		test	byte ptr [bp+var_4+1], 20h
		jz	short loc_6AEA

loc_6ACA:
		test	byte ptr [bp+var_4], 40h
		jz	short loc_6AEA
		mov	ax, [bp+var_2]
		and	ax, 300h
		mov	dx, [bp+var_4]
		and	dx, 300h
		cmp	ax, dx
		jnz	short loc_6AE6
		mov	ax, 1
		jmp	short loc_6AE8
; ---------------------------------------------------------------------------

loc_6AE6:
		xor	ax, ax

loc_6AE8:
		jmp	short loc_6AEC
; ---------------------------------------------------------------------------

loc_6AEA:
		xor	ax, ax

loc_6AEC:
					; sub_69ED:loc_6AE8j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_69ED	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6AF2	proc near
					; sub_7DC3+1FDp

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= dword	ptr  0Ch
arg_C		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		mov	ax, [bp+arg_C]
		and	ax, 1
		mov	[bp+var_4], ax
		test	byte ptr [bp+arg_C], 4
		jz	short loc_6B1D
		or	[bp+var_4], 2

loc_6B1D:
		test	byte ptr [bp+arg_C], 2
		jz	short loc_6B31
		or	[bp+var_4], 4
		test	byte ptr [bp+arg_C+1], 1
		jnz	short loc_6B31
		or	[bp+var_4], 20h

loc_6B31:
		test	byte ptr [bp+arg_C], 20h
		jz	short loc_6B3B
		or	[bp+var_4], 8

loc_6B3B:
		test	byte ptr [bp+arg_C], 80h
		jz	short loc_6B45
		or	[bp+var_4], 10h

loc_6B45:
		test	byte ptr [bp+arg_C+1], 10h
		jnz	short loc_6B4E
		jmp	loc_6CD3
; ---------------------------------------------------------------------------

loc_6B4E:
		mov	bx, [bp+var_4]
		cmp	bx, 17h
		jbe	short loc_6B59
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6B59:
		add	bx, bx
		jmp	cs:off_6E10[bx]

loc_6B60:
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_8]
		add	sp, 6
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6B72:
					; sub_6AF2+1EEj
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]
		add	sp, 6
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6B84:
					; sub_6AF2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_8]
		jmp	short loc_6BAA
; ---------------------------------------------------------------------------

loc_6B98:
					; sub_6AF2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_6BAA:
		add	sp, 0Ah
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6BB0:
					; sub_6AF2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_8]
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6BBF:
					; sub_6AF2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6BCE:
					; sub_6AF2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_8]
		jmp	short loc_6BF4
; ---------------------------------------------------------------------------

loc_6BE2:
					; sub_6AF2+1EEj
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_6BF4:
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6BF7:
					; sub_6AF2+1EEj
		mov	dx, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		xor	ax, ax
		push	bx
		pop	bx
		call	word ptr [bp+arg_8]
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6C07:
					; sub_6AF2+1EEj
		mov	dx, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		xor	ax, ax

loc_6C0F:
		push	bx
		pop	bx
		call	[bp+arg_8]
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6C17:
					; sub_6AF2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		xor	ax, ax

loc_6C25:
		call	word ptr [bp+arg_8]
		jmp	short loc_6C3B
; ---------------------------------------------------------------------------

loc_6C2A:
					; sub_6AF2+1EEj
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		xor	ax, ax

loc_6C38:
		call	[bp+arg_8]

loc_6C3B:
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6C3E:
					; sub_6AF2+1EEj
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		call	word ptr [bp+arg_8]
		jmp	short loc_6C58
; ---------------------------------------------------------------------------

loc_6C4C:
					; sub_6AF2+1EEj
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax

loc_6C55:
		call	[bp+arg_8]

loc_6C58:
					; sub_6AF2+1FCj
		pop	cx
		pop	cx
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6C5D:
					; sub_6AF2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		call	word ptr [bp+arg_8]
		add	sp, 6
		pop	ds
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6C74:
					; sub_6AF2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		xor	ax, ax
		push	ax
		call	[bp+arg_8]
		add	sp, 6
		pop	ds
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6C8B:
					; sub_6AF2+1EEj
		mov	si, word ptr [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_4]

loc_6C94:
		call	word ptr [bp+arg_8]
		jmp	short loc_6CA5
; ---------------------------------------------------------------------------

loc_6C99:
					; sub_6AF2+1EEj
		mov	si, word ptr [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_4]

loc_6CA2:
		call	[bp+arg_8]

loc_6CA5:
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6CA8:
					; sub_6AF2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	word ptr [bp+arg_8]
		pop	ds
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6CBC:
					; sub_6AF2+1EEj
		push	ds
		lds	si, [bp+arg_0]
		xor	ax, ax
		push	ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	ds
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6CD0:
					; sub_6AF2+1EEj
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6CD3:
		mov	bx, [bp+var_4]
		cmp	bx, 17h
		jbe	short loc_6CDE
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6CDE:
		add	bx, bx
		jmp	cs:off_6DE0[bx]

loc_6CE5:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_8]
		jmp	loc_6C58
; ---------------------------------------------------------------------------

loc_6CF1:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_6C55
; ---------------------------------------------------------------------------

loc_6CFA:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_8]
		jmp	short loc_6D1A
; ---------------------------------------------------------------------------

loc_6D0B:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_8]

loc_6D1A:
		add	sp, 8
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6D20:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_6C94
; ---------------------------------------------------------------------------

loc_6D29:
		push	[bp+arg_4]
		push	word ptr [bp+arg_0]
		jmp	loc_6CA2
; ---------------------------------------------------------------------------

loc_6D32:
		mov	ax, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		push	bx
		pop	bx
		call	word ptr [bp+arg_8]
		jmp	loc_6DD9
; ---------------------------------------------------------------------------

loc_6D40:
		mov	ax, word ptr [bp+arg_0]
		mov	bx, [bp+arg_4]
		jmp	loc_6C0F
; ---------------------------------------------------------------------------

loc_6D49:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		jmp	loc_6C25
; ---------------------------------------------------------------------------

loc_6D58:
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		jmp	loc_6C38
; ---------------------------------------------------------------------------

loc_6D67:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		call	word ptr [bp+arg_8]
		pop	cx
		jmp	short loc_6DD9
; ---------------------------------------------------------------------------

loc_6D73:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	cx
		jmp	short loc_6DD9
; ---------------------------------------------------------------------------

loc_6D7F:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	word ptr [bp+arg_8]
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_6DD9
; ---------------------------------------------------------------------------

loc_6D91:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_6DD9
; ---------------------------------------------------------------------------

loc_6DA3:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		call	word ptr [bp+arg_8]
		jmp	short loc_6DD9
; ---------------------------------------------------------------------------

loc_6DAE:
		mov	si, word ptr [bp+arg_0]
		push	[bp+arg_4]
		call	[bp+arg_8]
		jmp	short loc_6DD9
; ---------------------------------------------------------------------------

loc_6DB9:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	word ptr [bp+arg_8]
		pop	ds
		jmp	short loc_6DD9
; ---------------------------------------------------------------------------

loc_6DC9:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+arg_6]
		push	[bp+arg_4]
		call	[bp+arg_8]
		pop	ds
		jmp	short $+2

loc_6DD9:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6AF2	endp

; ---------------------------------------------------------------------------
off_6DE0	dw offset loc_6CE5
		dw offset loc_6CF1
		dw offset loc_6CFA
		dw offset loc_6D0B
		dw offset loc_6D20
		dw offset loc_6D29
		dw offset loc_6D49
		dw offset loc_6D58
		dw offset loc_6D32
		dw offset loc_6D40
		dw offset loc_6D49
		dw offset loc_6D58
		dw offset loc_6DD9
		dw offset loc_6DD9
		dw offset loc_6DD9
		dw offset loc_6DD9
		dw offset loc_6D67
		dw offset loc_6D73
		dw offset loc_6D7F
		dw offset loc_6D91
		dw offset loc_6DA3
		dw offset loc_6DAE
		dw offset loc_6DB9
		dw offset loc_6DC9
off_6E10	dw offset loc_6B60
		dw offset loc_6B72
		dw offset loc_6B84
		dw offset loc_6B98
		dw offset loc_6BB0
		dw offset loc_6BBF
		dw offset loc_6BCE
		dw offset loc_6BE2
		dw offset loc_6BF7
		dw offset loc_6C07
		dw offset loc_6C17
		dw offset loc_6C2A
		dw offset loc_6CD0
		dw offset loc_6CD0
		dw offset loc_6CD0
		dw offset loc_6CD0
		dw offset loc_6C3E
		dw offset loc_6C4C
		dw offset loc_6C5D
		dw offset loc_6C74
		dw offset loc_6C8B
		dw offset loc_6C99
		dw offset loc_6CA8
		dw offset loc_6CBC

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6E40	proc near
					; sub_7ACF+2Bp	...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		cmp	[bp+arg_A], 0
		jz	short loc_6E53
		mov	ax, 2
		jmp	short loc_6E55
; ---------------------------------------------------------------------------

loc_6E53:
		xor	ax, ax

loc_6E55:
		mov	[bp+var_2], ax
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_4], ax
		push	ds
		mov	ds, [bp+var_4]
		mov	ax, [bp+arg_8]
		and	ax, 1
		mov	[bp+var_6], ax
		test	byte ptr [bp+arg_8], 4
		jz	short loc_6E7B
		or	[bp+var_6], 2

loc_6E7B:
		test	byte ptr [bp+arg_8], 2
		jz	short loc_6E8F
		or	[bp+var_6], 4
		test	byte ptr [bp+arg_8+1], 1
		jnz	short loc_6E8F
		or	[bp+var_6], 20h

loc_6E8F:
		test	byte ptr [bp+arg_8], 20h
		jz	short loc_6E99
		or	[bp+var_6], 8

loc_6E99:
		test	byte ptr [bp+arg_8], 80h
		jz	short loc_6EA3
		or	[bp+var_6], 10h

loc_6EA3:
		mov	bx, [bp+var_6]
		cmp	bx, 17h
		jbe	short loc_6EAE
		jmp	loc_6FC1
; ---------------------------------------------------------------------------

loc_6EAE:
		add	bx, bx
		jmp	cs:off_6FC8[bx]

loc_6EB5:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		pop	cx
		pop	cx
		jmp	loc_6FC1
; ---------------------------------------------------------------------------

loc_6EC3:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]
		pop	cx
		pop	cx
		jmp	loc_6FC1
; ---------------------------------------------------------------------------

loc_6ED1:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		add	sp, 6
		jmp	loc_6FC1
; ---------------------------------------------------------------------------

loc_6EE3:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]
		add	sp, 6
		jmp	loc_6FC1
; ---------------------------------------------------------------------------

loc_6EF5:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_6F5B
; ---------------------------------------------------------------------------

loc_6F00:
		push	[bp+var_2]
		push	word ptr [bp+arg_0]
		jmp	short loc_6F58
; ---------------------------------------------------------------------------

loc_6F08:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_6F22
; ---------------------------------------------------------------------------

loc_6F16:
		push	[bp+var_2]
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		call	[bp+arg_4]

loc_6F22:
		jmp	loc_6FC1
; ---------------------------------------------------------------------------

loc_6F25:
		mov	bx, word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		push	bx
		pop	bx
		call	word ptr [bp+arg_4]
		jmp	loc_6FC1
; ---------------------------------------------------------------------------

loc_6F33:
		mov	bx, word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		push	bx
		pop	bx
		call	[bp+arg_4]
		jmp	loc_6FC1
; ---------------------------------------------------------------------------

loc_6F41:
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		mov	ax, [bp+var_2]
		call	word ptr [bp+arg_4]
		jmp	short loc_6F5B
; ---------------------------------------------------------------------------

loc_6F4F:
		push	word ptr [bp+arg_0+2]
		push	word ptr [bp+arg_0]
		mov	ax, [bp+var_2]

loc_6F58:
		call	[bp+arg_4]

loc_6F5B:
					; sub_6E40+10Dj
		jmp	short loc_6FC1
; ---------------------------------------------------------------------------

loc_6F5D:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		pop	cx
		jmp	short loc_6FC1
; ---------------------------------------------------------------------------

loc_6F69:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	cx
		jmp	short loc_6FC1
; ---------------------------------------------------------------------------

loc_6F75:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		pop	cx
		pop	ds
		jmp	short loc_6FC1
; ---------------------------------------------------------------------------

loc_6F83:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	cx
		pop	ds
		jmp	short loc_6FC1
; ---------------------------------------------------------------------------

loc_6F91:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		jmp	short loc_6FC1
; ---------------------------------------------------------------------------

loc_6F9C:
		mov	si, word ptr [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		jmp	short loc_6FC1
; ---------------------------------------------------------------------------

loc_6FA7:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	word ptr [bp+arg_4]
		pop	ds
		jmp	short loc_6FC1
; ---------------------------------------------------------------------------

loc_6FB4:
		push	ds
		lds	si, [bp+arg_0]
		push	[bp+var_2]
		call	[bp+arg_4]
		pop	ds
		jmp	short $+2

loc_6FC1:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6E40	endp

; ---------------------------------------------------------------------------
off_6FC8	dw offset loc_6EB5
		dw offset loc_6EC3
		dw offset loc_6ED1
		dw offset loc_6EE3
		dw offset loc_6EF5
		dw offset loc_6F00
		dw offset loc_6F08
		dw offset loc_6F16
		dw offset loc_6F25
		dw offset loc_6F33
		dw offset loc_6F41
		dw offset loc_6F4F
		dw offset loc_6FC1
		dw offset loc_6FC1
		dw offset loc_6FC1
		dw offset loc_6FC1
		dw offset loc_6F5D
		dw offset loc_6F69
		dw offset loc_6F75
		dw offset loc_6F83
		dw offset loc_6F91
		dw offset loc_6F9C
		dw offset loc_6FA7
		dw offset loc_6FB4

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_6FF8	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+6]
		mov	[bp+var_2], ax
		push	ds
		mov	ds, [bp+var_2]
		mov	ax, [bp+arg_8]
		and	ax, 1
		mov	[bp+var_4], ax
		test	byte ptr [bp+arg_8], 4
		jz	short loc_7023
		or	[bp+var_4], 2

loc_7023:
		test	byte ptr [bp+arg_8], 2
		jz	short loc_702D
		or	[bp+var_4], 4

loc_702D:
		test	byte ptr [bp+arg_8], 20h
		jz	short loc_7037
		or	[bp+var_4], 8

loc_7037:
		mov	bx, [bp+var_4]
		cmp	bx, 0Bh
		ja	short loc_70AA
		add	bx, bx
		jmp	cs:off_70B1[bx]

loc_7046:
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		pop	cx
		jmp	short loc_70AA
; ---------------------------------------------------------------------------

loc_704F:
		push	[bp+arg_0]
		call	[bp+arg_4]
		pop	cx
		jmp	short loc_70AA
; ---------------------------------------------------------------------------

loc_7058:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_706C
; ---------------------------------------------------------------------------

loc_7063:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_706C:
		pop	cx
		pop	cx
		jmp	short loc_70AA
; ---------------------------------------------------------------------------

loc_7070:
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_707E
; ---------------------------------------------------------------------------

loc_7078:
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_707E:
		jmp	short loc_70AA
; ---------------------------------------------------------------------------

loc_7080:
		mov	bx, [bp+arg_0]
		push	bx
		pop	bx
		call	word ptr [bp+arg_4]
		jmp	short loc_70AA
; ---------------------------------------------------------------------------

loc_708A:
		mov	bx, [bp+arg_0]
		push	bx
		pop	bx
		call	[bp+arg_4]
		jmp	short loc_70AA
; ---------------------------------------------------------------------------

loc_7094:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	word ptr [bp+arg_4]
		jmp	short loc_70A8
; ---------------------------------------------------------------------------

loc_709F:
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	[bp+arg_4]

loc_70A8:
		jmp	short $+2

loc_70AA:
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_6FF8	endp

; ---------------------------------------------------------------------------
off_70B1	dw offset loc_7046
		dw offset loc_704F
		dw offset loc_7058
		dw offset loc_7063
		dw offset loc_7070
		dw offset loc_7078
		dw offset loc_7094
		dw offset loc_709F
		dw offset loc_7080
		dw offset loc_708A
		dw offset loc_7094
		dw offset loc_709F
		db 4 dup(0), 87h, 73h
		dw seg seg000
		db 14h dup(0), 0E0h, 73h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 0C9h, 70h
		dw seg seg000
		db 2 dup(0), 4,	3 dup(0), 3, 0,	0E1h, 70h
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far sub_7117(int, int, void *src, int, int, int, int, int, int,	int, int, int, int, int, int)
sub_7117	proc far
					; _ReThrowException(uint,uchar *)+9Ep

var_48		= word ptr -48h
var_46		= word ptr -46h
var_44		= word ptr -44h
var_42		= word ptr -42h
var_40		= word ptr -40h
var_3E		= word ptr -3Eh
var_3C		= word ptr -3Ch
var_3A		= word ptr -3Ah
var_38		= dword	ptr -38h
var_34		= dword	ptr -34h
var_30		= dword	ptr -30h
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
n		= word ptr -28h
var_26		= dword	ptr -26h
var_22		= dword	ptr -22h
var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  6
arg_2		= word ptr  8
src		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah
arg_16		= word ptr  1Ch
arg_18		= word ptr  1Eh
arg_1A		= word ptr  20h
arg_1C		= word ptr  22h
arg_1E		= word ptr  24h

		push	bp
		mov	bp, sp
		sub	sp, 48h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 70F9h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax
		les	bx, ss:16h
		mov	word ptr es:[bx+6], ds
		mov	dx, ss:18h
		mov	ax, ss:16h
		add	ax, 28h	; '('
		les	bx, ss:16h
		mov	es:[bx+1Eh], dx
		mov	es:[bx+1Ch], ax
		les	bx, [bp+var_22]
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_34+2],	dx
		mov	word ptr [bp+var_34], ax
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		mov	word ptr [bp+var_38+2],	dx
		mov	word ptr [bp+var_38], ax
		jmp	short loc_71A3
; ---------------------------------------------------------------------------

loc_7180:
		les	bx, ss:16h
		mov	ax, es:[bx+1Ch]
		add	ax, 7Fh	; ''
		cmp	ax, word ptr [bp+var_38]
		jbe	short loc_71A0
		les	bx, [bp+var_34]
		mov	al, es:[bx]
		les	bx, [bp+var_38]
		mov	es:[bx], al
		inc	word ptr [bp+var_38]

loc_71A0:
		inc	word ptr [bp+var_34]

loc_71A3:
		les	bx, [bp+var_34]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_7180
		les	bx, [bp+var_38]
		mov	byte ptr es:[bx], 0
		les	bx, ss:16h
		mov	ax, [bp+arg_14]
		mov	es:[bx+1Ah], ax
		les	bx, ss:16h
		mov	dx, [bp+arg_18]
		mov	ax, [bp+arg_16]
		mov	es:[bx+18h], dx
		mov	es:[bx+16h], ax
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax
		les	bx, [bp+var_22]
		mov	ax, es:[bx]
		mov	[bp+n],	ax
		les	bx, [bp+var_22]
		mov	ax, es:[bx+2]
		mov	[bp+var_2A], ax
		test	byte ptr [bp+var_2A], 2
		jz	short loc_7200
		les	bx, [bp+var_22]
		mov	ax, es:[bx+8]
		jmp	short loc_7202
; ---------------------------------------------------------------------------

loc_7200:
		xor	ax, ax

loc_7202:
		mov	[bp+var_2C], ax
		test	byte ptr [bp+var_2A], 30h
		jz	short loc_721C
		les	bx, [bp+var_26]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_26+2],	dx
		mov	word ptr [bp+var_26], ax

loc_721C:
		mov	ax, [bp+n]
		add	ax, 3Ah	; ':'
		push	ax
		push	cs
		call	near ptr sub_6958
		pop	cx
		mov	word ptr [bp+var_30+2],	dx
		mov	word ptr [bp+var_30], ax
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+var_30]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, ss:16h
		mov	dx, word ptr [bp+var_30+2]
		mov	ax, word ptr [bp+var_30]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, [bp+var_30]
		mov	dx, word ptr [bp+var_22+2]
		mov	ax, word ptr [bp+var_22]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_12]
		mov	es:[bx+0Ch], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+n]
		mov	es:[bx+0Eh], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+var_2A]
		mov	es:[bx+14h], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+var_2C]
		mov	es:[bx+16h], ax
		les	bx, [bp+var_30]
		mov	dx, word ptr [bp+var_26+2]
		mov	ax, word ptr [bp+var_26]
		mov	es:[bx+12h], dx
		mov	es:[bx+10h], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+24h], 0
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+28h], 0
		mov	word ptr es:[bx+26h], 0
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+18h], ds
		les	bx, [bp+var_30]
		mov	word ptr es:[bx+1Ch], seg seg000
		mov	word ptr es:[bx+1Ah], 69B4h
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_14]
		mov	es:[bx+2Ch], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_18]
		mov	ax, [bp+arg_16]
		mov	es:[bx+30h], dx
		mov	es:[bx+2Eh], ax
		les	bx, [bp+var_30]
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	es:[bx+20h], dx
		mov	es:[bx+1Eh], ax
		les	bx, [bp+var_30]
		mov	ax, [bp+arg_10]
		mov	es:[bx+22h], ax
		les	bx, [bp+var_30]
		mov	byte ptr es:[bx+39h], 0
		les	bx, [bp+var_30]
		mov	byte ptr es:[bx+38h], 1
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		mov	ax, word ptr [bp+var_30]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+var_30+2]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		test	byte ptr [bp+var_2C], 1
		jz	short loc_73A6
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_3A], dx
		mov	[bp+var_3C], ax
		mov	[bp+var_12], 6
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		mov	ax, word ptr [bp+var_30]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+var_30+2]
		push	ax
		call	sub_6AF2
		add	sp, 0Eh
		mov	[bp+var_12], 0
		jmp	short loc_7391
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_7391:
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, [bp+var_3A]
		mov	cx, [bp+var_3C]
		mov	es, dx
		xchg	ax, bx
		mov	es:[bx+2], ax
		mov	es:[bx], cx

loc_73A6:
		cmp	[bp+arg_1E], 0
		jnz	short loc_73EA
		test	byte ptr [bp+var_2C], 2
		jz	short loc_73EA
		mov	[bp+var_12], 12h
		mov	ax, 1
		push	ax
		les	bx, [bp+var_22]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_22]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		call	sub_6E40
		add	sp, 0Ch
		mov	[bp+var_12], 0
		jmp	short loc_73EA
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_73EA:
					; sub_7117+299j ...
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		mov	[bp+var_46], dx
		mov	[bp+var_48], ax
		mov	dx, [bp+arg_1C]
		mov	ax, [bp+arg_1A]
		mov	[bp+var_42], dx
		mov	[bp+var_44], ax
		mov	dx, word ptr [bp+var_30+2]
		mov	ax, word ptr [bp+var_30]
		mov	[bp+var_3E], dx
		mov	[bp+var_40], ax
		push	ss
		lea	ax, [bp+var_48]
		push	ax
		xor	ax, ax
		mov	dx, 3
		push	ax
		push	dx
		xor	ax, ax
		mov	dx, 1
		push	ax
		push	dx
		mov	ax, 0EEFh
		mov	dx, 0FACEh
		push	ax
		push	dx
		nop
		push	cs
		call	near ptr _RaiseException
		add	sp, 10h
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_7117	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far _ThrowException(int, int, void *src, int, int, int,	int, int, int, int, int, int)
@_ThrowException$qnvt1t1t1uiuiuinuc proc far
					; xalloc::raise(void)+6Cp ...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
src		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah
arg_16		= word ptr  1Ch
arg_18		= word ptr  1Eh

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_6], bp
		mov	bx, [bp+var_6]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		xor	ax, ax
		push	ax		; int
		push	[bp+var_2]	; int
		push	[bp+var_4]	; int
		push	[bp+arg_18]	; int
		push	[bp+arg_16]	; int
		push	[bp+arg_14]	; int
		push	[bp+arg_12]	; int
		push	[bp+arg_10]	; int
		push	[bp+arg_E]	; int
		push	[bp+arg_C]	; int
		push	[bp+arg_A]	; int
		push	[bp+arg_8]	; int
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	[bp+arg_2]	; int
		push	[bp+arg_0]	; int
		push	cs
		call	near ptr sub_7117
		add	sp, 20h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_ThrowException$qnvt1t1t1uiuiuinuc endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; _ReThrowException(unsigned int, unsigned char	*)
@_ReThrowException$quinuc proc far

var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 0Ah
		push	si
		push	di
		mov	[bp+var_A], bp
		mov	bx, [bp+var_A]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	ax, word ptr [bp+var_8]
		or	ax, word ptr [bp+var_8+2]
		jnz	short loc_74DA
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------

loc_74DA:
		mov	ax, 1
		push	ax		; int
		push	[bp+var_2]	; int
		push	[bp+var_4]	; int
		push	[bp+arg_4]	; int
		push	[bp+arg_2]	; int
		push	[bp+arg_0]	; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+0Ch] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h] ; int
		push	word ptr es:[bx+1Eh] ; int
		les	bx, [bp+var_8]
		push	word ptr es:[bx+0Ah] ; int
		push	word ptr es:[bx+8] ; int
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx+38h], 0
		jz	short loc_7526
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		add	ax, 3Ah	; ':'
		jmp	short loc_752F
; ---------------------------------------------------------------------------

loc_7526:
		les	bx, [bp+var_8]
		mov	ax, es:[bx+36h]
		mov	dx, ss

loc_752F:
		push	dx
		push	ax		; src
		les	bx, [bp+var_8]
		push	word ptr es:[bx+6] ; int
		push	word ptr es:[bx+4] ; int
		push	cs
		call	near ptr sub_7117
		add	sp, 20h
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_ReThrowException$quinuc endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_7549	proc far
		push	si
		push	di
		pop	di
		pop	si
		retf
sub_7549	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_754E	proc far
					; _RaiseException+2A6p	...

var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	[bp+var_4], 0
		mov	bx, [bp+arg_0]
		test	byte ptr ss:[bx+4], 6
		jz	short loc_7568
		inc	[bp+var_4]

loc_7568:
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		push	cs
		call	near ptr sub_7549
		jmp	short loc_75B6
; ---------------------------------------------------------------------------

loc_7575:
		mov	ax, [bp+var_2]
		mov	[bp+var_6], ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+var_2]
		push	ss
		push	[bp+arg_0]
		mov	bx, [bp+var_6]
		call	dword ptr ss:[bx+2]
		add	sp, 0Eh
		mov	dx, ax
		or	dx, dx
		jnz	short loc_75A0
		mov	ax, dx
		jmp	short loc_75D4
; ---------------------------------------------------------------------------

loc_75A0:
		cmp	[bp+var_4], 0
		jz	short loc_75AD
		mov	ax, [bp+var_2]
		mov	ss:14h,	ax

loc_75AD:
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx]
		mov	[bp+var_2], ax

loc_75B6:
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_75C4
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_6]
		jnz	short loc_7575

loc_75C4:
		cmp	[bp+var_4], 0
		jz	short loc_75D1
		mov	ax, [bp+var_2]
		mov	ss:14h,	ax

loc_75D1:
		mov	ax, 1

loc_75D4:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_754E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Global_unwind	proc far

var_4C		= word ptr -4Ch
var_4A		= word ptr -4Ah
var_48		= word ptr -48h
var_46		= word ptr -46h
var_3E		= word ptr -3Eh
arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 4Ch
		push	si
		push	di
		mov	dx, [bp+arg_2]
		or	dx, dx
		jnz	short loc_7605
		mov	[bp+var_4A], 0
		mov	[bp+var_4C], 26h ; '&'
		mov	[bp+var_46], 0
		mov	[bp+var_48], 2
		mov	[bp+var_3E], 0
		lea	dx, [bp+var_4C]

loc_7605:
		mov	bx, dx
		or	word ptr ss:[bx+4], 2
		push	[bp+arg_0]
		xor	ax, ax
		push	ax
		push	ax
		push	dx
		push	cs
		call	near ptr sub_754E
		add	sp, 8
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Global_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

sub_7621	proc far
		push	si
		push	di
		pop	di
		pop	si
		retf
sub_7621	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

_RaiseException	proc far

dest		= word ptr -186h
var_184		= word ptr -184h
var_182		= word ptr -182h
var_180		= word ptr -180h
var_17E		= word ptr -17Eh
var_17C		= word ptr -17Ch
var_176		= word ptr -176h
var_174		= word ptr -174h
var_172		= word ptr -172h
var_170		= word ptr -170h
var_16E		= word ptr -16Eh
var_16C		= word ptr -16Ch
var_16A		= word ptr -16Ah
var_168		= word ptr -168h
var_166		= word ptr -166h
var_164		= word ptr -164h
var_162		= word ptr -162h
var_160		= word ptr -160h
var_15E		= word ptr -15Eh
var_15A		= word ptr -15Ah
var_158		= word ptr -158h
var_156		= word ptr -156h
var_154		= word ptr -154h
var_152		= byte ptr -152h
var_C6		= word ptr -0C6h
var_C4		= word ptr -0C4h
var_C2		= word ptr -0C2h
var_C0		= word ptr -0C0h
var_BE		= word ptr -0BEh
var_BC		= word ptr -0BCh
var_BA		= word ptr -0BAh
var_B8		= word ptr -0B8h
var_B6		= word ptr -0B6h
var_B4		= word ptr -0B4h
var_B2		= word ptr -0B2h
var_B0		= word ptr -0B0h
var_AE		= word ptr -0AEh
var_AC		= word ptr -0ACh
var_AA		= word ptr -0AAh
var_A8		= word ptr -0A8h
var_A6		= word ptr -0A6h
var_A4		= word ptr -0A4h
var_A2		= word ptr -0A2h
var_A0		= word ptr -0A0h
var_9E		= word ptr -9Eh
var_9C		= word ptr -9Ch
var_9A		= word ptr -9Ah
var_98		= word ptr -98h
var_96		= word ptr -96h
var_94		= word ptr -94h
var_92		= word ptr -92h
var_90		= word ptr -90h
var_8E		= word ptr -8Eh
var_8C		= word ptr -8Ch
var_8A		= word ptr -8Ah
var_88		= word ptr -88h
var_86		= byte ptr -86h
var_56		= word ptr -56h
var_54		= word ptr -54h
var_52		= word ptr -52h
var_50		= word ptr -50h
var_4E		= word ptr -4Eh
var_4C		= word ptr -4Ch
var_4A		= word ptr -4Ah
var_48		= word ptr -48h
var_46		= byte ptr -46h
src		= dword	ptr -0Ah
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  18h
arg_2		= word ptr  1Ah
arg_4		= word ptr  1Ch
arg_6		= word ptr  1Eh
arg_8		= word ptr  20h
arg_A		= word ptr  22h
arg_C		= dword	ptr  24h

; FUNCTION CHUNK AT 7A98 SIZE 0000000D BYTES

		push	ax
		push	cx
		push	dx
		push	bx
		push	sp
		push	bp
		push	si
		push	di
		push	ds
		push	es
		mov	bp, sp
		sub	sp, 186h
		lea	ax, [bp+var_86]
		push	ax
		push	cs
		call	near ptr sub_7621
		pop	cx
		pushf
		pop	ax
		mov	word ptr [bp+src+2], ax
		cmp	byte ptr word_11CBE, 3
		jnb	short loc_764F
		jmp	loc_7705
; ---------------------------------------------------------------------------

loc_764F:
		pushad
		mov	word ptr [bp+src], sp
		mov	ax, 20h	; ' '
		push	ax		; n
		push	ss
		push	word ptr [bp+src] ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		popad
		mov	dx, [bp+var_184]
		mov	ax, [bp+dest]
		mov	[bp+var_B4], dx
		mov	[bp+var_B6], ax
		mov	dx, [bp+var_180]
		mov	ax, [bp+var_182]
		mov	[bp+var_B0], dx
		mov	[bp+var_B2], ax
		mov	dx, [bp+var_174]
		mov	ax, [bp+var_176]
		mov	[bp+var_AC], dx
		mov	[bp+var_AE], ax
		mov	dx, [bp+var_170]
		mov	ax, [bp+var_172]
		mov	[bp+var_A8], dx
		mov	[bp+var_AA], ax
		mov	dx, [bp+var_16C]
		mov	ax, [bp+var_16E]
		mov	[bp+var_A4], dx
		mov	[bp+var_A6], ax
		mov	dx, [bp+var_168]
		mov	ax, [bp+var_16A]
		mov	[bp+var_A0], dx
		mov	[bp+var_A2], ax
		mov	dx, [bp+var_17C]
		mov	ax, [bp+var_17E]
		mov	[bp+var_9C], dx
		mov	[bp+var_9E], ax
		pushfd
		pop	eax
		shr	eax, 10h
		mov	[bp+var_90], ax
		mov	ax, word ptr [bp+src+2]
		mov	[bp+var_92], ax
		mov	[bp+var_C0], 0
		mov	[bp+var_C2], fs
		mov	[bp+var_C4], 0
		mov	[bp+var_C6], gs
		jmp	short loc_774E
; ---------------------------------------------------------------------------

loc_7705:
		xor	ax, ax
		xor	dx, dx
		mov	[bp+var_9C], ax
		mov	[bp+var_9E], dx
		mov	[bp+var_A0], ax
		mov	[bp+var_A2], dx
		mov	[bp+var_A4], ax
		mov	[bp+var_A6], dx
		mov	[bp+var_A8], ax
		mov	[bp+var_AA], dx
		mov	[bp+var_AC], ax
		mov	[bp+var_AE], dx
		mov	[bp+var_B0], ax
		mov	[bp+var_B2], dx
		mov	[bp+var_B4], ax
		mov	[bp+var_B6], dx
		mov	ax, word ptr [bp+src+2]
		mov	[bp+var_90], 0
		mov	[bp+var_92], ax

loc_774E:
		mov	dx, [bp+var_9C]
		mov	ax, [bp+var_9E]
		add	ax, 18h
		adc	dx, 0
		mov	[bp+var_8C], dx
		mov	[bp+var_8E], ax
		cmp	[bp+arg_2], 0EEFh
		jnz	short loc_777F
		cmp	[bp+arg_0], 0FACEh
		jnz	short loc_777F
		les	bx, [bp+arg_C]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		jmp	short loc_778D
; ---------------------------------------------------------------------------

loc_777F:
					; _RaiseException+14Aj
		mov	word ptr [bp+src], bp
		mov	bx, word ptr [bp+src]
		mov	dx, ss:[bx+16h]
		mov	ax, ss:[bx+14h]

loc_778D:
		mov	[bp+var_4], dx
		mov	[bp+var_6], ax
		mov	ax, [bp+var_6]
		mov	[bp+var_98], 0
		mov	[bp+var_9A], ax
		mov	ax, [bp+var_4]
		mov	[bp+var_94], 0
		mov	[bp+var_96], ax
		mov	ax, 14h
		push	ax		; n
		push	ss
		push	bp		; src
		push	ss
		lea	ax, [bp+var_166]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		mov	ax, [bp+var_164]
		mov	[bp+var_B8], 0
		mov	[bp+var_BA], ax
		mov	ax, [bp+var_166]
		mov	[bp+var_BC], 0
		mov	[bp+var_BE], ax
		mov	[bp+var_88], 0
		mov	[bp+var_8A], ss
		mov	ax, [bp+var_154]
		mov	[bp+var_A2], ax
		mov	ax, [bp+var_15A]
		mov	[bp+var_AE], ax
		mov	ax, [bp+var_156]
		mov	[bp+var_A6], ax
		mov	ax, [bp+var_158]
		mov	[bp+var_AA], ax
		mov	ax, [bp+var_160]
		mov	[bp+var_B2], ax
		mov	ax, [bp+var_162]
		mov	[bp+var_B6], ax
		mov	ax, [bp+var_15E]
		mov	[bp+var_9E], ax
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		and	dx, 0EFFFh
		mov	[bp+var_54], dx
		mov	[bp+var_56], ax
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	[bp+var_50], dx
		mov	[bp+var_52], ax
		mov	dx, [bp+var_4]
		mov	ax, [bp+var_6]
		mov	[bp+var_4A], dx
		mov	[bp+var_4C], ax
		mov	[bp+var_4E], 0
		mov	ax, word ptr [bp+arg_C]
		or	ax, word ptr [bp+arg_C+2]
		jnz	short loc_785E
		mov	[bp+arg_A], 0
		mov	[bp+arg_8], 0

loc_785E:
		cmp	[bp+arg_A], 0
		jb	short loc_7876
		ja	short loc_786C
		cmp	[bp+arg_8], 0Fh
		jbe	short loc_7876

loc_786C:
		mov	[bp+arg_A], 0
		mov	[bp+arg_8], 0Fh

loc_7876:
					; _RaiseException+244j
		mov	ax, [bp+arg_8]
		mov	[bp+var_48], ax
		mov	[bp+var_2], 0
		jmp	short loc_78AC
; ---------------------------------------------------------------------------

loc_7883:
					; _RaiseException+295j
		mov	bx, [bp+var_2]
		mov	cl, 2
		shl	bx, cl
		lea	ax, [bp+var_46]
		add	bx, ax
		mov	ax, [bp+var_2]
		mov	cl, 2
		shl	ax, cl
		les	si, [bp+arg_C]
		add	si, ax
		mov	dx, es:[si+2]
		mov	ax, es:[si]
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		inc	[bp+var_2]

loc_78AC:
		mov	ax, [bp+var_2]
		xor	dx, dx
		cmp	dx, [bp+arg_A]
		jb	short loc_7883
		jnz	short loc_78BD
		cmp	ax, [bp+arg_8]
		jb	short loc_7883

loc_78BD:
					; _RaiseException+2E0j
		mov	ax, 0FFFFh
		push	ax
		push	ss
		lea	ax, [bp+var_152]
		push	ax
		lea	ax, [bp+var_56]
		push	ax
		push	cs
		call	near ptr sub_754E
		add	sp, 8
		or	ax, ax
		jnz	short loc_7908
		test	byte ptr [bp+arg_4], 1
		jz	short loc_7928
		mov	[bp+var_54], 0C000h
		mov	[bp+var_56], 25h ; '%'
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	[bp+var_50], dx
		mov	[bp+var_52], ax
		mov	[bp+var_4A], 0
		mov	[bp+var_4C], 0
		mov	[bp+var_4E], 0
		mov	[bp+var_48], 0
		jmp	short loc_78BD
; ---------------------------------------------------------------------------

loc_7908:
		or	[bp+var_52], 2
		mov	ax, 0FFFFh
		push	ax
		push	ss
		lea	ax, [bp+var_152]
		push	ax
		lea	ax, [bp+var_56]
		push	ax
		push	cs
		call	near ptr sub_754E
		add	sp, 8
		or	ax, ax
		jz	short loc_7928
		jmp	loc_7A93
; ---------------------------------------------------------------------------

loc_7928:
					; _RaiseException+2FDj
		cmp	byte ptr word_11CBE, 3
		jnb	short loc_7932
		jmp	loc_7A12
; ---------------------------------------------------------------------------

loc_7932:
		mov	cx, [bp+var_8E]
		sub	cx, 30h	; '0'
		mov	es, [bp+var_8A]
		mov	bx, cx
		mov	ax, [bp+var_C6]
		mov	es:[bx], ax
		mov	ax, [bp+var_C2]
		mov	es:[bx+2], ax
		mov	ax, [bp+var_BE]
		mov	es:[bx+4], ax
		mov	ax, [bp+var_BA]
		mov	es:[bx+6], ax
		mov	dx, [bp+var_B4]
		mov	ax, [bp+var_B6]
		mov	es:[bx+0Ah], dx
		mov	es:[bx+8], ax
		mov	dx, [bp+var_B0]
		mov	ax, [bp+var_B2]
		mov	es:[bx+0Eh], dx
		mov	es:[bx+0Ch], ax
		mov	dx, [bp+var_9C]
		mov	ax, [bp+var_9E]
		mov	es:[bx+12h], dx
		mov	es:[bx+10h], ax
		mov	dx, [bp+var_8C]
		mov	ax, [bp+var_8E]
		mov	es:[bx+16h], dx
		mov	es:[bx+14h], ax
		mov	dx, [bp+var_AC]
		mov	ax, [bp+var_AE]
		mov	es:[bx+1Ah], dx
		mov	es:[bx+18h], ax
		mov	dx, [bp+var_A8]
		mov	ax, [bp+var_AA]
		mov	es:[bx+1Eh], dx
		mov	es:[bx+1Ch], ax
		mov	dx, [bp+var_A4]
		mov	ax, [bp+var_A6]
		mov	es:[bx+22h], dx
		mov	es:[bx+20h], ax
		mov	dx, [bp+var_A0]
		mov	ax, [bp+var_A2]
		mov	es:[bx+26h], dx
		mov	es:[bx+24h], ax
		mov	dx, [bp+var_90]
		mov	ax, [bp+var_92]
		mov	es:[bx+2Ah], dx
		mov	es:[bx+28h], ax
		mov	ax, [bp+var_9A]
		mov	es:[bx+2Ch], ax
		mov	ax, [bp+var_96]
		mov	es:[bx+2Eh], ax
		mov	ss, [bp+var_8A]
		mov	sp, bx
		pop	gs
		pop	fs
		pop	es
		pop	ds
		popad
		popfd
		retf
; ---------------------------------------------------------------------------
		jmp	loc_7A98
; ---------------------------------------------------------------------------

loc_7A12:
		mov	cx, [bp+var_8E]
		sub	cx, 1Ah
		mov	es, [bp+var_8A]
		mov	bx, cx
		mov	ax, [bp+var_BE]
		mov	es:[bx], ax
		mov	ax, [bp+var_BA]
		mov	es:[bx+2], ax
		mov	ax, [bp+var_B6]
		mov	es:[bx+4], ax
		mov	ax, [bp+var_B2]
		mov	es:[bx+6], ax
		mov	ax, [bp+var_9E]
		mov	es:[bx+8], ax
		mov	ax, [bp+var_8E]
		mov	es:[bx+0Ah], ax
		mov	ax, [bp+var_AE]
		mov	es:[bx+0Ch], ax
		mov	ax, [bp+var_AA]
		mov	es:[bx+0Eh], ax
		mov	ax, [bp+var_A6]
		mov	es:[bx+10h], ax
		mov	ax, [bp+var_A2]
		mov	es:[bx+12h], ax
		mov	ax, [bp+var_92]
		mov	es:[bx+14h], ax
		mov	ax, [bp+var_9A]
		mov	es:[bx+16h], ax
		mov	ax, [bp+var_96]
		mov	es:[bx+18h], ax
		mov	ss, [bp+var_8A]
		mov	sp, bx
		pop	es
		pop	ds
		popa
		popf
		retf
; ---------------------------------------------------------------------------
		jmp	short loc_7A98
; ---------------------------------------------------------------------------

loc_7A93:
		nop
		push	cs
		call	near ptr ___call_terminate
_RaiseException	endp

; ---------------------------------------------------------------------------
; START	OF FUNCTION CHUNK FOR _RaiseException

loc_7A98:
					; _RaiseException+46Bj
		mov	sp, bp
		pop	es
		pop	ds
		pop	di
		pop	si
		pop	bp
		pop	bx
		pop	bx
		pop	dx
		pop	cx
		pop	ax
		retf
; END OF FUNCTION CHUNK	FOR _RaiseException
; ---------------------------------------------------------------------------
		db 4 dup(0), 7,	7Bh
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 0A5h, 7Ah
		dw seg seg000
		db 2 dup(0), 4,	0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7ACF	proc near

var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 7ABDh
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_12], 6
		mov	ax, 1
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_6E40
		add	sp, 0Ch
		mov	[bp+var_12], 0
		jmp	short loc_7B11
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_7B11:
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7ACF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7B1F	proc near
					; sub_8069+138p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx+38h], 0
		jz	short loc_7B9A
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+16h], 2
		jz	short loc_7B92
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx+4]
		mov	word ptr [bp+var_4+2], es
		mov	word ptr [bp+var_4], bx
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_4]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		mov	ax, word ptr [bp+arg_0]
		add	ax, 3Ah	; ':'
		push	word ptr [bp+arg_0+2]
		push	ax
		call	sub_7ACF
		add	sp, 0Ah
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, word ptr [bp+var_8+2]
		mov	cx, word ptr [bp+var_8]
		mov	es, dx
		xchg	ax, bx
		mov	es:[bx+2], ax
		mov	es:[bx], cx

loc_7B92:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+38h], 0

loc_7B9A:
		les	bx, [bp+arg_0]
		cmp	byte ptr es:[bx+39h], 0
		jz	short loc_7BF1
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+34h]
		mov	ax, es:[bx+32h]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+2], 2
		jz	short loc_7BE9
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_7BE9
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	ss
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+36h]
		call	sub_7ACF
		add	sp, 0Ah

loc_7BE9:
		les	bx, [bp+arg_0]
		mov	byte ptr es:[bx+39h], 0

loc_7BF1:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7B1F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; _CatchCleanup(void)
@_CatchCleanup$qv proc far
					; sub_7117+277p ...

var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, ss:16h
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+24h]
		mov	[bp+var_6], ax
		mov	bx, [bp+var_6]
		les	ax, ss:[bx+arg_0]
		mov	bx, [bp+var_6]
		add	ax, ss:[bx+arg_6]
		mov	bx, ax
		mov	ax, es:[bx]
		mov	bx, [bp+var_6]
		mov	ss:[bx+arg_6], ax
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		call	sub_7B1F
		pop	cx
		pop	cx
		push	ds
		les	bx, [bp+var_4]
		mov	ds, word ptr es:[bx+18h]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		call	dword ptr es:[bx+1Ah]
		pop	cx
		pop	cx
		pop	ds
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@_CatchCleanup$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7C74	proc near

var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Ch
		push	si
		push	di

loc_7C7C:
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		mov	ax, word ptr [bp+var_4]
		or	ax, word ptr [bp+var_4+2]
		jnz	short loc_7C99
		xor	ax, ax
		jmp	loc_7D3A
; ---------------------------------------------------------------------------

loc_7C99:
		mov	bx, [bp+arg_A]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		les	bx, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		cmp	[bp+arg_4], 0
		jz	short loc_7CC5
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_8+2]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax

loc_7CC5:
		push	[bp+arg_8]
		push	[bp+arg_6]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		or	ax, ax
		jnz	short loc_7D1E
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+2], 2
		jz	short loc_7D33
		les	bx, [bp+var_4]
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		add	ax, es:[bx+0Ah]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_C]
		or	ax, [bp+var_A]
		jz	short loc_7D33
		lea	ax, [bp+var_8]
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		xor	ax, ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		call	sub_7C74
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_7D33

loc_7D1E:
		mov	bx, [bp+arg_A]
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax
		mov	ax, 1
		jmp	short loc_7D3A
; ---------------------------------------------------------------------------

loc_7D33:
		add	word ptr [bp+arg_0], 8
		jmp	loc_7C7C
; ---------------------------------------------------------------------------

loc_7D3A:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7C74	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7D40	proc far
					; sub_7DC3+1C2p

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jz	short loc_7DB1
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		lea	ax, [bp+arg_0]
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_7C74
		add	sp, 0Ch
		or	ax, ax
		jnz	short loc_7DB1
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		lea	ax, [bp+arg_0]
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		mov	ax, 1
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		call	sub_7C74
		add	sp, 0Ch
		or	ax, ax
		jz	short loc_7DB9

loc_7DB1:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		jmp	short loc_7DBD
; ---------------------------------------------------------------------------

loc_7DB9:
		xor	dx, dx
		xor	ax, ax

loc_7DBD:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_7D40	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_7DC3	proc near

var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
src		= dword	ptr -0Eh
n		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_6		= dword	ptr  0Ah
arg_A		= dword	ptr  0Eh
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 18h
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+arg_6]
		mov	es:[bx+34h], dx
		mov	es:[bx+32h], ax
		mov	ax, [bp+var_4]
		or	ax, [bp+var_2]
		jnz	short loc_7DF2
		jmp	loc_8063
; ---------------------------------------------------------------------------

loc_7DF2:
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+8], 80h
		jz	short loc_7DFF
		jmp	loc_8063
; ---------------------------------------------------------------------------

loc_7DFF:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+8]
		and	ax, 1
		neg	ax
		sbb	ax, ax
		inc	ax
		mov	[bp+var_14], ax
		mov	dx, word ptr [bp+arg_6+2]
		mov	ax, word ptr [bp+arg_6]
		add	ax, 3Ah	; ':'
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+arg_6]
		mov	byte ptr es:[bx+39h], 1
		les	bx, [bp+arg_A]
		mov	ax, es:[bx]
		add	ax, [bp+arg_E]
		les	bx, [bp+arg_6]
		mov	es:[bx+36h], ax
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	[bp+n],	ax
		les	bx, [bp+var_8]
		mov	cx, es:[bx+2]
		mov	dx, cx
		test	cl, 30h
		jz	short loc_7E73
		les	bx, [bp+var_8]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]

loc_7E73:
		test	cl, 10h
		jz	short loc_7E9B
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+0Ch], 1
		jz	short loc_7E9B
		push	[bp+n]		; n
		xor	ax, ax
		push	ax		; c
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; s
		nop
		push	cs
		call	near ptr _memset
		add	sp, 8
		jmp	loc_7FC6
; ---------------------------------------------------------------------------

loc_7E9B:
		test	dl, 1
		jnz	short loc_7EA3
		jmp	loc_7F47
; ---------------------------------------------------------------------------

loc_7EA3:
		test	cl, 30h
		jnz	short loc_7EAB
		jmp	loc_7F47
; ---------------------------------------------------------------------------

loc_7EAB:
		test	cl, 20h
		jz	short loc_7EB2
		jmp	short loc_7ED5
; ---------------------------------------------------------------------------

loc_7EB2:
		les	bx, [bp+src]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+15h], 10h
		jz	short loc_7EDC
		mov	ax, word ptr [bp+src]
		mov	word ptr [bp+src+2], ds
		mov	word ptr [bp+src], ax

loc_7ED5:
		mov	[bp+var_14], 1
		jmp	short $+2

loc_7EDC:
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		or	ax, ax
		jnz	short loc_7F3D
		mov	dx, word ptr [bp+src+2]
		mov	ax, word ptr [bp+src]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	cs
		call	near ptr sub_7D40
		add	sp, 0Ch
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		mov	dx, word ptr [bp+src+2]
		mov	ax, word ptr [bp+src]
		cmp	dx, [bp+var_16]
		jnz	short loc_7F38
		cmp	ax, [bp+var_18]
		jz	short loc_7F3D

loc_7F38:
		mov	[bp+var_14], 1

loc_7F3D:
					; sub_7DC3+173j
		push	[bp+n]
		push	ss
		lea	ax, [bp+src]
		jmp	loc_8011
; ---------------------------------------------------------------------------

loc_7F47:
		les	bx, [bp+arg_6]
		test	byte ptr es:[bx+14h], 1
		jz	short loc_7FCD
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		or	ax, ax
		jnz	short loc_7F96
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+12h]
		push	word ptr es:[bx+10h]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	cs
		call	near ptr sub_7D40
		add	sp, 0Ch
		mov	word ptr [bp+src+2], dx
		mov	word ptr [bp+src], ax
		mov	[bp+var_14], 1

loc_7F96:
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 1
		jz	short loc_8014
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Eh]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+0Ch]
		push	word ptr es:[bx+0Ah]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h]
		call	sub_6AF2
		add	sp, 0Eh

loc_7FC6:
					; sub_7DC3+227j
		mov	[bp+var_14], 1
		jmp	short loc_802D
; ---------------------------------------------------------------------------

loc_7FCD:
		test	cl, 20h
		jz	short loc_7FEC
		push	[bp+n]		; n
		push	ss
		lea	ax, [bp+src]
		push	ax		; src
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah
		jmp	short loc_7FC6
; ---------------------------------------------------------------------------

loc_7FEC:
		test	cl, 10h
		jz	short loc_8014
		les	bx, [bp+arg_6]
		mov	ax, es:[bx+0Eh]
		cmp	ax, [bp+n]
		jz	short loc_8014
		les	bx, [bp+src]

loc_8000:
		mov	ax, es:[bx]
		mov	[bp+var_10], ds
		mov	[bp+var_12], ax
		mov	ax, 4
		push	ax
		push	ss
		lea	ax, [bp+var_12]

loc_8011:
		push	ax
		jmp	short loc_801D
; ---------------------------------------------------------------------------

loc_8014:
					; sub_7DC3+22Cj ...
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src

loc_801D:
		push	ss
		les	bx, [bp+arg_6]
		push	word ptr es:[bx+36h] ; dest
		nop
		push	cs
		call	near ptr _memcpy
		add	sp, 0Ah

loc_802D:
		cmp	[bp+var_14], 0
		jnz	short loc_8063
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_805B
		les	bx, [bp+var_8]
		push	word ptr es:[bx+22h]
		les	bx, [bp+var_8]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	word ptr [bp+src+2]
		push	word ptr [bp+src]
		call	sub_7ACF
		add	sp, 0Ah

loc_805B:
		les	bx, [bp+arg_6]
		mov	byte ptr es:[bx+38h], 0

loc_8063:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_7DC3	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8069	proc near
					; __Return_unwind+15p ...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= dword	ptr -1Ah
var_16		= dword	ptr -16h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_E], 0
		les	bx, ss:16h
		mov	si, [bp+arg_0]
		mov	ax, ss:[si+arg_A]
		mov	es:[bx+6], ax
		mov	[bp+var_C], ax
		les	bx, ss:16h
		mov	si, [bp+arg_0]
		mov	ax, ss:[si+arg_C]
		mov	es:[bx+8], ax
		mov	bx, [bp+arg_0]
		mov	dx, ss:[bx+arg_4]
		mov	ax, ss:[bx+arg_2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx+4]
		mov	[bp+var_A], ax
		mov	bx, [bp+arg_0]
		mov	ax, ss:[bx+arg_8]
		jmp	loc_820E
; ---------------------------------------------------------------------------

loc_80C1:
		mov	ax, [bp+var_6]
		mov	[bp+var_12], ax
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_8], ax
		add	[bp+var_12], 2
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_10], ax
		add	[bp+var_12], 2
		mov	bx, [bp+arg_0]
		mov	ax, [bp+var_8]
		mov	ss:[bx+arg_8], ax
		mov	bx, [bp+var_10]
		cmp	bx, 5
		jbe	short loc_80FC
		jmp	loc_820B
; ---------------------------------------------------------------------------

loc_80FC:
		add	bx, bx
		jmp	cs:off_8228[bx]

loc_8103:
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	word ptr dword_141B4+2,	dx
		mov	word ptr dword_141B4, ax
		mov	bx, [bp+arg_0]
		mov	ss:[bx+arg_E], 1
		push	ds
		pop	es
		assume es:dseg
		push	ds
		mov	ds, [bp+var_C]
		push	bp
		mov	bp, [bp+var_A]
		call	es:dword_141B4
		pop	bp
		pop	ds
		mov	bx, [bp+arg_0]
		mov	ss:[bx+arg_E], 0
		jmp	loc_820B
; ---------------------------------------------------------------------------

loc_813E:
		add	[bp+var_12], 4
		mov	dx, ss:18h
		mov	ax, ss:16h
		jmp	short loc_816D
; ---------------------------------------------------------------------------

loc_814D:
		les	bx, [bp+var_16]
		assume es:nothing
		mov	ax, es:[bx+24h]
		cmp	ax, [bp+arg_0]
		jnz	short loc_8167
		les	bx, [bp+var_16]
		mov	ax, es:[bx+2Ah]
		cmp	ax, [bp+var_6]
		jnz	short loc_8167
		jmp	short loc_8187
; ---------------------------------------------------------------------------

loc_8167:
		mov	dx, word ptr [bp+var_16+2]
		mov	ax, word ptr [bp+var_16]

loc_816D:
		mov	word ptr [bp+var_1A+2],	dx
		mov	word ptr [bp+var_1A], ax
		les	bx, [bp+var_1A]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		or	ax, dx
		jnz	short loc_814D

loc_8187:
		les	bx, [bp+var_16]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+var_1A]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		push	word ptr [bp+var_16+2]
		push	word ptr [bp+var_16]
		call	sub_7B1F
		pop	cx
		pop	cx
		push	ds
		les	bx, [bp+var_16]
		mov	ds, word ptr es:[bx+18h]
		push	word ptr [bp+var_16+2]
		push	word ptr [bp+var_16]
		les	bx, [bp+var_16]
		call	dword ptr es:[bx+1Ah]
		pop	cx
		pop	cx
		pop	ds
		jmp	short loc_820B
; ---------------------------------------------------------------------------

loc_81C0:
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_1C], ax
		add	[bp+var_12], 2
		les	bx, [bp+var_4]
		add	bx, [bp+var_12]
		mov	ax, es:[bx]
		mov	[bp+var_1E], ds
		mov	[bp+var_20], ax
		mov	ax, word ptr [bp+var_4+2]
		mov	dx, [bp+var_20]
		mov	[bp+var_1E], ax
		mov	[bp+var_20], dx
		push	[bp+var_A]
		push	[bp+arg_0]
		mov	ax, [bp+var_1C]
		add	ax, [bp+var_E]
		cwd
		push	dx
		push	ax
		push	[bp+var_1E]
		push	[bp+var_20]
		call	sub_8C3F
		add	sp, 0Ch
		mov	[bp+var_E], ax
		jmp	short $+2

loc_820B:
		mov	ax, [bp+var_8]

loc_820E:
		mov	[bp+var_6], ax
		cmp	[bp+var_6], 0
		jz	short loc_8222
		mov	ax, [bp+var_6]
		cmp	ax, [bp+arg_2]
		jz	short loc_8222
		jmp	loc_80C1
; ---------------------------------------------------------------------------

loc_8222:
					; sub_8069+1B4j
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_8069	endp

; ---------------------------------------------------------------------------
off_8228	dw offset loc_8103
		dw offset loc_820B
		dw offset loc_820B
		dw offset loc_820B
		dw offset loc_813E
		dw offset loc_81C0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Local_unwind	proc far

var_2		= word ptr -2
arg_0		= word ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		push	[bp+arg_0]
		push	[bp+var_2]
		call	sub_8069
		pop	cx
		pop	cx
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Local_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__Return_unwind	proc far

var_2		= word ptr -2

		push	bp
		mov	bp, sp
		sub	sp, 2
		push	si
		push	di
		mov	ax, ss:14h
		mov	[bp+var_2], ax
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		call	sub_8069
		pop	cx
		pop	cx
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx]
		mov	ss:14h,	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__Return_unwind	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_827E	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, 4
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_82EC
; ---------------------------------------------------------------------------

loc_8297:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+6]
		mov	ax, es:[bx+4]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jz	short loc_82E0
		xor	ax, ax
		push	ax
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+0Ch]
		push	[bp+var_6]
		push	[bp+var_8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		call	sub_69ED
		add	sp, 10h
		or	ax, ax
		jz	short loc_82E8

loc_82E0:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_82FC
; ---------------------------------------------------------------------------

loc_82E8:
		add	word ptr [bp+var_4], 10h

loc_82EC:
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_8297
		xor	dx, dx
		xor	ax, ax

loc_82FC:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_827E	endp

; ---------------------------------------------------------------------------
		db 2 dup(2Ah), 42h, 2 dup(43h),	78h, 68h, 31h

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__ExceptionHandler proc	far

var_38		= word ptr -38h
var_36		= word ptr -36h
var_34		= word ptr -34h
var_32		= word ptr -32h
var_30		= word ptr -30h
var_2E		= word ptr -2Eh
var_2C		= word ptr -2Ch
var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= dword	ptr -24h
var_20		= dword	ptr -20h
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_E		= word ptr  14h
arg_10		= word ptr  16h
arg_12		= word ptr  18h
arg_14		= word ptr  1Ah

		push	bp
		mov	bp, sp
		sub	sp, 38h
		push	si
		push	di
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax
		mov	ax, [bp+arg_4]
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_8]
		mov	ax, [bp+arg_6]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+arg_14]
		mov	ax, ss:[bx+arg_12]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		mov	bx, [bp+var_4]
		mov	dx, ss:[bx+arg_2]
		mov	ax, ss:[bx+arg_0]
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		les	bx, [bp+var_10]
		mov	ax, [bp+var_4]
		sub	ax, es:[bx+4]
		mov	[bp+var_16], ax
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx+arg_4]
		mov	[bp+var_18], ax
		les	bx, ss:16h
		mov	si, [bp+var_4]
		mov	ax, ss:[si+arg_8]
		mov	es:[bx+6], ax
		mov	[bp+var_1A], ax
		les	bx, ss:16h
		mov	si, [bp+var_4]
		mov	ax, ss:[si+arg_A]
		mov	es:[bx+8], ax
		mov	[bp+var_1C], ax
		mov	bx, [bp+var_2]
		test	byte ptr ss:[bx+4], 6
		jnz	short loc_8396
		jmp	loc_843E
; ---------------------------------------------------------------------------

loc_8396:
		xor	ax, ax
		push	ax
		push	[bp+var_4]
		call	sub_8069
		pop	cx
		pop	cx
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jz	short loc_83AF
		jmp	loc_8671
; ---------------------------------------------------------------------------

loc_83AF:
		cmp	word ptr ss:[bx], 0FACEh
		jz	short loc_83B9
		jmp	loc_8671
; ---------------------------------------------------------------------------

loc_83B9:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_20+2],	dx
		mov	word ptr [bp+var_20], ax
		mov	ax, word ptr [bp+var_20]
		or	ax, word ptr [bp+var_20+2]
		jnz	short loc_83D4
		jmp	loc_8671
; ---------------------------------------------------------------------------

loc_83D4:
		jmp	short loc_8412
; ---------------------------------------------------------------------------

loc_83D6:
		mov	ax, 1
		push	ax
		les	bx, [bp+var_C]
		push	word ptr es:[bx+0Ch]
		les	bx, [bp+var_20]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		les	bx, [bp+var_C]
		push	word ptr es:[bx+0Ah]
		push	word ptr es:[bx+8]
		les	bx, [bp+var_C]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		call	sub_69ED
		add	sp, 10h
		or	ax, ax
		jz	short loc_840E
		jmp	loc_8671
; ---------------------------------------------------------------------------

loc_840E:
		add	word ptr [bp+var_20], 4

loc_8412:
		les	bx, [bp+var_20]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_83D6
		mov	ax, ss:14h
		mov	word ptr [bp+var_24+2],	ax
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx]
		mov	ss:14h,	ax
		nop
		push	cs
		call	near ptr ___call_unexpected
; ---------------------------------------------------------------------------
		mov	ax, word ptr [bp+var_24+2]
		mov	ss:14h,	ax
		jmp	loc_8671
; ---------------------------------------------------------------------------

loc_843E:
		mov	bx, [bp+var_4]
		mov	ax, ss:[bx+arg_6]
		jmp	loc_8665
; ---------------------------------------------------------------------------

loc_8448:
		mov	ax, [bp+var_12]
		mov	word ptr [bp+var_20], ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	[bp+var_14], ax
		add	word ptr [bp+var_20], 2
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_20+2],	ax
		add	word ptr [bp+var_20], 2
		mov	bx, word ptr [bp+var_20+2]
		cmp	bx, 5
		jbe	short loc_8479
		jmp	loc_8662
; ---------------------------------------------------------------------------

loc_8479:
		add	bx, bx
		jmp	cs:off_867A[bx]

loc_8480:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jz	short loc_848E
		jmp	loc_8662
; ---------------------------------------------------------------------------

loc_848E:
		cmp	word ptr ss:[bx], 0FACEh
		jz	short loc_8498
		jmp	loc_8662
; ---------------------------------------------------------------------------

loc_8498:
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_26], dx
		mov	[bp+var_28], ax
		add	word ptr [bp+var_20], 4
		push	word ptr [bp+var_C+2]
		push	word ptr [bp+var_C]
		push	[bp+var_26]
		push	[bp+var_28]
		call	sub_827E
		add	sp, 8
		mov	word ptr [bp+var_24+2],	dx
		mov	word ptr [bp+var_24], ax
		mov	ax, word ptr [bp+var_24]
		or	ax, word ptr [bp+var_24+2]
		jnz	short loc_84D2
		jmp	loc_8662
; ---------------------------------------------------------------------------

loc_84D2:
		les	bx, [bp+var_C]
		mov	ax, [bp+var_4]
		mov	es:[bx+24h], ax
		les	bx, [bp+var_C]
		mov	dx, word ptr [bp+var_24+2]
		mov	ax, word ptr [bp+var_24]
		mov	es:[bx+28h], dx
		mov	es:[bx+26h], ax
		les	bx, [bp+var_C]
		mov	ax, word ptr [bp+var_20]
		mov	es:[bx+2Ah], ax
		mov	ax, [bp+var_12]
		mov	[bp+var_30], ax
		mov	ax, word ptr [bp+var_20]
		mov	[bp+var_2E], ax
		les	bx, [bp+var_24]

loc_8506:
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_2A], dx
		mov	[bp+var_2C], ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	cs
		call	near ptr __Global_unwind
		pop	cx
		pop	cx
		push	[bp+var_30]
		push	[bp+var_4]
		call	sub_8069
		pop	cx
		pop	cx
		mov	bx, [bp+var_4]
		mov	ax, [bp+var_2E]
		mov	ss:[bx+arg_6], ax
		cmp	word ptr [bp+var_20+2],	3
		jnz	short loc_8558
		push	[bp+var_16]
		push	[bp+var_26]
		push	[bp+var_28]
		push	word ptr [bp+var_C+2]
		push	word ptr [bp+var_C]
		push	[bp+var_4]
		push	word ptr [bp+var_24+2]
		push	word ptr [bp+var_24]
		call	sub_7DC3
		add	sp, 10h

loc_8558:
		mov	dx, [bp+var_2A]
		mov	ax, [bp+var_2C]
		mov	si, [bp+var_1C]
		mov	ds, [bp+var_1A]
		mov	bx, [bp+var_18]
		mov	cx, [bp+var_16]
		push	cs
		call	near ptr ___JumpToCatch__
		jmp	loc_8662
; ---------------------------------------------------------------------------

loc_8571:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jnz	short loc_8586
		cmp	word ptr ss:[bx], 0FACEh
		jnz	short loc_8586
		jmp	loc_8662
; ---------------------------------------------------------------------------

loc_8586:
					; __ExceptionHandler+277j
		mov	ax, [bp+var_2]
		mov	[bp+var_36], ax
		mov	dx, [bp+var_6]
		mov	ax, [bp+var_8]
		mov	[bp+var_32], dx
		mov	[bp+var_34], ax
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_10],	dx
		mov	ss:[bx+arg_E], ax
		lea	ax, [bp+var_36]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_12],	ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr dword_141B8+2,	dx
		mov	word ptr dword_141B8, ax
		mov	ax, ds
		mov	es, ax
		assume es:dseg
		push	si
		mov	si, [bp+var_1C]
		push	ds
		mov	ds, [bp+var_1A]
		push	bp
		mov	bp, [bp+var_16]
		call	es:dword_141B8
		pop	bp
		pop	ds
		pop	si
		mov	[bp+var_38], ax
		jmp	short loc_861D
; ---------------------------------------------------------------------------

loc_85E8:
		mov	bx, [bp+var_2]
		cmp	word ptr ss:[bx+2], 0EEFh
		jnz	short loc_85FC
		cmp	word ptr ss:[bx], 0FACEh
		jnz	short loc_85FC
		jmp	short loc_8662
; ---------------------------------------------------------------------------

loc_85FC:
					; __ExceptionHandler+2EEj
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_10],	dx
		mov	ss:[bx+arg_E], ax
		les	bx, [bp+var_10]
		assume es:nothing
		add	bx, word ptr [bp+var_20]
		mov	ax, es:[bx]
		mov	[bp+var_38], ax

loc_861D:
		cmp	[bp+var_38], 0
		jge	short loc_863B
		mov	bx, [bp+var_2]
		test	byte ptr ss:[bx+4], 1
		jz	short loc_8637
		mov	bx, [bp+var_4]
		mov	ax, [bp+var_14]
		mov	ss:[bx+arg_6], ax

loc_8637:
		xor	ax, ax
		jmp	short loc_8674
; ---------------------------------------------------------------------------

loc_863B:
		cmp	[bp+var_38], 0
		jnz	short loc_8643
		jmp	short loc_8662
; ---------------------------------------------------------------------------

loc_8643:
		mov	bx, [bp+var_4]
		mov	ss:[bx+arg_12],	0
		add	word ptr [bp+var_20], 4
		mov	ax, [bp+var_14]
		mov	[bp+var_2E], ax
		mov	[bp+var_30], ax
		les	bx, [bp+var_10]
		add	bx, word ptr [bp+var_20]
		jmp	loc_8506
; ---------------------------------------------------------------------------

loc_8662:
					; __ExceptionHandler+171j ...
		mov	ax, [bp+var_14]

loc_8665:
		mov	[bp+var_12], ax
		cmp	[bp+var_12], 0
		jz	short loc_8671
		jmp	loc_8448
; ---------------------------------------------------------------------------

loc_8671:
					; __ExceptionHandler+ACj ...
		mov	ax, 1

loc_8674:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__ExceptionHandler endp

; ---------------------------------------------------------------------------
off_867A	dw offset loc_8662
		dw offset loc_8571
		dw offset loc_85E8
		dw offset loc_8480
		dw offset loc_8662
		dw offset loc_8662
		db 4 dup(0), 19h, 87h
		dw seg seg000
		db 14h dup(0), 29h, 87h
		dw seg seg000
		db 14h dup(0), 0E2h, 0FFh, 2 dup(0), 3,	0, 9Eh,	86h
		dw seg seg000
		db 2 dup(0), 4,	0, 6, 0, 3, 0, 2 dup(86h)
		dw seg seg000
		db 6, 0, 4, 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_86D4	proc far

var_1E		= word ptr -1Eh
var_12		= word ptr -12h
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 86B6h
		nop
		push	cs
		call	near ptr ___InitExceptBlocks
		mov	[bp+var_12], 6
		mov	[bp+var_12], 12h
		push	[bp+arg_8]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+22h]
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+20h]
		push	word ptr es:[bx+1Eh]
		push	[bp+arg_2]
		push	[bp+arg_0]
		call	sub_6E40
		add	sp, 0Ch
		mov	[bp+var_12], 6
		jmp	short loc_8722
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_8722:
		mov	[bp+var_12], 0
		jmp	short loc_8732
; ---------------------------------------------------------------------------
		nop
		push	cs
		call	near ptr ___call_terminate
; ---------------------------------------------------------------------------
		push	cs
		call	near ptr @_CatchCleanup$qv ; _CatchCleanup(void)

loc_8732:
		push	[bp+var_1E]
		nop
		push	cs
		call	near ptr ___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_86D4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8740	proc far
					; sub_87C1+162p ...

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	cx, [bp+arg_C]
		jmp	short loc_87AF
; ---------------------------------------------------------------------------

loc_874D:
		les	bx, [bp+arg_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		cmp	[bp+arg_E], 0
		jz	short loc_8775
		les	bx, [bp+var_4]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_4+2]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_8775:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		test	byte ptr es:[bx+8], 2
		jz	short loc_87AF
		push	[bp+arg_10]
		xor	ax, ax
		push	ax
		xor	ax, ax
		push	ax
		push	cx
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		nop
		push	cs
		call	near ptr sub_87C1
		add	sp, 10h
		xor	cx, cx

loc_87AF:
		sub	word ptr [bp+arg_4], 8
		mov	ax, word ptr [bp+arg_4]
		cmp	ax, [bp+arg_8]
		jnb	short loc_874D
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_8740	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_87C1	proc far
					; sub_87C1+25Ep ...

var_2A		= word ptr -2Ah
var_28		= word ptr -28h
var_26		= word ptr -26h
var_24		= word ptr -24h
var_22		= dword	ptr -22h
var_1E		= word ptr -1Eh
var_1C		= word ptr -1Ch
var_1A		= word ptr -1Ah
var_18		= dword	ptr -18h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= dword	ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		sub	sp, 2Ah
		push	si
		push	di
		cmp	[bp+arg_C], 0
		jz	short loc_87D8
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+1Ah]
		jmp	short loc_87DF
; ---------------------------------------------------------------------------

loc_87D8:
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+1Ch]

loc_87DF:
		mov	[bp+var_1A], 0
		mov	[bp+var_1C], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_8801
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		cmp	dx, [bp+var_1A]
		jb	short loc_881A
		jnz	short loc_8801
		cmp	ax, [bp+var_1C]
		jb	short loc_881A

loc_8801:
		push	[bp+arg_C]
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_86D4
		add	sp, 0Ah
		jmp	loc_8A86
; ---------------------------------------------------------------------------

loc_881A:
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	[bp+var_1A], dx
		mov	[bp+var_1C], ax
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]
		mov	word ptr [bp+var_10+2],	dx
		mov	word ptr [bp+var_10], ax
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		cmp	[bp+arg_C], 0
		jz	short loc_88B3

loc_8845:
		les	bx, [bp+var_10]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_1E], dx
		mov	word ptr [bp+var_22+2],	ax
		mov	ax, word ptr [bp+var_22+2]
		or	ax, [bp+var_1E]
		jz	short loc_88B3
		les	bx, [bp+var_22+2]
		test	byte ptr es:[bx+8], 2
		jz	short loc_88AD
		les	bx, [bp+var_22+2]
		mov	bx, es:[bx+1Ch]
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		jb	short loc_88A6
		jnz	short loc_887C
		cmp	bx, [bp+var_1C]
		jb	short loc_88A6

loc_887C:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		push	[bp+var_1C]
		push	[bp+var_A]
		push	[bp+var_C]
		mov	ax, word ptr [bp+var_10]
		add	ax, 8
		push	word ptr [bp+var_10+2]
		push	ax

loc_8896:
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8740
		add	sp, 12h
		jmp	loc_8A86
; ---------------------------------------------------------------------------

loc_88A6:
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0

loc_88AD:
		add	word ptr [bp+var_10], 8
		jmp	short loc_8845
; ---------------------------------------------------------------------------

loc_88B3:
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax

loc_88CC:
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_1E], dx
		mov	word ptr [bp+var_22+2],	ax
		mov	ax, word ptr [bp+var_22+2]
		or	ax, [bp+var_1E]
		jz	short loc_8942
		les	bx, [bp+var_22+2]
		test	byte ptr es:[bx+8], 2
		jz	short loc_893C
		les	bx, [bp+var_22+2]
		mov	bx, es:[bx+1Ch]
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		jb	short loc_8935
		jnz	short loc_8903
		cmp	bx, [bp+var_1C]
		jb	short loc_8935

loc_8903:
		push	[bp+arg_E]
		xor	ax, ax
		push	ax
		push	[bp+var_1C]
		push	[bp+var_2]
		push	[bp+var_4]
		mov	ax, word ptr [bp+var_8]
		add	ax, 8
		push	word ptr [bp+var_8+2]
		push	ax
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8740
		add	sp, 12h
		cmp	[bp+arg_C], 0
		jnz	short loc_8932
		jmp	loc_8A86
; ---------------------------------------------------------------------------

loc_8932:
		jmp	loc_8A66
; ---------------------------------------------------------------------------

loc_8935:
					; sub_87C1+140j
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0

loc_893C:
		add	word ptr [bp+var_8], 8
		jmp	short loc_88CC
; ---------------------------------------------------------------------------

loc_8942:
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+24h]
		mov	word ptr [bp+var_18+2],	dx
		mov	word ptr [bp+var_18], ax
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax

loc_895B:
		les	bx, [bp+var_18]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax
		mov	[bp+var_1E], 1
		les	bx, [bp+var_22]
		test	byte ptr es:[bx+3], 4
		jz	short loc_8995
		les	bx, [bp+var_22]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_1E], ax
		les	bx, [bp+var_22]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_22+2],	dx
		mov	word ptr [bp+var_22], ax

loc_8995:
		les	bx, [bp+var_22]
		mov	ax, es:[bx+1Ah]
		imul	[bp+var_1E]
		mov	bx, ax
		xor	ax, ax
		cmp	ax, [bp+var_1A]
		ja	short loc_89B9
		jb	short loc_89AF
		cmp	bx, [bp+var_1C]
		jnb	short loc_89B9

loc_89AF:
		sub	[bp+var_1C], bx
		sbb	[bp+var_1A], 0
		jmp	loc_8A7F
; ---------------------------------------------------------------------------

loc_89B9:
					; sub_87C1+1ECj ...
		les	bx, [bp+var_18]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	[bp+var_24], dx
		mov	[bp+var_26], ax
		les	bx, [bp+var_18]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	[bp+var_28], dx
		mov	[bp+var_2A], ax
		cmp	[bp+var_1E], 1
		jbe	short loc_8A05
		push	[bp+arg_E]
		push	[bp+var_1A]
		push	[bp+var_1C]
		les	bx, [bp+var_18]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx]
		push	[bp+var_24]
		push	[bp+var_26]
		nop
		push	cs
		call	near ptr sub_8A8C
		add	sp, 0Eh
		jmp	short loc_8A25
; ---------------------------------------------------------------------------

loc_8A05:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		push	[bp+var_1A]
		push	[bp+var_1C]
		push	[bp+var_28]
		push	[bp+var_2A]
		push	[bp+var_24]
		push	[bp+var_26]
		push	cs
		call	near ptr sub_87C1
		add	sp, 10h

loc_8A25:
		mov	[bp+var_1A], 0
		mov	[bp+var_1C], 0
		sub	word ptr [bp+var_18], 6
		mov	ax, word ptr [bp+var_18]
		cmp	ax, [bp+var_14]
		jb	short loc_8A3E
		jmp	loc_89B9
; ---------------------------------------------------------------------------

loc_8A3E:
		push	[bp+arg_E]
		xor	ax, ax
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	word ptr [bp+var_8+2]
		push	word ptr [bp+var_8]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_8740
		add	sp, 12h
		cmp	[bp+arg_C], 0
		jz	short loc_8A86

loc_8A66:
		push	[bp+arg_E]
		mov	ax, 1
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	word ptr [bp+var_10+2]
		push	word ptr [bp+var_10]
		jmp	loc_8896
; ---------------------------------------------------------------------------

loc_8A7F:
		add	word ptr [bp+var_18], 6
		jmp	loc_895B
; ---------------------------------------------------------------------------

loc_8A86:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_87C1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8A8C	proc far
					; sub_8C3F+316p

var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 0Eh
		push	si
		push	di
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_6], ax
		les	bx, [bp+var_4]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+1Ah]
		mov	[bp+var_8], 0
		mov	[bp+var_A], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jnz	short loc_8AE6
		mov	bx, [bp+var_6]
		xor	cx, cx
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		call	N_LXMUL@
		mov	[bp+arg_A], dx
		mov	[bp+arg_8], ax

loc_8AE6:
		push	[bp+var_8]
		push	[bp+var_A]
		push	[bp+arg_A]
		push	[bp+arg_8]
		call	near ptr N_LUDIV@
		mov	[bp+var_C], dx
		mov	[bp+var_E], ax
		mov	cx, [bp+var_C]
		mov	bx, [bp+var_E]
		mov	dx, [bp+var_8]
		mov	ax, [bp+var_A]
		call	N_LXMUL@
		sub	[bp+arg_8], ax
		sbb	[bp+arg_A], dx
		les	bx, [bp+var_4]
		mov	bx, es:[bx]
		xor	cx, cx
		mov	dx, [bp+var_C]
		mov	ax, [bp+var_E]
		call	N_LXMUL@
		mov	dx, [bp+arg_2]
		add	ax, [bp+arg_0]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_8B76
		push	[bp+arg_C]
		mov	ax, 1
		push	ax
		push	[bp+arg_A]
		push	[bp+arg_8]
		jmp	short loc_8B63
; ---------------------------------------------------------------------------

loc_8B44:
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		push	[bp+arg_C]
		mov	ax, 1
		push	ax
		push	[bp+var_8]
		push	[bp+var_A]

loc_8B63:
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr sub_87C1
		add	sp, 10h

loc_8B76:
		mov	ax, [bp+var_C]
		mov	dx, [bp+var_E]
		sub	[bp+var_E], 1
		sbb	[bp+var_C], 0
		or	dx, ax
		jnz	short loc_8B44
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_8A8C	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8B8E	proc far
					; sub_8C3F+2E4p

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	cx, [bp+arg_4]
		mov	bx, cx
		mov	dx, ss:[bx+2]
		mov	ax, ss:[bx]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		mov	ax, es:[bx+8]
		and	ax, 50h
		cmp	ax, 50h	; 'P'
		jnz	short loc_8C33
		les	bx, [bp+var_4]
		cmp	word ptr es:[bx+6], 0FFFFh
		jz	short loc_8C33
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+9], 10h
		jz	short loc_8BED
		les	bx, [bp+var_8]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], dx
		jmp	short loc_8BF6
; ---------------------------------------------------------------------------

loc_8BED:
		les	bx, [bp+var_8]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_8+2], ds

loc_8BF6:
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx-4]
		mov	[bp+arg_2], dx
		mov	[bp+arg_0], ax
		les	bx, [bp+var_8]
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		sub	ax, es:[bx-2]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	bx, cx
		mov	ss:[bx+2], dx
		mov	ss:[bx], ax

loc_8C33:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_8B8E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_8C3F	proc near

driver		= dword	ptr -20h
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= dword	ptr -16h
var_12		= dword	ptr -12h
var_E		= word ptr -0Eh
var_C		= dword	ptr -0Ch
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  4
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_16		= word ptr  1Ah
arg_18		= word ptr  1Ch

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_E], 0
		cmp	word ptr [bp+arg_0], 0FFFFh
		jnz	short loc_8C55
		jmp	loc_9042
; ---------------------------------------------------------------------------

loc_8C55:
		mov	bx, [bp+arg_8]
		mov	dx, ss:[bx+arg_18]
		mov	ax, ss:[bx+arg_16]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		sub	ax, [bp+var_4]
		sbb	dx, [bp+var_2]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		sub	[bp+var_8], ax
		sbb	[bp+var_6], dx
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+4], 20h
		jz	short loc_8CAE
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		les	bx, es:[bx+6]
		mov	ax, es:[bx+1Ah]
		mov	[bp+var_6], 0
		mov	[bp+var_8], ax

loc_8CAE:
		les	bx, [bp+arg_0]
		test	byte ptr es:[bx+5], 1
		jz	short loc_8CC5
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+1Ch]
		jmp	loc_9044
; ---------------------------------------------------------------------------

loc_8CC5:
		cmp	[bp+var_6], 0
		jg	short loc_8CF7
		jnz	short loc_8CD3
		cmp	[bp+var_8], 0
		ja	short loc_8CF7

loc_8CD3:
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		and	ax, 3
		cmp	ax, 3
		jz	short loc_8CE5
		jmp	loc_9042
; ---------------------------------------------------------------------------

loc_8CE5:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax
		inc	[bp+var_E]
		jmp	loc_8E5C
; ---------------------------------------------------------------------------

loc_8CF7:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		mov	word ptr [bp+var_C+2], dx
		mov	word ptr [bp+var_C], ax

loc_8D03:
		les	bx, [bp+var_C]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_8D16
		sub	word ptr [bp+var_C], 0Ah
		jmp	loc_8E5C
; ---------------------------------------------------------------------------

loc_8D16:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		mov	[bp+var_18], 1
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 10h
		jnz	short loc_8D3E
		jmp	loc_8E08
; ---------------------------------------------------------------------------

loc_8D3E:
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 2
		jnz	short loc_8D62
		jmp	loc_8E08
; ---------------------------------------------------------------------------

loc_8D62:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+8], 20h
		jnz	short loc_8D6F
		jmp	loc_8E08
; ---------------------------------------------------------------------------

loc_8D6F:
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 8
		jnz	short loc_8D7C
		jmp	loc_8E08
; ---------------------------------------------------------------------------

loc_8D7C:
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 4
		jz	short loc_8D95
		les	bx, [bp+var_C]
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_A]
		mov	word ptr [bp+var_1C+2],	ss
		jmp	short loc_8DA3
; ---------------------------------------------------------------------------

loc_8D95:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_1C+2],	dx

loc_8DA3:
		mov	word ptr [bp+var_1C], ax
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	word ptr [bp+driver+2],	dx
		mov	word ptr [bp+driver], ax
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 80h
		jz	short loc_8DCB
		les	bx, [bp+driver]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	dx
		jmp	short loc_8DD4
; ---------------------------------------------------------------------------

loc_8DCB:
		les	bx, [bp+driver]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	ds

loc_8DD4:
		mov	word ptr [bp+var_1C], ax
		les	bx, [bp+var_C]
		test	byte ptr es:[bx+4], 40h
		jz	short loc_8DE5
		add	word ptr [bp+var_1C], 4

loc_8DE5:
		lea	ax, [bp+var_12]
		push	ax
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	cs
		call	near ptr sub_8B8E
		add	sp, 6
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		mov	dx, word ptr [bp+var_12+2]
		mov	ax, word ptr [bp+var_12]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax

loc_8E08:
					; sub_8C3F+120j ...
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_8E2D
		les	bx, [bp+var_16]
		mov	ax, es:[bx+0Ah]
		mov	[bp+var_18], ax
		les	bx, [bp+var_16]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16+2],	dx
		mov	word ptr [bp+var_16], ax

loc_8E2D:
		les	bx, [bp+var_16]
		mov	ax, es:[bx+1Ah]
		imul	[bp+var_18]
		mov	[bp+var_18], ax
		mov	ax, [bp+var_18]
		xor	dx, dx
		cmp	dx, [bp+var_6]
		jb	short loc_8E4B
		jnz	short loc_8E5C
		cmp	ax, [bp+var_8]
		jnb	short loc_8E5C

loc_8E4B:
		mov	ax, [bp+var_18]
		sub	[bp+var_8], ax
		sbb	[bp+var_6], 0
		add	word ptr [bp+var_C], 0Ah
		jmp	loc_8D03
; ---------------------------------------------------------------------------

loc_8E5C:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_C]
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_16+2],	ax
		test	byte ptr [bp+var_16+2],	4
		jz	short loc_8E8B
		les	bx, [bp+var_C]
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_A]
		mov	word ptr [bp+var_16], ss
		jmp	short loc_8E99
; ---------------------------------------------------------------------------

loc_8E8B:
		les	bx, [bp+var_C]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_16], dx

loc_8E99:
		mov	[bp+var_18], ax
		test	byte ptr [bp+var_16+2],	11h
		jnz	short loc_8EA5
		jmp	loc_8F2F
; ---------------------------------------------------------------------------

loc_8EA5:
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		mov	dx, word ptr [bp+var_16]
		mov	ax, [bp+var_18]
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_8ED7
		les	bx, [bp+var_1C]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16], dx
		jmp	short loc_8EE0
; ---------------------------------------------------------------------------

loc_8ED7:
		les	bx, [bp+var_1C]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_16], ds

loc_8EE0:
		mov	[bp+var_18], ax
		mov	dx, word ptr [bp+var_16]
		mov	ax, [bp+var_18]
		mov	word ptr [bp+driver+2],	dx
		mov	word ptr [bp+driver], ax
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 48h
		cmp	ax, 40h	; '@'
		jnz	short loc_8EFE
		add	[bp+var_18], 4

loc_8EFE:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+2], 2
		jz	short loc_8F2F
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+8], 20h
		jz	short loc_8F2F
		test	byte ptr [bp+var_16+2],	8
		jz	short loc_8F2F
		lea	ax, [bp+var_12]
		push	ax
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_8B8E
		add	sp, 6
		mov	word ptr [bp+var_16], dx
		mov	[bp+var_18], ax

loc_8F2F:
					; sub_8C3F+2C7j ...
		cmp	[bp+var_E], 0
		jnz	short loc_8F7D
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_8F5D
		push	[bp+arg_A]
		push	[bp+var_6]
		push	[bp+var_8]
		push	word ptr [bp+var_12+2]
		push	word ptr [bp+var_12]
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_8A8C
		add	sp, 0Eh
		jmp	short loc_8F7D
; ---------------------------------------------------------------------------

loc_8F5D:
		push	[bp+arg_A]
		mov	ax, 1
		push	ax
		push	[bp+var_6]
		push	[bp+var_8]
		push	word ptr [bp+var_12+2]
		push	word ptr [bp+var_12]
		push	word ptr [bp+var_16]
		push	[bp+var_18]
		push	cs
		call	near ptr sub_87C1
		add	sp, 10h

loc_8F7D:
					; sub_8C3F+31Cj
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 3
		cmp	ax, 3
		jz	short loc_8F8B
		jmp	loc_9029
; ---------------------------------------------------------------------------

loc_8F8B:
		mov	ax, word ptr [bp+var_16+2]
		and	ax, 48h
		cmp	ax, 48h	; 'H'
		jnz	short loc_8F9A
		sub	word ptr [bp+driver], 4

loc_8F9A:
		les	bx, [bp+var_12]
		test	byte ptr es:[bx+3], 4
		jz	short loc_8FE9
		les	bx, [bp+var_12]
		mov	dx, es:[bx+8]
		mov	ax, es:[bx+6]
		mov	word ptr [bp+var_12+2],	dx
		mov	word ptr [bp+var_12], ax
		les	bx, [bp+var_12]
		mov	ax, es:[bx+16h]
		or	ax, es:[bx+18h]
		jz	short loc_8FD6
		les	bx, [bp+var_12]
		push	word ptr es:[bx+14h]
		les	bx, [bp+var_12]
		push	word ptr es:[bx+18h]
		push	word ptr es:[bx+16h]
		jmp	short loc_9008
; ---------------------------------------------------------------------------

loc_8FD6:
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_9029
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; font
		nop
		push	cs
		call	near ptr _registerbgifont
		jmp	short loc_9027
; ---------------------------------------------------------------------------

loc_8FE9:
		les	bx, [bp+var_12]
		mov	ax, es:[bx+0Eh]
		or	ax, es:[bx+10h]
		jz	short loc_9016
		les	bx, [bp+var_12]
		push	word ptr es:[bx+12h]
		les	bx, [bp+var_12]
		push	word ptr es:[bx+10h]
		push	word ptr es:[bx+0Eh]

loc_9008:
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver]
		call	sub_6FF8
		add	sp, 0Ah
		jmp	short loc_9029
; ---------------------------------------------------------------------------

loc_9016:
		test	byte ptr [bp+var_16+2],	80h
		jz	short loc_9029
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver

loc_9027:
		pop	cx
		pop	cx

loc_9029:
					; sub_8C3F+39Bj ...
		mov	[bp+var_6], 0
		mov	[bp+var_8], 0
		mov	ax, word ptr [bp+var_C]
		sub	word ptr [bp+var_C], 0Ah
		cmp	ax, word ptr [bp+arg_0]
		jbe	short loc_9042
		jmp	loc_8E5C
; ---------------------------------------------------------------------------

loc_9042:
		xor	ax, ax

loc_9044:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_8C3F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

__CurrExcContext proc far

s1		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  6
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 6
		push	si
		push	di
		mov	ax, [bp+arg_0]
		mov	[bp+var_2], ax
		cmp	[bp+var_2], 0FFFFh
		jz	short loc_908D
		mov	bx, [bp+var_2]
		mov	dx, ss:[bx+4]
		mov	ax, ss:[bx+2]
		add	ax, 0FFF8h
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		mov	ax, 8
		push	ax		; n
		push	ds
		mov	ax, 2D2Bh
		push	ax		; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		nop
		push	cs
		call	near ptr _memcmp
		add	sp, 0Ah
		or	ax, ax
		jz	short loc_9092

loc_908D:
		mov	ax, 0FFFFh
		jmp	short loc_9099
; ---------------------------------------------------------------------------

loc_9092:
		mov	bx, [bp+var_2]
		mov	ax, ss:[bx+arg_6]

loc_9099:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
__CurrExcContext endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowFileName(void)
@__ThrowFileName$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+18h]
		mov	ax, es:[bx+16h]
		pop	di
		pop	si
		retf
@__ThrowFileName$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowLineNumber(void)
@__ThrowLineNumber$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	ax, es:[bx+1Ah]
		pop	di
		pop	si
		retf
@__ThrowLineNumber$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; __ThrowExceptionName(void)
@__ThrowExceptionName$qv proc far
		push	si
		push	di
		les	bx, ss:16h
		mov	dx, es:[bx+1Eh]
		mov	ax, es:[bx+1Ch]
		pop	di
		pop	si
		retf
@__ThrowExceptionName$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far typeinfo__typeinfo(int, int, int, __int32)
@typeinfo@0$bctr$qmx8typeinfo proc far

src		= word ptr -4
var_2		= word ptr -2
arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		sub	sp, 4
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_90F5
		mov	ax, 8
		push	ax
		nop
		push	cs
		call	near ptr @$bnew$qui ; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_9133

loc_90F5:
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx+2], seg	seg000
		mov	word ptr es:[bx], 96D1h
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_2], 0
		mov	[bp+src], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 96B3h
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_9133:
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@typeinfo@0$bctr$qmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator=(typeinfo const &)
@typeinfo@0$basg$qmx8typeinfo proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$basg$qmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far typeinfo___typeinfo(void (*driver)(void), int)
@typeinfo@0$bdtr$qv proc far

driver		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, [bp+arg_4]
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_917E
		les	bx, [bp+driver]
		mov	word ptr es:[bx+2], seg	seg000
		mov	word ptr es:[bx], 96D1h
		test	dl, 1
		jz	short loc_917E
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx

loc_917E:
					; typeinfo::~typeinfo(void)+21j
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$bdtr$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator==(typeinfo	const &)const
@typeinfo@0$beql$xqmx8typeinfo proc far

arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_4]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$beql$xqmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::operator!=(typeinfo	const &)const
@typeinfo@0$bneq$xqmx8typeinfo proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	cs
		call	near ptr @typeinfo@0$beql$xqmx8typeinfo	; typeinfo::operator==(typeinfo	&)
		add	sp, 8
		neg	ax
		sbb	ax, ax
		inc	ax
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0$bneq$xqmx8typeinfo endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::before(typeinfo const &)const
@typeinfo@0before$xqmx8typeinfo	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+4]
		or	ax, es:[bx+6]
		jnz	short loc_91E2
		xor	ax, ax
		jmp	short loc_923B
; ---------------------------------------------------------------------------

loc_91E2:
		les	bx, [bp+arg_4]
		mov	ax, es:[bx+4]
		or	ax, es:[bx+6]
		jnz	short loc_91F4
		mov	ax, 1
		jmp	short loc_923B
; ---------------------------------------------------------------------------

loc_91F4:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+6]
		mov	word ptr [bp+var_4+2], dx
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_4], ax
		les	bx, [bp+var_4]
		add	ax, es:[bx+4]
		push	dx
		push	ax		; s2
		les	bx, [bp+arg_0]
		mov	dx, es:[bx+6]
		mov	word ptr [bp+var_8+2], dx
		mov	ax, es:[bx+4]
		mov	word ptr [bp+var_8], ax
		les	bx, [bp+var_8]
		add	ax, es:[bx+4]
		push	dx
		push	ax		; s1
		nop
		push	cs
		call	near ptr _strcmp
		add	sp, 8
		or	ax, ax
		jge	short loc_9239
		mov	ax, 1
		jmp	short loc_923B
; ---------------------------------------------------------------------------

loc_9239:
		xor	ax, ax

loc_923B:
					; typeinfo::before(typeinfo &)+29j ...
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@typeinfo@0before$xqmx8typeinfo	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; typeinfo::name(void)const
@typeinfo@0name$xqv proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+6]
		push	word ptr es:[bx+4]
		push	cs
		call	near ptr sub_65CF
		pop	cx
		pop	cx
		pop	di
		pop	si
		pop	bp
		retf
@typeinfo@0name$xqv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far __GetTypeInfo(int, int, int, int, int, __int32, int, int, int, int)
@__GetTypeInfo$qnvt1t1t1 proc far

var_8		= dword	ptr -8
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_C		= word ptr  12h
arg_E		= word ptr  14h

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_929D
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ds
		mov	ax, 51DCh
		push	ax		; src
		push	cs		; int
		mov	ax, 969Dh
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_929D:
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_4+2]
		mov	ax, [bp+arg_4]
		sub	ax, es:[bx-2]
		mov	[bp+arg_4+2], dx
		mov	[bp+arg_4], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		les	bx, [bp+var_8]
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		mov	es:[bx+6], dx
		mov	es:[bx+4], ax
		mov	dx, word ptr [bp+var_8+2]
		mov	ax, word ptr [bp+var_8]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__GetTypeInfo$qnvt1t1t1 endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_92DE	proc near
					; sub_92DE+1C4p ...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
var_1C		= dword	ptr -1Ch
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= dword	ptr -14h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h
arg_10		= word ptr  14h
arg_12		= word ptr  16h
arg_14		= word ptr  18h
arg_16		= word ptr  1Ah
arg_18		= word ptr  1Ch
arg_1A		= word ptr  1Eh
arg_1C		= word ptr  20h
arg_1E		= word ptr  22h

		push	bp
		mov	bp, sp
		sub	sp, 20h
		push	si
		push	di
		mov	[bp+var_8], 0
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0
		mov	[bp+var_E], 0
		mov	ax, [bp+arg_14]
		or	ax, [bp+arg_16]
		jz	short loc_9319
		push	word ptr [bp+arg_4+2]
		push	word ptr [bp+arg_4]
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		or	ax, ax
		jnz	short loc_9323

loc_9319:
		les	bx, [bp+arg_4]
		test	byte ptr es:[bx+8], 4
		jnz	short loc_932A

loc_9323:
		xor	dx, dx
		xor	ax, ax
		jmp	loc_951E
; ---------------------------------------------------------------------------

loc_932A:
		mov	[bp+var_6], 0
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ch]

loc_933C:
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax

loc_9342:
		les	bx, [bp+var_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		mov	word ptr [bp+var_1C+2],	dx
		mov	word ptr [bp+var_1C], ax
		mov	ax, word ptr [bp+var_1C]
		or	ax, word ptr [bp+var_1C+2]
		jnz	short loc_935D
		jmp	loc_94E6
; ---------------------------------------------------------------------------

loc_935D:
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 8
		jz	short loc_936A
		jmp	loc_94DF
; ---------------------------------------------------------------------------

loc_936A:
		cmp	[bp+arg_1A], 0
		jz	short loc_9384
		les	bx, [bp+var_4]
		mov	ax, es:[bx+6]
		and	ax, 3
		cmp	ax, 3
		jnz	short loc_9384
		mov	ax, 1
		jmp	short loc_9386
; ---------------------------------------------------------------------------

loc_9384:
		xor	ax, ax

loc_9386:
		mov	[bp+var_10], ax
		les	bx, [bp+var_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		add	ax, es:[bx+4]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	dx, [bp+arg_1E]
		mov	ax, [bp+arg_1C]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax
		les	bx, [bp+var_4]
		test	byte ptr es:[bx+6], 4
		jz	short loc_93CD
		les	bx, [bp+var_14]
		mov	ax, es:[bx]
		mov	dx, word ptr [bp+var_14+2]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	dx, word ptr [bp+var_1C+2]
		mov	ax, word ptr [bp+var_1C]
		mov	[bp+var_16], dx
		mov	[bp+var_18], ax

loc_93CD:
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		or	ax, ax
		jnz	short loc_944F
		les	bx, [bp+var_1C]
		test	byte ptr es:[bx+8], 4
		jnz	short loc_93F1
		jmp	loc_94DF
; ---------------------------------------------------------------------------

loc_93F1:
		push	[bp+var_16]
		push	[bp+var_18]
		push	[bp+var_10]
		push	[bp+arg_18]
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	[bp+arg_E]
		push	[bp+arg_C]
		push	[bp+arg_A]
		push	[bp+arg_8]
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		call	sub_92DE
		add	sp, 20h
		mov	[bp+var_1E], dx
		mov	[bp+var_20], ax
		mov	ax, [bp+var_20]
		or	ax, [bp+var_1E]
		jnz	short loc_9438
		jmp	loc_94DF
; ---------------------------------------------------------------------------

loc_9438:
		mov	dx, [bp+var_1E]
		mov	ax, [bp+var_20]
		mov	word ptr [bp+var_14+2],	dx
		mov	word ptr [bp+var_14], ax
		mov	bx, [bp+arg_18]
		mov	ax, ss:[bx]
		mov	[bp+var_10], ax
		jmp	short loc_94AC
; ---------------------------------------------------------------------------

loc_944F:
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_9470
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		cmp	dx, word ptr [bp+var_14+2]
		jnz	short loc_94DF
		cmp	ax, word ptr [bp+var_14]
		jnz	short loc_94DF
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		jmp	loc_951E
; ---------------------------------------------------------------------------

loc_9470:
		mov	ax, [bp+arg_10]
		or	ax, [bp+arg_12]
		jz	short loc_94AC
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	[bp+arg_18]
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+arg_16]
		push	[bp+arg_14]
		push	[bp+arg_12]
		push	[bp+arg_10]
		push	word ptr [bp+var_1C+2]
		push	word ptr [bp+var_1C]
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		call	sub_92DE
		add	sp, 20h
		or	ax, dx
		jz	short loc_94DF

loc_94AC:
					; sub_92DE+198j
		cmp	[bp+var_E], 0
		jz	short loc_94CA
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		cmp	dx, [bp+var_A]
		jnz	short loc_94CA
		cmp	ax, [bp+var_C]
		jnz	short loc_94CA
		mov	ax, [bp+var_10]
		or	[bp+var_8], ax
		jmp	short loc_94DF
; ---------------------------------------------------------------------------

loc_94CA:
					; sub_92DE+1DDj ...
		inc	[bp+var_E]
		mov	dx, word ptr [bp+var_14+2]
		mov	ax, word ptr [bp+var_14]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+var_10]
		mov	[bp+var_8], ax

loc_94DF:
					; sub_92DE+110j ...
		add	word ptr [bp+var_4], 8
		jmp	loc_9342
; ---------------------------------------------------------------------------

loc_94E6:
		cmp	[bp+var_6], 0
		jnz	short loc_94FF
		inc	[bp+var_6]
		les	bx, [bp+arg_4]
		mov	dx, word ptr [bp+arg_4+2]
		mov	ax, word ptr [bp+arg_4]
		add	ax, es:[bx+0Ah]
		jmp	loc_933C
; ---------------------------------------------------------------------------

loc_94FF:
		mov	bx, [bp+arg_18]
		mov	ax, [bp+var_8]
		mov	ss:[bx], ax
		cmp	[bp+var_E], 1
		jz	short loc_9518
		mov	[bp+var_A], 0
		mov	[bp+var_C], 0

loc_9518:
		mov	dx, [bp+var_A]
		mov	ax, [bp+var_C]

loc_951E:
					; sub_92DE+18Fj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_92DE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __fastcall __far __DynamicCast(int, int, int, int, int, __int32, int, int, int, int, int)
@__DynamicCast$qnvt1t1t1i proc far

var_16		= word ptr -16h
var_14		= word ptr -14h
var_12		= word ptr -12h
var_10		= word ptr -10h
var_E		= word ptr -0Eh
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_8		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		sub	sp, 16h
		push	si
		push	di
		mov	dx, [bp+arg_A]
		mov	ax, [bp+arg_8]
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		mov	dx, [bp+arg_E]
		mov	ax, [bp+arg_C]
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+arg_0]
		or	ax, [bp+arg_2]
		jnz	short loc_954F
		jmp	loc_9653
; ---------------------------------------------------------------------------

loc_954F:
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		sub	ax, es:[bx-4]
		mov	[bp+var_E], dx
		mov	[bp+var_10], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, [bp+arg_4+2]
		mov	ax, [bp+arg_4]
		sub	ax, es:[bx-2]
		mov	[bp+arg_4+2], dx
		mov	[bp+arg_4], ax
		les	bx, dword ptr [bp+arg_4]
		mov	dx, es:[bx-6]
		mov	ax, es:[bx-8]
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		mov	ax, [bp+arg_C]
		or	ax, [bp+arg_E]
		jz	short loc_95A5
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_6]
		push	[bp+var_8]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		or	ax, ax
		jz	short loc_95AE

loc_95A5:
		mov	dx, [bp+var_E]
		mov	ax, [bp+var_10]
		jmp	loc_9683
; ---------------------------------------------------------------------------

loc_95AE:
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_2]
		push	[bp+var_4]
		push	cs
		call	near ptr sub_65F4
		add	sp, 8
		or	ax, ax
		jnz	short loc_9607
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 1
		push	ax
		lea	ax, [bp+var_16]
		push	ax
		push	[bp+var_2]
		push	[bp+var_4]
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	[bp+var_6]
		push	[bp+var_8]
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_E]
		push	[bp+var_10]
		call	sub_92DE
		add	sp, 20h
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_14]
		or	ax, [bp+var_12]
		jnz	short loc_964B

loc_9607:
		xor	ax, ax
		push	ax
		push	ax
		mov	ax, 1
		push	ax
		lea	ax, [bp+var_16]
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_6]
		push	[bp+var_8]
		xor	ax, ax
		push	ax
		push	ax
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_E]
		push	[bp+var_10]
		call	sub_92DE
		add	sp, 20h
		mov	[bp+var_12], dx
		mov	[bp+var_14], ax
		mov	ax, [bp+var_14]
		or	ax, [bp+var_12]
		jz	short loc_9653
		cmp	[bp+var_16], 0
		jz	short loc_9653

loc_964B:
		mov	dx, [bp+var_12]
		mov	ax, [bp+var_14]
		jmp	short loc_9683
; ---------------------------------------------------------------------------

loc_9653:
					; __DynamicCast(void *,void *,void *,void *,int)+11Fj ...
		cmp	[bp+arg_10], 0
		jz	short loc_967F
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ds
		mov	ax, 51DDh
		push	ax		; src
		push	cs		; int
		mov	ax, 9689h
		push	ax		; int
		push	cs
		call	near ptr @_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void *,uint,uint,uint,uchar	*)
		add	sp, 1Ah

loc_967F:
		xor	dx, dx
		xor	ax, ax

loc_9683:
					; __DynamicCast(void *,void *,void *,void *,int)+12Dj
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@__DynamicCast$qnvt1t1t1i endp

; ---------------------------------------------------------------------------
		db 1, 0, 1, 0, 0Ah, 0, 2 dup(0FFh), 2 dup(0), 42h, 61h
		db 64h,	5Fh, 63h, 61h, 73h, 74h, 2 dup(0), 1, 0, 1, 0
		db 0Ah,	0, 2 dup(0FFh),	2 dup(0), 42h, 61h, 64h, 5Fh, 74h
		db 79h,	70h, 65h, 69h, 64h, 2 dup(0), 4, 0, 10h, 20h, 0Ah
		db 0, 0D5h, 96h
		dw seg seg000
aTypeinfo	db 'typeinfo *',0
		db 0, 0D5h, 96h
		dw seg seg000
		db 4 dup(0), 4Eh, 91h
		dw seg seg000
		db 8			; Method
		db 0
		db 3			; Destructor/SafeFunction
		db 0
		db 26h,	3 dup(0), 73h, 10h, 30h, 0, 34h, 0Dh dup(0), 1
		db 0, 1, 0, 4Eh, 91h
		dw seg seg000
		db 5, 0, 38h, 0, 74h, 79h, 70h,	65h, 69h, 6Eh, 66h, 6Fh
		db 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __stdcall	_DOSCMD(int, int, char *s, int,	int)
__DOSCMD	proc near

dest		= dword	ptr -0Eh
var_A		= dword	ptr -0Ah
var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
s		= dword	ptr  8
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		push	bp
		mov	bp, sp
		sub	sp, 0Eh
		push	si
		push	di
		mov	[bp+var_2], 3
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jz	short loc_973A
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_2], ax

loc_973A:
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_9764
; ---------------------------------------------------------------------------

loc_9748:
		les	bx, [bp+var_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		add	ax, [bp+var_2]
		inc	ax
		mov	[bp+var_2], ax
		add	word ptr [bp+var_6], 4

loc_9764:
		les	bx, [bp+var_6]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_9748
		push	[bp+var_2]
		nop
		push	cs
		call	near ptr _malloc
		pop	cx
		mov	word ptr [bp+var_A+2], dx
		mov	word ptr [bp+var_A], ax
		or	ax, dx
		jnz	short loc_978A
		xor	dx, dx
		xor	ax, ax
		jmp	loc_9840
; ---------------------------------------------------------------------------

loc_978A:
		mov	dx, word ptr [bp+var_A+2]
		mov	ax, word ptr [bp+var_A]
		inc	ax
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]
		mov	ax, word ptr [bp+s]
		or	ax, word ptr [bp+s+2]
		jz	short loc_97CD
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]

loc_97CD:
		mov	ax, [bp+arg_8]
		or	ax, [bp+arg_A]
		jz	short loc_981B
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_6+2], dx
		mov	word ptr [bp+var_6], ax
		jmp	short loc_980F
; ---------------------------------------------------------------------------

loc_97E3:
		les	bx, [bp+var_6]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; src
		push	word ptr [bp+dest+2]
		push	word ptr [bp+dest] ; dest
		nop
		call	_stpcpy
		add	sp, 8
		mov	word ptr [bp+dest+2], dx
		mov	word ptr [bp+dest], ax
		les	bx, [bp+dest]
		mov	byte ptr es:[bx], 20h ;	' '
		inc	word ptr [bp+dest]
		add	word ptr [bp+var_6], 4

loc_980F:
		les	bx, [bp+var_6]
		mov	ax, es:[bx]
		or	ax, es:[bx+2]
		jnz	short loc_97E3

loc_981B:
		les	bx, [bp+dest]
		mov	byte ptr es:[bx-1], 0Dh
		mov	byte ptr es:[bx], 0
		mov	ax, word ptr [bp+dest]
		xor	dx, dx
		sub	ax, word ptr [bp+var_A]
		sbb	dx, 0
		add	al, 0FEh ; 'þ'
		les	bx, [bp+var_A]
		mov	es:[bx], al
		mov	dx, word ptr [bp+var_A+2]
		mov	ax, word ptr [bp+var_A]

loc_9840:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn	0Ch
__DOSCMD	endp

include libs/BorlandC/exec.asm

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int execl(char *path,	char *arg0, ...)
_execl		proc far
					; sub_A447+7CP	...

s		= dword	ptr  6
arg0		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ss		; int
		lea	ax, [bp+arg0]
		push	ax		; int
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		mov	ax, 99AFh
		push	ax		; int
		call	sub_A142
		add	sp, 10h
		pop	di
		pop	si
		pop	bp
		retf
_execl		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl setblock(unsigned	int __psp, unsigned int newsize)
_setblock	proc far

___psp		= word ptr  6
newsize		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ah, 4Ah	; 'J'
		mov	bx, [bp+newsize]
		mov	es, [bp+___psp]
		int	21h		; DOS -	2+ - ADJUST MEMORY BLOCK SIZE (SETBLOCK)
					; ES = segment address of block	to change
					; BX = new size	in paragraphs
		jb	short loc_9C26
		mov	ax, 0FFFFh
		jmp	short loc_9C2C
; ---------------------------------------------------------------------------

loc_9C26:
		push	bx
		push	ax
		call	__IOERROR
		pop	ax

loc_9C2C:
		pop	di
		pop	si
		pop	bp
		retf
_setblock	endp

include libs/BorlandC/setenvp.asm

unknown_libname_2:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_E403
		db 4 dup(0), 8Dh, 9Ch
		dw seg seg000
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9CE2
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9CE0
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9CE4
; ---------------------------------------------------------------------------

loc_9CE0:
		jmp	short loc_9CE4
; ---------------------------------------------------------------------------

loc_9CE2:
		xor	ax, ax

loc_9CE4:
					; seg000:loc_9CE0j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_3:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
		dd byte_E5AB
		dd byte_E55D
		db 4 dup(0), 0B6h, 1
		dw seg seg003
		db 87h,	20h, 0FCh, 0FFh, 6 dup(0), 0EDh, 9Ch
		dw seg seg000
		db 0DEh, 0FFh, 2 dup(0), 5, 3 dup(0), 2	dup(0FFh), 6, 0
		db 5, 3	dup(0),	0F9h, 9Ch
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9D64
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9D62
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9D66
; ---------------------------------------------------------------------------

loc_9D62:
		jmp	short loc_9D66
; ---------------------------------------------------------------------------

loc_9D64:
		xor	ax, ax

loc_9D66:
					; seg000:loc_9D62j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9DB1
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9DAF
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9DB3
; ---------------------------------------------------------------------------

loc_9DAF:
		jmp	short loc_9DB3
; ---------------------------------------------------------------------------

loc_9DB1:
		xor	ax, ax

loc_9DB3:
					; seg000:loc_9DAFj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------

unknown_libname_4:			; BCC v4.x/5.x DOS runtime
		push	si
		push	di
		pop	di
		pop	si
		retf
; ---------------------------------------------------------------------------
unk_9DBC	db    0
		db    0
		db    0
		db    0
		dd unk_9DBC
		db 0E2h, 0FFh, 0FEh, 0Bh
		dw seg seg003
		db 4 dup(0), 0C4h, 0Bh
		dw seg seg003
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FEh, 0Bh
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 8Ch, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 0C6h,	9Dh
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 0CEh, 9Dh, 6, 0
		db 5, 0, 1, 0, 0E6h, 9Dh, 0FEh,	0Bh
		dw seg seg003
		db 4 dup(0), 0C4h, 0Bh
		dw seg seg003
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FEh, 0Bh
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 8Ch, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 0Ah, 9Eh
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 12h, 9Eh,	6, 0, 5
		db 0, 1, 0, 2Ah, 9Eh, 0FEh, 0Bh
		dw seg seg003
		db 4 dup(0), 0C4h, 0Bh
		dw seg seg003
		db 4, 0, 0FCh, 0FFh, 2 dup(0), 0FEh, 0Bh
		dw seg seg003
		db 4, 0, 0F8h, 0FFh, 6 dup(0), 8Ch, 0Bh
		dw seg seg003
		db 0, 2	dup(1),	7 dup(0), 4Eh, 9Eh
		dw seg seg000
		db 0DAh, 0FFh, 2 dup(0), 5, 3 dup(0), 56h, 9Eh,	6, 0, 5
		db 0, 1, 0, 6Eh, 9Eh, 4	dup(0),	92h, 9Eh
		dw seg seg000
byte_9E9A	db 0E2h, 0FFh, 4Ah, 0Bh
		dw seg seg003
		dd byte_EF8E
		dd 0
		dd byte_9E9A+2
		db 0E2h, 0FFh, 4 dup(0), 0AEh, 9Eh
		dw seg seg000
		db 0E2h, 0FFh, 4Ah, 0Bh
		dw seg seg003
		dd byte_EE8C
		db 4 dup(0), 0B8h, 9Eh
		dw seg seg000
		db 0E2h, 0FFh, 4 dup(0), 0CAh, 9Eh
		dw seg seg000
byte_9ED2	db 0E2h, 0FFh, 4Ah, 0Bh
		dw seg seg003
		dd byte_EE8C
		dd 0
		dd byte_9ED2+2
		db 0E2h, 0FFh
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bctr$qmx4xmsg ;	xmsg::xmsg(xmsg	&)
		add	sp, 8
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, [bp+8]
		mov	ax, [bp+6]
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9F62
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9F60
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9F64
; ---------------------------------------------------------------------------

loc_9F60:
		jmp	short loc_9F64
; ---------------------------------------------------------------------------

loc_9F62:
		xor	ax, ax

loc_9F64:
					; seg000:loc_9F60j
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9FAF
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9FAD
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9FB1
; ---------------------------------------------------------------------------

loc_9FAD:
		jmp	short loc_9FB1
; ---------------------------------------------------------------------------

loc_9FAF:
		xor	ax, ax

loc_9FB1:
					; seg000:loc_9FADj
		pop	di
		pop	si
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, [bp+6]
		or	ax, [bp+8]
		jz	short loc_9FFC
		nop
		push	cs
		call	near ptr @__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		xor	ax, ax
		push	ax
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr @xmsg@$bdtr$qv	; xmsg::~xmsg(void)
		add	sp, 6
		test	byte ptr [bp+0Ah], 1
		jz	short loc_9FFA
		push	word ptr [bp+8]
		push	word ptr [bp+6]
		nop
		push	cs
		call	near ptr _registerbgidriver
		pop	cx
		pop	cx
		jmp	short loc_9FFE
; ---------------------------------------------------------------------------

loc_9FFA:
		jmp	short loc_9FFE
; ---------------------------------------------------------------------------

loc_9FFC:
		xor	ax, ax

loc_9FFE:
					; seg000:loc_9FFAj
		pop	di
		pop	si
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================


sub_A002	proc far
		push	si
		push	di
		cmp	byte_11D7E, 0
		jz	short loc_A015
		mov	byte_11D7E, 0
		mov	al, byte_11D7F
		jmp	short loc_A01A
; ---------------------------------------------------------------------------

loc_A015:
		mov	ax, 700h
		int	21h		; DOS -	DIRECT STDIN INPUT, NO ECHO

loc_A01A:
		mov	ah, 0
		pop	di
		pop	si
		retf
sub_A002	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function

; int kbhit(void)
_kbhit		proc far
		push	si
		push	di
		cmp	byte_11D7E, 0
		jz	short loc_A02D
		mov	ax, 1
		jmp	short loc_A032
; ---------------------------------------------------------------------------

loc_A02D:
		mov	ah, 0Bh
		int	21h		; DOS -	CHECK STANDARD INPUT STATUS
					; Return: AL = FFh if character	available
					; 00h if no character
		cbw

loc_A032:
		pop	di
		pop	si
		retf
_kbhit		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A035	proc far

var_8		= dword	ptr -8
var_4		= dword	ptr -4
arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		sub	sp, 8
		push	si
		push	di
		mov	dx, [bp+arg_2]
		mov	ax, [bp+arg_0]
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		jmp	short loc_A0A6
; ---------------------------------------------------------------------------

loc_A04B:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		push	ax
		nop
		push	cs
		call	near ptr sub_510B
		pop	cx
		or	ax, ax
		jz	short loc_A06A
		inc	word ptr [bp+var_4]
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_A0A3
		jmp	short loc_A0AF
; ---------------------------------------------------------------------------

loc_A06A:
		mov	dx, [bp+arg_6]
		mov	ax, [bp+arg_4]
		mov	word ptr [bp+var_8+2], dx
		mov	word ptr [bp+var_8], ax
		jmp	short loc_A089
; ---------------------------------------------------------------------------

loc_A078:
		les	bx, [bp+var_4]
		mov	al, es:[bx]
		les	bx, [bp+var_8]
		cmp	al, es:[bx]
		jz	short loc_A092
		inc	word ptr [bp+var_8]

loc_A089:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_A078

loc_A092:
		les	bx, [bp+var_8]
		cmp	byte ptr es:[bx], 0
		jz	short loc_A0A3
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		jmp	short loc_A0B3
; ---------------------------------------------------------------------------

loc_A0A3:
		inc	word ptr [bp+var_4]

loc_A0A6:
		les	bx, [bp+var_4]
		cmp	byte ptr es:[bx], 0
		jnz	short loc_A04B

loc_A0AF:
		xor	dx, dx
		xor	ax, ax

loc_A0B3:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_A035	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl __far sub_A0B9(int, int, char *pathname, char *src, int)
sub_A0B9	proc far

dest		= byte ptr -50h
arg_0		= word ptr  6
arg_2		= word ptr  8
pathname	= dword	ptr  0Ah
src		= dword	ptr  0Eh
arg_C		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 50h
		push	si
		push	di
		push	[bp+arg_2]
		push	[bp+arg_0]	; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _strcpy
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	ss
		lea	ax, [bp+dest]
		push	ax		; dest
		nop
		push	cs
		call	near ptr _strcat
		add	sp, 10h
		cmp	[bp+arg_C], 0
		jz	short loc_A10D
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; pathname
		push	ds
		mov	ax, 2DA0h
		push	ax		; varname
		push	ss
		lea	ax, [bp+dest]
		push	ax		; file
		nop
		push	cs
		call	near ptr __searchenv
		add	sp, 0Ch
		les	bx, [bp+pathname]
		cmp	byte ptr es:[bx], 0
		jz	short loc_A13A
		jmp	short loc_A135
; ---------------------------------------------------------------------------

loc_A10D:
		push	ss
		lea	ax, [bp+dest]
		push	ax		; src
		push	word ptr [bp+pathname+2]
		push	word ptr [bp+pathname] ; dest
		nop
		push	cs
		call	near ptr _strcpy
		add	sp, 8
		mov	ax, 4
		push	ax		; char
		push	ss
		lea	ax, [bp+dest]
		push	ax		; pathname
		nop
		push	cs
		call	near ptr __access
		add	sp, 6
		or	ax, ax
		jnz	short loc_A13A

loc_A135:
		mov	ax, 1
		jmp	short loc_A13C
; ---------------------------------------------------------------------------

loc_A13A:
		xor	ax, ax

loc_A13C:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_A0B9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl sub_A142(int, char *s, int, int, int, int, int)
sub_A142	proc near

pathname	= word ptr -9Ch
var_1A		= word ptr -1Ah
var_18		= word ptr -18h
var_16		= word ptr -16h
var_14		= dword	ptr -14h
s1		= dword	ptr -10h
var_C		= word ptr -0Ch
var_A		= word ptr -0Ah
var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2
s		= dword	ptr  6
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh
arg_C		= word ptr  10h
arg_E		= word ptr  12h

		push	bp
		mov	bp, sp
		sub	sp, 9Ch
		push	si
		push	di
		les	bx, [bp+s]
		mov	al, es:[bx]
		cbw
		mov	dx, ax
		cmp	ax, 61h	; 'a'
		jb	short loc_A15C
		sub	dx, 20h	; ' '

loc_A15C:
		cmp	dx, 41h	; 'A'
		jb	short loc_A170
		cmp	dx, 5Ah	; 'Z'
		ja	short loc_A170
		les	bx, [bp+s]
		cmp	byte ptr es:[bx+1], 3Ah	; ':'
		jz	short loc_A186

loc_A170:
		push	ds
		mov	ax, 2DA5h
		push	ax
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]
		push	cs
		call	near ptr sub_A035
		add	sp, 8
		or	ax, dx
		jz	short loc_A18B

loc_A186:
		mov	[bp+arg_E], 0

loc_A18B:
		mov	[bp+var_1A], 0
		mov	ax, 2Eh	; '.'
		push	ax		; char
		push	word ptr [bp+s+2]
		push	word ptr [bp+s]	; s
		nop
		push	cs
		call	near ptr strrchr
		add	sp, 6
		mov	word ptr [bp+s1+2], dx
		mov	word ptr [bp+s1], ax
		or	ax, dx
		jz	short loc_A1EA
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 2DA8h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_A0B9
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_A1D1
		jmp	loc_A255
; ---------------------------------------------------------------------------

loc_A1D1:
		push	ds
		mov	ax, 2DA9h
		push	ax		; s2
		push	word ptr [bp+s1+2]
		push	word ptr [bp+s1] ; s1
		nop
		push	cs
		call	near ptr _stricmp
		add	sp, 8
		or	ax, ax
		jnz	short loc_A255
		jmp	short loc_A250
; ---------------------------------------------------------------------------

loc_A1EA:
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 2DAEh
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_A0B9
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_A255
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 2DB3h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_A0B9
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jnz	short loc_A255
		push	[bp+arg_E]	; int
		push	ds
		mov	ax, 2DB8h
		push	ax		; src
		push	ss
		lea	ax, [bp+pathname]
		push	ax		; pathname
		push	word ptr [bp+s+2] ; int
		push	word ptr [bp+s]	; int
		push	cs
		call	near ptr sub_A0B9
		add	sp, 0Eh
		mov	[bp+var_18], ax
		or	ax, ax
		jz	short loc_A255

loc_A250:
		mov	[bp+var_1A], 1

loc_A255:
		cmp	[bp+var_18], 0
		jz	short loc_A277
		cmp	[bp+var_1A], 0
		jz	short loc_A280
		push	ds
		mov	ax, 2DBDh
		push	ax		; name
		nop
		push	cs
		call	near ptr _getenv
		pop	cx
		pop	cx
		mov	[bp+var_2], dx
		mov	[bp+var_4], ax
		or	ax, dx
		jnz	short loc_A280

loc_A277:
		mov	_errno, 2
		jmp	loc_A346
; ---------------------------------------------------------------------------

loc_A280:
					; sub_A142+133j
		cmp	[bp+var_1A], 0
		jz	short loc_A299
		push	[bp+var_2]
		push	[bp+var_4]
		push	ds
		mov	ax, 2DC5h
		push	ax
		push	[bp+arg_8]
		push	[bp+arg_6]
		jmp	short loc_A2AD
; ---------------------------------------------------------------------------

loc_A299:
		push	ss		; int
		lea	ax, [bp+pathname]
		push	ax		; int
		xor	ax, ax
		push	ax
		push	ax		; s
		mov	ax, [bp+arg_6]
		add	ax, 4
		push	[bp+arg_8]	; int
		push	ax		; int

loc_A2AD:
		call	__DOSCMD
		mov	[bp+var_6], dx
		mov	[bp+var_8], ax
		mov	ax, [bp+var_8]
		or	ax, [bp+var_6]
		jnz	short loc_A2C7
		mov	_errno, 8
		; Hack (jmp loc_A346)
		db 0e9h, 07fh, 000h
; ---------------------------------------------------------------------------

loc_A2C7:
		mov	ax, [bp+var_8]
		inc	ax
		push	[bp+var_6]
		push	ax		; s
		nop
		push	cs
		call	near ptr _strlen
		pop	cx
		pop	cx
		cmp	ax, 80h	; '€'
		jb	short loc_A2F0
		mov	_errno, 14h
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx
		jmp	short loc_A346
; ---------------------------------------------------------------------------

loc_A2F0:
		mov	ax, [bp+arg_A]
		or	ax, [bp+arg_C]
		jnz	short loc_A305
		mov	dx, word ptr environ@+2
		mov	ax, word ptr environ@
		mov	[bp+arg_C], dx
		mov	[bp+arg_A], ax

loc_A305:
		push	[bp+arg_C]	; int
		push	[bp+arg_A]	; int
		cmp	[bp+var_1A], 0
		jz	short loc_A319
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		jmp	short loc_A31F
; ---------------------------------------------------------------------------

loc_A319:
		mov	dx, ss
		lea	ax, [bp+pathname]

loc_A31F:
		push	dx
		push	ax		; s
		push	ss
		lea	ax, [bp+var_14]
		push	ax		; __int32
		call	__DOSENV
		mov	[bp+var_A], dx
		mov	[bp+var_C], ax
		or	ax, dx
		jnz	short loc_A34B
		mov	_errno, 8
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		pop	cx
		pop	cx

loc_A346:
					; sub_A142+182j ...
		mov	ax, 0FFFFh
		jmp	short loc_A396
; ---------------------------------------------------------------------------

loc_A34B:
		call	_exitbuf
		push	[bp+var_A]
		push	[bp+var_C]
		push	[bp+var_6]
		push	[bp+var_8]
		cmp	[bp+var_1A], 0
		jz	short loc_A369
		mov	dx, [bp+var_2]
		mov	ax, [bp+var_4]
		jmp	short loc_A36F
; ---------------------------------------------------------------------------

loc_A369:
		mov	dx, ss
		lea	ax, [bp+pathname]

loc_A36F:
		push	dx
		push	ax
		; Hack
		db 0ffh
		db 056h
		db 004h
		
		add	sp, 0Ch
		mov	[bp+var_16], ax
		push	word ptr [bp+var_14+2]
		push	word ptr [bp+var_14]
		nop
		push	cs
		call	near ptr _farfree
		push	[bp+var_6]
		push	[bp+var_8]
		nop
		push	cs
		call	near ptr _farfree
		add	sp, 8
		mov	ax, [bp+var_16]

loc_A396:
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retn
sub_A142	endp ; sp-analysis failed

seg000		ends

; ===========================================================================

; Segment type:	Pure code
seg001		segment	byte public 'CODE' use16
		assume cs:seg001
		; org 0Ch
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A39C	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+1Ah], 0
		mov	byte ptr es:[bx+1Fh], 0
		mov	byte ptr es:[bx+13h], 0
		mov	al, es:[bx+0Fh]
		mov	es:[bx+0Dh], al
		mov	al, es:[bx+10h]
		mov	es:[bx+0Eh], al
		call	sub_D12D
		or	ax, ax
		jnz	short loc_A443
		xor	si, si
		jmp	short loc_A400
; ---------------------------------------------------------------------------

loc_A3CF:
		les	bx, dword_11DCC
		add	bx, si
		mov	byte ptr es:[bx+20h], 0
		mov	bx, word ptr dword_11DCC
		add	bx, si
		mov	byte ptr es:[bx+44h], 0
		xor	di, di
		jmp	short loc_A3FA
; ---------------------------------------------------------------------------

loc_A3E9:
		mov	ax, di
		shl	ax, 3
		les	bx, dword_11DCC
		add	bx, ax
		mov	byte ptr es:[bx+si+4Ch], 0
		inc	di

loc_A3FA:
		cmp	di, 6
		jl	short loc_A3E9
		inc	si

loc_A400:
		cmp	si, 8
		jl	short loc_A3CF
		call	sub_BC83
		call	sub_BB0E
		push	20Ah
		call	sub_DC76
		call	sub_D7EC
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+17h], 0
		jnz	short loc_A430
		push	large 0
		push	ds
		push	offset aMain	; "main"
		push	ds
		push	offset aMain	; "main"
		jmp	short loc_A43B
; ---------------------------------------------------------------------------

loc_A430:
		push	large 0
		push	ds
		push	offset path	; "deb"
		push	ds
		push	offset path	; "deb"

loc_A43B:
		call	_execl
		add	sp, 0Ch

loc_A443:
		pop	di
		pop	si
		pop	bp
		retn
sub_A39C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A447	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+1Fh], 0
		mov	byte ptr es:[bx+13h], 6
		mov	byte ptr es:[bx+0Dh], 3
		mov	byte ptr es:[bx+0Eh], 3
		call	sub_D12D
		or	ax, ax
		jnz	short loc_A4CB
		xor	si, si
		jmp	short loc_A4A0
; ---------------------------------------------------------------------------

loc_A46F:
		les	bx, dword_11DCC
		add	bx, si
		mov	byte ptr es:[bx+20h], 0
		mov	bx, word ptr dword_11DCC
		add	bx, si
		mov	byte ptr es:[bx+44h], 0
		xor	di, di
		jmp	short loc_A49A
; ---------------------------------------------------------------------------

loc_A489:
		mov	ax, di
		shl	ax, 3
		les	bx, dword_11DCC
		add	bx, ax
		mov	byte ptr es:[bx+si+4Ch], 0
		inc	di

loc_A49A:
		cmp	di, 6
		jl	short loc_A489
		inc	si

loc_A4A0:
		cmp	si, 8
		jl	short loc_A46F
		call	sub_BC83
		call	sub_BB0E
		push	20Ah
		call	sub_DC76
		call	sub_D7EC
		push	large 0
		push	ds
		push	offset aMain	; "main"
		push	ds
		push	offset aMain	; "main"
		call	_execl
		add	sp, 0Ch

loc_A4CB:
		pop	di
		pop	si
		pop	bp
		retn
sub_A447	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A4CF	proc near
		push	bp
		mov	bp, sp
		push	si
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+1Ah], 0
		mov	byte ptr es:[bx+13h], 0
		mov	byte ptr es:[bx+0Dh], 3
		mov	byte ptr es:[bx+0Eh], 3
		inc	byte ptr es:[bx+1Fh]
		cmp	byte ptr es:[bx+1Fh], 4
		jbe	short loc_A4FB
		mov	byte ptr es:[bx+1Fh], 1

loc_A4FB:
		cmp	word_12A72, 0Ch
		jnz	short loc_A535
		cmp	byte_1411F, 0
		jz	short loc_A529
		cmp	byte_14120, 0
		jz	short loc_A529
		cmp	byte_14121, 0
		jz	short loc_A529
		cmp	byte_14122, 0
		jz	short loc_A529
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+1Fh], 5
		jmp	short loc_A535
; ---------------------------------------------------------------------------

loc_A529:
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+1Fh], 0
		jmp	loc_A5E9
; ---------------------------------------------------------------------------

loc_A535:
		les	bx, dword_11DCC
		mov	al, es:[bx+1Fh]
		mov	ah, 0
		dec	ax
		mov	bx, ax
		cmp	bx, 4
		ja	short loc_A5A4
		add	bx, bx
		jmp	cs:off_A5EC[bx]

loc_A54E:
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+14h], 0
		mov	byte ptr es:[bx+1Dh], 3
		jmp	short loc_A5A4
; ---------------------------------------------------------------------------

loc_A55E:
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+14h], 1
		mov	byte ptr es:[bx+1Dh], 1
		jmp	short loc_A5A4
; ---------------------------------------------------------------------------

loc_A56E:
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+14h], 2
		mov	byte ptr es:[bx+1Dh], 2
		jmp	short loc_A5A4
; ---------------------------------------------------------------------------

loc_A57E:
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+14h], 3
		mov	byte ptr es:[bx+1Dh], 4
		jmp	short loc_A5A4
; ---------------------------------------------------------------------------

loc_A58E:
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+14h], 2
		mov	byte ptr es:[bx+1Dh], 6
		push	208h
		call	sub_DC76

loc_A5A4:
		xor	si, si
		jmp	short loc_A5BF
; ---------------------------------------------------------------------------

loc_A5A8:
		les	bx, dword_11DCC
		add	bx, si
		mov	byte ptr es:[bx+20h], 0
		mov	bx, word ptr dword_11DCC
		add	bx, si
		mov	byte ptr es:[bx+44h], 0
		inc	si

loc_A5BF:
		cmp	si, 8
		jl	short loc_A5A8
		call	sub_BC83
		call	sub_BB0E
		push	1
		call	palette_black_out
		call	sub_D7EC
		push	large 0
		push	ds
		push	offset aMain	; "main"
		push	ds
		push	offset aMain	; "main"
		call	_execl
		add	sp, 0Ch

loc_A5E9:
		pop	si
		pop	bp
		retn
sub_A4CF	endp

; ---------------------------------------------------------------------------
off_A5EC	dw offset loc_A54E
		dw offset loc_A55E
		dw offset loc_A56E
		dw offset loc_A57E
		dw offset loc_A58E

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A5F6	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	ax, si
		imul	ax, 14h
		add	ax, 0FAh ; 'ú'
		mov	di, ax
		push	100h
		push	ax
		push	large 800010h
		call	sub_E2D8
		push	0C0h ; 'À'
		push	[bp+arg_0]
		call	sub_EE2
		mov	[bp+var_2], si
		mov	bx, si
		cmp	bx, 5
		ja	short loc_A69A
		add	bx, bx
		jmp	cs:off_A70B[bx]

loc_A634:
		push	large 11000FAh
		push	0Ah
		call	sub_E114
		les	bx, dword_11DCC
		mov	al, es:[bx+11h]
		mov	ah, 0
		add	ax, 16h
		mov	[bp+var_2], ax
		jmp	short loc_A69A
; ---------------------------------------------------------------------------

loc_A653:
		cmp	byte_14116, 0

loc_A658:
		jnz	short loc_A665
		push	large 0C00002h
		call	sub_EE2

loc_A665:
		push	large 110010Eh
		push	0Bh
		jmp	short loc_A695
; ---------------------------------------------------------------------------

loc_A66F:
		push	large 1100122h
		push	0Ch
		jmp	short loc_A695
; ---------------------------------------------------------------------------

loc_A679:
		push	large 1100136h
		push	0Dh
		jmp	short loc_A695
; ---------------------------------------------------------------------------

loc_A683:
		push	large 110014Ah
		push	0Eh
		jmp	short loc_A695
; ---------------------------------------------------------------------------

loc_A68D:
		push	large 110015Eh
		push	0Fh

loc_A695:
		call	sub_E114

loc_A69A:
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		cmp	[bp+arg_0], 0Eh
		jnz	short loc_A705
		push	100h
		push	di
		push	23h ; '#'
		call	sub_D758
		push	160h
		push	di
		push	24h ; '$'
		call	sub_D758
		push	large 180h
		push	large 2800010h
		call	sub_E2D8
		mov	word_F9BE, 2
		mov	bx, [bp+var_2]
		shl	bx, 2
		push	large dword ptr	MENU_DESC[bx] ; s
		call	_strlen
		add	sp, 4
		shl	ax, 3
		mov	dx, 270h
		sub	dx, ax
		push	dx
		push	large 1800009h
		mov	bx, [bp+var_2]
		shl	bx, 2
		push	large dword ptr	MENU_DESC[bx]
		call	far ptr	loc_D436

loc_A705:
		pop	di
		pop	si
		leave
		retn	4
sub_A5F6	endp

; ---------------------------------------------------------------------------
off_A70B	dw offset loc_A634
		dw offset loc_A653
		dw offset loc_A66F
		dw offset loc_A679
		dw offset loc_A683
		dw offset loc_A68D

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A717	proc near
					; sub_ABCF+22Dp ...

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		push	di
		mov	di, 0E0h ; 'à'
		mov	ax, [bp+arg_2]
		shl	ax, 4
		add	ax, 0FAh ; 'ú'
		mov	[bp+var_4], ax
		cmp	[bp+arg_2], 7
		jnz	short loc_A737
		mov	[bp+var_4], 16Eh

loc_A737:
		push	0E0h ; 'à'
		push	[bp+var_4]
		push	large 0C00010h
		call	sub_E2D8
		push	0C0h ; 'À'
		push	[bp+arg_0]
		call	sub_EE2
		mov	bx, [bp+arg_2]
		cmp	bx, 7
		ja	loc_A8DA
		add	bx, bx
		jmp	cs:off_A958[bx]

loc_A764:
		push	large 0E000FAh
		push	10h
		call	sub_E114
		push	large 14000FAh
		les	bx, dword_11DCC
		mov	al, es:[bx+11h]
		mov	ah, 0
		add	ax, 15h
		push	ax
		call	sub_E114
		les	bx, dword_11DCC
		mov	al, es:[bx+11h]
		mov	ah, 0
		add	ax, 6

loc_A797:
					; sub_A717+16Aj ...
		mov	si, ax
		jmp	loc_A8DA
; ---------------------------------------------------------------------------

loc_A79C:
		push	large 0E0010Ah
		push	11h
		call	sub_E114
		push	large 140010Ah
		les	bx, dword_11DCC
		mov	al, es:[bx+0Fh]
		mov	ah, 0
		push	ax
		call	sub_E114
		mov	si, 0Ah
		jmp	loc_A8DA
; ---------------------------------------------------------------------------

loc_A7C5:
		push	large 0E0011Ah
		push	12h
		call	sub_E114
		push	large 140011Ah
		les	bx, dword_11DCC
		mov	al, es:[bx+10h]
		mov	ah, 0
		push	ax
		call	sub_E114
		mov	si, 0Bh
		jmp	loc_A8DA
; ---------------------------------------------------------------------------

loc_A7EE:
		push	large 0E0012Ah
		push	13h
		call	sub_E114
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+12h], 0
		jnz	short loc_A80B
		mov	ax, 1Ch
		jmp	short loc_A818
; ---------------------------------------------------------------------------

loc_A80B:
		les	bx, dword_11DCC
		mov	al, es:[bx+12h]
		mov	ah, 0
		add	ax, 18h

loc_A818:
		mov	[bp+var_2], ax
		push	large 140012Ah
		push	ax
		call	sub_E114
		les	bx, dword_11DCC
		mov	al, es:[bx+12h]
		mov	ah, 0
		add	ax, 0Ch
		jmp	loc_A797
; ---------------------------------------------------------------------------

loc_A837:
		push	large 0E0013Ah
		push	14h
		call	sub_E114
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+15h], 0
		jnz	short loc_A854
		mov	ax, 1Ch
		jmp	short loc_A865
; ---------------------------------------------------------------------------

loc_A854:
		les	bx, dword_11DCC

loc_A858:
		mov	al, es:[bx+15h]
		mov	ah, 0
		push	ax
		mov	ax, 1Fh
		pop	dx
		sub	ax, dx

loc_A865:
		mov	[bp+var_2], ax
		push	large 140013Ah
		push	ax
		call	sub_E114
		les	bx, dword_11DCC
		mov	al, es:[bx+15h]
		mov	ah, 0
		add	ax, 0Fh
		jmp	loc_A797
; ---------------------------------------------------------------------------

loc_A884:
		push	large 110014Ah
		les	bx, dword_11DCC
		mov	al, es:[bx+16h]
		mov	ah, 0
		mov	dx, 21h	; '!'
		sub	dx, ax
		push	dx
		call	sub_E114
		mov	di, 100h
		les	bx, dword_11DCC
		mov	al, es:[bx+16h]
		mov	ah, 0
		add	ax, 12h
		jmp	loc_A797
; ---------------------------------------------------------------------------

loc_A8B2:
		push	large 110015Ah
		push	1Fh
		call	sub_E114
		mov	di, 100h
		mov	si, 14h
		jmp	short loc_A8DA
; ---------------------------------------------------------------------------

loc_A8C7:
		push	large 110016Eh
		push	0Fh
		call	sub_E114
		mov	di, 100h
		mov	si, 15h

loc_A8DA:
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		cmp	[bp+arg_0], 0Eh
		jnz	short loc_A951
		push	di
		push	[bp+var_4]
		push	23h ; '#'
		call	sub_D758
		cmp	di, 100h
		jnz	short loc_A8FD
		lea	ax, [di+60h]
		push	ax
		jmp	short loc_A900
; ---------------------------------------------------------------------------

loc_A8FD:
		push	180h

loc_A900:
		push	[bp+var_4]
		push	24h ; '$'
		call	sub_D758
		push	large 180h
		push	large 2800010h
		call	sub_E2D8
		mov	word_F9BE, 2
		mov	bx, si
		shl	bx, 2
		push	large dword ptr	MENU_DESC[bx] ; s
		call	_strlen
		add	sp, 4
		shl	ax, 3
		mov	dx, 270h
		sub	dx, ax
		push	dx
		push	large 1800009h
		mov	bx, si
		shl	bx, 2
		push	large dword ptr	MENU_DESC[bx]
		call	far ptr	loc_D436

loc_A951:
		pop	di
		pop	si
		leave
		retn	4
sub_A717	endp

; ---------------------------------------------------------------------------
		db 0
off_A958	dw offset loc_A764
		dw offset loc_A79C
		dw offset loc_A7C5
		dw offset loc_A7EE
		dw offset loc_A837
		dw offset loc_A884
		dw offset loc_A8B2
		dw offset loc_A8C7

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A968	proc near

arg_0		= byte ptr  4
arg_2		= byte ptr  6

		push	bp
		mov	bp, sp
		mov	al, byte_F071
		cbw
		push	ax
		push	8
		call	word_11DD2
		mov	al, [bp+arg_0]
		add	byte_F071, al
		mov	al, byte_F071
		cbw
		or	ax, ax
		jge	short loc_A98B
		mov	al, [bp+arg_2]
		mov	byte_F071, al

loc_A98B:
		mov	al, byte_F071
		cmp	al, [bp+arg_2]
		jle	short loc_A998
		mov	byte_F071, 0

loc_A998:
		cmp	byte_14116, 0
		jnz	short loc_A9B6
		mov	al, byte_F071
		cbw
		cmp	ax, 1
		jnz	short loc_A9B6
		cmp	byte_11DD0, 0
		jnz	short loc_A9B6
		mov	al, [bp+arg_0]
		add	byte_F071, al

loc_A9B6:
		mov	al, byte_F071
		cbw
		push	ax
		push	0Eh
		call	word_11DD2
		call	sub_D5F6
		push	1
		call	sub_D602
		call	sub_D63C
		pop	bp
		retn	4
sub_A968	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_A9D6	proc near
		push	bp
		mov	bp, sp
		push	si
		cmp	byte_F0DC, 0
		jnz	short loc_AA2B
		mov	byte_F073, 0
		mov	byte_11DD4, 0
		push	large 0C000FAh
		push	large 12000A0h
		call	sub_E2D8
		xor	si, si
		jmp	short loc_AA16
; ---------------------------------------------------------------------------

loc_AA00:
		push	si
		mov	al, byte_F071
		cbw
		cmp	ax, si
		jnz	short loc_AA0E
		mov	ax, 0Eh
		jmp	short loc_AA11
; ---------------------------------------------------------------------------

loc_AA0E:
		mov	ax, 8

loc_AA11:
		push	ax
		call	sub_A5F6
		inc	si

loc_AA16:
		cmp	si, 6
		jl	short loc_AA00
		mov	word_11DD2, 266h
		mov	byte_F0DC, 1
		mov	byte_11DD4, 0

loc_AA2B:
		cmp	word_12A72, 0
		jnz	short loc_AA37
		mov	byte_11DD4, 1

loc_AA37:
		cmp	byte_11DD4, 0
		jz	loc_ABC0
		test	byte ptr word_12A72, 1
		jz	short loc_AA4E
		push	5
		push	0FFFFh
		call	sub_A968

loc_AA4E:
		test	byte ptr word_12A72, 2
		jz	short loc_AA5C
		push	5
		push	1
		call	sub_A968

loc_AA5C:
		test	byte ptr word_12A72+1, 20h
		jnz	short loc_AA6C
		test	byte ptr word_12A72, 20h
		jz	loc_ABA8

loc_AA6C:
		call	sub_D5F6
		push	0Bh
		call	sub_D602
		call	sub_D63C
		mov	al, byte_F071
		cbw
		mov	bx, ax
		cmp	bx, 5
		ja	loc_ABA8
		add	bx, bx
		jmp	cs:off_ABC3[bx]

loc_AA91:
		call	sub_A39C
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aOp1_pi	; "op1.pi"
		call	sub_DDD8
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		push	0
		call	sub_DEE0
		push	0
		call	sub_1250
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show
		mov	byte_F0DC, 0
		mov	byte_11DD0, 0
		mov	byte_F071, 0
		jmp	loc_ABC0
; ---------------------------------------------------------------------------

loc_AAE1:
		call	sub_A447
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aOp1_pi	; "op1.pi"
		call	sub_DDD8
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		push	0
		call	sub_DEE0
		push	0
		call	sub_1250
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show
		mov	byte_F0DC, 0
		mov	byte_11DD0, 0
		mov	byte_F071, 1
		jmp	loc_ABC0
; ---------------------------------------------------------------------------

loc_AB31:
		call	sub_CC5C
		mov	byte_F0DC, 0
		jmp	short loc_ABA8
; ---------------------------------------------------------------------------

loc_AB3B:
		call	sub_C490
		call	sub_BC0F
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aOp1_pi	; "op1.pi"
		call	sub_DDD8
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		push	0
		call	sub_DEE0
		push	0
		call	sub_1250
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show
		mov	byte_F0DC, 0
		mov	byte_11DD0, 0
		mov	byte_F071, 3
		jmp	short loc_ABC0
; ---------------------------------------------------------------------------

loc_AB8D:
		mov	byte_F0DC, 0
		mov	byte_11DD0, 1
		mov	byte_F071, 0
		jmp	short loc_ABA8
; ---------------------------------------------------------------------------

loc_AB9E:
		mov	byte_F0DC, 0
		mov	byte_F072, 1

loc_ABA8:
		test	byte ptr word_12A72+1, 10h
		jz	short loc_ABB4
		mov	byte_F072, 1

loc_ABB4:
		cmp	word_12A72, 0
		jz	short loc_ABC0
		mov	byte_11DD4, 0

loc_ABC0:
					; sub_A9D6+108j ...
		pop	si
		pop	bp
		retn
sub_A9D6	endp

; ---------------------------------------------------------------------------
off_ABC3	dw offset loc_AA91
		dw offset loc_AAE1
		dw offset loc_AB31
		dw offset loc_AB3B
		dw offset loc_AB8D
		dw offset loc_AB9E

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_ABCF	proc near
		push	bp
		mov	bp, sp
		push	si
		cmp	byte_F0DD, 0
		jnz	short loc_AC1F
		mov	byte_11DD5, 0
		push	large 11000FAh
		push	large 0A00090h
		call	sub_E2D8
		xor	si, si
		jmp	short loc_AC0A
; ---------------------------------------------------------------------------

loc_ABF4:
		push	si
		mov	al, byte_F071
		cbw
		cmp	ax, si
		jnz	short loc_AC02
		mov	ax, 0Eh
		jmp	short loc_AC05
; ---------------------------------------------------------------------------

loc_AC02:
		mov	ax, 8

loc_AC05:
		push	ax
		call	sub_A717
		inc	si

loc_AC0A:
		cmp	si, 8
		jl	short loc_ABF4
		mov	word_11DD2, 387h
		mov	byte_F0DD, 1
		mov	byte_11DD5, 0

loc_AC1F:
		cmp	word_12A72, 0
		jnz	short loc_AC2B
		mov	byte_11DD5, 1

loc_AC2B:
		cmp	byte_11DD5, 0
		jz	loc_AF2E
		test	byte ptr word_12A72, 1
		jz	short loc_AC42
		push	7
		push	0FFFFh
		call	sub_A968

loc_AC42:
		test	byte ptr word_12A72, 2
		jz	short loc_AC50
		push	7
		push	1
		call	sub_A968

loc_AC50:
		test	byte ptr word_12A72+1, 20h
		jnz	short loc_AC60
		test	byte ptr word_12A72, 20h
		jz	loc_ACF8

loc_AC60:
		mov	al, byte_F071
		cbw
		cmp	ax, 6
		jz	short loc_AC71
		cmp	ax, 7
		jz	short loc_ACD8
		jmp	loc_AD01
; ---------------------------------------------------------------------------

loc_AC71:
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+11h], 1
		mov	byte ptr es:[bx+0Fh], 3
		mov	byte ptr es:[bx+10h], 3
		mov	byte ptr es:[bx+12h], 2
		mov	byte ptr es:[bx+15h], 1
		mov	byte ptr es:[bx+16h], 1
		push	100h
		call	sub_DC76
		les	bx, dword_11DCC
		mov	al, es:[bx+12h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+15h]
		mov	ah, 0
		push	ax
		call	sub_D380
		push	ds
		push	offset aMiko	; "miko"
		push	0B00h
		call	sub_DBBE
		push	ds
		push	offset aOp	; "op"
		push	600h
		call	sub_DBBE
		push	0
		call	sub_DC76
		mov	byte_F0DD, 0
		jmp	short loc_ACF8
; ---------------------------------------------------------------------------

loc_ACD8:
		call	sub_D5F6
		push	0Bh
		call	sub_D602
		call	sub_D63C
		mov	byte_F0DD, 0
		mov	byte_F071, 4
		mov	byte_11DD0, 0

loc_ACF8:
					; sub_ABCF+107j
		test	byte ptr word_12A72, 8
		jz	loc_ADFF

loc_AD01:
		mov	al, byte_F071
		cbw
		mov	bx, ax
		cmp	bx, 5
		ja	loc_ADF5
		add	bx, bx
		jmp	cs:off_AF3D[bx]

loc_AD15:
		les	bx, dword_11DCC
		inc	byte ptr es:[bx+11h]
		cmp	byte ptr es:[bx+11h], 3
		jbe	loc_ADF5
		mov	byte ptr es:[bx+11h], 0
		jmp	loc_ADF5
; ---------------------------------------------------------------------------

loc_AD2E:
					; sub_ABCF+248j
		les	bx, dword_11DCC
		inc	byte ptr es:[bx+0Fh]
		cmp	byte ptr es:[bx+0Fh], 6
		jbe	loc_ADF5
		mov	byte ptr es:[bx+0Fh], 1
		jmp	loc_ADF5
; ---------------------------------------------------------------------------

loc_AD47:
					; sub_ABCF+248j
		les	bx, dword_11DCC
		inc	byte ptr es:[bx+10h]
		cmp	byte ptr es:[bx+10h], 3
		jbe	loc_ADF5
		mov	byte ptr es:[bx+10h], 0
		jmp	loc_ADF5
; ---------------------------------------------------------------------------

loc_AD60:
					; sub_ABCF+248j
		les	bx, dword_11DCC
		inc	byte ptr es:[bx+12h]
		cmp	byte ptr es:[bx+12h], 3
		jb	short loc_AD74
		mov	byte ptr es:[bx+12h], 0

loc_AD74:
		push	100h
		call	sub_DC76
		les	bx, dword_11DCC
		mov	al, es:[bx+12h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+15h]
		mov	ah, 0
		push	ax
		call	sub_D380
		push	ds
		push	offset aOp	; "op"
		push	600h
		call	sub_DBBE
		push	0
		call	sub_DC76
		jmp	short loc_ADF5
; ---------------------------------------------------------------------------

loc_ADA8:
					; sub_ABCF+248j
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+15h], 0
		jnz	short loc_ADBA
		mov	byte ptr es:[bx+15h], 2
		jmp	short loc_ADC2
; ---------------------------------------------------------------------------

loc_ADBA:
		les	bx, dword_11DCC
		dec	byte ptr es:[bx+15h]

loc_ADC2:
		les	bx, dword_11DCC
		mov	al, es:[bx+12h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+15h]
		mov	ah, 0
		push	ax
		call	sub_D380
		push	ds
		push	offset aMiko	; "miko"
		push	0B00h
		call	sub_DBBE
		jmp	short loc_ADF5
; ---------------------------------------------------------------------------

loc_ADE7:
					; sub_ABCF+248j
		les	bx, dword_11DCC
		mov	al, 1
		sub	al, es:[bx+16h]
		mov	es:[bx+16h], al

loc_ADF5:
					; sub_ABCF+153j ...
		mov	al, byte_F071
		cbw
		push	ax
		push	0Eh
		call	sub_A717

loc_ADFF:
		test	byte ptr word_12A72, 4
		jz	loc_AF0C
		mov	al, byte_F071
		cbw
		mov	bx, ax
		cmp	bx, 5
		ja	loc_AF02
		add	bx, bx
		jmp	cs:off_AF31[bx]

loc_AE1C:
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+11h], 0
		jnz	short loc_AE2C
		mov	byte ptr es:[bx+11h], 4

loc_AE2C:
		les	bx, dword_11DCC
		dec	byte ptr es:[bx+11h]
		jmp	loc_AF02
; ---------------------------------------------------------------------------

loc_AE37:
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+0Fh], 1
		jnz	short loc_AE47
		mov	byte ptr es:[bx+0Fh], 7

loc_AE47:
		les	bx, dword_11DCC
		dec	byte ptr es:[bx+0Fh]
		jmp	loc_AF02
; ---------------------------------------------------------------------------

loc_AE52:
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+10h], 0
		jnz	short loc_AE62
		mov	byte ptr es:[bx+10h], 4

loc_AE62:
		les	bx, dword_11DCC
		dec	byte ptr es:[bx+10h]
		jmp	loc_AF02
; ---------------------------------------------------------------------------

loc_AE6D:
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+12h], 0
		jnz	short loc_AE7F
		mov	byte ptr es:[bx+12h], 2
		jmp	short loc_AE87
; ---------------------------------------------------------------------------

loc_AE7F:
		les	bx, dword_11DCC
		dec	byte ptr es:[bx+12h]

loc_AE87:
		push	100h
		call	sub_DC76
		les	bx, dword_11DCC
		mov	al, es:[bx+12h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+15h]
		mov	ah, 0
		push	ax
		call	sub_D380
		push	ds
		push	offset aOp	; "op"
		push	600h
		call	sub_DBBE
		push	0
		call	sub_DC76
		jmp	short loc_AF02
; ---------------------------------------------------------------------------

loc_AEBB:
		les	bx, dword_11DCC
		inc	byte ptr es:[bx+15h]
		cmp	byte ptr es:[bx+15h], 3
		jb	short loc_AECF
		mov	byte ptr es:[bx+15h], 0

loc_AECF:
		les	bx, dword_11DCC
		mov	al, es:[bx+12h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+15h]
		mov	ah, 0
		push	ax
		call	sub_D380
		push	ds
		push	offset aMiko	; "miko"
		push	0B00h
		call	sub_DBBE
		jmp	short loc_AF02
; ---------------------------------------------------------------------------

loc_AEF4:
		les	bx, dword_11DCC
		mov	al, 1
		sub	al, es:[bx+16h]
		mov	es:[bx+16h], al

loc_AF02:
					; sub_ABCF+265j ...
		mov	al, byte_F071
		cbw
		push	ax
		push	0Eh
		call	sub_A717

loc_AF0C:
		test	byte ptr word_12A72+1, 10h
		jz	short loc_AF22
		mov	byte_F0DD, 0
		mov	byte_F071, 4
		mov	byte_11DD0, 0

loc_AF22:
		cmp	word_12A72, 0
		jz	short loc_AF2E
		mov	byte_11DD5, 0

loc_AF2E:
					; sub_ABCF+358j
		pop	si
		pop	bp
		retn
sub_ABCF	endp

; ---------------------------------------------------------------------------
off_AF31	dw offset loc_AE1C
		dw offset loc_AE37
		dw offset loc_AE52
		dw offset loc_AE6D
		dw offset loc_AEBB
		dw offset loc_AEF4
off_AF3D	dw offset loc_AD15
		dw offset loc_AD2E
		dw offset loc_AD47
		dw offset loc_AD60
		dw offset loc_ADA8
		dw offset loc_ADE7

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

; int __cdecl main(int argc, const char	**argv,	const char **envp)
_main		proc far

_argc		= word ptr  6
_argv		= dword	ptr  8
_envp		= dword	ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		call	text_clear
		call	sub_2B18
		mov	word_F9CC, 5208h
		push	ds
		push	offset aKaikidan1_dat0
		call	sub_DF12
		add	sp, 4
		or	ax, ax
		jz	short loc_AF7D
		push	ds
		push	offset aNotEnoughMem
		call	dos_puts2
		call	sub_A002

loc_AF7D:
		call	sub_BA94
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+11h], 0FFh
		jnz	short loc_AF97
		call	sub_B5A6
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+11h], 1

loc_AF97:
		les	bx, dword_11DCC
		mov	al, es:[bx+12h]
		mov	ah, 0
		push	ax
		mov	al, es:[bx+15h]
		mov	ah, 0
		push	ax
		call	sub_D380
		push	ds
		push	offset aMiko	; "miko"
		push	0B00h
		call	sub_DBBE
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+0Ah], 0
		jnz	short loc_AFD1
		call	sub_B806
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+0Ah], 1

loc_AFD1:
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+1Fh], 5
		jnz	short loc_AFE1
		mov	byte ptr es:[bx+1Fh], 0

loc_AFE1:
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+1Fh], 0
		jnz	short loc_AFF4
		push	100h
		call	sub_DC76

loc_AFF4:
		call	sub_BC8D
		call	sub_BC0F
		call	sub_CD94
		mov	byte_11DD0, 0
		mov	byte_F072, 0
		mov	byte_F071, 0
		jmp	short loc_B058
; ---------------------------------------------------------------------------

loc_B00E:
		call	sub_E094
		mov	al, byte_11DD0
		cbw
		or	ax, ax
		jz	short loc_B022
		cmp	ax, 1
		jz	short loc_B032
		jmp	short loc_B035
; ---------------------------------------------------------------------------

loc_B022:
		call	sub_A9D6
		cmp	si, 280h
		jl	short loc_B035
		call	sub_A4CF
		xor	si, si
		jmp	short loc_B035
; ---------------------------------------------------------------------------

loc_B032:
		call	sub_ABCF

loc_B035:
		cmp	word_12A72, 0
		jz	short loc_B043
		cmp	word_12A72, 0Ch
		jnz	short loc_B046

loc_B043:
		inc	si
		jmp	short loc_B048
; ---------------------------------------------------------------------------

loc_B046:
		xor	si, si

loc_B048:
		les	bx, dword_11DCC
		inc	dword ptr es:[bx+28h]
		push	1
		call	sub_E15E

loc_B058:
		cmp	byte_F072, 0
		jz	short loc_B00E
		call	sub_BC83
		call	sub_BB91
		call	text_clear
		call	sub_D41C
		call	sub_2B8E
		pop	si
		pop	bp
		retf
_main		endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B077	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		push	si
		push	di
		mov	ax, word_12F30
		shl	ax, 4
		push	ax
		push	10h
		call	sub_E2D8
		push	si
		push	di
		push	2
		call	sub_292A
		push	si
		lea	ax, [di+8]
		push	ax
		push	6
		call	sub_292A
		add	si, 10h
		mov	[bp+var_2], 1
		jmp	short loc_B0CD
; ---------------------------------------------------------------------------

loc_B0B2:
		push	si
		push	di
		push	0
		call	sub_292A
		push	si
		lea	ax, [di+8]
		push	ax
		push	3
		call	sub_292A
		inc	[bp+var_2]
		add	si, 10h

loc_B0CD:
		mov	ax, word_12F30
		dec	ax
		cmp	ax, [bp+var_2]
		jg	short loc_B0B2
		push	si
		push	di
		push	4
		call	sub_292A
		push	si
		lea	ax, [di+8]
		push	ax
		push	7
		call	sub_292A
		pop	di
		pop	si
		leave
		retn	4
sub_B077	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B0F1	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		push	si
		lea	ax, [di+8]
		push	ax
		mov	ax, word_12F30
		shl	ax, 4
		push	ax
		push	10h
		call	sub_E2D8
		push	si
		push	di
		push	6
		call	sub_292A
		add	si, 10h
		mov	[bp+var_2], 1
		jmp	short loc_B132
; ---------------------------------------------------------------------------

loc_B123:
		push	si
		push	di
		push	3
		call	sub_292A
		inc	[bp+var_2]
		add	si, 10h

loc_B132:
		mov	ax, word_12F30
		dec	ax
		cmp	ax, [bp+var_2]
		jg	short loc_B123
		push	si
		push	di
		push	7
		call	sub_292A
		pop	di
		pop	si
		leave
		retn	4
sub_B0F1	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B14A	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	ax, [bp+arg_2]
		mov	[bp+var_2], ax
		mov	si, [bp+arg_0]
		push	ax
		push	si
		push	5
		call	sub_292A
		add	[bp+var_2], 10h
		mov	di, 1
		jmp	short loc_B17B
; ---------------------------------------------------------------------------

loc_B16B:
		push	[bp+var_2]
		push	si
		push	1
		call	sub_292A
		inc	di
		add	[bp+var_2], 10h

loc_B17B:
		mov	ax, word_12F30
		dec	ax
		cmp	ax, di
		jg	short loc_B16B
		push	[bp+var_2]
		push	si
		push	8
		call	sub_292A
		add	si, 10h
		mov	di, 1
		jmp	short loc_B1A8
; ---------------------------------------------------------------------------

loc_B196:
		push	[bp+arg_2]
		push	si
		call	sub_B077
		push	1
		call	sub_E15E
		inc	di
		add	si, 8

loc_B1A8:
		mov	ax, word_12F32
		add	ax, ax
		add	ax, 0FFFDh
		cmp	ax, di
		jg	short loc_B196
		pop	di
		pop	si
		leave
		retn	4
sub_B14A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B1BA	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		push	si
		push	di
		mov	ax, word_12F30
		shl	ax, 4
		push	ax
		push	20h ; ' '
		call	sub_E2D8
		push	si
		push	di
		push	5
		call	sub_292A
		push	si
		lea	ax, [di+10h]
		push	ax
		push	6
		call	sub_292A
		add	si, 10h
		mov	[bp+var_2], 1
		jmp	short loc_B210
; ---------------------------------------------------------------------------

loc_B1F5:
		push	si
		push	di
		push	1
		call	sub_292A
		push	si
		lea	ax, [di+10h]
		push	ax
		push	3
		call	sub_292A
		inc	[bp+var_2]
		add	si, 10h

loc_B210:
		mov	ax, word_12F30
		dec	ax
		cmp	ax, [bp+var_2]
		jg	short loc_B1F5
		push	si
		push	di
		push	8
		call	sub_292A
		push	si
		lea	ax, [di+10h]
		push	ax
		push	7
		call	sub_292A
		pop	di
		pop	si
		leave
		retn	4
sub_B1BA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B234	proc near
					; sub_B36C+10Dp ...

arg_0		= word ptr  4
arg_2		= word ptr  6

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	ax, word_12F32
		shl	ax, 4
		add	ax, 0FFF0h
		add	si, ax
		mov	di, 1
		jmp	short loc_B25E
; ---------------------------------------------------------------------------

loc_B24C:
		push	[bp+arg_2]
		push	si
		call	sub_B0F1
		push	1
		call	sub_E15E
		inc	di
		sub	si, 8

loc_B25E:
		mov	ax, word_12F32
		add	ax, ax
		add	ax, 0FFFEh
		cmp	ax, di
		jg	short loc_B24C
		pop	di
		pop	si
		pop	bp
		retn	4
sub_B234	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B270	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		mov	si, 88h	; 'ˆ'
		mov	ax, [bp+arg_2]
		or	ax, ax
		jz	short loc_B2A0
		cmp	ax, 1
		jz	short loc_B293
		cmp	ax, 2
		jnz	short loc_B2AB
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], offset aSETUP_BGM_OPTION1 ; "ƒXƒeƒŒƒI‚e‚l‰¹Œ¹"
		jmp	short loc_B2AB
; ---------------------------------------------------------------------------

loc_B293:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], offset aSETUP_BGM_OPTION2 ; "@•W€‚e‚l‰¹Œ¹@"
		add	si, 10h
		jmp	short loc_B2AB
; ---------------------------------------------------------------------------

loc_B2A0:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], offset aSETUP_BGM_OPTION3 ; "@@‰¹Šy–³‚µ@@"
		add	si, 20h	; ' '

loc_B2AB:
		push	30h ; '0'
		push	si
		push	[bp+arg_0]
		push	large [bp+var_4]
		call	far ptr	loc_D436
		pop	si
		leave
		retn	4
sub_B270	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B2BF	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	4, 0
		push	si
		mov	si, 88h	; 'ˆ'
		mov	ax, [bp+arg_2]
		or	ax, ax
		jz	short loc_B2F1
		cmp	ax, 1
		jz	short loc_B2DA
		cmp	ax, 2
		jz	short loc_B2E4
		jmp	short loc_B2FC
; ---------------------------------------------------------------------------

loc_B2DA:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], offset aSETUP_SFX_OPTION1 ; "@@‚e‚l‰¹Œ¹@@"
		jmp	short loc_B2FC
; ---------------------------------------------------------------------------

loc_B2E4:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], offset aSETUP_SFX_OPTION2 ; "@‚a‚…‚…‚‰¹Œ¹@"
		add	si, 10h
		jmp	short loc_B2FC
; ---------------------------------------------------------------------------

loc_B2F1:
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], offset aSETUP_SFX_OPTION3 ; "@ Œø‰Ê‰¹–³‚µ	@"
		add	si, 20h	; ' '

loc_B2FC:
		push	30h ; '0'
		push	si
		push	[bp+arg_0]
		push	large [bp+var_4]
		call	far ptr	loc_D436
		pop	si
		leave
		retn	4
sub_B2BF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B310	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, 88h	; 'ˆ'
		xor	si, si
		jmp	short loc_B335
; ---------------------------------------------------------------------------

loc_B31C:
		push	0D0h ; 'Ð'
		push	di
		push	0Fh
		mov	bx, si
		shl	bx, 2
		push	large [SETUP_BGM_BODY+bx]
		call	far ptr	loc_D436
		inc	si
		add	di, 10h

loc_B335:
		cmp	si, 9
		jl	short loc_B31C
		pop	di
		pop	si
		pop	bp
		retn
sub_B310	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B33E	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, 88h	; 'ˆ'
		xor	si, si
		jmp	short loc_B363
; ---------------------------------------------------------------------------

loc_B34A:
		push	0D0h ; 'Ð'
		push	di
		push	0Fh
		mov	bx, si
		shl	bx, 2
		push	large [SETUP_SFX_BODY+bx]
		call	far ptr	loc_D436
		inc	si
		add	di, 10h

loc_B363:
		cmp	si, 9
		jl	short loc_B34A
		pop	di
		pop	si
		pop	bp
		retn
sub_B33E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B36C	proc near

var_2		= word ptr -2

		enter	2, 0
		mov	word_12F30, 1Ch
		push	large 600050h
		call	sub_B1BA
		push	large 700058h
		push	0Fh
		push	ds
		push	offset aSETUP_BGM_HEAD ; "@@@@@Žg—p‚·‚é‰¹Œ¹‚ð‘I‘ð‚µ‚Ä‰º‚³‚¢‚"...
		call	far ptr	loc_D436
		mov	word_12F30, 0Ah
		mov	word_12F32, 4
		push	large 200080h
		call	sub_B14A
		mov	[bp+var_2], 0
		jmp	short loc_B3C3
; ---------------------------------------------------------------------------

loc_B3AC:
		push	[bp+var_2]
		cmp	[bp+var_2], 2
		jnz	short loc_B3BA
		mov	ax, 0Fh
		jmp	short loc_B3BC
; ---------------------------------------------------------------------------

loc_B3BA:
		xor	ax, ax

loc_B3BC:
		push	ax
		call	sub_B270
		inc	[bp+var_2]

loc_B3C3:
		cmp	[bp+var_2], 3
		jl	short loc_B3AC
		mov	word_12F30, 19h
		mov	word_12F32, 0Ah
		push	large 0C00080h
		call	sub_B14A
		call	sub_B310
		mov	[bp+var_2], 2

loc_B3E6:
		push	0
		call	sub_E0A4
		push	1
		call	sub_E15E
		test	byte ptr word_12A72+1, 20h
		jnz	short loc_B452
		test	byte ptr word_12A72, 20h
		jnz	short loc_B452
		test	byte ptr word_12A72, 1
		jz	short loc_B429
		push	[bp+var_2]
		push	0
		call	sub_B270
		cmp	[bp+var_2], 2
		jnz	short loc_B41E
		mov	[bp+var_2], 0
		jmp	short loc_B421
; ---------------------------------------------------------------------------

loc_B41E:
		inc	[bp+var_2]

loc_B421:
		push	[bp+var_2]
		push	0Fh
		call	sub_B270

loc_B429:
		test	byte ptr word_12A72, 2
		jz	short loc_B3E6
		push	[bp+var_2]
		push	0
		call	sub_B270
		cmp	[bp+var_2], 0
		jnz	short loc_B445
		mov	[bp+var_2], 2
		jmp	short loc_B448
; ---------------------------------------------------------------------------

loc_B445:
		dec	[bp+var_2]

loc_B448:
		push	[bp+var_2]
		push	0Fh
		call	sub_B270
		jmp	short loc_B3E6
; ---------------------------------------------------------------------------

loc_B452:
		mov	word_12F30, 19h
		mov	word_12F32, 0Ah
		push	large 0C00080h
		call	sub_B234
		mov	word_12F30, 0Ah
		mov	word_12F32, 4
		push	large 200080h
		call	sub_B234
		les	bx, dword_11DCC
		mov	al, byte ptr [bp+var_2]
		mov	es:[bx+12h], al
		leave
		retn
sub_B36C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B489	proc near

var_2		= word ptr -2

		enter	2, 0
		mov	word_12F30, 1Ch
		push	large 600050h
		call	sub_B1BA
		push	large 700058h
		push	0Fh
		push	ds
		push	offset aSETUP_SFX_HEAD ; "@@@@Œø‰Ê‰¹‚ÉŽg—p‚·‚é‰¹Œ¹‚ð‘I‘ð‚µ‚Ä‚"...
		call	far ptr	loc_D436
		mov	word_12F30, 0Ah
		mov	word_12F32, 4
		push	large 200080h
		call	sub_B14A
		mov	[bp+var_2], 0
		jmp	short loc_B4E0
; ---------------------------------------------------------------------------

loc_B4C9:
		push	[bp+var_2]
		cmp	[bp+var_2], 1
		jnz	short loc_B4D7
		mov	ax, 0Fh
		jmp	short loc_B4D9
; ---------------------------------------------------------------------------

loc_B4D7:
		xor	ax, ax

loc_B4D9:
		push	ax
		call	sub_B2BF
		inc	[bp+var_2]

loc_B4E0:
		cmp	[bp+var_2], 3
		jl	short loc_B4C9
		mov	word_12F30, 19h
		mov	word_12F32, 0Ah
		push	large 0C00080h
		call	sub_B14A
		call	sub_B33E
		mov	[bp+var_2], 1

loc_B503:
		push	0
		call	sub_E0A4
		push	1
		call	sub_E15E
		test	byte ptr word_12A72+1, 20h
		jnz	short loc_B56F
		test	byte ptr word_12A72, 20h
		jnz	short loc_B56F
		test	byte ptr word_12A72, 2
		jz	short loc_B546
		push	[bp+var_2]
		push	0
		call	sub_B2BF
		cmp	[bp+var_2], 2
		jnz	short loc_B53B
		mov	[bp+var_2], 0
		jmp	short loc_B53E
; ---------------------------------------------------------------------------

loc_B53B:
		inc	[bp+var_2]

loc_B53E:
		push	[bp+var_2]
		push	0Fh
		call	sub_B2BF

loc_B546:
		test	byte ptr word_12A72, 1
		jz	short loc_B503
		push	[bp+var_2]
		push	0
		call	sub_B2BF
		cmp	[bp+var_2], 0
		jnz	short loc_B562
		mov	[bp+var_2], 2
		jmp	short loc_B565
; ---------------------------------------------------------------------------

loc_B562:
		dec	[bp+var_2]

loc_B565:
		push	[bp+var_2]
		push	0Fh
		call	sub_B2BF
		jmp	short loc_B503
; ---------------------------------------------------------------------------

loc_B56F:
		mov	word_12F30, 19h
		mov	word_12F32, 0Ah
		push	large 0C00080h
		call	sub_B234
		mov	word_12F30, 0Ah
		mov	word_12F32, 4
		push	large 200080h
		call	sub_B234
		les	bx, dword_11DCC
		mov	al, byte ptr [bp+var_2]
		mov	es:[bx+15h], al
		leave
		retn
sub_B489	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B5A6	proc near
		push	bp
		mov	bp, sp
		mov	PaletteTone, 0
		call	far ptr	palette_show
		push	ds
		push	offset aMswin_bft ; "mswin.bft"
		call	super_entry_bfnt
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aMs_pi	; "ms.pi"
		call	sub_DDD8
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		push	0
		call	sub_DEE0
		push	0
		call	sub_1250
		push	1
		call	palette_black_in
		call	sub_B36C
		push	1
		call	sub_E15E
		push	0
		call	sub_1250
		call	sub_B489
		push	1
		call	palette_black_out
		call	super_free
		pop	bp
		retn
sub_B5A6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B616	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= byte ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah

		enter	4, 0
		push	si
		push	di
		mov	di, [bp+arg_6]
		mov	[bp+var_4], 0
		mov	ax, 10h
		imul	[bp+arg_4]
		mov	[bp+arg_4], ax
		mov	ax, 10h
		imul	di
		mov	di, ax
		mov	si, 3F84h
		mov	[bp+var_2], 0
		jmp	short loc_B68D
; ---------------------------------------------------------------------------

loc_B63E:
		cmp	byte ptr [si], 0
		jnz	short loc_B687
		mov	byte ptr [si], 1
		mov	byte ptr [si+1], 0
		mov	[si+2],	di
		mov	ax, [bp+arg_4]
		mov	[si+4],	ax
		mov	word ptr [si+8], 0
		mov	word ptr [si+6], 0
		call	sub_1C5E
		mov	bx, 0E0h ; 'à'
		cwd
		idiv	bx
		add	dx, 40h	; '@'
		mov	[si+0Ah], dx
		call	sub_1C5E
		mov	[si+0Ch], al
		mov	al, [bp+arg_0]
		mov	[si+0Dh], al
		inc	[bp+var_4]
		mov	ax, [bp+var_4]
		cmp	ax, [bp+arg_2]
		jge	short loc_B694

loc_B687:
		inc	[bp+var_2]
		add	si, 0Eh

loc_B68D:
		cmp	[bp+var_2], 100h
		jl	short loc_B63E

loc_B694:
		pop	di
		pop	si
		leave
		retn	8
sub_B616	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B69A	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= word ptr -4
var_2		= word ptr -2

		enter	8, 0
		push	si
		push	di
		mov	si, 3F84h
		xor	di, di
		jmp	loc_B7B9
; ---------------------------------------------------------------------------

loc_B6A8:
		cmp	byte ptr [si], 1
		jnz	loc_B7B5
		inc	byte ptr [si+1]
		mov	al, [si+1]
		mov	ah, 0
		mov	bx, 4
		cwd
		idiv	bx
		mov	[bp+var_2], ax
		mov	al, [si+0Dh]
		mov	ah, 0
		add	ax, [bp+var_2]
		mov	[bp+var_8], ax
		cmp	byte ptr [si+1], 28h ; '('
		jb	short loc_B6DB
		mov	byte ptr [si], 0
		mov	byte ptr [si+1], 0
		jmp	loc_B7B5
; ---------------------------------------------------------------------------

loc_B6DB:
		cmp	byte ptr [si+1], 10h
		jnb	short loc_B6FA
		mov	ax, [si+2]
		mov	bx, 10h
		cwd
		idiv	bx
		add	ax, 0FFF8h
		push	ax
		mov	ax, [si+4]
		cwd
		idiv	bx
		add	ax, 0FFF8h
		jmp	loc_B7AC
; ---------------------------------------------------------------------------

loc_B6FA:
		cmp	byte ptr [si+1], 20h ; ' '
		jnb	short loc_B754
		cmp	byte ptr [si+1], 10h
		jnz	short loc_B70D
		push	0Fh
		call	sub_D602

loc_B70D:
		mov	ax, [si+8]
		mov	[si+6],	ax
		mov	ax, [si+0Ah]
		add	[si+8],	ax
		push	word ptr [si+2]
		push	word ptr [si+8]
		mov	al, [si+0Ch]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+610h]
		call	sub_D834
		add	ax, 0FF80h
		mov	[bp+var_4], ax
		push	word ptr [si+4]
		push	word ptr [si+8]
		mov	al, [si+0Ch]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+590h]
		call	sub_D834
		add	ax, 0FF80h
		jmp	short loc_B799
; ---------------------------------------------------------------------------

loc_B754:
		mov	ax, [si+8]
		mov	[si+6],	ax
		mov	ax, [si+0Ah]
		add	[si+8],	ax
		push	word ptr [si+2]
		push	word ptr [si+8]
		mov	al, [si+0Ch]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+610h]
		call	sub_D834
		add	ax, 0FF00h
		mov	[bp+var_4], ax
		push	word ptr [si+4]
		push	word ptr [si+8]
		mov	al, [si+0Ch]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+590h]
		call	sub_D834
		add	ax, 0FF00h

loc_B799:
		mov	[bp+var_6], ax
		mov	ax, [bp+var_4]
		mov	bx, 10h
		cwd
		idiv	bx
		push	ax
		mov	ax, [bp+var_6]
		cwd
		idiv	bx

loc_B7AC:
		push	ax
		push	[bp+var_8]
		call	far ptr	loc_2736

loc_B7B5:
		inc	di
		add	si, 0Eh

loc_B7B9:
		cmp	di, 100h
		jl	loc_B6A8
		pop	di
		pop	si
		leave
		retn
sub_B69A	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B7C5	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	si, si
		jmp	short loc_B7F6
; ---------------------------------------------------------------------------

loc_B7CE:
		xor	di, di
		jmp	short loc_B7F0
; ---------------------------------------------------------------------------

loc_B7D2:
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+di+3F54h]
		mov	ah, 0
		imul	[bp+arg_0]
		mov	bx, 64h	; 'd'
		cwd
		idiv	bx
		mov	bx, si
		imul	bx, 3
		mov	[bx+di+2E1Eh], al
		inc	di

loc_B7F0:
		cmp	di, 3
		jl	short loc_B7D2
		inc	si

loc_B7F6:
		cmp	si, 0Fh
		jl	short loc_B7CE
		call	far ptr	palette_show
		pop	di
		pop	si
		pop	bp
		retn	2
sub_B7C5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_B806	proc near

var_8		= word ptr -8
var_6		= word ptr -6
var_4		= byte ptr -4
var_3		= byte ptr -3
var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	8, 0
		push	si
		push	di
		mov	[bp+var_2], 0
		mov	[bp+var_3], 0
		mov	[bp+var_4], 64h	; 'd'
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aZun00_pi ; "zun00.pi"
		call	sub_DDD8
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		push	0
		call	sub_DEE0
		push	0
		call	sub_1250
		call	sub_D688
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_1216
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_1216
		xor	si, si
		jmp	short loc_B8C7
; ---------------------------------------------------------------------------

loc_B872:
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+2E1Eh]
		mov	bx, si
		imul	bx, 3
		mov	[bx+3F54h], al
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+2E1Fh]
		mov	bx, si
		imul	bx, 3
		mov	[bx+3F55h], al
		mov	bx, si
		imul	bx, 3
		mov	al, [bx+2E20h]
		mov	bx, si
		imul	bx, 3
		mov	[bx+3F56h], al
		mov	bx, si
		imul	bx, 3
		mov	byte ptr [bx+2E1Eh], 0
		mov	bx, si
		imul	bx, 3
		mov	byte ptr [bx+2E1Fh], 0
		mov	bx, si
		imul	bx, 3
		mov	byte ptr [bx+2E20h], 0
		inc	si

loc_B8C7:
		cmp	si, 0Fh
		jl	short loc_B872
		push	ds
		push	offset aLogo	; "logo"
		push	600h
		call	sub_DBBE
		push	0
		call	sub_DC76
		mov	[bp+var_6], 3F84h
		xor	si, si
		jmp	short loc_B8F4
; ---------------------------------------------------------------------------

loc_B8E8:
		mov	bx, [bp+var_6]
		mov	word ptr [bx], 0
		inc	si
		add	[bp+var_6], 0Eh

loc_B8F4:
		cmp	si, 100h
		jl	short loc_B8E8
		push	large 20000h
		call	sub_E0F1
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show
		push	ds
		push	offset aZun02_bft ; "zun02.bft"
		call	super_entry_bfnt
		push	ds
		push	offset aZun04_bft ; "zun04.bft"
		call	super_entry_bfnt
		push	ds
		push	offset aZun01_bft ; "zun01.bft"
		call	super_entry_bfnt
		push	ds
		push	offset aZun03_bft ; "zun03.bft"
		call	super_entry_bfnt
		mov	[bp+var_1], 0
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		xor	di, di
		jmp	loc_BA47
; ---------------------------------------------------------------------------

loc_B949:
		call	sub_E094
		cmp	word_12A72, 0
		jz	short loc_B959
		mov	[bp+var_2], 1

loc_B959:
		mov	[bp+var_8], di
		mov	cx, 0Ch		; switch 12 cases
		mov	bx, offset word_BA64

loc_B962:
		mov	ax, cs:[bx]
		cmp	ax, [bp+var_8]
		jz	short loc_B971
		add	bx, 2
		loop	loc_B962
		jmp	short loc_B9DA	; default
; ---------------------------------------------------------------------------

loc_B971:
		jmp	word ptr cs:[bx+18h] ; switch jump

loc_B975:
		push	large 0B400B4h	; jumptable 0000B971 case 0
		jmp	short loc_B9B3
; ---------------------------------------------------------------------------

loc_B97D:
		push	large 1CC00DCh	; jumptable 0000B971 case 16
		jmp	short loc_B9BD
; ---------------------------------------------------------------------------

loc_B985:
		push	large 0DC00A0h	; jumptable 0000B971 case 24
		jmp	short loc_B9B3
; ---------------------------------------------------------------------------

loc_B98D:
		push	large 17C00F0h	; jumptable 0000B971 case 32
		jmp	short loc_B9BD
; ---------------------------------------------------------------------------

loc_B995:
		push	large 15400C8h	; jumptable 0000B971 case 44
		jmp	short loc_B9BD
; ---------------------------------------------------------------------------

loc_B99D:
		push	large 11800AAh	; jumptable 0000B971 case 48
		jmp	short loc_B9B3
; ---------------------------------------------------------------------------

loc_B9A5:
		push	large 17C0104h	; jumptable 0000B971 case 52
		jmp	short loc_B9BD
; ---------------------------------------------------------------------------

loc_B9AD:
		push	large 0C800BEh	; jumptable 0000B971 cases 40,56

loc_B9B3:
					; sub_B806+185j ...
		push	14h
		jmp	short loc_B9C9
; ---------------------------------------------------------------------------

loc_B9B7:
		push	large 1B800D2h	; jumptable 0000B971 case 60

loc_B9BD:
					; sub_B806+18Dj ...
		push	14h
		jmp	short loc_B9D5
; ---------------------------------------------------------------------------

loc_B9C1:
		push	large 14000C8h	; jumptable 0000B971 case 64
		push	40h ; '@'

loc_B9C9:
		push	0
		jmp	short loc_B9D7
; ---------------------------------------------------------------------------

loc_B9CD:
		push	large 14000C8h	; jumptable 0000B971 case 68
		push	40h ; '@'

loc_B9D5:
		push	0Ah

loc_B9D7:
		call	sub_B616

loc_B9DA:
		call	sub_D6F0	; default
		call	sub_B69A

loc_B9E2:
		cmp	vsync_Count1, 2
		jb	short loc_B9E2
		mov	vsync_Count1, 0
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+var_1]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, 1
		sub	al, [bp+var_1]
		mov	[bp+var_1], al
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		cmp	[bp+var_2], 0
		jnz	short loc_BA26
		cmp	di, 10h
		jl	short loc_BA1B
		cmp	[bp+var_3], 64h	; 'd'
		jnb	short loc_BA1B
		mov	al, [bp+var_3]
		add	al, 2
		mov	[bp+var_3], al

loc_BA1B:
					; sub_B806+20Bj
		mov	al, [bp+var_3]
		mov	ah, 0
		push	ax
		call	sub_B7C5
		jmp	short loc_BA41
; ---------------------------------------------------------------------------

loc_BA26:
		cmp	[bp+var_4], 0
		jbe	short loc_BA56
		mov	al, [bp+var_4]
		add	al, 0FEh ; 'þ'
		mov	[bp+var_4], al
		mov	al, [bp+var_4]
		mov	ah, 0
		mov	PaletteTone, ax
		call	far ptr	palette_show

loc_BA41:
		call	sub_D63C
		inc	di

loc_BA47:
		cmp	di, 0AAh ; 'ª'
		jl	loc_B949
		push	1
		call	palette_black_out

loc_BA56:
		call	super_free
		call	sub_D726
		pop	di
		pop	si
		leave
		retn
sub_B806	endp

; ---------------------------------------------------------------------------
word_BA64	dw	0,   10h,   18h,   20h
		dw    28h,   2Ch,   30h,   34h ; value table for switch	statement
		dw    38h,   3Ch,   40h,   44h
		dw offset loc_B975	; jump table for switch	statement
		dw offset loc_B97D
		dw offset loc_B985
		dw offset loc_B98D
		dw offset loc_B9AD
		dw offset loc_B995
		dw offset loc_B99D
		dw offset loc_B9A5
		dw offset loc_B9AD
		dw offset loc_B9B7
		dw offset loc_B9C1
		dw offset loc_B9CD

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BA94	proc near

var_C		= word ptr -0Ch
var_A		= byte ptr -0Ah
var_4		= word ptr -4

		enter	0Ch, 0
		push	ds
		push	offset aMiko_cfg ; "MIKO.CFG"
		call	sub_A58
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	0Ah
		call	sub_9A4
		call	sub_938
		mov	ax, [bp+var_4]
		mov	[bp+var_C], ax
		mov	word ptr dword_11DCC+2,	ax
		mov	word ptr dword_11DCC, 0
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+0Fh], 6
		ja	short loc_BAD3
		cmp	byte ptr es:[bx+0Fh], 0
		jnz	short loc_BADC

loc_BAD3:
		les	bx, dword_11DCC
		mov	byte ptr es:[bx+0Fh], 3

loc_BADC:
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+10h], 3
		jbe	short loc_BAEC
		mov	byte ptr es:[bx+10h], 3

loc_BAEC:
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+12h], 3
		jb	short loc_BAFC
		mov	byte ptr es:[bx+12h], 0

loc_BAFC:
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+15h], 3
		jb	short locret_BB0C
		mov	byte ptr es:[bx+15h], 0

locret_BB0C:
		leave
		retn
sub_BA94	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BB0E	proc near

var_8		= byte ptr -8
var_7		= byte ptr -7
var_6		= byte ptr -6
var_5		= byte ptr -5
var_4		= byte ptr -4
var_3		= byte ptr -3
var_2		= byte ptr -2

		enter	8, 0
		push	ds
		push	offset aMiko_cfg ; "MIKO.CFG"
		call	sub_878
		push	large 0
		push	0
		call	sub_A94
		les	bx, dword_11DCC
		mov	al, es:[bx+11h]
		mov	[bp+var_8], al
		mov	al, es:[bx+0Fh]
		mov	[bp+var_7], al
		mov	al, es:[bx+10h]
		mov	[bp+var_6], al
		mov	al, es:[bx+12h]
		mov	[bp+var_5], al
		mov	al, es:[bx+15h]
		mov	[bp+var_4], al
		mov	al, es:[bx+16h]
		mov	[bp+var_3], al
		push	ss
		lea	ax, [bp+var_8]
		push	ax
		push	6
		call	sub_AD6
		push	large 9
		push	0
		call	sub_A94
		mov	al, [bp+var_8]
		add	al, [bp+var_7]
		add	al, [bp+var_6]
		add	al, [bp+var_5]
		add	al, [bp+var_4]
		add	al, [bp+var_3]
		mov	[bp+var_2], al
		push	ss
		lea	ax, [bp+var_2]
		push	ax
		push	1
		call	sub_AD6
		call	sub_938
		leave
		retn
sub_BB0E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BB91	proc near

var_A		= byte ptr -0Ah
var_9		= byte ptr -9
var_8		= byte ptr -8
var_7		= byte ptr -7
var_6		= byte ptr -6
var_5		= byte ptr -5
var_1		= byte ptr -1

		enter	0Ah, 0
		lea	ax, [bp+var_A]
		push	ss
		push	ax
		push	ds
		push	offset unk_FF00
		mov	cx, 0Ah
		call	SCOPY@
		push	ds
		push	offset aMiko_cfg ; "MIKO.CFG"
		call	sub_878
		push	large 0
		push	0
		call	sub_A94
		les	bx, dword_11DCC
		mov	al, es:[bx+11h]
		mov	[bp+var_A], al
		mov	al, es:[bx+0Fh]
		mov	[bp+var_9], al
		mov	al, es:[bx+10h]
		mov	[bp+var_8], al
		mov	al, es:[bx+12h]
		mov	[bp+var_7], al
		mov	al, es:[bx+15h]
		mov	[bp+var_6], al
		mov	al, es:[bx+16h]
		mov	[bp+var_5], al
		mov	al, [bp+var_A]
		add	al, [bp+var_9]
		add	al, [bp+var_8]
		add	al, [bp+var_7]
		add	al, [bp+var_6]
		add	al, [bp+var_5]
		mov	[bp+var_1], al
		push	ss
		lea	ax, [bp+var_A]
		push	ax
		push	0Ah
		call	sub_AD6
		call	sub_938
		leave
		retn
sub_BB91	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BC0F	proc near
		push	bp
		mov	bp, sp
		push	0
		push	ds
		push	offset aSft1_cd2 ; "sft1.cd2"
		call	sub_E238
		push	0Ah
		push	ds
		push	offset aSft2_cd2 ; "sft2.cd2"
		call	sub_E238
		push	23h ; '#'
		push	ds
		push	offset aCar_cd2	; "car.cd2"
		call	sub_E238
		push	28h ; '('
		push	ds
		push	offset aSl00_cdg ; "sl00.cdg"
		push	0
		call	far ptr	sub_E174
		push	29h ; ')'
		push	ds
		push	offset aSl01_cdg ; "sl01.cdg"
		push	0
		call	far ptr	sub_E174
		push	2Ah ; '*'
		push	ds
		push	offset aSl02_cdg ; "sl02.cdg"
		push	0
		call	far ptr	sub_E174
		push	2Bh ; '+'
		push	ds
		push	offset aSl03_cdg ; "sl03.cdg"
		push	0
		call	far ptr	sub_E174
		push	2Ch ; ','
		push	ds
		push	offset aSlcl_cdg ; "slcl.cdg"
		push	0
		call	sub_E17A
		push	2Dh ; '-'
		push	ds
		push	offset aSl04_cdg ; "sl04.cdg"
		push	0
		call	far ptr	sub_E174
		pop	bp
		retn
sub_BC0F	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BC83	proc near
		push	bp
		mov	bp, sp
		call	sub_E2CA
		pop	bp
		retn
sub_BC83	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BC8D	proc near

var_2		= byte ptr -2
var_1		= byte ptr -1

		enter	2, 0
		push	si
		mov	PaletteTone, 0
		call	far ptr	palette_show
		push	0
		push	ds
		push	offset aOp2a_pi	; "op2a.pi"
		call	sub_DDD8
		push	1
		push	ds
		push	offset aOp2b_pi	; "op2b.pi"
		call	sub_DDD8
		push	2
		push	ds
		push	offset aOp2c_pi	; "op2c.pi"
		call	sub_DDD8
		push	3
		push	ds
		push	offset aOp2d_pi	; "op2d.pi"
		call	sub_DDD8
		push	4
		push	ds
		push	offset aOp2e_pi	; "op2e.pi"
		call	sub_DDD8
		push	5
		push	ds
		push	offset aOp2f_pi	; "op2f.pi"
		call	sub_DDD8
		push	6
		push	ds
		push	offset aOp2g_pi	; "op2g.pi"
		call	sub_DDD8
		push	7
		push	ds
		push	offset aOp2h_pi	; "op2h.pi"
		call	sub_DDD8
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 0C00001h
		call	sub_EE2
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 0
		push	large 4F018Fh
		call	sub_BAC
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	large 0
		push	large 4F018Fh
		call	sub_BAC
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		push	1
		call	sub_1250
		mov	[bp+var_1], 1
		mov	[bp+var_2], 0
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		xor	si, si
		jmp	short loc_BDAD
; ---------------------------------------------------------------------------

loc_BD55:
		mov	ax, si
		mov	bx, 8
		cwd
		idiv	bx
		cmp	dx, 1
		jg	short loc_BD81
		mov	ax, si
		cwd
		idiv	bx
		push	ax
		call	sub_DEBA
		push	large 116h
		mov	ax, si
		mov	bx, 8
		cwd
		idiv	bx
		push	ax
		call	sub_DE0A

loc_BD81:
		push	1
		call	sub_E15E
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+var_1]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		mov	al, [bp+var_2]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	[bp+var_1], al
		mov	al, 1
		sub	al, [bp+var_2]
		mov	[bp+var_2], al
		lea	ax, [si+24h]
		mov	PaletteTone, ax
		call	far ptr	palette_show
		inc	si

loc_BDAD:
		cmp	si, 40h	; '@'
		jl	short loc_BD55
		mov	si, 1
		jmp	short loc_BDBE
; ---------------------------------------------------------------------------

loc_BDB7:
		push	si
		call	sub_DEE0
		inc	si

loc_BDBE:
		cmp	si, 8
		jl	short loc_BDB7
		push	1
		call	sub_1250
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+1Fh], 0
		jnz	short loc_BDE8
		push	ds
		push	offset aOp_0	; "op"
		push	600h
		call	sub_DBBE
		push	0
		call	sub_DC76

loc_BDE8:
		push	0
		push	ds
		push	offset aOp1_pi_0 ; "op1.pi"
		call	sub_DDD8
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		push	10h
		call	sub_E15E
		xor	si, si
		jmp	short loc_BE46
; ---------------------------------------------------------------------------

loc_BE08:
		mov	ax, si
		mov	bx, 4
		cwd
		idiv	bx
		cmp	dx, 1
		jg	short loc_BE25
		push	large 0
		push	0
		mov	ax, si
		cwd
		idiv	bx
		push	ax
		call	sub_DC94

loc_BE25:
		push	1
		call	sub_E15E
		mov	dx, 0A6h ; '¦'
		mov	al, [bp+var_1]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		mov	al, [bp+var_2]
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	[bp+var_1], al
		mov	al, 1
		sub	al, [bp+var_2]
		mov	[bp+var_2], al
		inc	si

loc_BE46:
		cmp	si, 10h
		jl	short loc_BE08
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		push	0
		call	sub_DEE0
		push	0
		call	sub_1250
		pop	si
		leave
		retn
sub_BC8D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BE79	proc near
					; sub_C490+123p ...

var_5		= byte ptr -5
var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= byte ptr  6

		enter	6, 0
		push	si
		mov	[bp+var_5], 5
		mov	al, [bp+arg_2]
		mov	ah, 0
		sub	ax, word_1403A
		shl	ax, 4
		mov	si, ax
		or	si, si
		jl	loc_BF48
		cmp	si, 0C0h ; 'À'
		jge	loc_BF48
		cmp	[bp+arg_0], 0
		jz	short loc_BEF4
		push	large 0C00005h
		call	sub_EE2
		push	large 0C012Ch
		lea	ax, [si+60h]
		push	ax
		call	sub_C44
		push	large 0C012Ch
		lea	ax, [si+6Fh]
		push	ax
		call	sub_C44
		push	0Ch
		lea	ax, [si+60h]
		push	ax
		lea	ax, [si+6Fh]
		push	ax
		call	sub_F12
		push	12Ch
		lea	ax, [si+60h]
		push	ax
		lea	ax, [si+6Fh]
		push	ax
		call	sub_F12
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		jmp	short loc_BF05
; ---------------------------------------------------------------------------

loc_BEF4:
		push	0
		lea	ax, [si+60h]
		push	ax
		push	large 1400010h
		call	far ptr	loc_DB3C

loc_BF05:
		mov	al, [bp+arg_2]
		mov	ah, 0
		cmp	ax, word_1403C
		jnz	short loc_BF14
		mov	[bp+var_5], 3

loc_BF14:
		mov	bx, musicroom_game_id
		imul	bx, 78h
		mov	al, [bp+arg_2]
		mov	ah, 0
		shl	ax, 2
		add	bx, ax
		mov	ax, [bx+0FF0h]
		mov	dx, [bx+0FEEh]
		mov	[bp+var_2], ax
		mov	[bp+var_4], dx
		add	si, 60h	; '`'
		push	0Ch
		push	si
		mov	al, [bp+var_5]
		mov	ah, 0
		push	ax
		push	[bp+var_2]
		push	dx
		call	far ptr	loc_D436

loc_BF48:
		pop	si
		leave
		retn	4
sub_BE79	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BF4D	proc near

arg_0		= byte ptr  4

		push	bp
		mov	bp, sp
		push	si
		xor	si, si
		jmp	short loc_BF6B
; ---------------------------------------------------------------------------

loc_BF55:
		push	si
		mov	al, [bp+arg_0]
		mov	ah, 0
		cmp	ax, si
		jnz	short loc_BF64
		mov	ax, 1
		jmp	short loc_BF66
; ---------------------------------------------------------------------------

loc_BF64:
		xor	ax, ax

loc_BF66:
		push	ax
		call	sub_BE79
		inc	si

loc_BF6B:
		mov	ax, musicroom_trackcount
		add	ax, 2
		cmp	ax, si
		jg	short loc_BF55
		push	large 0C0050h
		push	5
		push	large [MUSICROOM_UP]
		call	far ptr	loc_D436
		push	large 0C0120h
		push	5
		push	large [MUSICROOM_DOWN]
		call	far ptr	loc_D436
		push	large 0C0020h
		push	3
		mov	bx, musicroom_game_id
		shl	bx, 2
		push	large dword ptr	MUSICROOM_GAME[bx]
		call	far ptr	loc_D436
		pop	si
		pop	bp
		retn	2
sub_BF4D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BFB7	proc near
		push	bp
		mov	bp, sp
		push	si
		push	7D00h
		call	hmem_allocbyte
		mov	word_13E98, ax
		xor	si, si
		jmp	short loc_BFDF
; ---------------------------------------------------------------------------

loc_BFCA:
		les	bx, dword_FA84
		add	bx, si
		mov	eax, es:[bx]
		mov	es, word_13E98
		mov	es:[si], eax
		add	si, 4

loc_BFDF:
		cmp	si, 7D00h
		jl	short loc_BFCA
		pop	si
		pop	bp
		retn
sub_BFB7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BFE8	proc near
		push	bp
		mov	bp, sp
		push	word_13E98
		call	hmem_free
		pop	bp
		retn
sub_BFE8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_BFF6	proc near
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		mov	ax, word_13E98
		mov	ds, ax
		xor	di, di
		xor	si, si
		mov	cx, 3E80h
		rep movsw
		pop	ds
		pop	di
		pop	si
		pop	bp
		retn
sub_BFF6	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C014	proc near

var_3		= byte ptr -3
var_2		= word ptr -2
arg_0		= byte ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8
arg_6		= word ptr  0Ah
arg_8		= word ptr  0Ch
arg_A		= word ptr  0Eh

		enter	4, 0
		push	si
		push	di
		mov	di, [bp+arg_A]
		sar	[bp+arg_6], 4
		mov	[bp+var_2], 0
		jmp	short loc_C079
; ---------------------------------------------------------------------------

loc_C028:
		mov	ax, [bp+var_2]
		shl	ax, 8
		cwd
		idiv	[bp+arg_2]
		add	al, [bp+arg_0]
		mov	[bp+var_3], al
		push	[bp+arg_8]
		push	[bp+arg_4]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+610h]
		call	sub_D834
		mov	bx, [bp+var_2]
		shl	bx, 2
		mov	[bx+di], ax
		push	[bp+arg_6]
		push	[bp+arg_4]
		mov	al, [bp+var_3]
		mov	ah, 0
		add	ax, ax
		mov	bx, ax
		push	word ptr [bx+590h]
		call	sub_D834
		mov	bx, [bp+var_2]
		shl	bx, 2
		mov	[bx+di+2], ax
		inc	[bp+var_2]

loc_C079:
		mov	ax, [bp+var_2]
		cmp	ax, [bp+arg_2]
		jl	short loc_C028
		mov	bx, [bp+var_2]
		shl	bx, 2
		mov	ax, [di]
		mov	[bx+di], ax
		mov	bx, [bp+var_2]
		shl	bx, 2
		mov	ax, [di+2]
		mov	[bx+di+2], ax
		pop	di
		pop	si
		leave
		retn	0Ch
sub_C014	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C09D	proc near
		push	bp
		mov	bp, sp
		push	si
		cmp	byte_1048A, 0
		jnz	loc_C14C
		xor	si, si
		jmp	loc_C140
; ---------------------------------------------------------------------------

loc_C0AF:
		call	sub_1C5E
		mov	bx, 280h
		cwd
		idiv	bx
		mov	bx, si
		shl	bx, 2
		mov	[bx+4E14h], dx
		call	sub_1C5E
		mov	bx, 1900h
		cwd
		idiv	bx
		mov	bx, si
		shl	bx, 2
		mov	[bx+4E16h], dx
		call	sub_1C5E
		and	ax, 7
		mov	dx, 4
		sub	dx, ax
		mov	bx, si
		shl	bx, 2
		mov	[bx+4E54h], dx
		mov	bx, si
		shl	bx, 2
		cmp	word ptr [bx+4E54h], 0
		jnz	short loc_C104
		mov	bx, si
		shl	bx, 2
		mov	word ptr [bx+4E54h], 1

loc_C104:
		call	sub_1C5E
		and	ax, 3
		shl	ax, 4
		add	ax, 20h	; ' '
		mov	bx, si
		shl	bx, 2
		mov	[bx+4E56h], ax
		call	sub_1C5E
		mov	[si+4E94h], al
		call	sub_1C5E
		and	al, 7
		mov	dl, 4
		sub	dl, al
		mov	[si+4EA4h], dl
		cmp	byte ptr [si+4EA4h], 0
		jnz	short loc_C13F
		mov	byte ptr [si+4EA4h], 4

loc_C13F:
		inc	si

loc_C140:
		cmp	si, 0Eh
		jl	loc_C0AF
		mov	byte_1048A, 1

loc_C14C:
		xor	si, si
		jmp	loc_C289
; ---------------------------------------------------------------------------

loc_C151:
		push	4DECh
		mov	bx, si
		shl	bx, 2
		push	word ptr [bx+4E14h]
		mov	bx, si
		shl	bx, 2
		push	word ptr [bx+4E16h]
		mov	ax, si
		and	ax, 3
		shl	ax, 4
		add	ax, 40h	; '@'
		push	ax
		mov	ax, si
		mov	bx, 4
		cwd
		idiv	bx
		add	ax, 3
		push	ax
		mov	al, [si+4E94h]
		push	ax
		call	sub_C014
		mov	bx, si
		shl	bx, 2
		mov	ax, [bx+4E54h]
		mov	bx, si
		shl	bx, 2
		add	[bx+4E14h], ax
		mov	bx, si
		shl	bx, 2
		mov	ax, [bx+4E56h]
		mov	bx, si
		shl	bx, 2
		add	[bx+4E16h], ax
		mov	al, [si+4EA4h]
		add	[si+4E94h], al
		mov	bx, si
		shl	bx, 2
		cmp	word ptr [bx+4E14h], 0
		jle	short loc_C1CB
		mov	bx, si
		shl	bx, 2
		cmp	word ptr [bx+4E14h], 27Fh
		jl	short loc_C1DD

loc_C1CB:
		mov	bx, si
		shl	bx, 2
		mov	dx, 0FFFFh
		mov	ax, [bx+4E54h]
		imul	dx
		mov	[bx+4E54h], ax

loc_C1DD:
		mov	bx, si
		shl	bx, 2
		cmp	word ptr [bx+4E16h], 1F40h
		jl	loc_C273
		call	sub_1C5E
		mov	bx, 280h
		cwd
		idiv	bx
		mov	bx, si
		shl	bx, 2
		mov	[bx+4E14h], dx
		mov	bx, si
		shl	bx, 2
		mov	word ptr [bx+4E16h], 0F9C0h
		call	sub_1C5E
		and	ax, 0Fh
		mov	dx, 8
		sub	dx, ax
		mov	bx, si
		shl	bx, 2
		mov	[bx+4E54h], dx
		mov	bx, si
		shl	bx, 2
		cmp	word ptr [bx+4E54h], 0
		jnz	short loc_C238
		mov	bx, si
		shl	bx, 2
		mov	word ptr [bx+4E54h], 1

loc_C238:
		call	sub_1C5E
		and	ax, 3
		shl	ax, 4
		add	ax, 20h	; ' '
		mov	bx, si
		shl	bx, 2
		mov	[bx+4E56h], ax
		call	sub_1C5E
		mov	[si+4E94h], al
		call	sub_1C5E
		and	al, 7
		mov	dl, 4
		sub	dl, al
		mov	[si+4EA4h], dl
		cmp	byte ptr [si+4EA4h], 0
		jnz	short loc_C273
		mov	byte ptr [si+4EA4h], 4

loc_C273:
					; sub_C09D+1CFj
		push	ds
		push	offset unk_13DCC
		mov	ax, si
		mov	bx, 4
		cwd
		idiv	bx
		add	ax, 3
		push	ax
		call	sub_CCA
		inc	si

loc_C289:
		cmp	si, 0Eh
		jl	loc_C151
		pop	si
		pop	bp
		retn
sub_C09D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C293	proc near
		push	bp
		mov	bp, sp
		call	sub_BFF6
		call	sub_D96E
		push	large 0CE000Fh
		call	sub_EE2
		call	sub_C09D
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		push	1
		call	sub_E15E
		mov	dx, 0A4h ; '¤'
		mov	al, byte ptr word_13E94+1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	al, 1
		sub	al, byte ptr word_13E94+1
		mov	byte ptr word_13E94+1, al
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		pop	bp
		retn
sub_C293	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C2CF	proc near

var_4		= dword	ptr -4
arg_0		= word ptr  4

		enter	4, 0
		push	si
		mov	word ptr [bp+var_4+2], ds
		mov	word ptr [bp+var_4], 27ECh
		les	bx, [bp+var_4]
		assume es:nothing
		mov	al, byte ptr musicroom_game_id
		add	al, 30h	; '0'
		mov	es:[bx+6], al
		push	word ptr [bp+var_4+2]
		push	bx
		call	sub_A58
		mov	ax, [bp+arg_0]
		imul	ax, 190h
		cwde
		push	eax
		push	0
		call	sub_A94
		push	ds
		push	offset unk_13EAA
		push	190h
		call	sub_9A4
		call	sub_938
		xor	si, si
		jmp	short loc_C323
; ---------------------------------------------------------------------------

loc_C318:
		mov	bx, si
		imul	bx, 28h
		mov	byte ptr [bx+4EF0h], 0
		inc	si

loc_C323:
		cmp	si, 0Ah
		jl	short loc_C318
		pop	si
		leave
		retn	2
sub_C2CF	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C32D	proc near

var_2		= word ptr -2

		enter	2, 0
		push	si
		push	di
		push	large 1400020h
		push	7
		push	ds
		push	offset unk_13EAA
		call	far ptr	loc_D436
		mov	si, 4EF2h
		mov	di, 1
		mov	[bp+var_2], 0B4h ; '´'
		jmp	short loc_C36D
; ---------------------------------------------------------------------------

loc_C351:
		cmp	byte ptr [si], 3Bh ; ';'
		jz	short loc_C365
		push	140h
		push	[bp+var_2]
		push	7
		push	ds
		push	si
		call	far ptr	loc_D436

loc_C365:
		inc	di
		add	[bp+var_2], 10h
		add	si, 28h	; '('

loc_C36D:
		cmp	di, 0Ah
		jl	short loc_C351
		pop	di
		pop	si
		leave
		retn
sub_C32D	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C376	proc near
		push	bp
		mov	bp, sp
		push	si
		mov	si, 4
		jmp	short loc_C390
; ---------------------------------------------------------------------------

loc_C37F:
		mov	word_F9BE, si
		call	sub_C32D
		call	sub_C293
		call	sub_C32D
		call	sub_C293
		inc	si

loc_C390:
		cmp	si, 8
		jl	short loc_C37F
		mov	word_F9BE, 2
		call	sub_C32D
		call	sub_C293
		call	sub_C32D
		pop	si
		pop	bp
		retn
sub_C376	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C3A7	proc near
		push	bp
		mov	bp, sp
		mov	word_F9BE, 2
		push	large 1400020h
		push	large 1400010h
		call	far ptr	loc_DB3C
		push	large 14000B4h
		push	large 1400090h
		call	far ptr	loc_DB3C
		call	sub_C293
		push	large 1400020h
		push	large 1400010h
		call	far ptr	loc_DB3C
		push	large 14000B4h
		push	large 1400090h
		call	far ptr	loc_DB3C
		pop	bp
		retn
sub_C3A7	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C3F9	proc near
					; sub_C490+235p ...

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		cmp	byte_13E96, 0
		jz	short loc_C406
		call	sub_C3A7

loc_C406:
		push	[bp+arg_0]
		call	sub_C2CF
		call	sub_BFF6
		push	large 1400040h
		push	large 1400100h
		call	far ptr	loc_DB3C
		cmp	byte_13E96, 0
		jz	short loc_C42C
		call	sub_C376
		jmp	short loc_C43A
; ---------------------------------------------------------------------------

loc_C42C:
		mov	byte_13E96, 1
		call	sub_C32D
		call	sub_C293
		call	sub_C32D

loc_C43A:
		call	sub_BFF6
		pop	bp
		retn	2
sub_C3F9	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C441	proc near
					; sub_C490+195p ...

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+arg_0]
		push	large 20h ; ' '
		push	large 1400010h
		call	far ptr	loc_DB3C
		push	large 60h ; '`'
		push	large 14000C0h
		call	far ptr	loc_DB3C
		push	si
		call	sub_BF4D
		call	sub_C293
		push	large 20h ; ' '
		push	large 1400010h
		call	far ptr	loc_DB3C
		push	large 60h ; '`'
		push	large 14000C0h
		call	far ptr	loc_DB3C
		push	si
		call	sub_BF4D
		pop	si
		pop	bp
		retn	2
sub_C441	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C490	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		xor	si, si
		mov	word_1403A, 0
		mov	word_1403C, 0
		mov	byte ptr word_13E94, 0
		mov	bx, musicroom_game_id
		add	bx, bx
		mov	ax, [bx+14A0h]
		mov	musicroom_trackcount, ax
		mov	byte_13E96, 0
		call	sub_E2CA
		call	text_clear
		mov	byte ptr word_13E94+1, 1
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_1216
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aMusic_pi ; "music.pi"
		call	sub_DDD8
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		push	0
		call	sub_DEE0
		call	sub_D894
		call	sub_BFB7
		call	sub_D688
		push	word_13E94
		call	sub_BF4D
		push	0
		call	sub_1250
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_3858
		push	ds
		push	offset aMusic_dat ; "music.dat"
		call	sub_37B8
		mov	al, byte ptr word_13E94
		mov	ah, 0
		push	ax
		call	sub_C3F9
		mov	PaletteTone, 64h ; 'd'
		call	far ptr	palette_show

loc_C555:
					; sub_C490+2E3j
		call	sub_E094
		cmp	word_12A72, 0
		jz	short loc_C57F
		cmp	si, 18h
		jl	short loc_C579
		cmp	word_12A72, 1
		jz	short loc_C574
		cmp	word_12A72, 2
		jnz	short loc_C579

loc_C574:
		mov	si, 14h
		jmp	short loc_C57F
; ---------------------------------------------------------------------------

loc_C579:
		inc	si
		call	sub_C293
		jmp	short loc_C555
; ---------------------------------------------------------------------------

loc_C57F:
		call	sub_E094
		test	byte ptr word_12A72, 1
		jz	short loc_C5EB
		mov	al, byte ptr word_13E94
		mov	[bp+var_1], al
		cmp	byte ptr word_13E94, 0
		jbe	short loc_C5D5
		dec	byte ptr word_13E94
		mov	al, byte ptr word_13E94
		mov	ah, 0
		cmp	ax, word_1403A
		jge	short loc_C5AE
		mov	al, byte ptr word_13E94
		mov	ah, 0
		jmp	short loc_C61C
; ---------------------------------------------------------------------------

loc_C5AE:
		push	word ptr [bp+var_1]
		push	0
		call	sub_BE79
		push	word_13E94
		push	1
		call	sub_BE79
		call	sub_C293
		push	word ptr [bp+var_1]
		push	0
		call	sub_BE79
		push	word_13E94
		push	1
		call	sub_BE79
		jmp	short loc_C5EB
; ---------------------------------------------------------------------------

loc_C5D5:
		mov	al, byte ptr musicroom_trackcount
		mov	byte ptr word_13E94, al
		mov	ax, musicroom_trackcount
		add	ax, 0FFF5h
		mov	word_1403A, ax
		push	musicroom_trackcount
		call	sub_C441

loc_C5EB:
					; sub_C490+143j
		test	byte ptr word_12A72, 2
		jz	short loc_C666
		mov	al, byte ptr word_13E94
		mov	[bp+var_1], al
		mov	ah, 0
		cmp	ax, musicroom_trackcount
		jge	short loc_C652
		inc	byte ptr word_13E94
		mov	al, byte ptr word_13E94
		mov	ah, 0
		mov	dx, word_1403A
		add	dx, 0Ch
		cmp	ax, dx
		jl	short loc_C62B
		mov	al, byte ptr word_13E94
		mov	ah, 0
		add	ax, 0FFF5h

loc_C61C:
		mov	word_1403A, ax
		mov	al, byte ptr word_13E94
		mov	ah, 0
		push	ax
		call	sub_C441
		jmp	loc_C6E3
; ---------------------------------------------------------------------------

loc_C62B:
		push	word ptr [bp+var_1]
		push	0
		call	sub_BE79
		push	word_13E94
		push	1
		call	sub_BE79
		call	sub_C293
		push	word ptr [bp+var_1]
		push	0
		call	sub_BE79
		push	word_13E94
		push	1
		call	sub_BE79
		jmp	short loc_C666
; ---------------------------------------------------------------------------

loc_C652:
		mov	byte ptr word_13E94, 0
		mov	word_1403A, 0
		mov	al, byte ptr word_13E94
		mov	ah, 0
		push	ax
		call	sub_C441

loc_C666:
					; sub_C490+1C0j
		test	byte ptr word_12A72, 4
		jz	short loc_C680
		dec	musicroom_game_id
		cmp	musicroom_game_id, 0
		jge	short loc_C698
		mov	musicroom_game_id, 4
		jmp	short loc_C698
; ---------------------------------------------------------------------------

loc_C680:
		test	byte ptr word_12A72, 8
		jz	short loc_C6E3
		inc	musicroom_game_id
		cmp	musicroom_game_id, 5
		jl	short loc_C698
		mov	musicroom_game_id, 0

loc_C698:
					; sub_C490+1EEj ...
		mov	byte ptr word_13E94, 0
		mov	word_1403C, 0
		mov	word_1403A, 0
		mov	bx, musicroom_game_id
		add	bx, bx
		mov	ax, [bx+14A0h]
		mov	musicroom_trackcount, ax
		push	0
		call	sub_C441
		push	220h
		call	sub_DC76
		push	0
		call	sub_C3F9
		mov	bx, musicroom_game_id
		imul	bx, 78h
		push	large dword ptr	[bx+1246h]
		push	600h
		call	sub_DBBE
		push	0
		call	sub_DC76

loc_C6E3:
					; sub_C490+1F5j
		test	byte ptr word_12A72, 20h
		jnz	short loc_C6F1
		test	byte ptr word_12A72+1, 20h
		jz	short loc_C767

loc_C6F1:
		mov	al, byte ptr word_13E94
		mov	ah, 0
		cmp	ax, musicroom_trackcount
		jz	loc_C77F
		push	220h
		call	sub_DC76
		mov	al, byte ptr word_1403C
		mov	[bp+var_1], al
		mov	al, byte ptr word_13E94
		mov	ah, 0
		mov	word_1403C, ax
		push	word ptr [bp+var_1]
		push	0
		call	sub_BE79
		push	word_13E94
		push	1
		call	sub_BE79
		call	sub_C293
		push	word ptr [bp+var_1]
		push	0
		call	sub_BE79
		push	word_13E94
		push	1
		call	sub_BE79
		mov	al, byte ptr word_13E94
		mov	ah, 0
		push	ax
		call	sub_C3F9
		mov	bx, musicroom_game_id
		imul	bx, 78h
		mov	al, byte ptr word_13E94
		mov	ah, 0
		shl	ax, 2
		add	bx, ax
		push	large dword ptr	[bx+1246h]
		push	600h
		call	sub_DBBE
		push	0
		call	sub_DC76

loc_C767:
		test	byte ptr word_12A72+1, 10h
		jnz	short loc_C77F
		cmp	word_12A72, 0
		jnz	loc_C555
		xor	si, si
		call	sub_C293
		jmp	loc_C57F
; ---------------------------------------------------------------------------

loc_C77F:
					; sub_C490+2DCj ...
		call	sub_E094
		cmp	word_12A72, 0
		jz	short loc_C790
		call	sub_C293
		jmp	short loc_C77F
; ---------------------------------------------------------------------------

loc_C790:
		call	sub_3858
		push	ds
		push	offset aKaikidan1_dat1
		call	sub_37B8
		push	210h
		call	sub_DC76
		call	sub_BFE8
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A6h ; '¦'
		out	dx, al		; Interrupt Controller #2, 8259A
		push	1
		call	palette_black_out
		call	sub_D726
		push	ds
		push	(offset	aH_op+2)
		push	600h
		call	sub_DBBE
		push	0
		call	sub_DC76
		pop	si
		leave
		retn
sub_C490	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C7D5	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		mov	si, 4
		jmp	short loc_C802
; ---------------------------------------------------------------------------

loc_C7DF:
		mov	al, [si+5061h]
		mov	[bp+var_1], al
		mov	al, byte_14041
		ror	[bp+var_1], 3
		xor	[bp+var_1], al
		mov	al, [si+5060h]
		mov	dl, byte_14040
		add	dl, [bp+var_1]
		add	al, dl
		mov	[si+5060h], al
		inc	si

loc_C802:
		cmp	si, 5Fh	; '_'
		jl	short loc_C7DF
		mov	al, byte_14040
		add	[si+5060h], al
		xor	cx, cx
		mov	si, 4
		jmp	short loc_C81E
; ---------------------------------------------------------------------------

loc_C815:
		mov	al, [si+5060h]
		mov	ah, 0
		add	cx, ax
		inc	si

loc_C81E:
		cmp	si, 60h	; '`'
		jl	short loc_C815
		cmp	word_14042, cx
		jz	short loc_C82D
		mov	al, 1
		jmp	short loc_C87B
; ---------------------------------------------------------------------------

loc_C82D:
		mov	si, 4
		jmp	short loc_C855
; ---------------------------------------------------------------------------

loc_C832:
		mov	al, [si+50C1h]
		mov	[bp+var_1], al
		mov	al, byte_140A1
		ror	[bp+var_1], 3
		xor	[bp+var_1], al
		mov	al, [si+50C0h]
		mov	dl, byte_140A0
		add	dl, [bp+var_1]
		add	al, dl
		mov	[si+50C0h], al
		inc	si

loc_C855:
		cmp	si, 5Fh	; '_'
		jl	short loc_C832
		mov	al, byte_140A0
		add	[si+50C0h], al
		xor	cx, cx
		mov	si, 4
		jmp	short loc_C871
; ---------------------------------------------------------------------------

loc_C868:
		mov	al, [si+50C0h]
		mov	ah, 0
		add	cx, ax
		inc	si

loc_C871:
		cmp	si, 60h	; '`'
		jl	short loc_C868
		mov	al, byte_140A2
		sub	al, cl

loc_C87B:
		pop	si
		leave
		retn
sub_C7D5	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C87E	proc near

var_1		= byte ptr -1

		enter	2, 0
		push	si
		mov	word_14042, 0
		mov	si, 4
		jmp	short loc_C899
; ---------------------------------------------------------------------------

loc_C88E:
		mov	al, [si+5060h]
		mov	ah, 0
		add	word_14042, ax
		inc	si

loc_C899:
		cmp	si, 60h	; '`'
		jl	short loc_C88E
		call	sub_1C5E
		mov	byte_14040, al
		call	sub_1C5E
		mov	byte_14041, al
		mov	[bp+var_1], 0
		mov	si, 5Fh	; '_'
		jmp	short loc_C8DA
; ---------------------------------------------------------------------------

loc_C8B7:
		mov	al, [si+5060h]
		mov	dl, byte_14040
		add	dl, [bp+var_1]
		sub	al, dl
		mov	[si+5060h], al
		mov	al, [si+5060h]
		mov	[bp+var_1], al
		mov	al, byte_14041
		ror	[bp+var_1], 3
		xor	[bp+var_1], al
		dec	si

loc_C8DA:
		cmp	si, 4
		jge	short loc_C8B7
		pop	si
		leave
		retn
sub_C87E	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C8E2	proc near

var_3		= byte ptr -3
var_2		= word ptr -2

		enter	4, 0
		push	si
		mov	[bp+var_3], 0A8h ; '¨'
		xor	si, si
		jmp	short loc_C95A
; ---------------------------------------------------------------------------

loc_C8EF:
		mov	byte_1409E, 12h
		mov	[bp+var_2], 0
		jmp	short loc_C90B
; ---------------------------------------------------------------------------

loc_C8FB:
		mov	bx, si
		shl	bx, 3
		add	bx, [bp+var_2]
		mov	byte ptr [bx+5091h], 0A0h ; ' '
		inc	[bp+var_2]

loc_C90B:
		cmp	[bp+var_2], 8
		jl	short loc_C8FB
		or	si, si
		jnz	short loc_C921
		mov	bx, si
		shl	bx, 3
		mov	byte ptr [bx+5097h], 0A1h ; '¡'
		jmp	short loc_C932
; ---------------------------------------------------------------------------

loc_C921:
		mov	bx, si
		shl	bx, 3
		mov	al, [bp+var_3]
		mov	[bx+5096h], al
		add	al, 0FEh ; 'þ'
		mov	[bp+var_3], al

loc_C932:
		mov	[bp+var_2], 0
		jmp	short loc_C949
; ---------------------------------------------------------------------------

loc_C939:
		mov	bx, si
		imul	bx, 9
		add	bx, [bp+var_2]
		mov	byte ptr [bx+5064h], 0C4h ; 'Ä'
		inc	[bp+var_2]

loc_C949:
		cmp	[bp+var_2], 8
		jl	short loc_C939
		mov	bx, si
		imul	bx, 9
		mov	byte ptr [bx+506Ch], 0
		inc	si

loc_C95A:
		cmp	si, 5
		jl	short loc_C8EF
		push	ds
		push	offset aGensou_scr ; "GENSOU.SCR"
		call	sub_948
		xor	si, si
		jmp	short loc_C9B1
; ---------------------------------------------------------------------------

loc_C96C:
		mov	[bp+var_2], 0
		jmp	short loc_C999
; ---------------------------------------------------------------------------

loc_C973:
		mov	ax, si
		mov	bx, 5
		cwd
		idiv	bx
		cmp	dx, 4
		jnz	short loc_C98A
		mov	bx, [bp+var_2]
		mov	byte ptr [bx+50B9h], 0A1h ; '¡'
		jmp	short loc_C996
; ---------------------------------------------------------------------------

loc_C98A:
		mov	bx, [bp+var_2]
		mov	al, 0A6h ; '¦'
		sub	al, byte ptr [bp+var_2]
		mov	[bx+50B9h], al

loc_C996:
		inc	[bp+var_2]

loc_C999:
		cmp	[bp+var_2], 5
		jl	short loc_C973
		call	sub_C87E
		push	ds
		push	offset byte_14040
		push	60h ; '`'
		call	sub_AD6
		call	sub_C7D5
		inc	si

loc_C9B1:
		cmp	si, 14h
		jl	short loc_C96C
		call	sub_938
		pop	si
		leave
		retn
sub_C8E2	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_C9BE	proc near

arg_0		= word ptr  4

		push	bp
		mov	bp, sp
		push	ds
		push	offset aGensou_scr ; "GENSOU.SCR"
		call	sub_988
		or	ax, ax
		jz	short loc_CA0C
		push	ds
		push	offset aGensou_scr ; "GENSOU.SCR"
		call	sub_A58
		mov	ax, [bp+arg_0]
		imul	ax, 5
		mov	dl, byte_14101
		mov	dh, 0
		add	ax, dx
		imul	ax, 60h
		movzx	eax, ax
		push	eax
		push	0
		call	sub_A94
		push	ds
		push	offset byte_14040
		push	60h ; '`'
		call	sub_9A4
		call	sub_938
		call	sub_C7D5
		or	al, al
		jz	short loc_CA15

loc_CA0C:
		call	sub_C8E2
		mov	al, 1
		pop	bp
		retn	2
; ---------------------------------------------------------------------------

loc_CA15:
		mov	al, 0
		pop	bp
		retn	2
sub_C9BE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CA1B	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		enter	2, 0
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_0]
		mov	bx, di
		shl	bx, 3
		mov	al, [bx+5098h]
		mov	ah, 0
		add	ax, 0FF60h
		cmp	ax, 0Ah
		jl	short loc_CA5B
		lea	ax, [si-10h]
		push	ax
		push	[bp+arg_2]
		mov	bx, di
		shl	bx, 3
		mov	al, [bx+5098h]
		mov	ah, 0
		add	ax, 0FF60h
		mov	bx, 0Ah
		cwd
		idiv	bx
		push	ax
		call	sub_292A

loc_CA5B:
		push	si
		push	[bp+arg_2]
		mov	bx, di
		shl	bx, 3
		mov	al, [bx+5098h]
		mov	ah, 0
		add	ax, 0FF60h
		mov	bx, 0Ah
		cwd
		idiv	bx
		push	dx
		call	sub_292A
		add	si, 10h
		mov	[bp+var_2], 6
		jmp	short loc_CAA4
; ---------------------------------------------------------------------------

loc_CA83:
		push	si
		push	[bp+arg_2]
		mov	bx, di
		shl	bx, 3
		add	bx, [bp+var_2]
		mov	al, [bx+5091h]
		mov	ah, 0
		add	ax, 0FF60h
		push	ax
		call	sub_292A
		dec	[bp+var_2]
		add	si, 10h

loc_CAA4:
		cmp	[bp+var_2], 0
		jge	short loc_CA83
		pop	di
		pop	si
		leave
		retn	6
sub_CA1B	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CAB0	proc near

arg_0		= word ptr  4
arg_2		= word ptr  6
arg_4		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_4]
		mov	di, [bp+arg_2]
		cmp	[bp+arg_0], 0FFh
		jz	short loc_CADB
		lea	ax, [si+2]
		push	ax
		lea	ax, [di+2]
		push	ax
		push	[bp+arg_0]
		push	0Eh
		call	sub_371E
		push	si
		push	di
		push	[bp+arg_0]
		jmp	short loc_CAF3
; ---------------------------------------------------------------------------

loc_CADB:
		lea	ax, [si+2]
		push	ax
		lea	ax, [di+2]
		push	ax
		push	large 0EF000Eh
		call	sub_371E
		push	si
		push	di
		push	0EFh ; 'ï'

loc_CAF3:
		push	7
		call	sub_371E
		pop	di
		pop	si
		pop	bp
		retn	6
sub_CAB0	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CB00	proc near

var_2		= word ptr -2
arg_0		= word ptr  4
arg_2		= word ptr  6

		enter	2, 0
		push	si
		push	di
		cmp	[bp+arg_0], 0
		jnz	short loc_CB3A
		mov	bx, [bp+arg_2]
		cmp	bx, 3
		ja	short loc_CB33
		add	bx, bx
		jmp	cs:off_CBD4[bx]

loc_CB1B:
		mov	si, 8
		jmp	short loc_CB23
; ---------------------------------------------------------------------------

loc_CB20:
		mov	si, 148h

loc_CB23:
		mov	di, 58h	; 'X'
		jmp	short loc_CB33
; ---------------------------------------------------------------------------

loc_CB28:
		mov	si, 8
		jmp	short loc_CB30
; ---------------------------------------------------------------------------

loc_CB2D:
		mov	si, 148h

loc_CB30:
		mov	di, 0E0h ; 'à'

loc_CB33:
		mov	[bp+var_2], 7
		jmp	short loc_CB74
; ---------------------------------------------------------------------------

loc_CB3A:
		mov	bx, [bp+arg_2]
		cmp	bx, 3
		ja	short loc_CB6F
		add	bx, bx
		jmp	cs:off_CBCC[bx]

loc_CB49:
		mov	si, 8
		jmp	short loc_CB51
; ---------------------------------------------------------------------------

loc_CB4E:
		mov	si, 148h

loc_CB51:
		mov	ax, [bp+arg_0]
		shl	ax, 4
		add	ax, 60h	; '`'
		jmp	short loc_CB6D
; ---------------------------------------------------------------------------

loc_CB5C:
		mov	si, 8
		jmp	short loc_CB64
; ---------------------------------------------------------------------------

loc_CB61:
		mov	si, 148h

loc_CB64:
		mov	ax, [bp+arg_0]
		shl	ax, 4
		add	ax, 0E8h ; 'è'

loc_CB6D:
		mov	di, ax

loc_CB6F:
		mov	[bp+var_2], 2

loc_CB74:
		lea	ax, [si+2]
		push	ax
		lea	ax, [di+2]
		push	ax
		push	10h
		mov	ax, [bp+arg_0]
		imul	ax, 9
		add	ax, 5064h
		push	ds
		push	ax
		push	0Eh
		call	sub_3674
		push	si
		push	di
		push	10h
		mov	ax, [bp+arg_0]
		imul	ax, 9
		add	ax, 5064h
		push	ds
		push	ax
		push	[bp+var_2]
		call	sub_3674
		lea	ax, [si+96h]
		push	ax
		push	di
		push	[bp+arg_0]
		call	sub_CA1B
		lea	ax, [si+11Eh]
		push	ax
		push	di
		mov	bx, [bp+arg_0]
		mov	al, [bx+50B9h]
		mov	ah, 0
		push	ax
		call	sub_CAB0
		pop	di
		pop	si
		leave
		retn	4
sub_CB00	endp

; ---------------------------------------------------------------------------
off_CBCC	dw offset loc_CB49
		dw offset loc_CB4E
		dw offset loc_CB5C
		dw offset loc_CB61
off_CBD4	dw offset loc_CB1B
		dw offset loc_CB20
		dw offset loc_CB28
		dw offset loc_CB2D

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CBDC	proc near
					; sub_CC5C+92p
		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		xor	si, si
		jmp	short loc_CC27
; ---------------------------------------------------------------------------

loc_CC13:
		push	si
		call	sub_C9BE
		xor	di, di
		jmp	short loc_CC21
; ---------------------------------------------------------------------------

loc_CC1B:
		push	si
		push	di
		call	sub_CB00
		inc	di

loc_CC21:
		cmp	di, 5
		jl	short loc_CC1B
		inc	si

loc_CC27:
		cmp	si, 4
		jl	short loc_CC13
		push	large 1F00178h
		mov	al, byte_14101
		mov	ah, 0
		add	ax, ax
		add	ax, 14h
		push	ax
		call	sub_292A
		push	large 2300178h
		mov	al, byte_14101
		mov	ah, 0
		add	ax, ax
		add	ax, 15h
		push	ax
		call	sub_292A
		pop	di
		pop	si
		pop	bp
		retn
sub_CBDC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CC5C	proc near
		push	bp
		mov	bp, sp
		push	100h
		call	sub_DC76
		push	ds
		push	offset aName	; "name"
		push	600h
		call	sub_DBBE
		push	0
		call	sub_DC76
		push	280h
		call	sub_DC76
		push	1
		call	palette_black_out
		les	bx, dword_11DCC
		mov	al, es:[bx+11h]
		mov	byte_14101, al
		push	0
		push	ds
		push	offset aHi01_pi	; "hi01.pi"
		call	sub_DDD8

loc_CC9F:
		call	sub_CBDC
		push	1
		call	palette_black_in

loc_CCA9:
		call	sub_E094
		push	1
		call	sub_E15E
		test	byte ptr word_12A72+1, 20h
		jnz	short loc_CD17
		test	byte ptr word_12A72, 20h
		jnz	short loc_CD17
		test	byte ptr word_12A72+1, 10h
		jnz	short loc_CD17
		test	byte ptr word_12A72+1, 20h
		jnz	short loc_CD17
		test	byte ptr word_12A72, 4
		jz	short loc_CCF8
		cmp	byte_14101, 0
		jz	short loc_CCF8
		dec	byte_14101
		mov	PaletteTone, 0
		call	far ptr	palette_show
		call	sub_CBDC
		push	1
		call	palette_black_in

loc_CCF8:
		test	byte ptr word_12A72, 8
		jz	short loc_CCA9
		cmp	byte_14101, 4
		jnb	short loc_CCA9
		inc	byte_14101
		mov	PaletteTone, 0
		call	far ptr	palette_show
		jmp	short loc_CC9F
; ---------------------------------------------------------------------------

loc_CD17:
		push	201h
		call	sub_DC76
		push	1
		call	palette_black_out
		push	0
		call	sub_DEE0
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aOp1_pi_1 ; "op1.pi"
		call	sub_DDD8
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		push	0
		call	sub_DEE0
		push	0
		call	sub_1250
		push	1
		call	palette_black_in

loc_CD64:
		call	sub_E094
		push	1
		call	sub_E15E
		cmp	word_12A72, 0
		jnz	short loc_CD64
		push	100h
		call	sub_DC76
		push	ds
		push	offset aOp_1	; "op"
		push	600h
		call	sub_DBBE
		push	0
		call	sub_DC76
		pop	bp
		retn
sub_CC5C	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CD94	proc near
		push	bp
		mov	bp, sp
		push	si
		mov	byte_14116, 0
		xor	si, si
		jmp	short loc_CE0E
; ---------------------------------------------------------------------------

loc_CDA1:
		mov	byte_14101, 0
		jmp	short loc_CE06
; ---------------------------------------------------------------------------

loc_CDA8:
		push	si
		call	sub_C9BE
		or	al, al
		jnz	short loc_CE0D
		mov	bx, si
		imul	bx, 5
		mov	al, byte_14101
		mov	ah, 0
		add	bx, ax
		mov	al, byte_1409E
		mov	[bx+5122h], al
		mov	bx, si
		imul	bx, 5
		mov	al, byte_14101
		mov	ah, 0
		add	bx, ax
		cmp	byte ptr [bx+5122h], 80h ; '€'
		jz	short loc_CDE7
		mov	bx, si
		imul	bx, 5
		mov	al, byte_14101
		mov	ah, 0
		add	bx, ax
		mov	byte ptr [bx+5122h], 0

loc_CDE7:
		cmp	byte_14101, 4
		jnb	short loc_CE02
		mov	bx, si
		imul	bx, 5
		mov	al, byte_14101
		mov	ah, 0
		add	bx, ax
		mov	al, [bx+5122h]
		or	byte_14116, al

loc_CE02:
		inc	byte_14101

loc_CE06:
		cmp	byte_14101, 5
		jb	short loc_CDA8

loc_CE0D:
		inc	si

loc_CE0E:
		cmp	si, 4
		jl	short loc_CDA1
		les	bx, dword_11DCC
		mov	al, es:[bx+11h]
		mov	byte_14101, al
		push	ds
		push	offset aScnum_bft ; "scnum.bft"
		call	super_entry_bfnt
		push	ds
		push	offset aHi_m_bft ; "hi_m.bft"
		call	super_entry_bfnt
		xor	si, si
		jmp	short loc_CE5D
; ---------------------------------------------------------------------------

loc_CE34:
		mov	bx, si
		imul	bx, 5
		mov	al, [bx+5122h]
		mov	bx, si
		imul	bx, 5
		or	al, [bx+5123h]
		mov	bx, si
		imul	bx, 5
		or	al, [bx+5124h]
		mov	bx, si
		imul	bx, 5
		or	al, [bx+5125h]
		mov	[si+513Fh], al
		inc	si

loc_CE5D:
		cmp	si, 4
		jl	short loc_CE34
		pop	si
		pop	bp
		retn
sub_CD94	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CE65	proc near

var_6		= dword	ptr -6
var_2		= word ptr -2
arg_0		= byte ptr  4

		enter	6, 0
		push	si
		push	di
		mov	al, [bp+arg_0]
		mov	ah, 0
		mov	bx, ax
		cmp	bx, 3
		ja	short loc_CE90
		add	bx, bx
		jmp	cs:off_CEF7[bx]

loc_CE7E:
		mov	si, 0F02h
		jmp	short loc_CE90
; ---------------------------------------------------------------------------

loc_CE83:
		mov	si, 0F22h
		jmp	short loc_CE90
; ---------------------------------------------------------------------------

loc_CE88:
		mov	si, 4614h
		jmp	short loc_CE90
; ---------------------------------------------------------------------------

loc_CE8D:
		mov	si, 4632h

loc_CE90:
		push	large 0C00001h
		call	sub_EE2
		mov	[bp+var_6], 0AAAAAAAAh
		xor	di, di
		jmp	short loc_CEE5
; ---------------------------------------------------------------------------

loc_CEA7:
		test	di, 1
		jnz	short loc_CEB5
		mov	eax, 0AAAAAAAAh
		jmp	short loc_CEBB
; ---------------------------------------------------------------------------

loc_CEB5:
		mov	eax, 55555555h

loc_CEBB:
		mov	[bp+var_6], eax
		mov	[bp+var_2], 0
		jmp	short loc_CEDB
; ---------------------------------------------------------------------------

loc_CEC6:
		les	bx, dword_FA84
		add	bx, si
		mov	eax, [bp+var_6]
		mov	es:[bx], eax
		add	[bp+var_2], 4
		add	si, 4

loc_CEDB:
		cmp	[bp+var_2], 1Ch
		jl	short loc_CEC6
		inc	di
		add	si, 34h	; '4'

loc_CEE5:
		cmp	di, 0A0h ; ' '
		jl	short loc_CEA7
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		pop	di
		pop	si
		leave
		retn	2
sub_CE65	endp

; ---------------------------------------------------------------------------
off_CEF7	dw offset loc_CE7E
		dw offset loc_CE83
		dw offset loc_CE88
		dw offset loc_CE8D

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_CEFF	proc near

var_4		= word ptr -4
var_2		= word ptr -2
arg_0		= word ptr  4

		enter	4, 0
		push	si
		push	di
		mov	al, byte ptr word_14118
		mov	ah, 0
		mov	bx, ax
		cmp	bx, 3
		ja	short loc_CF59
		add	bx, bx
		jmp	cs:off_D08D[bx]

loc_CF18:
		mov	si, 10h
		mov	di, 30h	; '0'
		mov	[bp+var_2], 0B0h ; '°'
		mov	[bp+var_4], 0C0h ; 'À'
		jmp	short loc_CF59
; ---------------------------------------------------------------------------

loc_CF2A:
		mov	si, 110h
		mov	di, 30h	; '0'
		mov	[bp+var_2], 1B0h
		mov	[bp+var_4], 0C0h ; 'À'
		jmp	short loc_CF59
; ---------------------------------------------------------------------------

loc_CF3C:
		mov	si, 0A0h ; ' '
		mov	di, 0E0h ; 'à'
		mov	[bp+var_2], 140h
		jmp	short loc_CF54
; ---------------------------------------------------------------------------

loc_CF49:
		mov	si, 190h
		mov	di, 0E0h ; 'à'
		mov	[bp+var_2], 230h

loc_CF54:
		mov	[bp+var_4], 170h

loc_CF59:
		cmp	[bp+arg_0], 0
		jnz	loc_D012
		mov	al, byte ptr word_14118
		mov	ah, 0
		mov	bx, ax
		cmp	byte ptr [bx+5143h], 0
		jz	short loc_CF82
		lea	ax, [si-8]
		push	ax
		lea	ax, [di-8]
		push	ax
		mov	al, byte ptr word_14118
		mov	ah, 0
		add	ax, 28h	; '('
		push	ax
		jmp	short loc_CF8C
; ---------------------------------------------------------------------------

loc_CF82:
		lea	ax, [si-8]
		push	ax
		lea	ax, [di-8]
		push	ax
		push	2Dh ; '-'

loc_CF8C:
		call	sub_D590
		push	large 0C00001h
		call	sub_EE2
		lea	ax, [si+0D8h]
		mov	bx, 8
		cwd
		idiv	bx
		push	ax
		push	di
		lea	ax, [si+0DFh]
		cwd
		idiv	bx
		push	ax
		lea	ax, [di+97h]
		push	ax
		call	sub_BAC
		mov	ax, si
		mov	bx, 8
		cwd
		idiv	bx
		push	ax
		lea	ax, [di+98h]
		push	ax
		lea	ax, [si+0DFh]
		cwd
		idiv	bx
		push	ax
		lea	ax, [di+9Fh]
		push	ax
		call	sub_BAC
		mov	dx, 7Ch	; '|'
		mov	al, 0
		out	dx, al
		mov	al, byte ptr word_14118
		mov	ah, 0
		imul	ax, 5
		mov	dl, byte_1411A
		mov	dh, 0
		add	ax, dx
		mov	bx, ax
		cmp	byte ptr [bx+5122h], 0
		jz	loc_D086
		mov	ax, [bp+var_2]
		add	ax, 0FFF8h
		push	ax
		mov	ax, [bp+var_4]
		add	ax, 0FFF8h
		push	ax
		push	2Ch ; ','
		call	sub_D758
		jmp	short loc_D086
; ---------------------------------------------------------------------------

loc_D012:
		lea	ax, [si-8]
		push	ax
		lea	ax, [di-8]
		push	ax
		push	large 0E00008h
		call	far ptr	loc_DB3C
		lea	ax, [si-8]
		push	ax
		push	di
		push	large 800A0h
		call	far ptr	loc_DB3C
		mov	al, byte ptr word_14118
		mov	ah, 0
		mov	bx, ax
		cmp	byte ptr [bx+5143h], 0
		jz	short loc_D050
		push	si
		push	di
		mov	al, byte ptr word_14118
		mov	ah, 0
		add	ax, 28h	; '('
		push	ax
		jmp	short loc_D054
; ---------------------------------------------------------------------------

loc_D050:
		push	si
		push	di
		push	2Dh ; '-'

loc_D054:
		call	sub_D590
		mov	al, byte ptr word_14118
		mov	ah, 0
		imul	ax, 5
		mov	dl, byte_1411A
		mov	dh, 0
		add	ax, dx
		mov	bx, ax
		cmp	byte ptr [bx+5122h], 0
		jz	short loc_D07F
		push	[bp+var_2]
		push	[bp+var_4]
		push	2Ch ; ','
		call	sub_D758

loc_D07F:
		push	word_14118
		call	sub_CE65

loc_D086:
					; sub_CEFF+111j
		pop	di
		pop	si
		leave
		retn	2
sub_CEFF	endp

; ---------------------------------------------------------------------------
		db 0
off_D08D	dw offset loc_CF18
		dw offset loc_CF2A
		dw offset loc_CF3C
		dw offset loc_CF49

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D095	proc near

var_2		= word ptr -2

		enter	2, 0
		push	si
		mov	al, byte ptr word_14118
		mov	ah, 0
		mov	[bp+var_2], ax
		mov	PaletteTone, 0
		call	far ptr	palette_show
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		push	ds
		push	offset aSlb1_pi	; "slb1.pi"
		call	sub_DDD8
		push	0
		call	sub_DEBA
		push	large 0
		push	0
		call	sub_DE0A
		push	0
		call	sub_DEE0
		push	0
		call	sub_1250
		call	sub_D688
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		xor	si, si
		mov	byte ptr word_14118, 0
		jmp	short loc_D111
; ---------------------------------------------------------------------------

loc_D0F7:
		mov	al, byte ptr word_14118
		mov	ah, 0
		cmp	ax, [bp+var_2]
		jz	short loc_D106
		mov	ax, 1
		jmp	short loc_D108
; ---------------------------------------------------------------------------

loc_D106:
		xor	ax, ax

loc_D108:
		push	ax
		call	sub_CEFF
		inc	si
		inc	byte ptr word_14118

loc_D111:
		cmp	si, 4
		jl	short loc_D0F7
		mov	al, byte ptr [bp+var_2]
		mov	byte ptr word_14118, al
		push	0
		call	sub_1250
		push	1
		call	palette_black_in
		pop	si
		leave
		retn
sub_D095	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D12D	proc near

var_4		= word ptr -4
var_1		= byte ptr -1

		enter	4, 0
		mov	[bp+var_4], 0
		jmp	short loc_D146
; ---------------------------------------------------------------------------

loc_D138:
		mov	bx, [bp+var_4]
		mov	al, [bx+513Fh]
		mov	[bx+5143h], al
		inc	[bp+var_4]

loc_D146:
		cmp	[bp+var_4], 4
		jl	short loc_D138
		les	bx, dword_11DCC
		cmp	byte ptr es:[bx+13h], 6
		jnz	short loc_D18A
		mov	byte_1411A, 4
		mov	byte ptr word_14118, 0FFh
		mov	[bp+var_4], 0
		jmp	short loc_D182
; ---------------------------------------------------------------------------

loc_D168:
		cmp	byte ptr word_14118, 0FFh
		jnz	short loc_D17F
		mov	bx, [bp+var_4]
		cmp	byte ptr [bx+5143h], 0
		jz	short loc_D17F
		mov	al, byte ptr [bp+var_4]
		mov	byte ptr word_14118, al

loc_D17F:
		inc	[bp+var_4]

loc_D182:
		cmp	[bp+var_4], 4
		jl	short loc_D168
		jmp	short loc_D1B2
; ---------------------------------------------------------------------------

loc_D18A:
		mov	[bp+var_4], 0
		jmp	short loc_D19C
; ---------------------------------------------------------------------------

loc_D191:
		mov	bx, [bp+var_4]
		mov	byte ptr [bx+5143h], 1
		inc	[bp+var_4]

loc_D19C:
		cmp	[bp+var_4], 4
		jl	short loc_D191
		les	bx, dword_11DCC
		mov	al, es:[bx+11h]
		mov	byte_1411A, al
		mov	byte ptr word_14118, 0

loc_D1B2:
		call	sub_D095

loc_D1B5:
		call	sub_E094
		cmp	[bp+var_1], 0
		jnz	loc_D2EC
		test	byte ptr word_12A72, 4
		jnz	short loc_D1D0
		test	byte ptr word_12A72, 8
		jz	short loc_D223

loc_D1D0:
		call	sub_D5F6
		push	1
		call	sub_D602
		call	sub_D63C
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	1
		call	sub_CEFF
		xor	byte ptr word_14118, 1
		push	0
		call	sub_CEFF
		mov	vsync_Count1, 0
		push	1
		call	sub_E15E
		mov	dx, 0A4h ; '¤'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		call	sub_1250
		mov	vsync_Count1, 0
		push	1
		call	sub_E15E
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A

loc_D223:
		test	byte ptr word_12A72, 1
		jnz	short loc_D231
		test	byte ptr word_12A72, 2
		jz	short loc_D284

loc_D231:
		call	sub_D5F6
		push	1
		call	sub_D602
		call	sub_D63C
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	1
		call	sub_CEFF
		xor	byte ptr word_14118, 2
		push	0
		call	sub_CEFF
		mov	vsync_Count1, 0
		push	1
		call	sub_E15E
		mov	dx, 0A4h ; '¤'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		push	0
		call	sub_1250
		mov	vsync_Count1, 0
		push	1
		call	sub_E15E
		mov	dx, 0A4h ; '¤'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A

loc_D284:
		test	byte ptr word_12A72+1, 20h
		jnz	short loc_D292
		test	byte ptr word_12A72, 20h
		jz	short loc_D2CC

loc_D292:
		mov	al, byte ptr word_14118
		mov	ah, 0
		mov	bx, ax
		cmp	byte ptr [bx+5143h], 0
		jz	short loc_D2CC
		call	sub_D5F6
		push	0Bh
		call	sub_D602
		call	sub_D63C
		les	bx, dword_11DCC
		mov	al, byte ptr word_14118
		mov	es:[bx+14h], al
		push	1
		call	palette_black_out
		call	sub_D726
		xor	ax, ax
		leave
		retn
; ---------------------------------------------------------------------------

loc_D2CC:
					; sub_D12D+171j
		test	byte ptr word_12A72+1, 10h
		jz	short loc_D2E4
		push	1
		call	palette_black_out
		call	sub_D726
		mov	ax, 1
		leave
		retn
; ---------------------------------------------------------------------------

loc_D2E4:
		mov	al, byte ptr word_12A72
		mov	[bp+var_1], al
		jmp	short loc_D2F7
; ---------------------------------------------------------------------------

loc_D2EC:
		cmp	word_12A72, 0
		jnz	short loc_D2F7
		mov	[bp+var_1], 0

loc_D2F7:
					; sub_D12D+1C4j
		push	1
		call	sub_E15E
		jmp	loc_D1B5
sub_D12D	endp

seg001		ends

; ---------------------------------------------------------------------------
; ===========================================================================

; Segment type:	Pure code
seg002		segment	byte public 'CODE' use16
		assume cs:seg002
		; org 1
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		leave
		retn
; ---------------------------------------------------------------------------
		db 0
		push	di
		xor	ax, ax
		mov	di, 3662h
		xor	dl, dl
		jmp	short loc_D319
; ---------------------------------------------------------------------------

loc_D30E:
		xor	dl, dl
		mov	cx, 8

loc_D313:
		rol	al, 1
		rcr	dl, 1
		loop	loc_D313

loc_D319:
		mov	[di], dl
		inc	di
		inc	al
		jnz	short loc_D30E
		pop	di
		retf

; =============== S U B	R O U T	I N E =======================================


sub_D322	proc far
		xor	ax, ax
		mov	byte_12742, 60h	; '`'
		mov	byte_FA43, al
		mov	byte_FA42, al
		mov	byte_FA41, al
		mov	es, ax
		les	bx, dword ptr es:[0180h]
		assume es:nothing
		cmp	byte ptr es:[bx+2], 50h	; 'P'
		jnz	short locret_D34F
		cmp	byte ptr es:[bx+3], 4Dh	; 'M'
		jnz	short locret_D34F
		cmp	byte ptr es:[bx+4], 44h	; 'D'
		jnz	short locret_D34F
		inc	ax

locret_D34F:
		retf
sub_D322	endp


; =============== S U B	R O U T	I N E =======================================


sub_D350	proc far
		xor	ax, ax
		mov	es, ax
		les	bx, dword ptr es:[0184h]
		assume es:nothing
		cmp	byte ptr es:[bx+2], 4Dh	; 'M'
		jnz	short loc_D37C
		cmp	byte ptr es:[bx+3], 4Dh	; 'M'
		jnz	short loc_D37C
		cmp	byte ptr es:[bx+4], 44h	; 'D'
		jnz	short loc_D37C
		mov	byte_12742, 61h	; 'a'
		mov	byte_FA43, 1
		mov	ax, 1
		retf
; ---------------------------------------------------------------------------

loc_D37C:
		xor	ax, ax
		retf
sub_D350	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D380	proc far
					; sub_ABCF+1BFP ...

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, [bp+arg_0]
		nop
		push	cs
		call	near ptr sub_D322
		cmp	si, 3
		jnz	short loc_D39A
		nop
		push	cs
		call	near ptr sub_D350

loc_D39A:
		mov	ah, 9
		int	60h
		cmp	al, 0FFh
		jnz	short loc_D3A9
		mov	byte_FA42, 0
		jmp	short loc_D3B9
; ---------------------------------------------------------------------------

loc_D3A9:
		or	al, al
		jnz	short loc_D3B4
		mov	byte_FA42, 1
		jmp	short loc_D3B9
; ---------------------------------------------------------------------------

loc_D3B4:
		mov	byte_FA42, 2

loc_D3B9:
		cmp	di, 1
		jnz	short loc_D3D1
		cmp	byte_FA42, 0
		jz	short loc_D3CA
		mov	ax, 1
		jmp	short loc_D3CC
; ---------------------------------------------------------------------------

loc_D3CA:
		xor	ax, ax

loc_D3CC:
		mov	byte_FA41, al
		jmp	short loc_D3E2
; ---------------------------------------------------------------------------

loc_D3D1:
		cmp	di, 2
		jnz	short loc_D3DD
		mov	byte_FA41, 2
		jmp	short loc_D3E2
; ---------------------------------------------------------------------------

loc_D3DD:
		mov	byte_FA41, 0

loc_D3E2:
		or	si, si
		jnz	short loc_D3ED
		mov	byte_FA42, 0
		jmp	short loc_D411
; ---------------------------------------------------------------------------

loc_D3ED:
		cmp	si, 3
		jnz	short loc_D400
		cmp	byte_FA43, 0
		jz	short loc_D400
		mov	byte_FA42, 3
		jmp	short loc_D411
; ---------------------------------------------------------------------------

loc_D400:
		cmp	si, 1
		jnz	short loc_D411
		cmp	byte_FA42, 0
		jz	short loc_D411
		mov	byte_FA42, 1

loc_D411:
		mov	al, byte_FA42
		mov	ah, 0
		pop	di
		pop	si
		pop	bp
		retf	4
sub_D380	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D41C	proc far
		push	bp
		mov	bp, sp
		nop
		push	cs
		call	near ptr sub_D7EC
		call	key_beep_on
		call	text_systemline_show
		call	text_cursor_show
		pop	bp
		retf
sub_D41C	endp

; ---------------------------------------------------------------------------
		db 0

loc_D436:
					; sub_A717+235P ...
		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	dx, [bp+0Ah]
		mov	al, 0C0h ; 'À'
		pushf
		cli
		out	7Ch, al
		popf
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		shr	dx, 1
		sbb	al, al
		out	7Eh, al
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		mov	dx, [bp+0Ch]
		shl	dx, 6
		mov	di, dx
		shr	dx, 2
		add	di, dx
		mov	cx, [bp+0Eh]
		mov	al, 0Bh
		out	68h, al
		mov	bx, word_F9BE
		add	bx, bx
		cmp	bx, 8
; START	OF FUNCTION CHUNK FOR sub_DA6B

loc_D480:
		jb	short loc_D492

loc_D482:
		cmp	bx, 10h
		jnb	short loc_D492
		mov	ax, [bx+9AEh]
		mov	cs:word_D58D, ax
		mov	bx, 8

loc_D492:
					; sub_DA6B-5E6j
		mov	ax, [bx+9A2h]
		mov	cs:word_D4F5, ax
		mov	ax, [bx+9ACh]
		mov	cs:word_D547, ax
		mov	ax, word_F9C0
		mov	cs:word_D514, ax
		mov	cs:word_D55B, ax
		push	ds
		pop	fs
		assume fs:dseg
		lds	si, [bp+6]
		lodsb
		or	al, al
		jz	short loc_D51F

loc_D4B8:
		mov	dx, cx
		shr	dx, 3
		add	di, dx
		and	cx, 7
		mov	ah, 9
		test	al, 0E0h
		jns	short loc_D531
		jp	short loc_D52E
		mov	ah, al
		lodsb
		shl	ah, 1
		cmp	al, 9Fh	; 'Ÿ'
		jnb	short loc_D4D8
		cmp	al, 80h	; '€'
		adc	ax, 0FEDFh

loc_D4D8:
		sbb	al, 0FEh ; 'þ'
		and	ax, 7F7Fh
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		nop
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		mov	ah, al
		mov	al, ch
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
; END OF FUNCTION CHUNK	FOR sub_DA6B
; ---------------------------------------------------------------------------
		db 0E8h
word_D4F5	dw 78h
		db 8Ah,	0F8h, 0B3h, 0, 0D3h, 0E8h, 0D3h, 0EBh, 86h, 0E0h
		db 0ABh, 26h, 88h, 1Dh,	83h, 0C7h, 4Eh,	0FEh, 0C5h, 80h
		db 0FDh, 10h, 72h, 0D5h, 81h, 0EFh, 0, 5, 0BAh
word_D514	dw 1234h
; ---------------------------------------------------------------------------

loc_D516:
		xor	ch, ch
		add	cx, dx
		lodsb
		or	al, al
		jnz	short loc_D4B8
; START	OF FUNCTION CHUNK FOR sub_DA6B

loc_D51F:
		mov	al, 0Ah
		out	68h, al
		xor	al, al
		out	7Ch, al
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	0Ah
; ---------------------------------------------------------------------------

loc_D52E:
		add	ax, 80h	; '€'

loc_D531:
		cmp	al, 20h	; ' '
		jz	short near ptr byte_D55A
		out	0A1h, al	; Interrupt Controller #2, 8259A
		mov	al, ah
		out	0A3h, al	; Interrupt Controller #2, 8259A
		nop
		mov	al, ch
		or	al, 20h
		out	0A5h, al	; Interrupt Controller #2, 8259A
		in	al, 0A9h	; Interrupt Controller #2, 8259A
		xor	ah, ah
; END OF FUNCTION CHUNK	FOR sub_DA6B
; ---------------------------------------------------------------------------
		db 0E8h
word_D547	dw 26h
		db 0D3h, 0C8h, 0ABh, 83h, 0C7h,	4Eh, 0FEh, 0C5h, 80h, 0FDh
		db 10h,	72h, 0E6h, 81h,	0EFh, 0, 5
byte_D55A	db 0BAh
word_D55B	dw 1234h
; ---------------------------------------------------------------------------
		shr	dx, 1
		jmp	short loc_D516
; ---------------------------------------------------------------------------
		nop
		mov	dx, ax
		add	dx, dx
		or	ax, dx
		retn
; ---------------------------------------------------------------------------
		mov	dx, ax
		shl	dx, 1
		or	ax, dx

; =============== S U B	R O U T	I N E =======================================


sub_D56F	proc near
		mov	dx, ax
		mov	bp, ax
		add	bp, bp
		or	ax, bp
		xor	dx, ax
		add	dx, dx
		not	dx
		and	ax, dx
		retn
sub_D56F	endp

; ---------------------------------------------------------------------------
		db 0E8h, 0ECh, 0FFh, 8Ah, 0DDh,	83h, 0E3h, 2 dup(3), 0DBh
		db 64h,	23h, 87h
word_D58D	dw 1234h
; ---------------------------------------------------------------------------
		retn

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D590	proc far
					; sub_CEFF:loc_D054P

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		mov	ax, [bp+arg_2]
		mov	bx, ax
		shl	ax, 2
		add	ax, bx
		add	ax, 0A800h
		mov	es, ax
		assume es:nothing
		add	ax, 3800h
		push	ax
		sub	ax, 2800h
		push	ax
		sub	ax, 800h
		push	ax
		mov	si, [bp+arg_0]
		shl	si, 4
		add	si, 3A96h
		mov	bx, [bp+arg_4]
		sar	bx, 3
		add	bx, [si+6]
		mov	ax, [si+8]
		mov	bp, ax
		shl	ax, 2
		add	ax, 50h	; 'P'
		mov	dx, ax
		mov	ax, [si+0Eh]
		mov	ds, ax
		xor	si, si
		mov	al, 4
		cld
		nop

loc_D5DC:
		mov	di, bx

loc_D5DE:
		mov	cx, bp
		rep movsd
		sub	di, dx
		jns	short loc_D5DE
		dec	al
		jz	short loc_D5EE
		pop	es
		jmp	short loc_D5DC
; ---------------------------------------------------------------------------

loc_D5EE:
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	6
sub_D590	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D5F6	proc far
					; sub_A9D6:loc_AA6CP ...
		mov	byte_F9C3, 0
		mov	byte_F9C2, 0FFh
		retf
sub_D5F6	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D602	proc far
		mov	bx, sp
		mov	dx, ss:[bx+4]
		cmp	byte_FA41, 0
		jz	short locret_D638
		cmp	byte_F9C2, 0FFh
		jnz	short loc_D61D
		mov	byte_F9C2, dl
		retf	2
; ---------------------------------------------------------------------------

loc_D61D:
		mov	bl, byte_F9C2
		xor	bh, bh
		mov	al, [bx+980h]
		mov	bx, dx
		cmp	al, [bx+980h]
		ja	short locret_D638
		mov	byte_F9C2, dl
		mov	byte_F9C3, 0

locret_D638:
		retf	2
sub_D602	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D63C	proc far
		cmp	byte_FA41, 0
		jz	short locret_D687
		cmp	byte_F9C2, 0FFh
		jz	short locret_D687
		cmp	byte_F9C3, 0
		jnz	short loc_D669
		mov	al, byte_F9C2
		cmp	byte_FA41, 2
		jz	short loc_D661
		mov	ah, 0Ch
		int	60h		; - Banyan VINES, 3com - GET STATION ADDRESS
					; Return: AL = status, 00h successful, ES:SI ->	6-byte station address
					; 02h semaphore	service	is unavailable
		jmp	short loc_D669
; ---------------------------------------------------------------------------

loc_D661:
		xor	ah, ah
		push	ax
		call	bgm_sound

loc_D669:
		inc	byte_F9C3
		mov	bl, byte_F9C2
		xor	bh, bh
		mov	al, [bx+991h]
		cmp	al, byte_F9C3
		jnb	short locret_D687
		mov	byte_F9C3, 0
		mov	byte_F9C2, 0FFh

locret_D687:
		retf
sub_D63C	endp


; =============== S U B	R O U T	I N E =======================================


sub_D688	proc far
		push	si
		push	di
		cmp	word_F9C4, 0
		jnz	short loc_D6BD
		push	7D00h
		call	hmem_allocbyte
		mov	word_F9C4, ax
		push	7D00h
		call	hmem_allocbyte
		mov	word_F9C6, ax
		push	7D00h
		call	hmem_allocbyte
		mov	word_F9C8, ax
		push	7D00h
		call	hmem_allocbyte
		mov	word_F9CA, ax

loc_D6BD:
		mov	dl, 4
		push	ds
		push	0E000h
		push	word_F9CA
		push	0B800h
		push	word_F9C8
		push	0B000h
		push	word_F9C6
		push	0A800h
		push	word_F9C4

loc_D6DC:
		pop	es
		pop	ds
		xor	si, si
		xor	di, di
		mov	cx, 1F40h
		rep movsd
		dec	dl
		jnz	short loc_D6DC
		pop	ds
		pop	di
		pop	si
		retf
sub_D688	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_D6F0	proc far
		push	si
		push	di
		mov	dl, 4
		push	ds
		push	0E000h
		push	word_F9CA
		push	0B800h
		push	word_F9C8
		push	0B000h
		push	word_F9C6
		push	0A800h
		push	word_F9C4

loc_D711:
		pop	ds
		pop	es
		xor	si, si
		xor	di, di
		mov	cx, 1F40h
		rep movsd
		dec	dl
		jnz	short loc_D711
		pop	ds
		pop	di
		pop	si
		retf
sub_D6F0	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_D726	proc far
					; sub_C490+32AP ...
		cmp	word_F9C4, 0
		jz	short locret_D757
		push	word_F9C4
		call	hmem_free
		push	word_F9C6
		call	hmem_free
		push	word_F9C8
		call	hmem_free
		push	word_F9CA
		call	hmem_free
		mov	word_F9C4, 0

locret_D757:
		retf
sub_D726	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D758	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	ds
		cli
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	dx, 7Eh	; '~'
		xor	al, al
		out	dx, al
		out	dx, al
		out	dx, al
		out	dx, al
		sti
		mov	si, [bp+arg_0]
		shl	si, 4
		add	si, 3A96h
		mov	ax, [bp+arg_2]
		shl	ax, 2
		add	ax, [bp+arg_2]
		add	ax, 0A800h
		mov	es, ax
		push	0
		add	ax, 3800h
		push	ax
		sub	ax, 2800h
		push	ax
		sub	ax, 800h
		push	ax
		mov	ax, [bp+arg_4]
		shr	ax, 3
		add	ax, [si+6]
		mov	di, ax
		mov	bx, ax
		mov	ax, [si+8]
		mov	bp, ax
		shl	ax, 2
		add	ax, 50h	; 'P'
		mov	dx, ax
		mov	ax, [si+0Eh]
		mov	cx, [si+0Ch]
		mov	ds, cx
		xor	si, si
		cld

loc_D7B8:
		mov	cx, bp
		rep movsd
		sub	di, dx
		jns	short loc_D7B8
		mov	ds, ax
		xor	al, al
		out	7Ch, al
		xor	si, si
		nop

loc_D7CA:
		mov	di, bx

loc_D7CC:
		mov	cx, bp

loc_D7CE:
		lodsd
		or	es:[di], eax
		add	di, 4
		loop	loc_D7CE
		sub	di, dx
		jns	short loc_D7CC
		pop	ax
		mov	es, ax
		or	ax, ax
		jnz	short loc_D7CA
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	6
sub_D758	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D7EC	proc far
		push	bp
		mov	bp, sp
		call	sub_3858
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_1216
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_1216
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_24CE
		call	vsync_end
		call	text_clear
		call	js_end
		call	egc_start
		call	bgm_finish
		pop	bp
		retf
sub_D7EC	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_D834	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		movsx	eax, [bp+arg_2]
		movsx	edx, [bp+arg_0]
		imul	eax, edx
		sar	eax, 8
		add	ax, [bp+arg_4]
		pop	bp
		retf	6
sub_D834	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		mov	si, [bp+0Eh]
		mov	bx, [bp+6]
		xor	bh, bh
		add	bx, bx
		movsx	eax, word ptr [bp+8]
		movsx	edx, word ptr [bx+610h]
		imul	eax, edx
		sar	eax, 8
		add	ax, [bp+0Ch]
		mov	[si], ax
		movsx	eax, word ptr [bp+8]
		movsx	edx, word ptr [bx+590h]
		imul	eax, edx
		sar	eax, 8
		add	ax, [bp+0Ah]
		mov	[si+2],	ax
		pop	si
		pop	bp
		retf	0Ah

; =============== S U B	R O U T	I N E =======================================


sub_D894	proc far
		push	si
		push	di
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		mov	di, 1400h
		call	sub_DA30
		mov	di, 19A0h
		call	sub_DA30
		mov	di, 1F40h
		call	sub_DA30
		mov	di, 24E0h
		call	sub_DA30
		mov	di, 2A80h
		call	sub_DA30
		mov	di, 3020h
		call	sub_DA30
		mov	ah, 5
		call	sub_DB21
		mov	al, 0
		mov	di, 156Ch
		call	sub_DB0D
		mov	al, 1
		mov	di, 156Dh
		call	sub_DB0D
		mov	al, 2
		mov	di, 156Eh
		call	sub_DB0D
		mov	al, 0
		mov	di, 1B0Ch
		call	sub_DB0D
		mov	al, 1
		mov	di, 1B0Dh
		call	sub_DB0D
		mov	al, 3
		mov	di, 1B0Eh
		call	sub_DB0D
		mov	al, 0
		mov	di, 20ACh
		call	sub_DB0D
		mov	al, 1
		mov	di, 20ADh
		call	sub_DB0D
		mov	al, 4
		mov	di, 20AEh
		call	sub_DB0D
		mov	al, 0
		mov	di, 264Ch
		call	sub_DB0D
		mov	al, 1
		mov	di, 264Dh
		call	sub_DB0D
		mov	al, 5
		mov	di, 264Eh
		call	sub_DB0D
		mov	al, 0
		mov	di, 2BECh
		call	sub_DB0D
		mov	al, 1
		mov	di, 2BEDh
		call	sub_DB0D
		mov	al, 6
		mov	di, 2BEEh
		call	sub_DB0D
		mov	al, 7
		mov	di, 318Ch
		call	sub_DB0D
		mov	al, 7
		mov	di, 318Dh
		call	sub_DB0D
		mov	al, 8
		mov	di, 318Eh
		call	sub_DB0D
		xor	al, al
		out	7Ch, al
		push	ds
		mov	ah, 10h
		int	60h
		mov	ax, ds
		pop	ds
		mov	word ptr dword_1281A, dx
		mov	word ptr dword_1281A+2,	ax
		pop	di
		pop	si
		retf
sub_D894	endp


; =============== S U B	R O U T	I N E =======================================


sub_D96E	proc far
		push	si
		push	di
		push	ds
		push	ds
		pop	fs
		mov	al, 0C0h ; 'À'
		out	7Ch, al
		mov	ax, 0A800h
		mov	es, ax
		mov	di, 3020h
		call	sub_DA30
		lds	bx, dword_1281A
		mov	di, 1400h
		mov	si, 0
		call	sub_D9E2
		add	bx, 2
		mov	di, 19A0h
		mov	si, 1
		call	sub_D9E2
		add	bx, 2
		mov	di, 1F40h
		mov	si, 2
		call	sub_D9E2
		add	bx, 2
		mov	di, 24E0h
		mov	si, 3
		call	sub_D9E2
		add	bx, 2
		mov	di, 2A80h
		mov	si, 4
		call	sub_D9E2
		mov	ah, 5
		call	sub_DB21
		mov	di, 3020h
		add	bx, 4
		call	sub_DA12
		call	near ptr sub_DA6B
		add	bx, 2
		call	sub_DA12
		call	near ptr sub_DA6B
		xor	al, al
		out	7Ch, al
		pop	ds
		pop	di
		pop	si
		retf
sub_D96E	endp


; =============== S U B	R O U T	I N E =======================================


sub_D9E2	proc near
		call	sub_DA12
		push	ds
		push	fs
		pop	ds
		cmp	al, [si+382Ah]
		jnz	short loc_D9F5
		cmp	al, [si+3832h]
		jz	short loc_DA10

loc_D9F5:
		mov	ah, [si+382Ah]
		mov	[si+3832h], ah
		mov	[si+382Ah], al
		call	sub_DA30
		mov	ah, 5
		call	sub_DB21
		mov	al, [si+382Ah]
		call	near ptr sub_DA6B

loc_DA10:
		pop	ds
		retn
sub_D9E2	endp


; =============== S U B	R O U T	I N E =======================================


sub_DA12	proc near
		push	bx
		mov	bx, [bx]
		mov	ax, [bx+4]
		cmp	ah, 4
		jbe	short loc_DA1F
		mov	ah, 4

loc_DA1F:
		cmp	al, ah
		jbe	short loc_DA2C
		cmp	al, 1
		jbe	short loc_DA2C
		mov	al, [bx+55h]
		jmp	short loc_DA2E
; ---------------------------------------------------------------------------

loc_DA2C:
		mov	al, 0FFh

loc_DA2E:
		pop	bx
		retn
sub_DA12	endp


; =============== S U B	R O U T	I N E =======================================


sub_DA30	proc near
		push	di
		push	si
		mov	ah, 3
		call	sub_DB21
		add	di, 30h	; '0'
		mov	ax, 0EEEEh
		mov	dl, 0Fh

loc_DA3F:
		mov	cx, 0Eh
		rep stosw
		add	di, 34h	; '4'
		dec	dl
		jnz	short loc_DA3F
		mov	ah, 1
		call	sub_DB21
		mov	si, 9EEh
		sub	di, 4B0h
		mov	dl, 9

loc_DA59:
		mov	cx, 0Eh
		rep movsw
		sub	si, 1Ch
		add	di, 34h	; '4'
		dec	dl
		jnz	short loc_DA59
		pop	si
		pop	di
		retn
sub_DA30	endp


; =============== S U B	R O U T	I N E =======================================


sub_DA6B	proc far

; FUNCTION CHUNK AT 0180 SIZE 00000074 BYTES
; FUNCTION CHUNK AT 021F SIZE 00000027 BYTES

		cmp	al, 0FFh
		jnz	short loc_DA70
		retn
; ---------------------------------------------------------------------------

loc_DA70:
		push	bx
		push	di
		mov	ah, al
		and	ah, 0Fh
		xor	bh, bh
		mov	bl, ah
		shr	al, 4
		mov	dl, 1Ch
		mul	dl
		mov	dl, cs:[bx+801h]
		add	bx, bx
		add	ax, cs:[bx+7E9h]
		mov	cx, ax
		shr	ax, 3
		add	di, ax
		and	cl, 7
		jmp	cs:off_DAD1[bx]

loc_DA9D:
					; seg002:07D5o	...
		shr	dl, cl
		mov	al, cl
		mov	cx, 9

loc_DAA4:
		mov	es:[di], dl
		add	di, 50h	; 'P'
		loop	loc_DAA4
		mov	cl, al
		mov	al, 0E0h ; 'à'
		shr	al, cl
		mov	cx, 6

loc_DAB5:
		mov	es:[di], al
		add	di, 50h	; 'P'
		loop	loc_DAB5
		jmp	short loc_DACE
; ---------------------------------------------------------------------------

loc_DABF:
		xor	dh, dh
		ror	dx, cl
		mov	cx, 8

loc_DAC6:
		mov	es:[di], dx
		add	di, 50h	; 'P'
		loop	loc_DAC6

loc_DACE:
		pop	di
		pop	bx
		retn
sub_DA6B	endp ; sp-analysis failed

; ---------------------------------------------------------------------------
off_DAD1	dw offset loc_DA9D
		dw offset loc_DABF
		dw offset loc_DA9D
		dw offset loc_DABF
		dw offset loc_DA9D
		dw offset loc_DA9D
		dw offset loc_DABF
		dw offset loc_DA9D
		dw offset loc_DABF
		dw offset loc_DA9D
		dw offset loc_DABF
		dw offset loc_DA9D
		dw offset loc_D480
		dw offset loc_D482
		dw 184h
		dw 186h
		dw 188h
		dw 18Ch
		dw 18Eh
		dw 190h
		dw 192h
		dw 194h
		dw 196h
		dw 198h
		dw 0C0C0h
		dw 0C040h
		dw 0C060h
		dw 40C0h
		dw 40C0h
		dw 60C0h

; =============== S U B	R O U T	I N E =======================================


sub_DB0D	proc near
		xor	ah, ah
		shl	al, 3
		add	ax, 0A0Ah
		mov	si, ax
		mov	cx, 8

loc_DB1A:
		movsb
		add	di, 4Fh	; 'O'
		loop	loc_DB1A
		retn
sub_DB0D	endp


; =============== S U B	R O U T	I N E =======================================


sub_DB21	proc near
		cli
		mov	dx, 7Eh	; '~'
		shr	ah, 1
		sbb	al, al
		out	dx, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		shr	ah, 1
		sbb	al, al
		out	dx, al
		sti
		retn
sub_DB21	endp

; ---------------------------------------------------------------------------
		db 0

loc_DB3C:
		push	bp
		mov	bp, sp
		push	di
		push	si
		push	ds
		cld
		mov	ax, [bp+0Ch]
		mov	dx, [bp+0Ah]
		mov	bx, ax
		sar	bx, 4
		shl	bx, 1
		shl	dx, 6
		add	bx, dx
		shr	dx, 2
		add	bx, dx
		mov	cs:word_DBA2, bx
		and	ax, 0Fh
		mov	cx, ax
		add	ax, [bp+8]
		shr	ax, 4
		or	cx, cx
		jz	short loc_DB6F
		inc	ax

loc_DB6F:
		mov	cs:word_DBA7, ax
		jmp	short $+2
		mov	cx, 28h	; '('
		sub	cx, ax
		shl	cx, 1
		mov	ax, [bp+6]
		mov	bp, cx
		push	0E000h
		push	word_F9CA
		push	0B800h
		push	word_F9C8
		push	0B000h
		push	word_F9C6
		push	0A800h
		push	word_F9C4
		mov	dl, 4
		mov	bx, ax
; ---------------------------------------------------------------------------
		db 0BFh
word_DBA2	dw 1234h
		db 1Fh,	7, 0B9h
word_DBA7	dw 1234h
		db 8Bh,	0F7h, 0F3h, 0A5h, 3, 0FDh, 4Bh,	75h, 0F4h, 0FEh
		db 0CAh, 75h, 0E9h, 1Fh, 5Eh, 5Fh, 5Dh,	0CAh, 8, 0, 90h

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DBBE	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	dx, ds
		mov	es, dx
		assume es:dseg
		mov	di, 383Eh
		lds	si, [bp+arg_2]
		mov	bp, [bp+arg_0]
		mov	cx, 0Dh
		rep movsb
		mov	ds, dx
		mov	di, 383Eh
		dec	cx
		xor	ax, ax
		repne scasb
		dec	di
		mov	byte ptr [di], 2Eh ; '.'
		inc	di
		cmp	bp, 0B00h
		jnz	short loc_DC19
		cmp	byte_FA41, 0
		jz	short loc_DC70
		xor	bx, bx
		cmp	byte_FA41, 2
		jnz	short loc_DC2F
		mov	dword ptr [di],	736665h
		call	bgm_finish
		push	800h
		call	bgm_init
		push	ds
		push	offset unk_1281E
		call	bgm_read_sdata
		jmp	short loc_DC70
; ---------------------------------------------------------------------------

loc_DC19:
		cmp	byte_FA42, 0
		jz	short loc_DC70
		push	100h
		push	cs
		call	near ptr sub_DC76
		movzx	bx, byte_FA42
		shl	bx, 2

loc_DC2F:
		mov	eax, [bx+0A52h]

loc_DC34:
		mov	[di], eax
		mov	dx, 383Eh
		mov	ax, 3D00h
		int	21h		; DOS -	2+ - OPEN DISK FILE WITH HANDLE
					; DS:DX	-> ASCIZ filename
					; AL = access mode
					; 0 - read
		jnb	short loc_DC4C
		cmp	ax, 2
		jnz	short loc_DC70
		mov	eax, dword_FA36
		jmp	short loc_DC34
; ---------------------------------------------------------------------------

loc_DC4C:
		mov	bx, ax
		mov	ax, bp
		cmp	ah, 6
		jnz	short loc_DC60
		cmp	byte_FA42, 3
		jnz	short loc_DC60
		int	61h		; reserved for user interrupt
		jmp	short loc_DC62
; ---------------------------------------------------------------------------

loc_DC60:
		int	60h

loc_DC62:
		mov	ax, 3F00h
		mov	cx, 0FFFFh
		int	21h		; DOS -	2+ - READ FROM FILE WITH HANDLE
					; BX = file handle, CX = number	of bytes to read
					; DS:DX	-> buffer
		mov	ah, 3Eh
		int	21h		; DOS -	2+ - CLOSE A FILE WITH HANDLE
					; BX = file handle
		push	es
		pop	ds

loc_DC70:
		pop	di
		pop	si
		pop	bp
		retf	6
sub_DBBE	endp


; =============== S U B	R O U T	I N E =======================================


sub_DC76	proc far
		cmp	byte_FA42, 0
		jz	short locret_DC90
		mov	bx, sp
		mov	ax, ss:[bx+4]
		cmp	byte_FA42, 3
		jz	short loc_DC8E
		int	60h
		jmp	short locret_DC90
; ---------------------------------------------------------------------------

loc_DC8E:
		int	61h		; reserved for user interrupt

locret_DC90:
		retf	2
sub_DC76	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DC94	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_2]
		mov	di, si
		shl	si, 2
		les	si, [si+0A84h]
		assume es:nothing
		imul	di, 48h
		push	[bp+arg_6]
		push	[bp+arg_4]
		mov	ax, [di+3866h]
		push	ax
		shr	ax, 1
		push	ax
		mov	di, [di+3868h]
		mov	ax, [bp+arg_0]
		call	sub_DD10
		pop	di
		pop	si
		pop	bp
		retf	8
sub_DC94	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		xor	dx, dx
		mov	si, [bp+0Ah]
		mov	cl, [bp+8]
		test	cl, 1
		jz	short loc_DCDD
		mov	ax, 0A0h ; ' '

loc_DCDD:
		test	cl, 2
		jz	short loc_DCE5
		mov	dx, 0FA0h

loc_DCE5:
		shl	si, 2
		les	si, [si+0A84h]
		add	si, ax
		mov	ax, es
		add	ax, dx
		mov	es, ax
		assume es:nothing
		mov	di, 0C8h ; 'È'
		push	word ptr [bp+0Eh]
		push	word ptr [bp+0Ch]
		push	140h
		push	140h
		mov	ax, [bp+6]
		call	sub_DD10
		pop	di
		pop	si
		pop	bp
		retf	0Ah
; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DD10	proc near

arg_0		= word ptr  2
arg_2		= word ptr  4
arg_4		= word ptr  6
arg_6		= word ptr  8

		shl	ax, 3
		add	ax, 0A64h
		mov	word_1282C, ax
		mov	bp, sp
		mov	dx, [bp+arg_6]
		shr	dx, 3
		mov	ax, [bp+arg_4]
		shl	ax, 6
		add	dx, ax
		shr	ax, 2
		add	dx, ax
		mov	word_12830, dx
		mov	word_1282E, 0

loc_DD38:
		push	es
		push	(offset	unk_F9F0 - offset unk_F9F0)
		push	190h
		push	es
		push	si
		push	[bp+arg_2]
		call	sub_35B0
		push	ds
		push	di
		push	si
		mov	di, word_12830
		add	word_12830, 50h	; 'P'
		cmp	word_12830, 7D00h
		jb	short loc_DD62
		sub	word_12830, 7D00h

loc_DD62:
		call	sub_DD97
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing
		mov	ds, ax
		assume ds:nothing
		mov	si, 7D00h
		mov	cx, [bp+arg_2]
		shr	cx, 4
		rep movsw
		call	egc_off
		pop	si
		pop	di
		pop	ds
		assume ds:dseg
		pop	es
		assume es:nothing
		add	si, [bp+arg_0]
		mov	ax, si
		shr	ax, 4
		mov	dx, es
		add	dx, ax
		mov	es, dx
		and	si, 0Fh
		dec	di
		jnz	short loc_DD38
		retn	8
sub_DD10	endp


; =============== S U B	R O U T	I N E =======================================


sub_DD97	proc near
		call	egc_on
		mov	ax, 0FFF0h
		mov	dx, 4A0h
		out	dx, ax
		mov	ax, 0FFh
		mov	dx, 4A2h
		out	dx, ax
		mov	ax, 3100h
		mov	dx, 4A4h
		out	dx, ax
		mov	ax, 0
		mov	dx, 4ACh
		out	dx, ax
		mov	ax, 0Fh
		mov	dx, 4AEh
		out	dx, ax
		mov	bx, word_1282C
		mov	ax, word_1282E
		and	ax, 3
		shl	ax, 1
		add	bx, ax
		mov	ax, [bx]
		mov	dx, 4A8h
		out	dx, ax
		inc	word_1282E
		retn
sub_DD97	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DDD8	proc far
					; sub_A9D6+11AP ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_4]
		push	di
		push	cs
		call	near ptr sub_DEE0
		mov	si, di
		shl	si, 2
		add	si, 0A84h
		imul	di, 48h
		add	di, 3852h
		push	[bp+arg_2]
		push	[bp+arg_0]
		push	ds
		push	di
		push	ds
		push	si
		call	graph_pi_load_pack
		pop	di
		pop	si
		pop	bp
		retf	6
sub_DDD8	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DE0A	proc far
					; sub_A9D6+12BP ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_0]
		mov	di, si
		shl	si, 2
		les	si, [si+0A84h]
		imul	di, 48h
		push	[bp+arg_4]
		push	[bp+arg_2]
		mov	ax, [di+3866h]
		push	ax
		shr	ax, 1
		push	ax
		mov	di, [di+3868h]
		call	sub_DE80
		pop	di
		pop	si
		pop	bp
		retf	6
sub_DE0A	endp

; ---------------------------------------------------------------------------
		nop
		push	bp
		mov	bp, sp
		push	si
		push	di
		xor	ax, ax
		xor	dx, dx
		mov	si, [bp+8]
		mov	cl, [bp+6]
		test	cl, 1
		jz	short loc_DE51
		mov	ax, 0A0h ; ' '

loc_DE51:
		test	cl, 2
		jz	short loc_DE59
		mov	dx, 0FA0h

loc_DE59:
		shl	si, 2
		les	si, [si+0A84h]
		add	si, ax
		mov	ax, es
		add	ax, dx
		mov	es, ax
		assume es:nothing
		push	word ptr [bp+0Ch]
		push	word ptr [bp+0Ah]
		push	140h
		push	140h
		mov	di, 0C8h ; 'È'
		call	sub_DE80
		pop	di
		pop	si
		pop	bp
		retf	8

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DE80	proc near

arg_0		= word ptr  2
arg_2		= word ptr  4
arg_4		= word ptr  6
arg_6		= word ptr  8

		mov	bp, sp

loc_DE82:
		push	es
		push	[bp+arg_6]
		push	[bp+arg_4]
		push	es
		push	si
		push	[bp+arg_2]
		call	sub_35B0
		pop	es
		assume es:nothing
		inc	[bp+arg_4]
		cmp	[bp+arg_4], 190h
		jb	short loc_DEA3
		sub	[bp+arg_4], 190h

loc_DEA3:
		add	si, [bp+arg_0]
		mov	ax, si
		shr	ax, 4
		mov	dx, es
		add	dx, ax
		mov	es, dx
		and	si, 0Fh
		dec	di
		jnz	short loc_DE82
		retn	8
sub_DE80	endp


; =============== S U B	R O U T	I N E =======================================


sub_DEBA	proc far
					; sub_A9D6+121P ...
		mov	bx, sp
		push	si
		push	di
		mov	si, ss:[bx+4]
		imul	si, 48h
		add	si, 386Ah
		mov	di, 2E1Eh
		mov	ax, ds
		mov	es, ax
		assume es:dseg
		mov	cx, 0Ch
		rep movsd
		call	far ptr	palette_show
		pop	di
		pop	si
		retf	2
sub_DEBA	endp


; =============== S U B	R O U T	I N E =======================================


sub_DEE0	proc far
					; sub_A9D6+132P ...
		mov	bx, sp
		mov	bx, ss:[bx+4]
		mov	ax, bx
		shl	bx, 2
		add	bx, 0A84h
		cmp	dword ptr [bx],	0
		jz	short locret_DF0E
		imul	ax, 48h
		add	ax, 3852h
		push	ds
		push	ax
		push	word ptr [bx+2]
		push	word ptr [bx]
		mov	dword ptr [bx],	0
		call	graph_pi_free

locret_DF0E:
		retf	2
sub_DEE0	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_DF12	proc far

arg_0		= dword	ptr  6

		push	bp
		mov	bp, sp
		push	word_F9CC
		call	mem_assign_dos
		or	ax, ax
		jz	short loc_DF27
		mov	ax, 1
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_DF27:
		call	sub_1942
		mov	dx, 0A6h ; '¦'
		mov	al, 1
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_1216
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		call	sub_1216
		mov	dx, 0A6h ; '¦'
		mov	al, 0
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	dx, 0A4h ; '¤'
		out	dx, al		; Interrupt Controller #2, 8259A
		mov	word_F566, 2000h
		call	vsync_start
		call	key_beep_off
		call	text_systemline_hide
		call	text_cursor_hide
		call	egc_start
		call	sub_2BAC
		les	bx, [bp+arg_0]
		assume es:nothing
		cmp	byte ptr es:[bx], 0
		jz	short loc_DF82
		push	word ptr [bp+arg_0+2]
		push	bx
		call	sub_37B8

loc_DF82:
		push	400h
		call	bgm_init
		xor	ax, ax
		pop	bp
		retf
sub_DF12	endp


; =============== S U B	R O U T	I N E =======================================


sub_DF8E	proc near
		xor	ax, ax
		mov	word_12A72, ax
		mov	word_11DFA, ax
sub_DF8E	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================


sub_DF96	proc far
		xor	ax, ax
		mov	es, ax
		mov	ah, byte ptr es:[531h]
		test	ah, 4
		jz	short loc_DFA9
		or	byte ptr word_12A72, 1

loc_DFA9:
		test	ah, 20h
		jz	short loc_DFB3
		or	byte ptr word_12A72, 2

loc_DFB3:
		test	ah, 8
		jz	short loc_DFBD
		or	byte ptr word_12A72, 4

loc_DFBD:
		test	ah, 10h
		jz	short loc_DFC7
		or	byte ptr word_12A72, 8

loc_DFC7:
		mov	ah, byte ptr es:[533h]
		test	ah, 1
		jz	short loc_DFD6
		or	byte ptr word_12A72, 8

loc_DFD6:
		test	ah, 4
		jz	short loc_DFE0
		or	byte ptr word_12A72+1, 4

loc_DFE0:
		test	ah, 8
		jz	short loc_DFEA
		or	byte ptr word_12A72, 2

loc_DFEA:
		test	ah, 10h
		jz	short loc_DFF4
		or	byte ptr word_12A72+1, 8

loc_DFF4:
		mov	ah, byte ptr es:[532h]
		test	ah, 40h
		jz	short loc_E003
		or	byte ptr word_12A72, 4

loc_E003:
		test	ah, 4
		jz	short loc_E00D
		or	byte ptr word_12A72+1, 1

loc_E00D:
		test	ah, 8
		jz	short loc_E017
		or	byte ptr word_12A72, 1

loc_E017:
		test	ah, 10h
		jz	short loc_E021
		or	byte ptr word_12A72+1, 2

loc_E021:
		mov	ah, byte ptr es:[52Fh]
		test	ah, 2
		jz	short loc_E030
		or	byte ptr word_12A72, 20h

loc_E030:
		test	ah, 4
		jz	short loc_E03A
		or	byte ptr word_12A72, 10h

loc_E03A:
		mov	ah, byte ptr es:[52Ch]
		test	ah, 1
		jz	short loc_E049
		or	byte ptr word_12A72+1, 40h

loc_E049:
		mov	ah, byte ptr es:[52Ah]
		test	ah, 1
		jz	short loc_E058
		or	byte ptr word_12A72+1, 10h

loc_E058:
		mov	ah, byte ptr es:[52Dh]
		test	ah, 10h
		jz	short loc_E067
		or	byte ptr word_12A72+1, 20h

loc_E067:
		mov	ah, byte ptr es:[530h]
		test	ah, 10h
		jz	short loc_E076
		or	byte ptr word_12A72, 20h

loc_E076:
		mov	ah, 2
		int	18h		; TRANSFER TO ROM BASIC
					; causes transfer to ROM-based BASIC (IBM-PC)
					; often	reboots	a compatible; often has	no effect at all
		and	al, 1
		mov	byte_12A74, al
		cmp	word_F524, 0
		jz	short loc_E08F
		call	sub_2CBA
		or	word_12A72, ax

loc_E08F:
		mov	ax, word_12A72
		retf
sub_DF96	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E094	proc far
					; sub_B806:loc_B949P ...
		push	cs
		call	sub_DF8E
		mov	cx, 400h

loc_E09B:
		out	5Fh, al
		loop	loc_E09B
		push	cs
		call	near ptr sub_DF96
		retf
sub_E094	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E0A4	proc far

arg_0		= word ptr  6

		push	bp
		mov	bp, sp

loc_E0A7:
		push	cs
		call	near ptr sub_E094
		or	ax, ax
		jnz	short loc_E0A7
		mov	bp, [bp+arg_0]

loc_E0B2:
		push	cs
		call	near ptr sub_E094
		or	ax, ax
		jnz	short loc_E0CA
		mov	ax, vsync_Count1

loc_E0BD:
		cmp	ax, vsync_Count1
		jz	short loc_E0BD
		or	bp, bp
		jz	short loc_E0B2
		dec	bp
		jnz	short loc_E0B2

loc_E0CA:
		pop	bp
		retf	2
sub_E0A4	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E0CE	proc far
		push	bp
		mov	bp, sp
		cmp	byte_FA42, 0
		jnz	short loc_E0DD
		mov	ax, 0FFFFh
		pop	bp
		retf
; ---------------------------------------------------------------------------

loc_E0DD:
		mov	ah, 5
		cmp	byte_FA42, 3
		jz	short loc_E0EA
		int	60h		; - FTP	Packet Driver -	BASIC FUNC - TERMINATE DRIVER FOR HANDLE
					; BX = handle
					; Return: CF set on error, DH =	error code
					; CF clear if successful
		jmp	short loc_E0EF
; ---------------------------------------------------------------------------

loc_E0EA:
		mov	dx, 0C0h ; 'À'
		int	61h		; reserved for user interrupt

loc_E0EF:
		pop	bp
		retf
sub_E0CE	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E0F1	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8

		push	bp
		mov	bp, sp
		push	si

loc_E0F5:
		push	cs
		call	near ptr sub_E0CE
		mov	si, ax
		or	si, si
		jge	short loc_E109
		push	[bp+arg_0]
		nop
		push	cs
		call	near ptr sub_E15E
		jmp	short loc_E10E
; ---------------------------------------------------------------------------

loc_E109:
		cmp	si, [bp+arg_2]
		jl	short loc_E0F5

loc_E10E:
		pop	si
		pop	bp
		retf	4
sub_E0F1	endp

; ---------------------------------------------------------------------------
		db 0

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E114	proc far
					; sub_A5F6:loc_A695P ...

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	si, [bp+arg_0]
		shl	si, 4
		add	si, 3A96h
		mov	di, [bp+arg_4]
		sar	di, 3
		add	di, [si+6]
		mov	ax, [si+8]
		mov	bx, ax
		shl	ax, 2
		add	ax, 50h	; 'P'
		mov	dx, ax
		mov	ax, [bp+arg_2]
		mov	cx, ax
		shl	ax, 2
		add	ax, cx
		add	ax, 0A800h
		mov	es, ax
		assume es:nothing
		push	ds
		mov	ds, word ptr [si+0Ch]
		xor	si, si

loc_E14E:
		mov	cx, bx
		rep movsd
		sub	di, dx
		jns	short loc_E14E
		pop	ds
		pop	di
		pop	si
		pop	bp
		retf	6
sub_E114	endp


; =============== S U B	R O U T	I N E =======================================


sub_E15E	proc far
		mov	bx, sp
		mov	bx, ss:[bx+4]
		mov	vsync_Count1, 0

loc_E16A:
		cmp	vsync_Count1, bx
		jb	short loc_E16A
		retf	2
sub_E15E	endp

; ---------------------------------------------------------------------------
		db 0

; =============== S U B	R O U T	I N E =======================================


sub_E174	proc near
		mov	byte_FA94, 1
		nop
sub_E174	endp ; sp-analysis failed


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E17A	proc far

arg_0		= word ptr  6
arg_2		= dword	ptr  8
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	di, [bp+arg_6]
		push	di
		nop
		push	cs
		call	near ptr sub_E294
		shl	di, 4
		add	di, 3A96h
		push	large [bp+arg_2]
		call	sub_A58
		push	ds
		push	di
		push	10h
		call	sub_9A4
		mov	ax, [di]
		mov	dx, ax
		cmp	byte ptr [di+0Bh], 0
		jz	short loc_E1B6
		shl	ax, 2
		cmp	byte ptr [di+0Bh], 2
		jz	short loc_E1B6
		add	ax, dx

loc_E1B6:
		mul	[bp+arg_0]
		movzx	eax, ax
		push	eax
		push	1
		call	sub_A94
		call	sub_E1DA
		call	sub_938
		mov	byte_FA94, 0
		pop	di
		pop	si
		pop	bp
		retf	8
sub_E17A	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E1DA	proc near
		mov	al, [di+0Bh]
		or	al, al
		jz	short loc_E20F
		cmp	al, 2
		jz	short loc_E1EC
		cmp	byte_FA94, 0
		jnz	short loc_E202

loc_E1EC:
		push	word ptr [di]
		call	hmem_allocbyte
		mov	[di+0Ch], ax
		push	ax
		push	0
		push	word ptr [di]
		call	sub_9A4
		jmp	short loc_E20F
; ---------------------------------------------------------------------------

loc_E202:
		movzx	eax, word ptr [di]
		push	eax
		push	1
		call	sub_A94

loc_E20F:
		cmp	byte ptr [di+0Bh], 2
		jz	short locret_E231
		mov	ax, [di]
		shl	ax, 2
		push	ax
		call	hmem_allocbyte
		mov	[di+0Eh], ax
		push	ax
		push	0
		mov	ax, [di]
		shl	ax, 2
		push	ax
		call	sub_9A4

locret_E231:
		retn
sub_E1DA	endp

; ---------------------------------------------------------------------------
		mov	byte_FA94, 1
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E238	proc far

arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		push	si
		push	di
		push	large [bp+arg_0]
		call	sub_A58
		mov	di, [bp+arg_4]
		shl	di, 4
		add	di, 3A96h
		push	ds
		push	di
		push	10h
		call	sub_9A4
		mov	si, di
		mov	bp, [bp+arg_4]
		mov	al, [si+0Ah]
		mov	byte_12E76, al
		push	ds
		pop	es
		assume es:dseg

loc_E266:
		push	bp
		push	cs
		call	near ptr sub_E294
		mov	cx, 3
		rep movsd
		sub	si, 0Ch
		sub	di, 0Ch
		call	sub_E1DA
		inc	bp
		add	di, 10h
		dec	byte_12E76
		jnz	short loc_E266
		call	sub_938
		mov	byte_FA94, 0
		pop	di
		pop	si
		pop	bp
		retf	6
sub_E238	endp


; =============== S U B	R O U T	I N E =======================================


sub_E294	proc far
		mov	bx, sp
		push	di
		mov	di, ss:[bx+4]
		shl	di, 4
		add	di, 3AA2h
		cmp	word ptr [di], 0
		jz	short loc_E2B2
		push	word ptr [di]
		call	hmem_free
		mov	word ptr [di], 0

loc_E2B2:
		add	di, 2
		cmp	word ptr [di], 0
		jz	short loc_E2C5
		push	word ptr [di]
		call	hmem_free
		mov	word ptr [di], 0

loc_E2C5:
		pop	di
		retf	2
sub_E294	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E2CA	proc far
		push	si
		mov	si, 3Fh	; '?'

loc_E2CE:
		push	si
		push	cs
		call	near ptr sub_E294
		dec	si
		jge	short loc_E2CE
		pop	si
		retf
sub_E2CA	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: bp-based frame

sub_E2D8	proc far

arg_0		= word ptr  6
arg_2		= word ptr  8
arg_4		= word ptr  0Ah
arg_6		= word ptr  0Ch

		push	bp
		mov	bp, sp
		push	di
		call	sub_E354
		mov	dx, 4A4h
		mov	ax, 29F0h
		out	dx, ax
		mov	ax, [bp+arg_6]
		mov	dx, [bp+arg_4]
		mov	bx, ax
		sar	bx, 4
		shl	bx, 1
		shl	dx, 6
		add	bx, dx
		shr	dx, 2
		add	bx, dx
		mov	di, bx
		and	ax, 0Fh
		mov	cx, ax
		add	ax, [bp+arg_2]
		shr	ax, 4
		or	cx, cx
		jz	short loc_E30F
		inc	ax

loc_E30F:
		mov	word_12EFE, ax
		mov	cx, 28h	; '('
		sub	cx, ax
		shl	cx, 1
		mov	bx, [bp+arg_0]
		mov	bp, cx
		mov	ax, 0A800h
		mov	es, ax
		assume es:nothing

loc_E323:
		mov	cx, word_12EFE

loc_E327:
		or	di, di
		js	short loc_E33F
		cmp	di, 7D00h
		jnb	short loc_E33F
		mov	al, 1
		out	0A6h, al	; Interrupt Controller #2, 8259A
		mov	dx, es:[di]
		xor	ax, ax
		out	0A6h, al	; Interrupt Controller #2, 8259A
		mov	es:[di], dx

loc_E33F:
		add	di, 2
		loop	loc_E327
		add	di, bp
		dec	bx
		jns	short loc_E323
		call	egc_off
		pop	di
		pop	bp
		retf	8
sub_E2D8	endp

; ---------------------------------------------------------------------------
		nop

; =============== S U B	R O U T	I N E =======================================


sub_E354	proc near
		push	es
		push	0
		pop	es
		pushf
		cli
		mov	al, 80h	; '€'
		out	7Ch, al
		mov	es:[495h], al
		popf
		pop	es
		assume es:nothing
		mov	al, 7
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 5
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	al, 6
		out	6Ah, al		; PC-98	GDC (6a):
					;
		mov	dx, 4A0h
		mov	ax, 0FFF0h
		out	dx, ax
		mov	dx, 4A2h
		mov	ax, 0FFh
		out	dx, ax
		mov	dx, 4A8h
		mov	ax, 0FFFFh
		out	dx, ax
		mov	dx, 4ACh
		sub	ax, ax
		out	dx, ax
		mov	dx, 4AEh
		mov	ax, 0Fh
		out	dx, ax
		retn
sub_E354	endp

seg002		ends

; ===========================================================================

; Segment type:	Pure code
seg003		segment	byte public 'CODE' use16
		assume cs:seg003
		; org 3
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		nop

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::string(string	const &)
@string@$bctr$qmx6string proc far
					; xmsg::xmsg(xmsg &)+56P ...

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9C95h
		call	___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_E3C3
		mov	ax, 4
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_E3DD

loc_E3C3:
		les	bx, [bp+arg_4]
		mov	dx, es:[bx+2]
		mov	ax, es:[bx]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax
		les	bx, es:[bx]
		inc	word ptr es:[bx]

loc_E3DD:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bctr$qmx6string endp

; ---------------------------------------------------------------------------
byte_E403	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 9Bh,	9Ch
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 0B5h, 0
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0), 4, 0, 3, 0,	26h, 0,	2 dup(0FFh)
		db 3, 0, 2Ch, 0, 30h, 0Dh dup(0), 1, 0,	1, 0, 0A2h, 63h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far string__string(__int32, char *s)
@string@$bctr$qnxc proc	far
					; string::assert_element(uint)+5Ap ...

var_22		= word ptr -22h
var_16		= word ptr -16h
var_4		= dword	ptr -4
arg_0		= dword	ptr  6
src		= dword	ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 22h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9D07h
		call	___InitExceptBlocks
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_E4AC
		mov	ax, 4
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jz	short loc_E520

loc_E4AC:
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+var_4+2], dx
		mov	word ptr [bp+var_4], ax
		or	ax, dx
		jz	short loc_E510
		mov	[bp+var_16], 0Eh
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, word ptr [bp+src]
		or	ax, word ptr [bp+src+2]
		jz	short loc_E4E2
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; s
		call	_strlen
		pop	cx
		pop	cx
		jmp	short loc_E4E4
; ---------------------------------------------------------------------------

loc_E4E2:
		xor	ax, ax

loc_E4E4:
		push	ax		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		push	word ptr [bp+var_4+2]
		push	word ptr [bp+var_4] ; __int32
		nop
		push	cs
		call	near ptr @TStringRef@$bctr$qnxcuit1uiui	; TStringRef::TStringRef(char *,uint,char *,uint,uint)
		add	sp, 12h
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	[bp+var_16], 6

loc_E510:
		mov	dx, word ptr [bp+var_4+2]
		mov	ax, word ptr [bp+var_4]
		les	bx, [bp+arg_0]
		mov	es:[bx+2], dx
		mov	es:[bx], ax

loc_E520:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		push	[bp+var_22]
		call	___ExitExceptBlocks
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bctr$qnxc endp

; ---------------------------------------------------------------------------
		db 4, 0, 90h, 20h, 0Ah,	0, 95h,	2
		dw seg seg003
aTstringref	db 'TStringRef *',0
byte_E55D	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 1Dh,	9Dh
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLengther	db 'string::lengtherror',0
		dd byte_E5ED
		db 2 dup(0), 3,	0Dh dup(0)
byte_E5AB	db 6, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 2Eh, 0, 3Ah
		db 0Dh dup(0), 2, 0, 2,	0, 6Ah,	9Dh
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 5Dh,	2
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0)
byte_E5ED	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 0A2h, 63h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 0Ch, 0
		db 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 32h, 0, 3Eh, 0Dh dup(0)
		db 1, 0, 1, 0, 0ACh, 6
		dw seg seg003
		db 5, 0, 42h, 0, 54h, 53h, 74h,	72h, 69h, 6Eh, 67h, 52h
		db 65h,	66h, 2 dup(0), 0DBh, 2
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0), 2, 0, 3, 0,	1Ah, 0,	2 dup(0FFh)
		db 1, 0, 26h, 0, 2Ah, 0Dh dup(0), 54h, 52h, 65h, 66h, 65h
		db 72h,	65h, 6Eh, 63h, 65h, 0Ah	dup(0)

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far string___string(void (*driver)(void), char)
@string@$bdtr$qv proc far
					; xmsg::~xmsg(void)+3FP ...

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9DC0h
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_E711
		les	bx, [bp+driver]
		les	bx, es:[bx]
		dec	word ptr es:[bx]
		mov	ax, es:[bx]
		or	ax, ax
		jnz	short loc_E6FE
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	ax, 3
		push	ax		; char
		les	bx, [bp+driver]
		push	word ptr es:[bx+2]
		push	word ptr es:[bx] ; driver
		nop
		push	cs
		call	near ptr sub_EA3C
		add	sp, 6

loc_E6FE:
		test	[bp+arg_4], 1
		jz	short loc_E711
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	_registerbgidriver
		pop	cx
		pop	cx

loc_E711:
					; string::~string(void)+69j
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@$bdtr$qv endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::assert_element(unsigned int)const
@string@assert_element$xqui proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9DF4h
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jbe	short loc_E74C
		mov	ax, 1
		jmp	short loc_E74E
; ---------------------------------------------------------------------------

loc_E74C:
		xor	ax, ax

loc_E74E:
		or	ax, ax
		jnz	short loc_E7CF
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9EE6h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 2D44h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFEh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_E7CF:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@assert_element$xqui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; string::assert_index(unsigned	int)const
@string@assert_index$xqui proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9E38h
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		les	bx, es:[bx]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jb	short loc_E80A
		mov	ax, 1
		jmp	short loc_E80C
; ---------------------------------------------------------------------------

loc_E80A:
		xor	ax, ax

loc_E80C:
		or	ax, ax
		jnz	short loc_E88D
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9EE6h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 2D62h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFEh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_E88D:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@string@assert_index$xqui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; TSubString::assert_element(unsigned int)const
@TSubString@assert_element$xqui	proc far

var_28		= word ptr -28h
var_26		= word ptr -26h
var_1A		= word ptr -1Ah
src		= byte ptr -8
driver		= byte ptr -4
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp
		sub	sp, 28h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9E7Ch
		call	___InitExceptBlocks
		mov	ax, [bp+arg_4]
		mov	[bp+var_28], ax
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+6]
		cmp	ax, [bp+var_28]
		jbe	short loc_E8C5
		mov	ax, 1
		jmp	short loc_E8C7
; ---------------------------------------------------------------------------

loc_E8C5:
		xor	ax, ax

loc_E8C7:
		or	ax, ax
		jnz	short loc_E948
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		push	ax		; int
		push	ax		; int
		mov	ax, 5
		push	ax		; int
		mov	ax, seg	seg000
		push	ax		; int
		mov	ax, 9EE6h
		push	ax		; int
		xor	ax, ax
		push	ax		; int
		push	ax		; int
		mov	[bp+var_1A], 6
		push	ds
		mov	ax, 2D80h
		push	ax		; s
		push	ss
		lea	ax, [bp+driver]
		push	ax		; __int32
		nop
		push	cs
		call	near ptr @string@$bctr$qnxc ; string::string(char *)
		add	sp, 8
		lea	ax, [bp+driver]
		push	ss
		push	ax
		push	ss
		lea	ax, [bp+src]
		push	ax
		call	@xmsg@$bctr$qmx6string ; xmsg::xmsg(string &)
		add	sp, 8
		mov	[bp+var_1A], 0Eh
		mov	ax, 2
		push	ax		; char
		push	ss
		lea	ax, [bp+driver]
		push	ax		; driver
		push	cs
		call	near ptr @string@$bdtr$qv ; string::~string(void)
		add	sp, 6
		mov	[bp+var_1A], 6
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		lea	ax, [bp+src]
		push	ss
		push	ax		; src
		push	cs		; int
		mov	ax, 0BFEh
		push	ax		; int
		call	@_ThrowException$qnvt1t1t1uiuiuinuc ; _ThrowException(void *,void *,void *,void	*,uint,uint,uint,uchar *)
		add	sp, 1Ah

loc_E948:
		push	[bp+var_26]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
@TSubString@assert_element$xqui	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far TStringRef__TStringRef(__int32, void *src, size_t n, int, int, int,	int)
@TStringRef@$bctr$qnxcuit1uiui proc far

arg_0		= dword	ptr  6
src		= dword	ptr  0Ah
n		= word ptr  0Eh
arg_A		= word ptr  10h
arg_C		= word ptr  12h
arg_E		= word ptr  14h
arg_10		= word ptr  16h

		push	bp
		mov	bp, sp
		push	si
		push	di
		mov	ax, word ptr [bp+arg_0]
		or	ax, word ptr [bp+arg_0+2]
		jnz	short loc_E97A
		mov	ax, 0Ch
		push	ax
		call	@$bnew$qui	; operator new(uint)
		pop	cx
		mov	word ptr [bp+arg_0+2], dx
		mov	word ptr [bp+arg_0], ax
		or	ax, dx
		jnz	short loc_E97A
		jmp	loc_EA20
; ---------------------------------------------------------------------------

loc_E97A:
					; TStringRef::TStringRef(char *,uint,char *,uint,uint)+1Fj
		les	bx, [bp+arg_0]
		mov	word ptr es:[bx], 1
		mov	word ptr es:[bx+0Ah], 0
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		mov	es:[bx+6], ax
		mov	ax, es:[bx+6]
		add	ax, [bp+arg_10]
		push	ax
		nop
		push	cs
		call	near ptr sub_EBD4
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		call	_malloc
		pop	cx
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_E9D4
		push	ds
		mov	ax, 2A9Ah
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_E9D4:
		push	[bp+n]		; n
		push	word ptr [bp+src+2]
		push	word ptr [bp+src] ; src
		les	bx, [bp+arg_0]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2] ; dest
		call	_memcpy
		push	[bp+arg_E]	; n
		push	[bp+arg_C]
		push	[bp+arg_A]	; src
		les	bx, [bp+arg_0]
		mov	ax, es:[bx+2]
		add	ax, [bp+n]
		push	word ptr es:[bx+4]
		push	ax		; dest
		call	_memcpy
		add	sp, 14h
		les	bx, [bp+arg_0]
		les	bx, es:[bx+2]
		mov	ax, [bp+n]
		add	ax, [bp+arg_E]
		add	bx, ax
		mov	byte ptr es:[bx], 0

loc_EA20:
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		add	word ptr es:[bx], 1
		adc	word ptr es:[bx+2], 0
		mov	dx, word ptr [bp+arg_0+2]
		mov	ax, word ptr [bp+arg_0]
		pop	di
		pop	si
		pop	bp
		retf
@TStringRef@$bctr$qnxcuit1uiui endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

; int __cdecl __far sub_EA3C(void (*driver)(void), char)
sub_EA3C	proc far

var_1E		= word ptr -1Eh
driver		= dword	ptr  6
arg_4		= byte ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::~TStringRef(void)
@TStringRef@$bdtr$qv:
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9E96h
		call	___InitExceptBlocks
		call	@__RefDestructorCount$qv ; __RefDestructorCount(void)
		mov	bx, ax
		mov	es, dx
		sub	word ptr es:[bx], 1
		sbb	word ptr es:[bx+2], 0
		mov	ax, word ptr [bp+driver]
		or	ax, word ptr [bp+driver+2]
		jz	short loc_EA8E
		les	bx, [bp+driver]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_farfree
		pop	cx
		pop	cx
		test	[bp+arg_4], 1
		jz	short loc_EA8E
		push	word ptr [bp+driver+2]
		push	word ptr [bp+driver] ; driver
		call	_registerbgidriver
		pop	cx
		pop	cx

loc_EA8E:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_EA3C	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::reserve(unsigned int)
@TStringRef@reserve$qui:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9EA8h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		or	word ptr es:[bx+0Ah], 1
		mov	ax, [bp+0Ah]
		inc	ax
		push	ax
		nop
		push	cs
		call	near ptr sub_EBD4
		pop	cx
		mov	[bp-20h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-20h]
		cmp	ax, word_11D22
		jbe	short loc_EAFC
		mov	ax, [bp-20h]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp-20h]
		mov	es:[bx+8], ax

loc_EAFC:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::check_freeboard(void)
@TStringRef@check_freeboard$qv:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9EB2h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		push	word ptr es:[bx+6]
		nop
		push	cs
		call	near ptr sub_EBD4
		pop	cx
		mov	[bp-20h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-20h]
		cmp	ax, word_11D22
		jbe	short loc_EB64
		mov	ax, [bp-20h]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+6]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, [bp-20h]
		mov	es:[bx+8], ax

loc_EB64:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf

; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_EB72	proc far

var_1E		= word ptr -1Eh
arg_0		= dword	ptr  6
arg_4		= word ptr  0Ah

		push	bp
		mov	bp, sp

; TStringRef::grow_to(unsigned int)
@TStringRef@grow_to$qui:
		sub	sp, 1Eh
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9EC4h
		call	___InitExceptBlocks
		les	bx, [bp+arg_0]
		mov	ax, [bp+arg_4]
		mov	es:[bx+8], ax
		mov	ax, es:[bx+8]
		inc	ax
		push	ax
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_realloc
		add	sp, 6
		les	bx, [bp+arg_0]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_EBC6
		push	ds
		mov	ax, 2A9Ah
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_EBC6:
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_EB72	endp


; =============== S U B	R O U T	I N E =======================================

; Attributes: library function bp-based	frame

sub_EBD4	proc far
					; seg003:072Ep	...

var_20		= word ptr -20h
var_1E		= word ptr -1Eh
arg_0		= word ptr  6

		push	bp
		mov	bp, sp

; TStringRef::round_capacity(unsigned int)
@TStringRef@round_capacity$qui:
		sub	sp, 20h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9ECEh
		call	___InitExceptBlocks
		mov	ax, word_11D1E
		mov	[bp+var_20], ax
		mov	cx, word_11D20
		mov	ax, [bp+arg_0]
		sub	ax, [bp+var_20]
		add	ax, cx
		dec	ax
		xor	dx, dx
		div	cx
		imul	cx
		add	ax, [bp+var_20]
		push	ax
		push	[bp+var_1E]
		call	___ExitExceptBlocks
		pop	ax
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
sub_EBD4	endp

; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; TStringRef::splice(unsigned int, unsigned int, char const *, unsigned	int)
@TStringRef@splice$quiuinxcui:
		sub	sp, 26h
		push	si
		push	di
		mov	ax, seg	seg000
		mov	bx, 9EE0h
		call	___InitExceptBlocks
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		add	ax, [bp+12h]
		sub	ax, [bp+0Ch]
		mov	[bp-24h], ax
		push	ax
		push	cs
		call	near ptr sub_EBD4
		pop	cx
		mov	[bp-26h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		cmp	ax, [bp-26h]
		jnb	short loc_EC5B
		push	word ptr [bp-26h]
		push	word ptr [bp+8]
		push	bx
		push	cs
		call	near ptr sub_EB72
		add	sp, 6
		jmp	short loc_ECCA
; ---------------------------------------------------------------------------

loc_EC5B:
		les	bx, [bp+6]
		mov	ax, es:[bx+8]
		sub	ax, [bp-26h]
		cmp	ax, word_11D22
		jbe	short loc_ECCA
		test	byte ptr es:[bx+0Ah], 1
		jnz	short loc_ECCA
		mov	ax, [bp-26h]
		inc	ax
		push	ax
		call	_malloc
		pop	cx
		mov	[bp-20h], dx
		mov	[bp-22h], ax
		les	bx, [bp+6]
		mov	ax, es:[bx+2]
		or	ax, es:[bx+4]
		jnz	short loc_EC9C
		push	ds
		mov	ax, 2A9Ah
		push	ax
		call	@xalloc@raise$qv ; xalloc::raise(void)
		pop	cx
		pop	cx

loc_EC9C:
		cmp	word ptr [bp+0Ah], 0
		jz	short loc_ECBE
		push	word ptr [bp+0Ah]
		les	bx, [bp+6]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		push	word ptr [bp-20h]
		push	word ptr [bp-22h]
		call	_memcpy
		add	sp, 0Ah

loc_ECBE:
		les	bx, [bp+6]
		mov	ax, [bp-26h]
		mov	es:[bx+8], ax
		jmp	short loc_ECDB
; ---------------------------------------------------------------------------

loc_ECCA:
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		mov	[bp-20h], dx
		mov	[bp-22h], ax

loc_ECDB:
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, [bp-20h]
		jnz	short loc_ECF8
		cmp	ax, [bp-22h]
		jnz	short loc_ECF8
		mov	ax, [bp+12h]
		cmp	ax, [bp+0Ch]
		jz	short loc_ED2A

loc_ECF8:
		les	bx, [bp+6]
		mov	ax, es:[bx+6]
		sub	ax, [bp+0Ah]
		sub	ax, [bp+0Ch]
		push	ax
		mov	ax, es:[bx+2]
		add	ax, [bp+0Ah]
		add	ax, [bp+0Ch]
		push	word ptr es:[bx+4]
		push	ax
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		add	ax, [bp+12h]
		push	word ptr [bp-20h]
		push	ax
		call	_memmove
		add	sp, 0Ah

loc_ED2A:
		cmp	word ptr [bp+12h], 0
		jz	short loc_ED6E
		mov	ax, [bp+0Eh]
		or	ax, [bp+10h]
		jz	short loc_ED55
		push	word ptr [bp+12h]
		push	word ptr [bp+10h]
		push	word ptr [bp+0Eh]
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		push	word ptr [bp-20h]
		push	ax
		call	_memmove
		add	sp, 0Ah
		jmp	short loc_ED6E
; ---------------------------------------------------------------------------

loc_ED55:
		push	word ptr [bp+12h]
		mov	ax, 20h	; ' '
		push	ax
		mov	ax, [bp-22h]
		add	ax, [bp+0Ah]
		push	word ptr [bp-20h]
		push	ax
		call	_memset
		add	sp, 8

loc_ED6E:
		les	bx, [bp+6]
		mov	ax, [bp-24h]
		mov	es:[bx+6], ax
		push	es
		les	ax, [bp-22h]
		mov	dx, es
		pop	es
		add	ax, es:[bx+6]
		mov	bx, ax
		mov	es, dx
		mov	byte ptr es:[bx], 0
		les	bx, [bp+6]
		mov	dx, es:[bx+4]
		mov	ax, es:[bx+2]
		cmp	dx, [bp-20h]
		jnz	short loc_EDA0
		cmp	ax, [bp-22h]
		jz	short loc_EDC3

loc_EDA0:
		les	bx, [bp+6]
		push	word ptr es:[bx+4]
		push	word ptr es:[bx+2]
		call	_farfree
		pop	cx
		pop	cx
		les	bx, [bp+6]
		mov	dx, [bp-20h]
		mov	ax, [bp-22h]
		mov	es:[bx+4], dx
		mov	es:[bx+2], ax

loc_EDC3:
		push	word ptr [bp-1Eh]
		call	___ExitExceptBlocks
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::set_case_sensitive(int)
@string@set_case_sensitive$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_11D18
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_11D18, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::set_paranoid_check(int)
@string@set_paranoid_check$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_11D1A
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_11D1A, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::skip_whitespace(int)
@string@skip_whitespace$qi:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_11D1C
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_11D1C, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::initial_capacity(unsigned int)
@string@initial_capacity$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_11D1E
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_11D1E, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::resize_increment(unsigned int)
@string@resize_increment$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_11D20
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_11D20, ax
		cmp	word_11D20, 0
		jnz	short loc_EE66
		mov	word_11D20, 1

loc_EE66:
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
		push	bp
		mov	bp, sp

; string::max_waste(unsigned int)
@string@max_waste$qui:
		sub	sp, 2
		push	si
		push	di
		mov	ax, word_11D22
		mov	[bp-2],	ax
		mov	ax, [bp+6]
		mov	word_11D22, ax
		mov	ax, [bp-2]
		pop	di
		pop	si
		mov	sp, bp
		pop	bp
		retf
; ---------------------------------------------------------------------------
byte_EE8C	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 1Bh,	9Fh
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringLength_0	db 'string::lengtherror',0
		dd byte_EF1C
		dw 0
		db 3, 0Dh dup(0), 6, 0,	3, 0, 26h, 0, 2	dup(0FFh), 7, 0
		db 2Eh,	0, 3Ah,	0Dh dup(0), 2, 0, 2, 0,	68h, 9Fh
		dw seg seg000
		db 5, 0, 3Eh, 0, 78h, 61h, 2 dup(6Ch), 6Fh, 63h, 2 dup(0)
		db 8Ch,	0Bh
		dw seg seg003
		db 2 dup(0), 3,	0Dh dup(0)
byte_EF1C	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Ch, 0, 30h
		db 0Dh dup(0), 1, 0, 1,	0, 0A2h, 63h
		dw seg seg000
		db 5, 0, 34h, 0, 78h, 6Dh, 73h,	67h, 0Eh dup(0), 4, 0
		db 3, 0, 26h, 0, 2 dup(0FFh), 3, 0, 2Eh, 0, 32h, 0Dh dup(0)
		db 1, 0, 1, 0, 9, 3
		dw seg seg003
		db 5, 0, 36h, 0, 73h, 74h, 72h,	69h, 6Eh, 67h, 0Eh dup(0)
byte_EF8E	db 4, 0, 3, 0, 26h, 0, 2 dup(0FFh), 7, 0, 3Ah, 0, 46h
		db 0Dh dup(0), 2, 0, 2,	0, 0B5h, 9Fh
		dw seg seg000
		db 5, 0, 4Ah, 0
aStringOutofran	db 'string::outofrange',0
		db 0
		dd byte_EF1C
		db 2 dup(0), 3,	11h dup(0)
seg003		ends

; ===========================================================================

; Segment type:	Pure data
dseg		segment	para public 'DATA' use16
		assume cs:dseg

include libs/BorlandC/c0[data].asm

		db    0
byte_F071	db 0
byte_F072	db 0
					; sub_A9D6+1D9w ...
byte_F073	db 1
MENU_DESC		dd aMENU_START		; "ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·"
		dd aMENU_START_EXTRA	; "ƒGƒLƒXƒgƒ‰ƒXƒe[ƒW‚ðŠJŽn‚µ‚Ü‚·"
		dd aMENU_HISCORE	; "Œ»Ý‚ÌƒnƒCƒXƒRƒA‚ð•\\Ž¦‚µ‚Ü‚·"
		dd aMENU_MUSICROOM		; "‰¹ŠyŽº‚É“ü‚è‚Ü‚·"
		dd aMENU_OPTION		; "ŠeŽíÝ’è‚ð•ÏXo—ˆ‚Ü‚·"
		dd aMENU_QUIT	; "‚c‚n‚r‚É–ß‚è‚Ü‚·"
		dd aMENU_EASY		; "“ïˆÕ“x‚ð‚â‚³‚µ‚­‚µ‚Ü‚·@	i‰SŽÒŒü"...
		dd aMENU_NORMAL		; "“ïˆÕ“x‚ð•W€‚É‚µ‚Ü‚·@@@	 iˆê”ÊŒü‚"...
		dd aMENU_HARD		; "“ïˆÕ“x‚ð“ï‚µ‚­‚µ‚Ü‚·@@@iƒA[ƒP[ƒ_"...
		dd aMENU_LUNATIC		; "“ïˆÕ“x‚ð”ñí‚É“ï‚µ‚­‚µ‚Ü‚·@iƒVƒ…[ƒ^"...
		dd aMENU_LIVES	; "ƒQ[ƒ€ƒXƒ^[ƒgŽž‚Ìl”‚ð•ÏXo—ˆ‚Ü‚·i"...
		dd aMENU_BOMBS		; "ƒ{ƒ€‚ÌŽg—p‰ñ”‚ð•ÏXo—ˆ‚Ü‚·iœ‚­ƒGƒLƒ"...
		dd aMENU_BGM_OFF	; "‚a‚f‚l‚Í—¬‚ê‚Ü‚¹‚ñ"
		dd aMENU_BGM_26K	; "‚a‚f‚l‚É‚Q‚U‚j‰¹Œ¹ŒÝŠ·‚ðŽg—p‚µ‚Ü‚·"
		dd aMENU_BGM_86K	; "‚a‚f‚l‚É‚W‚U‰¹Œ¹ŒÝŠ·‚ðŽg—p‚µ‚Ü‚·"
		dd aMENU_SFX_OFF			; "Œø‰Ê‰¹‚Í—¬‚ê‚Ü‚¹‚ñ"
		dd aMENU_SFX_FM			; "Œø‰Ê‰¹‚É‚e‚l‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·"
		dd aMENU_SFX_BEEP			; "Œø‰Ê‰¹‚É‚a‚…‚…‚‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·"
		dd aMENU_SLOW	; "“G’e‚Ì‘½‚¢êŠ‚ÅA‚í‚´‚Æˆ——Ž‚¿iƒXƒ"...
		dd aMENU_TURBO		; "ˆ——Ž‚¿‚ðƒ}ƒVƒ“‚ÌƒXƒs[ƒh‚É”C‚¹‚Ü‚·i•"...
		dd aMENU_RESET	; "‚±‚ÌƒIƒvƒVƒ‡ƒ“‚ð‘S‚Ä•W€‚É–ß‚µ‚Ü‚·"
		dd aMENU_OPTION_QUIT		; "ƒIƒvƒVƒ‡ƒ“‚ðI—¹‚µ‚Ü‚·"
		dd aMENU_START_EASY		; "ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒC[ƒW[j"
		dd aMENU_START_NORMAL		; "ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒm[ƒ}ƒ‹j"
		dd aMENU_START_HARD		; "ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒn[ƒhj"
		dd aMENU_START_LUNATIC		; "ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒ‹ƒiƒeƒBƒbƒNj"
byte_F0DC	db 0
byte_F0DD	db 0
; char aMain[]
aMain		db 'main',0
; char path[]
path		db 'deb',0
aMENU_START	db 'ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·',0
aMENU_START_EXTRA db 'ƒGƒLƒXƒgƒ‰ƒXƒe[ƒW‚ðŠJŽn‚µ‚Ü‚·',0
aMENU_HISCORE	db 'Œ»Ý‚ÌƒnƒCƒXƒRƒA‚ð•\Ž¦‚µ‚Ü‚·',0
aMENU_MUSICROOM		db '‰¹ŠyŽº‚É“ü‚è‚Ü‚·',0
aMENU_OPTION	db 'ŠeŽíÝ’è‚ð•ÏXo—ˆ‚Ü‚·',0
aMENU_QUIT	db '‚c‚n‚r‚É–ß‚è‚Ü‚·',0
aMENU_EASY	db '“ïˆÕ“x‚ð‚â‚³‚µ‚­‚µ‚Ü‚·@     i‰SŽÒŒü‚¯j@ ',0
aMENU_NORMAL	db '“ïˆÕ“x‚ð•W€‚É‚µ‚Ü‚·@@@    iˆê”ÊŒü‚¯j@@',0
aMENU_HARD	db '“ïˆÕ“x‚ð“ï‚µ‚­‚µ‚Ü‚·@@@iƒA[ƒP[ƒ_[Œü‚¯j',0
aMENU_LUNATIC		db '“ïˆÕ“x‚ð”ñí‚É“ï‚µ‚­‚µ‚Ü‚·@iƒVƒ…[ƒ^[Œü‚¯j',0
aMENU_LIVES db	'ƒQ[ƒ€ƒXƒ^[ƒgŽž‚Ìl”‚ð•ÏXo—ˆ‚Ü‚·iœ‚­ƒGƒLƒXƒgƒ‰j',0
aMENU_BOMBS	db 'ƒ{ƒ€‚ÌŽg—p‰ñ”‚ð•ÏXo—ˆ‚Ü‚·iœ‚­ƒGƒLƒXƒgƒ‰j',0
aMENU_BGM_OFF	db '‚a‚f‚l‚Í—¬‚ê‚Ü‚¹‚ñ',0
aMENU_BGM_26K db '‚a‚f‚l‚É‚Q‚U‚j‰¹Œ¹ŒÝŠ·‚ðŽg—p‚µ‚Ü‚·',0
aMENU_BGM_86K db '‚a‚f‚l‚É‚W‚U‰¹Œ¹ŒÝŠ·‚ðŽg—p‚µ‚Ü‚·',0
aMENU_SFX_OFF		db 'Œø‰Ê‰¹‚Í—¬‚ê‚Ü‚¹‚ñ',0
aMENU_SFX_FM		db 'Œø‰Ê‰¹‚É‚e‚l‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·',0
aMENU_SFX_BEEP		db 'Œø‰Ê‰¹‚É‚a‚…‚…‚‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·',0
aMENU_SLOW	db '“G’e‚Ì‘½‚¢êŠ‚ÅA‚í‚´‚Æˆ——Ž‚¿iƒXƒ[j‚³‚¹‚Ü‚·i‰SŽÒ—pj',0
aMENU_TURBO	db 'ˆ——Ž‚¿‚ðƒ}ƒVƒ“‚ÌƒXƒs[ƒh‚É”C‚¹‚Ü‚·i•W€j',0
aMENU_RESET	db '‚±‚ÌƒIƒvƒVƒ‡ƒ“‚ð‘S‚Ä•W€‚É–ß‚µ‚Ü‚·',0
aMENU_OPTION_QUIT	db 'ƒIƒvƒVƒ‡ƒ“‚ðI—¹‚µ‚Ü‚·',0
aMENU_START_EASY	db 'ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒC[ƒW[j',0
aMENU_START_NORMAL	db 'ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒm[ƒ}ƒ‹j',0
aMENU_START_HARD	db 'ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒn[ƒhj',0
aMENU_START_LUNATIC		db 'ƒQ[ƒ€‚ðŠJŽn‚µ‚Ü‚·iƒ‹ƒiƒeƒBƒbƒNj',0
aOp1_pi		db 'op1.pi',0
					; sub_A9D6+117o ...
aMiko		db 'miko',0
					; sub_ABCF+20Bo ...
aOp		db 'op',0
					; sub_ABCF+1C5o ...
aKaikidan1_dat0	db '‰öãY’k1.dat',0
aNotEnoughMem	db 0Ah
		db '‹ó‚«ƒƒ‚ƒŠ•s‘«‚Å‚·Bƒƒ‚ƒŠ‹ó‚«‚ð‘‚â‚µ‚Ä‚©‚çŽÀs‚µ‚Ä‚Ë',0Ah,0
		db    0
include libs/master.lib/atrtcmod[data].asm
include libs/master.lib/bfnt_id[data].asm
word_F4C0	dw 0
word_F4C2	dw 27Fh
word_F4C4	dw 27Fh
word_F4C6	dw 0
word_F4C8	dw 18Fh
word_F4CA	dw 18Fh
word_F4CC	dw 0A800h
word_F4CE	dw 7CB0h
					; seg000:loc_2BD6r
		db    0
		db    0
		db  80h	; €
		db    0
		db 0C0h	; À
		db    0
		db 0E0h	; à
		db    0
		db 0F0h	; ð
		db    0
		db 0F8h	; ø
		db    0
		db 0FCh	; ü
		db    0
		db 0FEh	; þ
		db    0
		db 0FFh
		db    0
		db 0FFh
		db  80h	; €
		db 0FFh
		db 0C0h	; À
		db 0FFh
		db 0E0h	; à
		db 0FFh
		db 0F0h	; ð
		db 0FFh
		db 0F8h	; ø
		db 0FFh
		db 0FCh	; ü
		db 0FFh
		db 0FEh	; þ
		db 0FFh
		db 0FFh
word_F4F2	dw 0
word_F4F4	dw 0FFFFh
include libs/master.lib/dos_ropen[data].asm
include libs/master.lib/get_machine_98[data].asm
include libs/master.lib/get_machine_at[data].asm
word_F518	dw 0A800h
word_F51A	dw 3E80h
word_F51C	dw 190h
		db  50h	; P
		db    0
word_F520	dw 0
		db  55h	; U
		db    0
word_F524	dw 0
					; sub_DF96+E9r
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
include libs/master.lib/machine[data].asm
include libs/master.lib/pal[data].asm
word_F566	dw 200h
byte_F568	db 0
					; sub_682+48w
		db 0
		db 0
		db 0
word_F56C	dw 1
word_F56E	dw 0
		db    0
		db    0
		db    6
		db    0
		db  0Dh
		db    0
		db  13h
		db    0
		db  19h
		db    0
		db  1Fh
		db    0
		db  26h	; &
		db    0
		db  2Ch	; ,
		db    0
		db  32h	; 2
		db    0
		db  38h	; 8
		db    0
		db  3Eh	; >
		db    0
		db  44h	; D
		db    0
		db  4Ah	; J
		db    0
		db  50h	; P
		db    0
		db  56h	; V
		db    0
		db  5Ch	; \
		db    0
		db  62h	; b
		db    0
		db  68h	; h
		db    0
		db  6Dh	; m
		db    0
		db  73h	; s
		db    0
		db  79h	; y
		db    0
		db  7Eh	; ~
		db    0
		db  84h	; „
		db    0
		db  89h	; ‰
		db    0
		db  8Eh	; Ž
		db    0
		db  93h	; “
		db    0
		db  98h	; ˜
		db    0
		db  9Dh	; 
		db    0
		db 0A2h	; ¢
		db    0
		db 0A7h	; §
		db    0
		db 0ACh	; ¬
		db    0
		db 0B1h	; ±
		db    0
		db 0B5h	; µ
		db    0
		db 0B9h	; ¹
		db    0
		db 0BEh	; ¾
		db    0
		db 0C2h	; Â
		db    0
		db 0C6h	; Æ
		db    0
		db 0CAh	; Ê
		db    0
		db 0CEh	; Î
		db    0
		db 0D1h	; Ñ
		db    0
		db 0D5h	; Õ
		db    0
		db 0D8h	; Ø
		db    0
		db 0DCh	; Ü
		db    0
		db 0DFh	; ß
		db    0
		db 0E2h	; â
		db    0
		db 0E5h	; å
		db    0
		db 0E7h	; ç
		db    0
		db 0EAh	; ê
		db    0
		db 0EDh	; í
		db    0
		db 0EFh	; ï
		db    0
		db 0F1h	; ñ
		db    0
		db 0F3h	; ó
		db    0
		db 0F5h	; õ
		db    0
		db 0F7h	; ÷
		db    0
		db 0F8h	; ø
		db    0
		db 0FAh	; ú
		db    0
		db 0FBh	; û
		db    0
		db 0FCh	; ü
		db    0
		db 0FDh	; ý
		db    0
		db 0FEh	; þ
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db    0
		db    1
		db    0
		db    1
		db    0
		db    1
		db    0
		db    1
		db    0
		db    1
		db 0FFh
		db    0
		db 0FFh
		db    0
		db 0FEh	; þ
		db    0
		db 0FDh	; ý
		db    0
		db 0FCh	; ü
		db    0
		db 0FBh	; û
		db    0
		db 0FAh	; ú
		db    0
		db 0F8h	; ø
		db    0
		db 0F7h	; ÷
		db    0
		db 0F5h	; õ
		db    0
		db 0F3h	; ó
		db    0
		db 0F1h	; ñ
		db    0
		db 0EFh	; ï
		db    0
		db 0EDh	; í
		db    0
		db 0EAh	; ê
		db    0
		db 0E7h	; ç
		db    0
		db 0E5h	; å
		db    0
		db 0E2h	; â
		db    0
		db 0DFh	; ß
		db    0
		db 0DCh	; Ü
		db    0
		db 0D8h	; Ø
		db    0
		db 0D5h	; Õ
		db    0
		db 0D1h	; Ñ
		db    0
		db 0CEh	; Î
		db    0
		db 0CAh	; Ê
		db    0
		db 0C6h	; Æ
		db    0
		db 0C2h	; Â
		db    0
		db 0BEh	; ¾
		db    0
		db 0B9h	; ¹
		db    0
		db 0B5h	; µ
		db    0
		db 0B1h	; ±
		db    0
		db 0ACh	; ¬
		db    0
		db 0A7h	; §
		db    0
		db 0A2h	; ¢
		db    0
		db  9Dh	; 
		db    0
		db  98h	; ˜
		db    0
		db  93h	; “
		db    0
		db  8Eh	; Ž
		db    0
		db  89h	; ‰
		db    0
		db  84h	; „
		db    0
		db  7Eh	; ~
		db    0
		db  79h	; y
		db    0
		db  73h	; s
		db    0
		db  6Dh	; m
		db    0
		db  68h	; h
		db    0
		db  62h	; b
		db    0
		db  5Ch	; \
		db    0
		db  56h	; V
		db    0
		db  50h	; P
		db    0
		db  4Ah	; J
		db    0
		db  44h	; D
		db    0
		db  3Eh	; >
		db    0
		db  38h	; 8
		db    0
		db  32h	; 2
		db    0
		db  2Ch	; ,
		db    0
		db  26h	; &
		db    0
		db  1Fh
		db    0
		db  19h
		db    0
		db  13h
		db    0
		db  0Dh
		db    0
		db    6
		db    0
		db    0
		db    0
		db 0FAh	; ú
		db 0FFh
		db 0F3h	; ó
		db 0FFh
		db 0EDh	; í
		db 0FFh
		db 0E7h	; ç
		db 0FFh
		db 0E1h	; á
		db 0FFh
		db 0DAh	; Ú
		db 0FFh
		db 0D4h	; Ô
		db 0FFh
		db 0CEh	; Î
		db 0FFh
		db 0C8h	; È
		db 0FFh
		db 0C2h	; Â
		db 0FFh
		db 0BCh	; ¼
		db 0FFh
		db 0B6h	; ¶
		db 0FFh
		db 0B0h	; °
		db 0FFh
		db 0AAh	; ª
		db 0FFh
		db 0A4h	; ¤
		db 0FFh
		db  9Eh	; ž
		db 0FFh
		db  98h	; ˜
		db 0FFh
		db  93h	; “
		db 0FFh
		db  8Dh	; 
		db 0FFh
		db  87h	; ‡
		db 0FFh
		db  82h	; ‚
		db 0FFh
		db  7Ch	; |
		db 0FFh
		db  77h	; w
		db 0FFh
		db  72h	; r
		db 0FFh
		db  6Dh	; m
		db 0FFh
		db  68h	; h
		db 0FFh
		db  63h	; c
		db 0FFh
		db  5Eh	; ^
		db 0FFh
		db  59h	; Y
		db 0FFh
		db  54h	; T
		db 0FFh
		db  4Fh	; O
		db 0FFh
		db  4Bh	; K
		db 0FFh
		db  47h	; G
		db 0FFh
		db  42h	; B
		db 0FFh
		db  3Eh	; >
		db 0FFh
		db  3Ah	; :
		db 0FFh
		db  36h	; 6
		db 0FFh
		db  32h	; 2
		db 0FFh
		db  2Fh	; /
		db 0FFh
		db  2Bh	; +
		db 0FFh
		db  28h	; (
		db 0FFh
		db  24h	; $
		db 0FFh
		db  21h	; !
		db 0FFh
		db  1Eh
		db 0FFh
		db  1Bh
		db 0FFh
		db  19h
		db 0FFh
		db  16h
		db 0FFh
		db  13h
		db 0FFh
		db  11h
		db 0FFh
		db  0Fh
		db 0FFh
		db  0Dh
		db 0FFh
		db  0Bh
		db 0FFh
		db    9
		db 0FFh
		db    8
		db 0FFh
		db    6
		db 0FFh
		db    5
		db 0FFh
		db    4
		db 0FFh
		db    3
		db 0FFh
		db    2
		db 0FFh
		db    1
		db 0FFh
		db    1
		db 0FFh
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    1
		db 0FFh
		db    1
		db 0FFh
		db    2
		db 0FFh
		db    3
		db 0FFh
		db    4
		db 0FFh
		db    5
		db 0FFh
		db    6
		db 0FFh
		db    8
		db 0FFh
		db    9
		db 0FFh
		db  0Bh
		db 0FFh
		db  0Dh
		db 0FFh
		db  0Fh
		db 0FFh
		db  11h
		db 0FFh
		db  13h
		db 0FFh
		db  16h
		db 0FFh
		db  19h
		db 0FFh
		db  1Bh
		db 0FFh
		db  1Eh
		db 0FFh
		db  21h	; !
		db 0FFh
		db  24h	; $
		db 0FFh
		db  28h	; (
		db 0FFh
		db  2Bh	; +
		db 0FFh
		db  2Fh	; /
		db 0FFh
		db  32h	; 2
		db 0FFh
		db  36h	; 6
		db 0FFh
		db  3Ah	; :
		db 0FFh
		db  3Eh	; >
		db 0FFh
		db  42h	; B
		db 0FFh
		db  47h	; G
		db 0FFh
		db  4Bh	; K
		db 0FFh
		db  4Fh	; O
		db 0FFh
		db  54h	; T
		db 0FFh
		db  59h	; Y
		db 0FFh
		db  5Eh	; ^
		db 0FFh
		db  63h	; c
		db 0FFh
		db  68h	; h
		db 0FFh
		db  6Dh	; m
		db 0FFh
		db  72h	; r
		db 0FFh
		db  77h	; w
		db 0FFh
		db  7Ch	; |
		db 0FFh
		db  82h	; ‚
		db 0FFh
		db  87h	; ‡
		db 0FFh
		db  8Dh	; 
		db 0FFh
		db  93h	; “
		db 0FFh
		db  98h	; ˜
		db 0FFh
		db  9Eh	; ž
		db 0FFh
		db 0A4h	; ¤
		db 0FFh
		db 0AAh	; ª
		db 0FFh
		db 0B0h	; °
		db 0FFh
		db 0B6h	; ¶
		db 0FFh
		db 0BCh	; ¼
		db 0FFh
		db 0C2h	; Â
		db 0FFh
		db 0C8h	; È
		db 0FFh
		db 0CEh	; Î
		db 0FFh
		db 0D4h	; Ô
		db 0FFh
		db 0DAh	; Ú
		db 0FFh
		db 0E1h	; á
		db 0FFh
		db 0E7h	; ç
		db 0FFh
		db 0EDh	; í
		db 0FFh
		db 0F3h	; ó
		db 0FFh
		db 0FAh	; ú
		db 0FFh
		db    0
		db    0
		db    6
		db    0
		db  0Dh
		db    0
		db  13h
		db    0
		db  19h
		db    0
		db  1Fh
		db    0
		db  26h	; &
		db    0
		db  2Ch	; ,
		db    0
		db  32h	; 2
		db    0
		db  38h	; 8
		db    0
		db  3Eh	; >
		db    0
		db  44h	; D
		db    0
		db  4Ah	; J
		db    0
		db  50h	; P
		db    0
		db  56h	; V
		db    0
		db  5Ch	; \
		db    0
		db  62h	; b
		db    0
		db  68h	; h
		db    0
		db  6Dh	; m
		db    0
		db  73h	; s
		db    0
		db  79h	; y
		db    0
		db  7Eh	; ~
		db    0
		db  84h	; „
		db    0
		db  89h	; ‰
		db    0
		db  8Eh	; Ž
		db    0
		db  93h	; “
		db    0
		db  98h	; ˜
		db    0
		db  9Dh	; 
		db    0
		db 0A2h	; ¢
		db    0
		db 0A7h	; §
		db    0
		db 0ACh	; ¬
		db    0
		db 0B1h	; ±
		db    0
		db 0B5h	; µ
		db    0
		db 0B9h	; ¹
		db    0
		db 0BEh	; ¾
		db    0
		db 0C2h	; Â
		db    0
		db 0C6h	; Æ
		db    0
		db 0CAh	; Ê
		db    0
		db 0CEh	; Î
		db    0
		db 0D1h	; Ñ
		db    0
		db 0D5h	; Õ
		db    0
		db 0D8h	; Ø
		db    0
		db 0DCh	; Ü
		db    0
		db 0DFh	; ß
		db    0
		db 0E2h	; â
		db    0
		db 0E5h	; å
		db    0
		db 0E7h	; ç
		db    0
		db 0EAh	; ê
		db    0
		db 0EDh	; í
		db    0
		db 0EFh	; ï
		db    0
		db 0F1h	; ñ
		db    0
		db 0F3h	; ó
		db    0
		db 0F5h	; õ
		db    0
		db 0F7h	; ÷
		db    0
		db 0F8h	; ø
		db    0
		db 0FAh	; ú
		db    0
		db 0FBh	; û
		db    0
		db 0FCh	; ü
		db    0
		db 0FDh	; ý
		db    0
		db 0FEh	; þ
		db    0
		db 0FFh
		db    0
		db 0FFh
		db    0
		db    0
		db    1
		db    0
		db    1
include libs/master.lib/tx[data].asm
include libs/master.lib/vs[data].asm
		db 0FFh
		db  7Fh	; 
		db  3Fh	; ?
		db  1Fh
		db  0Fh
		db    7
		db    3
		db    1
include libs/master.lib/mem[data].asm
include libs/master.lib/super_entry_bfnt[data].asm
include libs/master.lib/superpa[data].asm
aPal98Grb	db 'pal98 grb',0
		dw 0FFFFh
include libs/master.lib/bgm_timerhook[data].asm
include libs/master.lib/bgm[data].asm
		db    0
		db    0
		db  20h
		db  10h
		db    2
		db  12h
		db  12h
		db  40h	; @
		db  10h
		db  11h
		db    2
		db  12h
		db  20h
		db  20h
		db  20h
		db  20h
		db    0
		db    0
		db    0
		db  24h	; $
		db  10h
		db    4
		db  10h
		db    8
		db  30h	; 0
		db  50h	; P
		db  11h
		db    4
		db  0Bh
		db  50h	; P
		db  50h	; P
		db  50h	; P
		db  20h
		db    0
		db  71h	; q
		db    0
		db  6Bh	; k
		db    0
		db  78h	; x
		db    0
		db  72h	; r
		db    0
		db  89h	; ‰
		db    0
		db  1Fh
		db    0
		db  19h
		db    0
		db  26h	; &
		db    0
		db  20h
		db    0
		db  37h	; 7
		db    0
		db 0BEh	; ¾
		db    9
		db 0C6h	; Æ
		db    9
		db 0CEh	; Î
		db    9
		db 0D6h	; Ö
		db    9
		db  88h	; ˆ
		db  88h	; ˆ
		db    0
		db    0
		db  22h	; "
		db  22h	; "
		db    0
		db    0
		db  88h	; ˆ
		db  88h	; ˆ
		db  44h	; D
		db  44h	; D
		db  22h	; "
		db  22h	; "
		db  11h
		db  11h
		db 0AAh	; ª
		db 0AAh	; ª
		db  44h	; D
		db  44h	; D
		db 0AAh	; ª
		db 0AAh	; ª
		db  11h
		db  11h
		db 0AAh	; ª
		db 0AAh	; ª
		db  55h	; U
		db  55h	; U
		db 0AAh	; ª
		db 0AAh	; ª
		db  55h	; U
		db  55h	; U
word_F9BE	dw 2
					; sub_A717+204w ...
word_F9C0	dw 10h
byte_F9C2	db 0FFh
byte_F9C3	db 0
word_F9C4	dw 0
word_F9C6	dw 0
word_F9C8	dw 0
word_F9CA	dw 0
word_F9CC	dw 4E20h
		db  3Bh	; ;
		db  83h	; ƒ
		db 0BBh	; »
		db  83h	; ƒ
		db 0B8h	; ¸
		db  3Bh	; ;
		db 0B8h	; ¸
		db  3Bh	; ;
		db  83h	; ƒ
		db 0BBh	; »
		db  83h	; ƒ
		db 0B8h	; ¸
		db  3Bh	; ;
		db 0B8h	; ¸
		db  3Bh	; ;
		db  83h	; ƒ
		db 0BBh	; »
		db  83h	; ƒ
		db 0B8h	; ¸
		db  3Bh	; ;
		db 0B8h	; ¸
		db  3Bh	; ;
		db  83h	; ƒ
		db 0BBh	; »
		db  83h	; ƒ
		db 0B8h	; ¸
		db  3Bh	; ;
		db 0B8h	; ¸
		db  3Fh	; ?
		db  60h	; `
		db 0C0h	; À
		db 0FEh	; þ
		db  80h	; €
		db  80h	; €
unk_F9F0	db 0C0h	; À
		db  40h	; @
		db  66h	; f
		db 0A9h	; ©
		db  99h	; ™
		db  81h	; 
		db  81h	; 
		db  81h	; 
		db 0C3h	; Ã
		db  42h	; B
		db  3Ch	; <
		db    4
		db    4
		db    4
		db    4
		db    4
		db  0Ch
		db    8
		db  3Ch	; <
		db  42h	; B
		db  81h	; 
		db    1
		db    6
		db  18h
		db  61h	; a
		db  7Eh	; ~
		db  3Ch	; <
		db  42h	; B
		db    1
		db  0Eh
		db    1
		db 0C1h	; Á
		db  42h	; B
		db  7Ch	; |
		db  0Ch
		db  12h
		db  22h	; "
		db  42h	; B
		db  42h	; B
		db  7Fh	; 
		db    2
		db    2
		db  3Eh	; >
		db  40h	; @
		db  80h	; €
		db 0BCh	; ¼
		db  42h	; B
		db    1
		db  82h	; ‚
		db  7Ch	; |
		db  7Eh	; ~
		db 0C1h	; Á
		db  80h	; €
		db  70h	; p
		db  0Eh
		db    1
		db  83h	; ƒ
		db  7Eh	; ~
		db  3Eh	; >
		db  63h	; c
		db 0C0h	; À
		db  80h	; €
		db  86h	; †
		db 0C1h	; Á
		db  63h	; c
		db  3Ch	; <
		db  65h	; e
		db  66h	; f
		db  63h	; c
		db    0
dword_FA36	dd 6Dh
		db  6Dh	; m
		db  32h	; 2
		db    0
		db  6Dh	; m
		db  6Dh	; m
		db  64h	; d
		db    0
byte_FA41	db 0
					; sub_D380:loc_D3CCw ...
byte_FA42	db 0
byte_FA43	db 0
		db    0
		db    0
		db  11h
		db  11h
		db    0
		db    0
		db  44h	; D
		db  44h	; D
		db  88h	; ˆ
		db  88h	; ˆ
		db  11h
		db  11h
		db  22h	; "
		db  22h	; "
		db  44h	; D
		db  44h	; D
		db 0AAh	; ª
		db 0AAh	; ª
		db  55h	; U
		db  55h	; U
		db 0AAh	; ª
		db 0AAh	; ª
		db  55h	; U
		db  55h	; U
		db 0EEh	; î
		db 0EEh	; î
		db  77h	; w
		db  77h	; w
		db 0BBh	; »
		db 0BBh	; »
		db 0DDh	; Ý
		db 0DDh	; Ý
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
dword_FA84	dd 0A8000000h
					; sub_CE65:loc_CEC6r
		db    0
		db    0
		db    0
		db 0B0h	; °
		db    0
		db    0
		db    0
		db 0B8h	; ¸
		db    0
		db    0
		db    0
		db 0E0h	; à
byte_FA94	db 0
		db 0
SETUP_BGM_BODY	dd aSETUP_BGM_BODY1
					; "ƒXƒeƒŒƒI‚e‚l‰¹Œ¹FPC-9801-86(ŒÝŠ·)ƒ{[ƒ"...
		dd aSETUP_BGM_BODY2	; "@@@@@@@@@CanBe“à‘ ‰¹Œ¹‚È‚ÇA  "...
		dd aSETUP_BGM_BODY3	; "@@@@@@@‚e‚l‚U‰¹{‚r‚r‚f‚R‰¹{ƒŠƒ"...
		dd aSETUP_BGM_BODY4	; "@•W€‚e‚l‰¹Œ¹F  PC-9801-26K(ŒÝŠ·)ƒ{["...
		dd aSETUP_BGM_BODY5	; "		     PC-9801DA“™‚É“à‘ ‚Ì‰¹"...
		dd aSETUP_BGM_BODY6	; "@@@@@@@@@‚e‚l‚R‰¹{‚r‚r‚f‚R‰¹ "...
		dd aSETUP_BGM_BODY7	; "@@‰¹Šy–³‚µF@@‚e‚l‰¹Œ¹‚ª–³‚¢ê‡	  "...
		dd aSETUP_BGM_BODY8	; "					  "...
		dd aSETUP_TAIL		; "‚È‚¨A‚±‚ê‚ç‚ÌÝ’è‚Í‚n‚‚”‚‰‚‚Ž‚Å•ÏX‰"...
SETUP_SFX_BODY	dd aSETUP_SFX_BODY1
					; "@‚e‚l‰¹Œ¹@FŒø‰Ê‰¹‚É‚e‚l‰¹Œ¹‚ðŽg—p‚µ‚"...
		dd aSETUP_SFX_BODY2	; "@@@@@@@‚a‚f‚l‚ªƒXƒeƒŒƒI‚e‚l‰¹Œ¹Ž"...
		dd aSETUP_SFX_BODY3	; "@ @ @@i•W€‚e‚l‰¹Œ¹‚Å‚ÍA3ch‚ðŽg—p"...
		dd aSETUP_SFX_BODY4	; "@ @@@@ ‚Ì‚ÅA‚a‚f‚l‚ª³í‚É‚«‚¯‚È‚"...
		dd aSETUP_SFX_BODY5	; "‚a‚…‚…‚‰¹Œ¹FŒø‰Ê‰¹‚É‚a‚…‚…‚‰¹Œ¹‚ðŽg—"...
		dd aSETUP_SFX_BODY6	; "		 ‚e‚l‰¹Œ¹‚ª–³‚¢ê‡Žg—p‚µ‚"...
		dd aSETUP_SFX_BODY7	; " Œø‰Ê‰¹–³‚µ F‰½‚ç‚©‚ÌŽ–î‚ÅŒø‰Ê‰¹‚ð–Â‚"...
		dd aSETUP_SFX_BODY8	; "@@@@@@@–³‚¢ê‡		  "...
		dd aSETUP_TAIL		; "‚È‚¨A‚±‚ê‚ç‚ÌÝ’è‚Í‚n‚‚”‚‰‚‚Ž‚Å•ÏX‰"...
aSETUP_BGM_BODY1 db 'ƒXƒeƒŒƒI‚e‚l‰¹Œ¹FPC-9801-86(ŒÝŠ·)ƒ{[ƒh@@@',0
aSETUP_BGM_BODY2 db '@@@@@@@@@CanBe“à‘ ‰¹Œ¹‚È‚ÇA         ',0
aSETUP_BGM_BODY3 db '@@@@@@@‚e‚l‚U‰¹{‚r‚r‚f‚R‰¹{ƒŠƒYƒ€‰¹Œ¹',0
aSETUP_BGM_BODY4 db '@•W€‚e‚l‰¹Œ¹F  PC-9801-26K(ŒÝŠ·)ƒ{[ƒh     ',0
aSETUP_BGM_BODY5 db '                  PC-9801DA“™‚É“à‘ ‚Ì‰¹Œ¹‚È‚Ç ',0
aSETUP_BGM_BODY6 db '@@@@@@@@@‚e‚l‚R‰¹{‚r‚r‚f‚R‰¹        ',0
aSETUP_BGM_BODY7 db '@@‰¹Šy–³‚µF@@‚e‚l‰¹Œ¹‚ª–³‚¢ê‡          ',0
aSETUP_BGM_BODY8 db '                                              ',0
aSETUP_TAIL	db '‚È‚¨A‚±‚ê‚ç‚ÌÝ’è‚Í‚n‚‚”‚‰‚‚Ž‚Å•ÏX‰Â”\‚Å‚·',0
aSETUP_SFX_BODY1 db '@‚e‚l‰¹Œ¹@FŒø‰Ê‰¹‚É‚e‚l‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·@@',0
aSETUP_SFX_BODY2 db '@@@@@@@‚a‚f‚l‚ªƒXƒeƒŒƒI‚e‚l‰¹Œ¹Žž„§@',0
aSETUP_SFX_BODY3 db '@ @ @@i•W€‚e‚l‰¹Œ¹‚Å‚ÍA3ch‚ðŽg—p‚µ‚Ü‚· ',0
aSETUP_SFX_BODY4 db '@ @@@@ ‚Ì‚ÅA‚a‚f‚l‚ª³í‚É‚«‚¯‚È‚¢‚©‚àj',0
aSETUP_SFX_BODY5 db '‚a‚…‚…‚‰¹Œ¹FŒø‰Ê‰¹‚É‚a‚…‚…‚‰¹Œ¹‚ðŽg—p‚µ‚Ü‚·',0
aSETUP_SFX_BODY6 db '              ‚e‚l‰¹Œ¹‚ª–³‚¢ê‡Žg—p‚µ‚Ü‚·@@',0
aSETUP_SFX_BODY7 db ' Œø‰Ê‰¹–³‚µ F‰½‚ç‚©‚ÌŽ–î‚ÅŒø‰Ê‰¹‚ð–Â‚ç‚µ‚½‚­',0
aSETUP_SFX_BODY8 db '@@@@@@@–³‚¢ê‡                        ',0
aSETUP_BGM_OPTION1 db 'ƒXƒeƒŒƒI‚e‚l‰¹Œ¹',0
aSETUP_BGM_OPTION2 db '@•W€‚e‚l‰¹Œ¹@',0
aSETUP_BGM_OPTION3 db '@@‰¹Šy–³‚µ@@',0
aSETUP_SFX_OPTION1 db '@@‚e‚l‰¹Œ¹@@',0
aSETUP_SFX_OPTION2 db '@‚a‚…‚…‚‰¹Œ¹@',0
aSETUP_SFX_OPTION3 db '@ Œø‰Ê‰¹–³‚µ @',0
aSETUP_BGM_HEAD	db '@@@@@Žg—p‚·‚é‰¹Œ¹‚ð‘I‘ð‚µ‚Ä‰º‚³‚¢‚Ë™',0
aSETUP_SFX_HEAD	db '@@@@Œø‰Ê‰¹‚ÉŽg—p‚·‚é‰¹Œ¹‚ð‘I‘ð‚µ‚Ä‚Ë™',0
aMswin_bft	db 'mswin.bft',0
aMs_pi		db 'ms.pi',0
		db 0
aZun00_pi	db 'zun00.pi',0
aLogo		db 'logo',0
aZun02_bft	db 'zun02.bft',0
aZun04_bft	db 'zun04.bft',0
aZun01_bft	db 'zun01.bft',0
aZun03_bft	db 'zun03.bft',0
unk_FF00	db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
aMiko_cfg	db 'MIKO.CFG',0
		db 0
aSft1_cd2	db 'sft1.cd2',0
aSft2_cd2	db 'sft2.cd2',0
aCar_cd2	db 'car.cd2',0
aSl00_cdg	db 'sl00.cdg',0
aSl01_cdg	db 'sl01.cdg',0
aSl02_cdg	db 'sl02.cdg',0
aSl03_cdg	db 'sl03.cdg',0
aSlcl_cdg	db 'slcl.cdg',0
aSl04_cdg	db 'sl04.cdg',0
aOp2a_pi	db 'op2a.pi',0
aOp2b_pi	db 'op2b.pi',0
aOp2c_pi	db 'op2c.pi',0
aOp2d_pi	db 'op2d.pi',0
aOp2e_pi	db 'op2e.pi',0
aOp2f_pi	db 'op2f.pi',0
aOp2g_pi	db 'op2g.pi',0
aOp2h_pi	db 'op2h.pi',0
aOp_0		db 'op',0
aOp1_pi_0	db 'op1.pi',0
MUSICROOM_UP	dd aMUSICROOM_UP
					; "		------ £ ------       "
MUSICROOM_DOWN	dd aMUSICROOM_DOWN
					; "		------ ¥ ------       "
		dd asc_104D5		; "		----------------       "
MUSICROOM_GAME		dd aMUSICROOM_TH01
		dd aMUSICROOM_TH02
		dd aMUSICROOM_TH03
		dd aMUSICROOM_TH04
		dd aMUSICROOM_TH05
		dd aTH01_01	; "No.1		  A Sacred Lot	       "
		dd aTH01_02	; "No.2		   ‰i‰“‚Ì›Þ—	       "
		dd aTH01_03	; "No.3	   The Positive	and Negative   "
		dd aTH01_04	; "No.4	  Highly Responsive to Prayers "
		dd aTH01_05
		dd aTH01_06		; "No.6		    “VŽg“`à	       "
		dd aTH01_07	; "No.7	       Oriental	Magician       "
		dd aTH01_08	; "No.8		  ”jŽ×‚Ì¬‘¾“	       "
		dd aTH01_09		; "No.9		      –‚‹¾	       "
		dd aTH01_10	; "No.10       the Legend of KAGE      "
		dd aTH01_11	; "No.11    ‚¢‚´A“|‚êÀ‚­‚»‚ÌŽž‚Ü‚Å   "
		dd aTH01_12	; "No.12      Civilization of Magic    "
		dd aTH01_13	; "No.13	    ¯—H“VŽg	       "
		dd aTH01_14	; "No.14	    ƒAƒCƒŠƒX	       "
		dd aMUSICROOM_QUIT1		; "	       ƒ^ƒCƒgƒ‹‚É–ß‚é	       "
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd aTH02_01
		dd aTH02_02	; "No.2	     @	”Ž—í@`Eastern	Wind   "
		dd aTH02_03	; "No.3	     @	 She's in a temper!!   "
		dd aTH02_04	; "No.4	     @	  End of Daylight@    "
		dd aTH02_05	; "No.5	     @	 @ ‚â‚Ý‚Ì‚¿‚©‚ç@@   "
		dd aTH02_06	; "No.6	     @@@@@Œ¶–²ŠE@@@@  "
		dd aTH02_07
		dd aTH02_08	; "No.8	     ‚Ð‚à‚ë‚¬A‚Þ‚ç‚³‚«‚É‚à‚¦  "
		dd aTH02_09
		dd aTH02_10
		dd aTH02_11	; "No.11	 Complete Darkness     "
		dd aTH02_12	; "No.12	@ ƒGƒLƒXƒgƒ‰ƒ‰ƒu      "
		dd aTH02_13	; "No.13	íŽÔ‚Þ‚·‚ß‚Ì‚Ý‚é‚ä‚ß   "
		dd aTH02_14	; "No.14	  @@‰“–ì‚ÌX@@@   "
		dd aTH02_15
		dd aTH02_16	; "–¢Žg—p.1	    ”Ž—í_ŽÐ‹«“à       "
		dd aTH02_17	; "–¢Žg—p.2	    @—z—Ž‚¿‚Ä	@     "
		dd aTH02_18	; "–¢Žg—p.3	    @••–‚I‰‰	@     "
		dd aMUSICROOM_QUIT1		; "	       ƒ^ƒCƒgƒ‹‚É–ß‚é	       "
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd aTH03_01
		dd aTH03_02	; "No.2	     @	@ Selection	       "
		dd aTH03_03
		dd aTH03_04	; "No.4		 Reincarnation	       "
		dd aTH03_05	; "No.5		   Dim.	Dream	       "
		dd aTH03_06
		dd aTH03_07	; "No.7	    @	Maniacal Princess      "
		dd aTH03_08	; "No.8	       –²ÁŽ¸  `Lost Dream    "
		dd aTH03_09	; "No.9	      –²Œ¶—V‹Y	`Dream	War    "
		dd aTH03_10	; "No.10    –‚–@ŒˆíI`Fight it out!  "
		dd aTH03_11	; "No.11      @ Sailor	of Time	       "
		dd aTH03_12	; "No.12       Strawberry Crisis!!     "
		dd aTH03_13
		dd aTH03_14	; "No.14	  @–‚–@àˆ¤	       "
		dd aTH03_15	; "No.15	  @‹v‰“‚Ì–²	       "
		dd aTH03_16
		dd aTH03_17	; "No.17	   ‰i‰“‚Ì–žŒŽ	       "
		dd aTH03_18	; "No.18	 Maple Dream...	       "
		dd aTH03_19
		dd aTH03_20	; "No.20	    Ÿ—˜ƒfƒ‚	       "
		dd aTH03_21	; "No.21	 ƒQ[ƒ€ƒI[ƒo[	       "
		dd aTH03_22	; "–¢Žg—p.1	     Žž‚Ì•—	       "
		dd aTH03_23	; "–¢Žg—p.2	ƒXƒ^[ƒ{ƒEƒhƒŠ[ƒ€     "
		dd aTH03_24	; "–¢Žg—p.3	  Phantasmagoria       "
		dd aMUSICROOM_QUIT2	; "		 ƒ^ƒCƒgƒ‹‚É–ß‚é	       "
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd aTH04_01	; "No.1	   Œ¶‘z‹½  ` Lotus Land Story "
		dd aTH04_02	; "No.2		 Witching Dream	       "
		dd aTH04_03	; "No.3		 Selene's light        "
		dd aTH04_04
		dd aTH04_05	; "No.5		Break the Sabbath      "
		dd aTH04_06	; "No.6	   g‹¿‹È  ` Scarlet Phoneme  "
		dd aTH04_07	; "No.7		   Bad Apple!!	       "
		dd aTH04_08	; "No.8	    —ìí@` Perdition crisis  "
		dd aTH04_09	; "No.9		ƒAƒŠƒXƒ}ƒGƒXƒeƒ‰       "
		dd aTH04_10	; "No.10    ­—ãY‘z‹È@` Capriccio   "
		dd aTH04_11	; "No.11   ¯‚ÌŠí@` Casket of	Star   "
		dd aTH04_12	; "No.12	   Lotus Love	       "
		dd aTH04_13	; "No.13  –°‚ê‚é‹°•| `Sleeping	Terror "
		dd aTH04_14	; "No.14	   Dream Land	       "
		dd aTH04_15	; "No.15    —H–²@` Inanimate Dream   "
		dd aTH04_16
		dd aTH04_17	; "No.17  ƒƒCƒhŒ¶‘z@` Icemilk Magic "
		dd aTH04_18	; "No.18   ‚©‚í‚¢‚¢ˆ«–‚@` Innocence  "
		dd aTH04_19		; "No.19	      Days	       "
		dd aTH04_20	; "No.20	    Peaceful	       "
		dd aTH04_21	; "No.21	 Arcadian Dream	       "
		dd aTH04_22	; "No.22	   Œ¶‘z‚ÌZl	       "
		dd aTH04_23	; "–¢Žg—p.1	   Lotus Road	       "
		dd aTH04_24	; "–¢Žg—p.2	  Dreamy pilot	       "
		dd aTH04_25	; "–¢Žg—p.3	 Incomplete Plot       "
		dd aTH04_26	; "–¢Žg—p.4	   Border Land	       "
		dd aTH04_27	; "–¢Žg—p.5   Magic Shop of Raspberry  "
		dd aTH04_28	; "–¢Žg—p.6	  Crescent Dream       "
		dd aMUSICROOM_QUIT1		; "	       ƒ^ƒCƒgƒ‹‚É–ß‚é	       "
		dd    0
		dd aTH05_01
		dd aTH05_02	; "No.2		  Dream	Express	       "
		dd aTH05_03	; "No.3	     –‚–@w@`	Magic Square   "
		dd aTH05_04
		dd aTH05_05	; "No.5	    —ì“V@` Spiritual Heaven  "
		dd aTH05_06	; "No.6		Romantic Children      "
		dd aTH05_07	; "No.7	      ƒvƒ‰ƒXƒ`ƒbƒNƒ}ƒCƒ“ƒh     "
		dd aTH05_08	; "No.8		 ƒƒCƒvƒ‹ƒƒCƒY	       "
		dd aTH05_09	; "No.9	 ‹Ö’f‚Ì–‚–@  `	Forbidden Magic"
		dd aTH05_10	; "No.10  ^g‚Ì­—@` Crimson Dead!!"
		dd aTH05_11	; "No.11  — Ø‚è‚Ì­—@` Judas Kiss  "
		dd aTH05_12	; "No.12       the Last	Judgement      "
		dd aTH05_13	; "No.13  ”ß‚µ‚«lŒ`@` Doll of Misery"
		dd aTH05_14	; "No.14   ¢ŠE‚Ì‰Ê‚Ä@` World's End  "
		dd aTH05_15	; "No.15   _˜bŒ¶‘z@`	Infinite Being "
		dd aTH05_16	; "No.16       •sŽv‹c‚Ì‘‚ÌƒAƒŠƒX      "
		dd aTH05_17	; "No.17     the Grimoire of Alice     "
		dd aTH05_18	; "No.18	      _ŽÐ	       "
		dd aTH05_19	; "No.19	    Endless	       "
		dd aTH05_20	; "No.20	  ‹v‰“‚ÌŠy‰€	       "
		dd aTH05_21	; "No.21	 Mystic	Dream	       "
		dd aTH05_22	; "No.22       Peaceful	Romancer       "
		dd aTH05_23	; "No.23	 °‚Ì‹x‚ç‚ÞŠ	       "
		dd aMUSICROOM_QUIT1		; "	       ƒ^ƒCƒgƒ‹‚É–ß‚é	       "
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd aR_00		; "r_00"
		dd aR_01		; "r_01"
		dd aR_02		; "r_02"
		dd aR_03		; "r_03"
		dd aR_04		; "r_04"
		dd aR_05		; "r_05"
		dd aR_06		; "r_06"
		dd aR_07		; "r_07"
		dd aR_08		; "r_08"
		dd aR_09		; "r_09"
		dd aR_10		; "r_10"
		dd aR_11		; "r_11"
		dd aR_12		; "r_12"
		dd aR_13		; "r_13"
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd aH_op		; "h_op"
		dd aH_st00		; "h_st00"
		dd aH_st00b		; "h_st00b"
		dd aH_st01		; "h_st01"
		dd aH_st01b		; "h_st01b"
		dd aH_st02		; "h_st02"
		dd aH_st02b		; "h_st02b"
		dd aH_st03		; "h_st03"
		dd aH_st03b		; "h_st03b"
		dd aH_st04		; "h_st04"
		dd aH_st04b		; "h_st04b"
		dd aH_st05		; "h_st05"
		dd aH_st05b		; "h_st05b"
		dd aH_end		; "h_end"
		dd aH_staff		; "h_staff"
		dd aH_ng00		; "h_ng00"
		dd aH_ng01		; "h_ng01"
		dd aH_ng02		; "h_ng02"
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd aY_op		; "y_op"
		dd aY_select		; "y_select"
		dd aY_00mm		; "y_00mm"
		dd aY_01mm		; "y_01mm"
		dd aY_02mm		; "y_02mm"
		dd aY_03mm		; "y_03mm"
		dd aY_04mm		; "y_04mm"
		dd aY_05mm		; "y_05mm"
		dd aY_06mm		; "y_06mm"
		dd aY_dec		; "y_dec"
		dd aY_07mm		; "y_07mm"
		dd aY_08mm		; "y_08mm"
		dd aY_demo1		; "y_demo1"
		dd aY_demo2		; "y_demo2"
		dd aY_demo3		; "y_demo3"
		dd aY_demo4		; "y_demo4"
		dd aY_demo5		; "y_demo5"
		dd aY_ed		; "y_ed"
		dd aY_score		; "y_score"
		dd aY_win		; "y_win"
		dd aY_over		; "y_over"
		dd aY_ng00		; "y_ng00"
		dd aY_ng01		; "y_ng01"
		dd aY_ng02		; "y_ng02"
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd aG_op		; "g_op"
		dd aG_st00		; "g_st00"
		dd aG_st10		; "g_st10"
		dd aG_st00b		; "g_st00b"
		dd aG_st01		; "g_st01"
		dd aG_st01b		; "g_st01b"
		dd aG_st02		; "g_st02"
		dd aG_st02b		; "g_st02b"
		dd aG_st03		; "g_st03"
		dd aG_st03c		; "g_st03c"
		dd aG_st03b		; "g_st03b"
		dd aG_st04		; "g_st04"
		dd aG_st04b		; "g_st04b"
		dd aG_st05		; "g_st05"
		dd aG_st05b		; "g_st05b"
		dd aG_st06		; "g_st06"
		dd aG_st06b		; "g_st06b"
		dd aG_st06c		; "g_st06c"
		dd aG_end1		; "g_end1"
		dd aG_end2		; "g_end2"
		dd aG_staff		; "g_staff"
		dd aG_name		; "g_name"
		dd aG_ng00		; "g_ng00"
		dd aG_ng01		; "g_ng01"
		dd aG_ng02		; "g_ng02"
		dd aG_ng03		; "g_ng03"
		dd aG_ng04		; "g_ng04"
		dd aG_ng05		; "g_ng05"
		dd    0
		dd    0
		dd aH_op+2
		dd aH_st00+2
		dd aH_st00b+2
		dd aH_st01+2
		dd aH_st01b+2
		dd aH_st02+2
		dd aH_st02b+2
		dd aH_st03+2
		dd aH_st03b+2
		dd aG_st03c+2
		dd aSt03d		; "st03d"
		dd aH_st04+2
		dd aH_st04b+2
		dd aH_st05+2
		dd aH_st05b+2
		dd aG_st06+2
		dd aG_st06b+2
		dd aEd00		; "ed00"
		dd aEd01		; "ed01"
		dd aEd02		; "ed02"
		dd aH_staff+2
		dd aExed		; "exed"
		dd aG_name+2
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
		dd    0
musicroom_game_id	dw 4
					; sub_BF4D+54r	...
MUSICROOM_TRACKCOUNTS dw 14,18,24,28,23
byte_1048A	db 0
aMUSICROOM_UP		db '             ------ £ ------       ',0
aMUSICROOM_DOWN		db '             ------ ¥ ------       ',0
asc_104D5	db '             ----------------       ',0
aMUSICROOM_TH01	db '   ‘æ‚P’e@“Œ•ûèËˆÙ“`  Arrange ver  ',0
aMUSICROOM_TH02	db '   ‘æ‚Q’e@“Œ•û••–‚˜^  Special MIX  ',0
aMUSICROOM_TH03	db '   ‘æ‚R’e@“Œ•û–²Žž‹ó  Special MIX  ',0
aMUSICROOM_TH04	db '   ‘æ‚S’e@“Œ•ûŒ¶‘z‹½  Special MIX  ',0
aMUSICROOM_TH05	db '   ‘æ‚T’e@“Œ•û‰öãY’k MysticSquare  ',0
aTH01_01	db 'No.1           A Sacred Lot         ',0
aTH01_02	db 'No.2            ‰i‰“‚Ì›Þ—          ',0
aTH01_03	db 'No.3    The Positive and Negative   ',0
aTH01_04	db 'No.4   Highly Responsive to Prayers ',0
aTH01_05	db 'No.5            “Œ•û‰öŠï’k          ',0
aTH01_06	db 'No.6             “VŽg“`à           ',0
aTH01_07	db 'No.7        Oriental Magician       ',0
aTH01_08	db 'No.8           ”jŽ×‚Ì¬‘¾“         ',0
aTH01_09	db 'No.9               –‚‹¾             ',0
aTH01_10	db 'No.10       the Legend of KAGE      ',0
aTH01_11	db 'No.11    ‚¢‚´A“|‚êÀ‚­‚»‚ÌŽž‚Ü‚Å   ',0
aTH01_12	db 'No.12      Civilization of Magic    ',0
aTH01_13	db 'No.13            ¯—H“VŽg           ',0
aTH01_14	db 'No.14            ƒAƒCƒŠƒX           ',0
aMUSICROOM_QUIT1	db '            ƒ^ƒCƒgƒ‹‚É–ß‚é          ',0
					; dseg:10AEo ...
aTH02_01	db 'No.1      “Œ•û••–‚˜^@`ò“y™Öä¶—…  ',0
aTH02_02	db 'No.2      @ ”Ž—í@`Eastern Wind   ',0
aTH02_03	db 'No.3      @  She',27h,'s in a temper!!   ',0
aTH02_04	db 'No.4      @   End of Daylight@    ',0
aTH02_05	db 'No.5      @  @ ‚â‚Ý‚Ì‚¿‚©‚ç@@   ',0
aTH02_06	db 'No.6      @@@@@Œ¶–²ŠE@@@@  ',0
aTH02_07	db 'No.7      @@@@Ž€‚ð“q‚µ‚Ä@@@  ',0
aTH02_08	db 'No.8      ‚Ð‚à‚ë‚¬A‚Þ‚ç‚³‚«‚É‚à‚¦  ',0
aTH02_09	db 'No.9      @  @ —öFƒ}ƒWƒbƒN @    ',0
aTH02_10	db 'No.10     @“Œ•û••–‚˜^@`—HŒ¶—•‘  ',0
aTH02_11	db 'No.11         Complete Darkness     ',0
aTH02_12	db 'No.12        @ ƒGƒLƒXƒgƒ‰ƒ‰ƒu      ',0
aTH02_13	db 'No.13        íŽÔ‚Þ‚·‚ß‚Ì‚Ý‚é‚ä‚ß   ',0
aTH02_14	db 'No.14          @@‰“–ì‚ÌX@@@   ',0
aTH02_15	db 'No.15         Ì˜b‚í‚ñ‚¾[‚ç‚ñ‚Ç    ',0
aTH02_16	db '–¢Žg—p.1         ”Ž—í_ŽÐ‹«“à       ',0
aTH02_17	db '–¢Žg—p.2         @—z—Ž‚¿‚Ä  @     ',0
aTH02_18	db '–¢Žg—p.3         @••–‚I‰‰  @     ',0
aTH03_01	db 'No.1       @–²‚ÍŽž‹ó‚ð‰z‚¦‚Ä       ',0
aTH03_02	db 'No.2      @ @ Selection           ',0
aTH03_03	db 'No.3            “Œ•û—d—ö’k          ',0
aTH03_04	db 'No.4          Reincarnation         ',0
aTH03_05	db 'No.5            Dim. Dream          ',0
aTH03_06	db 'No.6     Tabula rasa@`‹ó”’­—    ',0
aTH03_07	db 'No.7     @  Maniacal Princess      ',0
aTH03_08	db 'No.8        –²ÁŽ¸  `Lost Dream    ',0
aTH03_09	db 'No.9       –²Œ¶—V‹Y  `Dream War    ',0
aTH03_10	db 'No.10    –‚–@ŒˆíI`Fight it out!  ',0
aTH03_11	db 'No.11      @ Sailor of Time        ',0
aTH03_12	db 'No.12       Strawberry Crisis!!     ',0
aTH03_13	db 'No.13        ”ñ“ˆê–‚–@¢ŠE˜_       ',0
aTH03_14	db 'No.14          @–‚–@àˆ¤           ',0
aTH03_15	db 'No.15          @‹v‰“‚Ì–²           ',0
aTH03_16	db 'No.16          “Œ•û‚ÌÂ‚¢‹ó         ',0
aTH03_17	db 'No.17           ‰i‰“‚Ì–žŒŽ          ',0
aTH03_18	db 'No.18         Maple Dream...        ',0
aTH03_19	db 'No.19           —ìl‚Ì‹x“ú          ',0
aTH03_20	db 'No.20            Ÿ—˜ƒfƒ‚           ',0
aTH03_21	db 'No.21         ƒQ[ƒ€ƒI[ƒo[        ',0
aTH03_22	db '–¢Žg—p.1          Žž‚Ì•—            ',0
aTH03_23	db '–¢Žg—p.2     ƒXƒ^[ƒ{ƒEƒhƒŠ[ƒ€     ',0
aTH03_24	db '–¢Žg—p.3       Phantasmagoria       ',0
aMUSICROOM_QUIT2	db '              ƒ^ƒCƒgƒ‹‚É–ß‚é        ',0
aTH04_01	db 'No.1    Œ¶‘z‹½  ` Lotus Land Story ',0
aTH04_02	db 'No.2          Witching Dream        ',0
aTH04_03	db 'No.3          Selene',27h,'s light        ',0
aTH04_04	db 'No.4   ‘•üí@` Decoration Battle ',0
aTH04_05	db 'No.5         Break the Sabbath      ',0
aTH04_06	db 'No.6    g‹¿‹È  ` Scarlet Phoneme  ',0
aTH04_07	db 'No.7            Bad Apple!!         ',0
aTH04_08	db 'No.8     —ìí@` Perdition crisis  ',0
aTH04_09	db 'No.9         ƒAƒŠƒXƒ}ƒGƒXƒeƒ‰       ',0
aTH04_10	db 'No.10    ­—ãY‘z‹È@` Capriccio   ',0
aTH04_11	db 'No.11   ¯‚ÌŠí@` Casket of Star   ',0
aTH04_12	db 'No.12           Lotus Love          ',0
aTH04_13	db 'No.13  –°‚ê‚é‹°•| `Sleeping Terror ',0
aTH04_14	db 'No.14           Dream Land          ',0
aTH04_15	db 'No.15    —H–²@` Inanimate Dream   ',0
aTH04_16	db 'No.16      ‹Ö‚¶‚´‚é‚ð‚¦‚È‚¢—V‹Y     ',0
aTH04_17	db 'No.17  ƒƒCƒhŒ¶‘z@` Icemilk Magic ',0
aTH04_18	db 'No.18   ‚©‚í‚¢‚¢ˆ«–‚@` Innocence  ',0
aTH04_19	db 'No.19              Days             ',0
aTH04_20	db 'No.20            Peaceful           ',0
aTH04_21	db 'No.21         Arcadian Dream        ',0
aTH04_22	db 'No.22           Œ¶‘z‚ÌZl          ',0
aTH04_23	db '–¢Žg—p.1        Lotus Road          ',0
aTH04_24	db '–¢Žg—p.2       Dreamy pilot         ',0
aTH04_25	db '–¢Žg—p.3      Incomplete Plot       ',0
aTH04_26	db '–¢Žg—p.4        Border Land         ',0
aTH04_27	db '–¢Žg—p.5   Magic Shop of Raspberry  ',0
aTH04_28	db '–¢Žg—p.6       Crescent Dream       ',0
aTH05_01	db 'No.1     ‰öãY’k@` Mystic Square   ',0
aTH05_02	db 'No.2           Dream Express        ',0
aTH05_03	db 'No.3      –‚–@w@` Magic Square   ',0
aTH05_04	db 'No.4             –²‘zŽž‹ó           ',0
aTH05_05	db 'No.5     —ì“V@` Spiritual Heaven  ',0
aTH05_06	db 'No.6         Romantic Children      ',0
aTH05_07	db 'No.7       ƒvƒ‰ƒXƒ`ƒbƒNƒ}ƒCƒ“ƒh     ',0
aTH05_08	db 'No.8          ƒƒCƒvƒ‹ƒƒCƒY        ',0
aTH05_09	db 'No.9  ‹Ö’f‚Ì–‚–@  ` Forbidden Magic',0
aTH05_10	db 'No.10  ^g‚Ì­—@` Crimson Dead!!',0
aTH05_11	db 'No.11  — Ø‚è‚Ì­—@` Judas Kiss  ',0
aTH05_12	db 'No.12       the Last Judgement      ',0
aTH05_13	db 'No.13  ”ß‚µ‚«lŒ`@` Doll of Misery',0
aTH05_14	db 'No.14   ¢ŠE‚Ì‰Ê‚Ä@` World',27h,'s End  ',0
aTH05_15	db 'No.15   _˜bŒ¶‘z@` Infinite Being ',0
aTH05_16	db 'No.16       •sŽv‹c‚Ì‘‚ÌƒAƒŠƒX      ',0
aTH05_17	db 'No.17     the Grimoire of Alice     ',0
aTH05_18	db 'No.18              _ŽÐ             ',0
aTH05_19	db 'No.19            Endless            ',0
aTH05_20	db 'No.20          ‹v‰“‚ÌŠy‰€           ',0
aTH05_21	db 'No.21         Mystic Dream          ',0
aTH05_22	db 'No.22       Peaceful Romancer       ',0
aTH05_23	db 'No.23         °‚Ì‹x‚ç‚ÞŠ          ',0
aR_00		db 'r_00',0
aR_01		db 'r_01',0
aR_02		db 'r_02',0
aR_03		db 'r_03',0
aR_04		db 'r_04',0
aR_05		db 'r_05',0
aR_06		db 'r_06',0
aR_07		db 'r_07',0
aR_08		db 'r_08',0
aR_09		db 'r_09',0
aR_10		db 'r_10',0
aR_11		db 'r_11',0
aR_12		db 'r_12',0
aR_13		db 'r_13',0
aH_op		db 'h_op',0
aH_st00		db 'h_st00',0
aH_st00b	db 'h_st00b',0
aH_st01		db 'h_st01',0
aH_st01b	db 'h_st01b',0
aH_st02		db 'h_st02',0
aH_st02b	db 'h_st02b',0
aH_st03		db 'h_st03',0
aH_st03b	db 'h_st03b',0
aH_st04		db 'h_st04',0
aH_st04b	db 'h_st04b',0
aH_st05		db 'h_st05',0
aH_st05b	db 'h_st05b',0
aH_end		db 'h_end',0
aH_staff	db 'h_staff',0
aH_ng00		db 'h_ng00',0
aH_ng01		db 'h_ng01',0
aH_ng02		db 'h_ng02',0
aY_op		db 'y_op',0
aY_select	db 'y_select',0
aY_00mm		db 'y_00mm',0
aY_01mm		db 'y_01mm',0
aY_02mm		db 'y_02mm',0
aY_03mm		db 'y_03mm',0
aY_04mm		db 'y_04mm',0
aY_05mm		db 'y_05mm',0
aY_06mm		db 'y_06mm',0
aY_dec		db 'y_dec',0
aY_07mm		db 'y_07mm',0
aY_08mm		db 'y_08mm',0
aY_demo1	db 'y_demo1',0
aY_demo2	db 'y_demo2',0
aY_demo3	db 'y_demo3',0
aY_demo4	db 'y_demo4',0
aY_demo5	db 'y_demo5',0
aY_ed		db 'y_ed',0
aY_score	db 'y_score',0
aY_win		db 'y_win',0
aY_over		db 'y_over',0
aY_ng00		db 'y_ng00',0
aY_ng01		db 'y_ng01',0
aY_ng02		db 'y_ng02',0
aG_op		db 'g_op',0
aG_st00		db 'g_st00',0
aG_st10		db 'g_st10',0
aG_st00b	db 'g_st00b',0
aG_st01		db 'g_st01',0
aG_st01b	db 'g_st01b',0
aG_st02		db 'g_st02',0
aG_st02b	db 'g_st02b',0
aG_st03		db 'g_st03',0
aG_st03c	db 'g_st03c',0
aG_st03b	db 'g_st03b',0
aG_st04		db 'g_st04',0
aG_st04b	db 'g_st04b',0
aG_st05		db 'g_st05',0
aG_st05b	db 'g_st05b',0
aG_st06		db 'g_st06',0
aG_st06b	db 'g_st06b',0
aG_st06c	db 'g_st06c',0
aG_end1		db 'g_end1',0
aG_end2		db 'g_end2',0
aG_staff	db 'g_staff',0
aG_name		db 'g_name',0
aG_ng00		db 'g_ng00',0
aG_ng01		db 'g_ng01',0
aG_ng02		db 'g_ng02',0
aG_ng03		db 'g_ng03',0
aG_ng04		db 'g_ng04',0
aG_ng05		db 'g_ng05',0
aSt03d		db 'st03d',0
aEd00		db 'ed00',0
aEd01		db 'ed01',0
aEd02		db 'ed02',0
aExed		db 'exed',0
a_music0_txt	db '_MUSIC0.TXT',0
aMusic_pi	db 'music.pi',0
aMusic_dat	db 'music.dat',0
aKaikidan1_dat1	db '‰öãY’k1.dat',0
		db 0
aGensou_scr	db 'GENSOU.SCR',0
aName		db 'name',0
aHi01_pi	db 'hi01.pi',0
aOp1_pi_1	db 'op1.pi',0
aOp_1		db 'op',0
aScnum_bft	db 'scnum.bft',0
aHi_m_bft	db 'hi_m.bft',0
		db 0
aSlb1_pi	db 'slb1.pi',0
aAbnormalProgra	db 'Abnormal program termination',0Dh,0Ah,0
		db 0
include libs/BorlandC/atexit[data].asm
include libs/BorlandC/exit[data].asm
include libs/BorlandC/files[data].asm
include libs/BorlandC/__IOERROR[data].asm
		db    0
unk_11A7A	db    0
		db    0
		db    0
		db    0
word_11A7E	dw 0
word_11A80	dw 4075h
					; set_new_handler(void (*)(void))+1Fw ...
seg_11A82	dw seg seg000
					; set_new_handler(void (*)(void))+1Bw ...
aOutOfMemory	db 'Out of memory',0
__stklen	dw 1000h
		public __ctype
; unsigned __int8 _ctype[257]
__ctype		db    0, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 21h, 21h,	21h, 21h, 21h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 20h, 20h, 20h,	20h, 20h, 20h, 20h
		db  20h, 81h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 40h, 40h,	40h, 40h, 40h, 40h
		db  40h, 12h, 12h, 12h,	12h, 12h, 12h, 12h
		db  12h, 12h, 12h, 40h,	40h, 40h, 40h, 40h
		db  40h, 40h, 14h, 14h,	14h, 14h, 14h, 14h
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	  4,   4,   4,	 4
		db    4,   4,	4,   4,	40h, 40h, 40h, 40h
		db  40h, 40h, 18h, 18h,	18h, 18h, 18h, 18h
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	  8,   8,   8,	 8
		db    8,   8,	8,   8,	40h, 40h, 40h, 40h
		db  20h,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0,   0,	0,   0,	  0,   0,   0,	 0
		db    0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		db 0
		dd @terminate$qv	; terminate(void)
		dd @unexpected$qv	; unexpected(void)
word_11BA8	dw 0
word_11BAA	dw 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
word_11CBE	dw 0
include libs/BorlandC/fbrk[data].asm
include libs/BorlandC/signal[data].asm
dword_11CE8	dd 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db  5Ch	; \
		db    0
word_11CFC	dw 0
					; _setvbuf+4Bw
word_11CFE	dw 0
					; _setvbuf+35w
include libs/BorlandC/sysnerr[data].asm
aNotype		db '<notype>',0
aBccxh1		db '**BCCxh1',0
include libs/BorlandC/setenvp[data].asm
word_11D18	dw 1
word_11D1A	dw 0
word_11D1C	dw 1
word_11D1E	dw 3Fh
word_11D20	dw 40h
word_11D22	dw 3Fh
aStringReferenc	db 'String reference out of range',0
aStringRefere_0	db 'String reference out of range',0
aStringRefere_1	db 'String reference out of range',0
byte_11D7E	db 0
byte_11D7F	db 0
aPATH		db 'PATH',0
asc_11D85	db '/\',0
		db 0
a_bat		db '.BAT',0
a_com		db '.COM',0
a_exe		db '.EXE',0
a_bat_0		db '.BAT',0
a_comspec		db 'COMSPEC',0
aC		db '/c',0

InitStart	label byte
		db    1
		db  20h
		dd @string@contains$xqnxc ; string::contains(char *)
include libs/BorlandC/setupio[initdata].asm
		db    0
		db  10h
		db  6Fh	; o
		db  47h	; G
		db    0
		db    0
		db    0
		db  0Fh
		db 0C2h	; Â
		db  50h	; P
		db    0
		db    0
include libs/BorlandC/setenvp[initdata].asm
InitEnd	label byte

ExitStart	label byte
		db    1
		db  20h
		dd loc_4223
ExitEnd	label byte

bdata@	label byte
dword_11DCC	dd 0
					; sub_A39C:loc_A3CFr ...
byte_11DD0	db 0
		db 0
word_11DD2	dw 0
byte_11DD4	db 0
byte_11DD5	db 0
word_11DD6	dw 0
word_11DD8	dw 0
		dw 0
word_11DDC	dw 0
word_11DDE	dw 0
word_11DE0	dw 0
		dw 0
word_11DE4	dw 0
		db    0
		db    0
		db    0
		db    0
dword_11DEA	dd 0
word_11DEE	dw 0
word_11DF0	dw 0
word_11DF2	dw 0
word_11DF4	dw 0
word_11DF6	dw 0
word_11DF8	dw 0
					; sub_8CC:loc_8FDw ...
word_11DFA	dw 0
		db    0
		db    0
include libs/master.lib/pal[bss].asm
include libs/master.lib/vs[bss].asm
include libs/master.lib/vsync[bss].asm
include libs/master.lib/mem[bss].asm
include libs/master.lib/superpa[bss].asm
word_12640	dw 0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
		db    0
byte_12742	db 0
		db 0
include libs/master.lib/bgm[bss].asm
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
dword_1281A	dd ?
unk_1281E	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
word_1282C	dw ?
word_1282E	dw ?
word_12830	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
word_12A72	dw ?
					; sub_A9D6:loc_AA2Br ...
byte_12A74	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
byte_12E76	db ?
		db ?
unk_12E78	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
word_12EF8	dw ?
word_12EFA	dw ?
word_12EFC	dw ?
word_12EFE	dw ?
					; sub_E2D8:loc_E323r
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
word_12F30	dw ?
					; sub_B077:loc_B0CDr ...
word_12F32	dw ?
					; sub_B234+8r ...
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
word_12FE0	dw ?
word_12FE2	dw ?
dword_12FE4	dd ?
word_12FE8	dw ?
word_12FEA	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
byte_130EC	db ?
					; sub_1354+16Dw
		db ?
word_130EE	dw ?
					; sub_1354+4A0r ...
word_130F0	dw ?
					; sub_1354+1B1r ...
byte_130F2	db ?
					; sub_1354+1A3r ...
byte_130F3	db ?
					; sub_1354+1A7r ...
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
unk_13DCC	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
word_13E94	dw ?
byte_13E96	db ?
		db ?
word_13E98	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
unk_13EAA	db    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
		db    ?	;
word_1403A	dw ?
word_1403C	dw ?
musicroom_trackcount	dw ?
					; sub_C490+22w	...
byte_14040	db ?
byte_14041	db ?
word_14042	dw ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
byte_1409E	db ?
					; sub_CD94+28r
		db ?
byte_140A0	db ?
byte_140A1	db ?
byte_140A2	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		db    ?	;
		db    ?	;
byte_14101	db ?
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
		dd    ?	;
byte_14116	db ?
					; sub_A968:loc_A998r ...
		db ?
word_14118	dw ?
byte_1411A	db ?
					; sub_CEFF+162r ...
		dd    ?	;
byte_1411F	db ?
byte_14120	db ?
byte_14121	db ?
byte_14122	db ?
		dd    ?	;
		db    ?	;
include libs/BorlandC/atexit[bss].asm
include libs/BorlandC/sigdata[bss].asm
		dd ?
include libs/BorlandC/signal[bss].asm
dword_141B4	dd ?
dword_141B8	dd ?
		dw ?
edata@	label byte

		dw ?
dseg		ends

; ===========================================================================

; Segment type:	Uninitialized
seg005		segment	byte stack 'STACK' use16
		assume cs:seg005
		assume es:nothing, ss:nothing, ds:dseg,	fs:nothing, gs:nothing
		db 80h dup(?)
seg005		ends

		end startx
